apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fcf091cef47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fcf091cef47
    stack: frame={sp:0x7ffc16de8340, fp:0x0} stack=[0x7ffc165e99e0,0x7ffc16de8a10)
    00007ffc16de8240:  0000563e9161f683 <runtime.main+883>  000000000030da24 
    00007ffc16de8250:  0000029300000002  0000005000000000 
    00007ffc16de8260:  000000000030da24  00007ffc16de8318 
    00007ffc16de8270:  0000563e9163a936 <runtime.pcvalue+342>  0000563e923ad828 
    00007ffc16de8280:  00000000002f742e  00000000002f742e 
    00007ffc16de8290:  00007ffc16de82d0  00007ffc16de82cc 
    00007ffc16de82a0:  0000563e926c1301  0000563e923ad82a 
    00007ffc16de82b0:  00000000002f742c  00000000002f742c 
    00007ffc16de82c0:  0000000000000001  0000000040000000 
    00007ffc16de82d0:  00007ffc16de8388  0000563e9163575f <runtime.adjustframe+175> 
    00007ffc16de82e0:  0000563e923ad7f0  0000563e926c13c0 
    00007ffc16de82f0:  00007ffc00000000  0000563e9164af30 <runtime.goexit+0> 
    00007ffc16de8300:  00007ffc16de8740  00000000ffffffff 
    00007ffc16de8310:  0000000016de82a0  0000563e9164af30 <runtime.goexit+0> 
    00007ffc16de8320:  0000563e9163b1c1 <runtime.funcspdelta+97>  0000563e923ad7f0 
    00007ffc16de8330:  0000563e926c13c0  00007ffc0006f548 
    00007ffc16de8340: <0000000000000000  00007ffc16de84a0 
    00007ffc16de8350:  0000563e91da7201  0000563e923ad7f0 
    00007ffc16de8360:  0000563e926c13c0  0000000000000000 
    00007ffc16de8370:  0000000000000000  0000563e9164af31 <runtime.goexit+1> 
    00007ffc16de8380:  0000563e926c13c0  00007ffc16de8690 
    00007ffc16de8390:  0000563e9163f962 <runtime.gentraceback+4850>  00007ffc16de8638 
    00007ffc16de83a0:  00007ffc16de8728  0000563e926c1301 
    00007ffc16de83b0:  00007ffc16de8401  0000000000000000 
    00007ffc16de83c0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc16de83d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc16de83e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc16de83f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc16de8400:  ffffffffffffffff  ffffffffffffffff 
    00007ffc16de8410:  ffffffffffffffff  ffffffffffffffff 
    00007ffc16de8420:  ffffffffffffffff  ffffffffffffffff 
    00007ffc16de8430:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fcf091cef47
    stack: frame={sp:0x7ffc16de8340, fp:0x0} stack=[0x7ffc165e99e0,0x7ffc16de8a10)
    00007ffc16de8240:  0000563e9161f683 <runtime.main+883>  000000000030da24 
    00007ffc16de8250:  0000029300000002  0000005000000000 
    00007ffc16de8260:  000000000030da24  00007ffc16de8318 
    00007ffc16de8270:  0000563e9163a936 <runtime.pcvalue+342>  0000563e923ad828 
    00007ffc16de8280:  00000000002f742e  00000000002f742e 
    00007ffc16de8290:  00007ffc16de82d0  00007ffc16de82cc 
    00007ffc16de82a0:  0000563e926c1301  0000563e923ad82a 
    00007ffc16de82b0:  00000000002f742c  00000000002f742c 
    00007ffc16de82c0:  0000000000000001  0000000040000000 
    00007ffc16de82d0:  00007ffc16de8388  0000563e9163575f <runtime.adjustframe+175> 
    00007ffc16de82e0:  0000563e923ad7f0  0000563e926c13c0 
    00007ffc16de82f0:  00007ffc00000000  0000563e9164af30 <runtime.goexit+0> 
    00007ffc16de8300:  00007ffc16de8740  00000000ffffffff 
    00007ffc16de8310:  0000000016de82a0  0000563e9164af30 <runtime.goexit+0> 
    00007ffc16de8320:  0000563e9163b1c1 <runtime.funcspdelta+97>  0000563e923ad7f0 
    00007ffc16de8330:  0000563e926c13c0  00007ffc0006f548 
    00007ffc16de8340: <0000000000000000  00007ffc16de84a0 
    00007ffc16de8350:  0000563e91da7201  0000563e923ad7f0 
    00007ffc16de8360:  0000563e926c13c0  0000000000000000 
    00007ffc16de8370:  0000000000000000  0000563e9164af31 <runtime.goexit+1> 
    00007ffc16de8380:  0000563e926c13c0  00007ffc16de8690 
    00007ffc16de8390:  0000563e9163f962 <runtime.gentraceback+4850>  00007ffc16de8638 
    00007ffc16de83a0:  00007ffc16de8728  0000563e926c1301 
    00007ffc16de83b0:  00007ffc16de8401  0000000000000000 
    00007ffc16de83c0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc16de83d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc16de83e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc16de83f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc16de8400:  ffffffffffffffff  ffffffffffffffff 
    00007ffc16de8410:  ffffffffffffffff  ffffffffffffffff 
    00007ffc16de8420:  ffffffffffffffff  ffffffffffffffff 
    00007ffc16de8430:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x563e92313a60, 0xc4200380c8, 0x563e91cf1704, 0xc, 0xc42003ce17, 0x3)
    	/usr/lib/go-1.10/src/runtime/proc.go:291 +0x120
    runtime.goparkunlock(0xc4200380c8, 0x563e91cf1704, 0xc, 0x17, 0x3)
    	/usr/lib/go-1.10/src/runtime/proc.go:297 +0x60
    runtime.chanrecv(0xc420038070, 0x0, 0x1, 0x563e9160a8aa)
    	/usr/lib/go-1.10/src/runtime/chan.go:518 +0x2f6
    runtime.chanrecv1(0xc420038070, 0x0)
    	/usr/lib/go-1.10/src/runtime/chan.go:400 +0x2b
    runtime.gcenable()
    	/usr/lib/go-1.10/src/runtime/mgc.go:217 +0x71
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:161 +0x126
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1
    
    rax    0x0
    rbx    0x7fcf0957c840
    rcx    0x7fcf091cef47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffc16de8340
    rbp    0x563e91e1932a
    rsp    0x7ffc16de8340
    r8     0x0
    r9     0x7ffc16de8340
    r10    0x8
    r11    0x246
    r12    0x563e93c8b540
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fcf091cef47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 3 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062400)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062400)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc000048800, 0x2)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000046001)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.newproc.func1()
    	/usr/local/go/src/runtime/proc.go:3555 +0x97
    runtime.systemstack(0x46c2f4)
    	/usr/local/go/src/runtime/asm_amd64.s:370 +0x66
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1116
    
    goroutine 1 [running, locked to thread]:
    runtime.systemstack_switch()
    	/usr/local/go/src/runtime/asm_amd64.s:330 fp=0xc00005e6f0 sp=0xc00005e6e8 pc=0x46c420
    runtime.newproc(0x0, 0x1bb7b08)
    	/usr/local/go/src/runtime/proc.go:3548 +0x6e fp=0xc00005e738 sp=0xc00005e6f0 pc=0x44210e
    runtime.init.6()
    	/usr/local/go/src/runtime/proc.go:243 +0x35 fp=0xc00005e758 sp=0xc00005e738 pc=0x439df5
    runtime.doInit(0x2881120)
    	/usr/local/go/src/runtime/proc.go:5646 +0x8a fp=0xc00005e788 sp=0xc00005e758 pc=0x446f8a
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:151 +0xd9 fp=0xc00005e7e0 sp=0xc00005e788 pc=0x439b19
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1 fp=0xc00005e7e8 sp=0xc00005e7e0 pc=0x46e061
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f472e3e1f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f472e3e1f47
    stack: frame={sp:0x7ffdd88aa340, fp:0x0} stack=[0x7ffdd80ab8f0,0x7ffdd88aa920)
    00007ffdd88aa240:  0000000000000000  00007ffdd88aa298 
    00007ffdd88aa250:  00007ffdd88aa2a8  00007ffdd88aa2a0 
    00007ffdd88aa260:  0000000000000000  0000000000000000 
    00007ffdd88aa270:  00007f472e78f560  00007f472e792bc0 
    00007ffdd88aa280:  bfe62e42fefa39ef  0000000000000000 
    00007ffdd88aa290:  414fffffe0000000  0000000000000000 
    00007ffdd88aa2a0:  2f7273752f3a6e69  73752f3a6e696273 
    00007ffdd88aa2b0:  752f3a6e69622f72  6c61636f6c2f7273 
    00007ffdd88aa2c0:  73752f3a6e69622f  732f6e6962732f72 
    00007ffdd88aa2d0:  2f3a656369767265  6e69622f70616e73 
    00007ffdd88aa2e0:  00007f472e78f420  00007f472e78f420 
    00007ffdd88aa2f0:  0000000000000000  0000000000000000 
    00007ffdd88aa300:  0000000000000000  0000000000000000 
    00007ffdd88aa310:  0000000000000000  0000000000000000 
    00007ffdd88aa320:  0000000000000000  0000000000000000 
    00007ffdd88aa330:  0000000000000000  0000000000000000 
    00007ffdd88aa340: <0000000000000000  0000000000000000 
    00007ffdd88aa350:  0000000000000000  0000000000000000 
    00007ffdd88aa360:  0000000000004000  0000000000000000 
    00007ffdd88aa370:  0000555bb2c177c0  00007f472eb97000 
    00007ffdd88aa380:  00007ffdd88aa3a0  00007ffdd88aa3d0 
    00007ffdd88aa390:  0000555bb1b0fe44 <runtime.persistentalloc+132>  00007ffdd88aa3a8 
    00007ffdd88aa3a0:  00007f472eb97000  0000555bb1b50390 <runtime.persistentalloc.func1+0> 
    00007ffdd88aa3b0:  0000000000004000  0000000000000000 
    00007ffdd88aa3c0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffdd88aa3d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffdd88aa3e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffdd88aa3f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffdd88aa400:  ffffffffffffffff  ffffffffffffffff 
    00007ffdd88aa410:  ffffffffffffffff  ffffffffffffffff 
    00007ffdd88aa420:  ffffffffffffffff  ffffffffffffffff 
    00007ffdd88aa430:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f472e3e1f47
    stack: frame={sp:0x7ffdd88aa340, fp:0x0} stack=[0x7ffdd80ab8f0,0x7ffdd88aa920)
    00007ffdd88aa240:  0000000000000000  00007ffdd88aa298 
    00007ffdd88aa250:  00007ffdd88aa2a8  00007ffdd88aa2a0 
    00007ffdd88aa260:  0000000000000000  0000000000000000 
    00007ffdd88aa270:  00007f472e78f560  00007f472e792bc0 
    00007ffdd88aa280:  bfe62e42fefa39ef  0000000000000000 
    00007ffdd88aa290:  414fffffe0000000  0000000000000000 
    00007ffdd88aa2a0:  2f7273752f3a6e69  73752f3a6e696273 
    00007ffdd88aa2b0:  752f3a6e69622f72  6c61636f6c2f7273 
    00007ffdd88aa2c0:  73752f3a6e69622f  732f6e6962732f72 
    00007ffdd88aa2d0:  2f3a656369767265  6e69622f70616e73 
    00007ffdd88aa2e0:  00007f472e78f420  00007f472e78f420 
    00007ffdd88aa2f0:  0000000000000000  0000000000000000 
    00007ffdd88aa300:  0000000000000000  0000000000000000 
    00007ffdd88aa310:  0000000000000000  0000000000000000 
    00007ffdd88aa320:  0000000000000000  0000000000000000 
    00007ffdd88aa330:  0000000000000000  0000000000000000 
    00007ffdd88aa340: <0000000000000000  0000000000000000 
    00007ffdd88aa350:  0000000000000000  0000000000000000 
    00007ffdd88aa360:  0000000000004000  0000000000000000 
    00007ffdd88aa370:  0000555bb2c177c0  00007f472eb97000 
    00007ffdd88aa380:  00007ffdd88aa3a0  00007ffdd88aa3d0 
    00007ffdd88aa390:  0000555bb1b0fe44 <runtime.persistentalloc+132>  00007ffdd88aa3a8 
    00007ffdd88aa3a0:  00007f472eb97000  0000555bb1b50390 <runtime.persistentalloc.func1+0> 
    00007ffdd88aa3b0:  0000000000004000  0000000000000000 
    00007ffdd88aa3c0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffdd88aa3d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffdd88aa3e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffdd88aa3f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffdd88aa400:  ffffffffffffffff  ffffffffffffffff 
    00007ffdd88aa410:  ffffffffffffffff  ffffffffffffffff 
    00007ffdd88aa420:  ffffffffffffffff  ffffffffffffffff 
    00007ffdd88aa430:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running]:
    runtime.systemstack_switch()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:363 fp=0xc42005c788 sp=0xc42005c780 pc=0x555bb1b53370
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:128 +0x67 fp=0xc42005c7e0 sp=0xc42005c788 pc=0x555bb1b2a377
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc42005c7e8 sp=0xc42005c7e0 pc=0x555bb1b55f31
    
    rax    0x0
    rbx    0x7f472e78f840
    rcx    0x7f472e3e1f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffdd88aa340
    rbp    0x555bb232432a
    rsp    0x7ffdd88aa340
    r8     0x0
    r9     0x7ffdd88aa340
    r10    0x8
    r11    0x246
    r12    0x555bb2dae2a0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f472e3e1f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
