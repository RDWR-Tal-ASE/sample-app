apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f67b18def47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f67b18def47
    stack: frame={sp:0x7fffd5dd23c0, fp:0x0} stack=[0x7fffd55d3c00,0x7fffd5dd2c30)
    00007fffd5dd22c0:  00007f67b1c94125  0000000100000000 
    00007fffd5dd22d0:  00007fffd5dd2300  00007fffd5dd2310 
    00007fffd5dd22e0:  00007f67b20cf358  0000000000000000 
    00007fffd5dd22f0:  00007f67b20cfa48  0000000000000000 
    00007fffd5dd2300:  00000000ffffffff  00007f67b20cf4f0 
    00007fffd5dd2310:  00007f67b1eb0690  00007f67b20d89f0 
    00007fffd5dd2320:  00007f67b20cf358  00007fffd5dd2468 
    00007fffd5dd2330:  00007f67b20cfca8  00007f67b20cf000 
    00007fffd5dd2340:  0000000000000000  00007f67b1ebb23f 
    00007fffd5dd2350:  0000000000000002  00007f67b1eab278 
    00007fffd5dd2360:  00007fffd5dd2820  0000000000001000 
    00007fffd5dd2370:  00007fffd5dd28b0  00005568962093f0 
    00007fffd5dd2380:  00007fffd5dd28b0  00007f67b1ebff13 
    00007fffd5dd2390:  0000000000000005  0000000000000000 
    00007fffd5dd23a0:  00007f67b20cf358  00007f67b1eb0690 
    00007fffd5dd23b0:  00007fffd5dd2740  00007f67b1ec775a 
    00007fffd5dd23c0: <0000000000000000  0000556896209500 
    00007fffd5dd23d0:  0000556896209500  0000000000000000 
    00007fffd5dd23e0:  00007f67b109e700  0000000000000000 
    00007fffd5dd23f0:  0000000000001000  00007fffd5dd24a8 
    00007fffd5dd2400:  00005568944c7936 <runtime.pcvalue+342>  00005568952242d2 
    00007fffd5dd2410:  000000000030d984  0000ffff00001fa0 
    00007fffd5dd2420:  00007fffd5dd2460  00007fffd5dd245c 
    00007fffd5dd2430:  0000000000000000  00005568952242d4 
    00007fffd5dd2440:  fffffffe7fffffff  ffffffffffffffff 
    00007fffd5dd2450:  ffffffffffffffff  ffffffffffffffff 
    00007fffd5dd2460:  ffffffffffffffff  ffffffffffffffff 
    00007fffd5dd2470:  ffffffffffffffff  ffffffffffffffff 
    00007fffd5dd2480:  ffffffffffffffff  ffffffffffffffff 
    00007fffd5dd2490:  ffffffffffffffff  ffffffffffffffff 
    00007fffd5dd24a0:  ffffffffffffffff  ffffffffffffffff 
    00007fffd5dd24b0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f67b18def47
    stack: frame={sp:0x7fffd5dd23c0, fp:0x0} stack=[0x7fffd55d3c00,0x7fffd5dd2c30)
    00007fffd5dd22c0:  00007f67b1c94125  0000000100000000 
    00007fffd5dd22d0:  00007fffd5dd2300  00007fffd5dd2310 
    00007fffd5dd22e0:  00007f67b20cf358  0000000000000000 
    00007fffd5dd22f0:  00007f67b20cfa48  0000000000000000 
    00007fffd5dd2300:  00000000ffffffff  00007f67b20cf4f0 
    00007fffd5dd2310:  00007f67b1eb0690  00007f67b20d89f0 
    00007fffd5dd2320:  00007f67b20cf358  00007fffd5dd2468 
    00007fffd5dd2330:  00007f67b20cfca8  00007f67b20cf000 
    00007fffd5dd2340:  0000000000000000  00007f67b1ebb23f 
    00007fffd5dd2350:  0000000000000002  00007f67b1eab278 
    00007fffd5dd2360:  00007fffd5dd2820  0000000000001000 
    00007fffd5dd2370:  00007fffd5dd28b0  00005568962093f0 
    00007fffd5dd2380:  00007fffd5dd28b0  00007f67b1ebff13 
    00007fffd5dd2390:  0000000000000005  0000000000000000 
    00007fffd5dd23a0:  00007f67b20cf358  00007f67b1eb0690 
    00007fffd5dd23b0:  00007fffd5dd2740  00007f67b1ec775a 
    00007fffd5dd23c0: <0000000000000000  0000556896209500 
    00007fffd5dd23d0:  0000556896209500  0000000000000000 
    00007fffd5dd23e0:  00007f67b109e700  0000000000000000 
    00007fffd5dd23f0:  0000000000001000  00007fffd5dd24a8 
    00007fffd5dd2400:  00005568944c7936 <runtime.pcvalue+342>  00005568952242d2 
    00007fffd5dd2410:  000000000030d984  0000ffff00001fa0 
    00007fffd5dd2420:  00007fffd5dd2460  00007fffd5dd245c 
    00007fffd5dd2430:  0000000000000000  00005568952242d4 
    00007fffd5dd2440:  fffffffe7fffffff  ffffffffffffffff 
    00007fffd5dd2450:  ffffffffffffffff  ffffffffffffffff 
    00007fffd5dd2460:  ffffffffffffffff  ffffffffffffffff 
    00007fffd5dd2470:  ffffffffffffffff  ffffffffffffffff 
    00007fffd5dd2480:  ffffffffffffffff  ffffffffffffffff 
    00007fffd5dd2490:  ffffffffffffffff  ffffffffffffffff 
    00007fffd5dd24a0:  ffffffffffffffff  ffffffffffffffff 
    00007fffd5dd24b0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [runnable, locked to thread]:
    runtime.gcenable()
    	/usr/lib/go-1.10/src/runtime/mgc.go:214 +0x87
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:161 +0x126
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1
    
    rax    0x0
    rbx    0x7f67b1c8c840
    rcx    0x7f67b18def47
    rdx    0x0
    rdi    0x2
    rsi    0x7fffd5dd23c0
    rbp    0x556894ca632a
    rsp    0x7fffd5dd23c0
    r8     0x0
    r9     0x7fffd5dd23c0
    r10    0x8
    r11    0x246
    r12    0x556896209540
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f67b18def47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 3 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062400)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062400)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc000048800, 0x2)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000046001)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.newproc.func1()
    	/usr/local/go/src/runtime/proc.go:3555 +0x97
    runtime.systemstack(0x46c2f4)
    	/usr/local/go/src/runtime/asm_amd64.s:370 +0x66
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1116
    
    goroutine 1 [running, locked to thread]:
    runtime.systemstack_switch()
    	/usr/local/go/src/runtime/asm_amd64.s:330 fp=0xc00005e6f0 sp=0xc00005e6e8 pc=0x46c420
    runtime.newproc(0x0, 0x1bb7b08)
    	/usr/local/go/src/runtime/proc.go:3548 +0x6e fp=0xc00005e738 sp=0xc00005e6f0 pc=0x44210e
    runtime.init.6()
    	/usr/local/go/src/runtime/proc.go:243 +0x35 fp=0xc00005e758 sp=0xc00005e738 pc=0x439df5
    runtime.doInit(0x2881120)
    	/usr/local/go/src/runtime/proc.go:5646 +0x8a fp=0xc00005e788 sp=0xc00005e758 pc=0x446f8a
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:151 +0xd9 fp=0xc00005e7e0 sp=0xc00005e788 pc=0x439b19
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1 fp=0xc00005e7e8 sp=0xc00005e7e0 pc=0x46e061
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f42433d5f47 m=3 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f42433d5f47
    stack: frame={sp:0x7f4242b94810, fp:0x0} stack=[0x7f4242395290,0x7f4242b94e90)
    00007f4242b94710:  0000000000000000  0000000000000000 
    00007f4242b94720:  0000000000000000  0000000000000000 
    00007f4242b94730:  0000000000000000  0000000000000000 
    00007f4242b94740:  0000007e0000007d  000000800000007f 
    00007f4242b94750:  00007f4234000010  00007f4234000010 
    00007f4242b94760:  000000000000000e  000000000000000e 
    00007f4242b94770:  0000000000000000  0000000000000000 
    00007f4242b94780:  ffffffffffffffff  ffffffffffffffff 
    00007f4242b94790:  0000000400000004  0000000400000004 
    00007f4242b947a0:  00007f4234000800  00007f4234000800 
    00007f4242b947b0:  0000000000000000  0000000000000000 
    00007f4242b947c0:  0000000000000000  0000000000000000 
    00007f4242b947d0:  0000000000000000  0000000000000000 
    00007f4242b947e0:  0000000000000000  000000c420000180 
    00007f4242b947f0:  0000000000000000  00005562aec97f31 <runtime.goexit+1> 
    00007f4242b94800:  0000000000000000  0000000000000000 
    00007f4242b94810: <0000000000000000  0000000000000000 
    00007f4242b94820:  0000000000000000  0000000000000000 
    00007f4242b94830:  0000000000000000  0000000000000000 
    00007f4242b94840:  0000000000000000  0000000000000000 
    00007f4242b94850:  0000000000000000  0000000000000000 
    00007f4242b94860:  0000000000000000  0000000000000000 
    00007f4242b94870:  0000000000000000  0000000000000000 
    00007f4242b94880:  0000000000000002  0000000000000000 
    00007f4242b94890:  fffffffe7fffffff  ffffffffffffffff 
    00007f4242b948a0:  ffffffffffffffff  ffffffffffffffff 
    00007f4242b948b0:  ffffffffffffffff  ffffffffffffffff 
    00007f4242b948c0:  ffffffffffffffff  ffffffffffffffff 
    00007f4242b948d0:  ffffffffffffffff  ffffffffffffffff 
    00007f4242b948e0:  ffffffffffffffff  ffffffffffffffff 
    00007f4242b948f0:  ffffffffffffffff  ffffffffffffffff 
    00007f4242b94900:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f42433d5f47
    stack: frame={sp:0x7f4242b94810, fp:0x0} stack=[0x7f4242395290,0x7f4242b94e90)
    00007f4242b94710:  0000000000000000  0000000000000000 
    00007f4242b94720:  0000000000000000  0000000000000000 
    00007f4242b94730:  0000000000000000  0000000000000000 
    00007f4242b94740:  0000007e0000007d  000000800000007f 
    00007f4242b94750:  00007f4234000010  00007f4234000010 
    00007f4242b94760:  000000000000000e  000000000000000e 
    00007f4242b94770:  0000000000000000  0000000000000000 
    00007f4242b94780:  ffffffffffffffff  ffffffffffffffff 
    00007f4242b94790:  0000000400000004  0000000400000004 
    00007f4242b947a0:  00007f4234000800  00007f4234000800 
    00007f4242b947b0:  0000000000000000  0000000000000000 
    00007f4242b947c0:  0000000000000000  0000000000000000 
    00007f4242b947d0:  0000000000000000  0000000000000000 
    00007f4242b947e0:  0000000000000000  000000c420000180 
    00007f4242b947f0:  0000000000000000  00005562aec97f31 <runtime.goexit+1> 
    00007f4242b94800:  0000000000000000  0000000000000000 
    00007f4242b94810: <0000000000000000  0000000000000000 
    00007f4242b94820:  0000000000000000  0000000000000000 
    00007f4242b94830:  0000000000000000  0000000000000000 
    00007f4242b94840:  0000000000000000  0000000000000000 
    00007f4242b94850:  0000000000000000  0000000000000000 
    00007f4242b94860:  0000000000000000  0000000000000000 
    00007f4242b94870:  0000000000000000  0000000000000000 
    00007f4242b94880:  0000000000000002  0000000000000000 
    00007f4242b94890:  fffffffe7fffffff  ffffffffffffffff 
    00007f4242b948a0:  ffffffffffffffff  ffffffffffffffff 
    00007f4242b948b0:  ffffffffffffffff  ffffffffffffffff 
    00007f4242b948c0:  ffffffffffffffff  ffffffffffffffff 
    00007f4242b948d0:  ffffffffffffffff  ffffffffffffffff 
    00007f4242b948e0:  ffffffffffffffff  ffffffffffffffff 
    00007f4242b948f0:  ffffffffffffffff  ffffffffffffffff 
    00007f4242b94900:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x5562af960a60, 0xc4200380c8, 0x5562af33e704, 0xc, 0xc42003ce17, 0x3)
    	/usr/lib/go-1.10/src/runtime/proc.go:291 +0x120
    runtime.goparkunlock(0xc4200380c8, 0x5562af33e704, 0xc, 0x17, 0x3)
    	/usr/lib/go-1.10/src/runtime/proc.go:297 +0x60
    runtime.chanrecv(0xc420038070, 0x0, 0x1, 0x5562aec578aa)
    	/usr/lib/go-1.10/src/runtime/chan.go:518 +0x2f6
    runtime.chanrecv1(0xc420038070, 0x0)
    	/usr/lib/go-1.10/src/runtime/chan.go:400 +0x2b
    runtime.gcenable()
    	/usr/lib/go-1.10/src/runtime/mgc.go:217 +0x71
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:161 +0x126
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1
    
    rax    0x0
    rbx    0x7f4243783840
    rcx    0x7f42433d5f47
    rdx    0x0
    rdi    0x2
    rsi    0x7f4242b94810
    rbp    0x5562af46632a
    rsp    0x7f4242b94810
    r8     0x0
    r9     0x7f4242b94810
    r10    0x8
    r11    0x246
    r12    0x5562b0b923f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f42433d5f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
