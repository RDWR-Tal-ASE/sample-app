apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fc11476df47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fc11476df47
    stack: frame={sp:0x7ffd0772dae0, fp:0x0} stack=[0x7ffd06f2f180,0x7ffd0772e1b0)
    00007ffd0772d9e0:  000055c56a0b9683 <runtime.main+883>  000000000030da24 
    00007ffd0772d9f0:  0000029300000002  0000005014d5675a 
    00007ffd0772da00:  000000000030da24  00007ffd0772dab8 
    00007ffd0772da10:  000055c56a0d4936 <runtime.pcvalue+342>  000055c56ae47828 
    00007ffd0772da20:  0000000000000000  0000000000000000 
    00007ffd0772da30:  00007fc114b1b560  00007fc114b1ebc0 
    00007ffd0772da40:  000000c42006ffd0  000055c56a0b93e0 <runtime.main+208> 
    00007ffd0772da50:  000055c56adad970  0000000000000000 
    00007ffd0772da60:  0000000000000000  0000000000000000 
    00007ffd0772da70:  0000000000000000  0000000000000000 
    00007ffd0772da80:  0000000000000000  0000000000000000 
    00007ffd0772da90:  000000c420000180  0000000000000000 
    00007ffd0772daa0:  000055c56a0b93e0 <runtime.main+208>  000055c56adad970 
    00007ffd0772dab0:  0000000000000000  0000000000000000 
    00007ffd0772dac0:  0000000000000000  0000000000000000 
    00007ffd0772dad0:  0000000000000000  0000000000000000 
    00007ffd0772dae0: <0000000000000000  000000c420000180 
    00007ffd0772daf0:  0000000000000000  000055c56a0e4f31 <runtime.goexit+1> 
    00007ffd0772db00:  0000000000000000  0000000000000000 
    00007ffd0772db10:  0000000000000000  0000000000000000 
    00007ffd0772db20:  000055c56b15b3c0  00007ffd0772de30 
    00007ffd0772db30:  000055c56a0d9962 <runtime.gentraceback+4850>  00007ffd0772ddd8 
    00007ffd0772db40:  00007ffd0772dec8  000055c56b15b301 
    00007ffd0772db50:  00007ffd0772dc01  0000000000000000 
    00007ffd0772db60:  fffffffe7fffffff  ffffffffffffffff 
    00007ffd0772db70:  ffffffffffffffff  ffffffffffffffff 
    00007ffd0772db80:  ffffffffffffffff  ffffffffffffffff 
    00007ffd0772db90:  ffffffffffffffff  ffffffffffffffff 
    00007ffd0772dba0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd0772dbb0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd0772dbc0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd0772dbd0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fc11476df47
    stack: frame={sp:0x7ffd0772dae0, fp:0x0} stack=[0x7ffd06f2f180,0x7ffd0772e1b0)
    00007ffd0772d9e0:  000055c56a0b9683 <runtime.main+883>  000000000030da24 
    00007ffd0772d9f0:  0000029300000002  0000005014d5675a 
    00007ffd0772da00:  000000000030da24  00007ffd0772dab8 
    00007ffd0772da10:  000055c56a0d4936 <runtime.pcvalue+342>  000055c56ae47828 
    00007ffd0772da20:  0000000000000000  0000000000000000 
    00007ffd0772da30:  00007fc114b1b560  00007fc114b1ebc0 
    00007ffd0772da40:  000000c42006ffd0  000055c56a0b93e0 <runtime.main+208> 
    00007ffd0772da50:  000055c56adad970  0000000000000000 
    00007ffd0772da60:  0000000000000000  0000000000000000 
    00007ffd0772da70:  0000000000000000  0000000000000000 
    00007ffd0772da80:  0000000000000000  0000000000000000 
    00007ffd0772da90:  000000c420000180  0000000000000000 
    00007ffd0772daa0:  000055c56a0b93e0 <runtime.main+208>  000055c56adad970 
    00007ffd0772dab0:  0000000000000000  0000000000000000 
    00007ffd0772dac0:  0000000000000000  0000000000000000 
    00007ffd0772dad0:  0000000000000000  0000000000000000 
    00007ffd0772dae0: <0000000000000000  000000c420000180 
    00007ffd0772daf0:  0000000000000000  000055c56a0e4f31 <runtime.goexit+1> 
    00007ffd0772db00:  0000000000000000  0000000000000000 
    00007ffd0772db10:  0000000000000000  0000000000000000 
    00007ffd0772db20:  000055c56b15b3c0  00007ffd0772de30 
    00007ffd0772db30:  000055c56a0d9962 <runtime.gentraceback+4850>  00007ffd0772ddd8 
    00007ffd0772db40:  00007ffd0772dec8  000055c56b15b301 
    00007ffd0772db50:  00007ffd0772dc01  0000000000000000 
    00007ffd0772db60:  fffffffe7fffffff  ffffffffffffffff 
    00007ffd0772db70:  ffffffffffffffff  ffffffffffffffff 
    00007ffd0772db80:  ffffffffffffffff  ffffffffffffffff 
    00007ffd0772db90:  ffffffffffffffff  ffffffffffffffff 
    00007ffd0772dba0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd0772dbb0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd0772dbc0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd0772dbd0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.systemstack_switch()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:363 fp=0xc420081f00 sp=0xc420081ef8 pc=0x55c56a0e2370
    runtime.newproc(0x55c500000000, 0x55c56adad8f8)
    	/usr/lib/go-1.10/src/runtime/proc.go:3243 +0x64 fp=0xc420081f40 sp=0xc420081f00 pc=0x55c56a0c1264
    runtime.init.4()
    	/usr/lib/go-1.10/src/runtime/proc.go:237 +0x37 fp=0xc420081f60 sp=0xc420081f40 pc=0x55c56a0b96d7
    runtime.init()
    	<autogenerated>:1 +0xe5 fp=0xc420081f88 sp=0xc420081f60 pc=0x55c56a0e1f45
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:144 +0xd0 fp=0xc420081fe0 sp=0xc420081f88 pc=0x55c56a0b93e0
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x55c56a0e4f31
    
    rax    0x0
    rbx    0x7fc114b1b840
    rcx    0x7fc11476df47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffd0772dae0
    rbp    0x55c56a8b332a
    rsp    0x7ffd0772dae0
    r8     0x0
    r9     0x7ffd0772dae0
    r10    0x8
    r11    0x246
    r12    0x55c56c19e3f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fc11476df47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 2 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7d48, 0x0, 0xffffffffffffffff)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.main.func1()
    	/usr/local/go/src/runtime/proc.go:135 +0x3f
    runtime.systemstack(0x46c2f4)
    	/usr/local/go/src/runtime/asm_amd64.s:370 +0x66
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1116
    
    goroutine 1 [running]:
    runtime.systemstack_switch()
    	/usr/local/go/src/runtime/asm_amd64.s:330 fp=0xc00005e788 sp=0xc00005e780 pc=0x46c420
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:134 +0x70 fp=0xc00005e7e0 sp=0xc00005e788 pc=0x439ab0
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1 fp=0xc00005e7e8 sp=0xc00005e7e0 pc=0x46e061
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fb8e0eb0f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fb8e0eb0f47
    stack: frame={sp:0x7ffc4688f4b0, fp:0x0} stack=[0x7ffc46090b50,0x7ffc4688fb80)
    00007ffc4688f3b0:  00005580d6c4b683 <runtime.main+883>  000000000030da24 
    00007ffc4688f3c0:  0000029300000002  00000050e0e71700 
    00007ffc4688f3d0:  000000000030da24  00007ffc4688f488 
    00007ffc4688f3e0:  0000000000000000  0000000000000000 
    00007ffc4688f3f0:  00007fb8e125e560  00007fb8e1261bc0 
    00007ffc4688f400:  000000c42006ffd0  00005580d6c4b3e0 <runtime.main+208> 
    00007ffc4688f410:  00005580d793f970  0000000000000000 
    00007ffc4688f420:  0000000000000000  0000000000000000 
    00007ffc4688f430:  0000000000000000  0000000000000000 
    00007ffc4688f440:  0000000000000000  0000000000000000 
    00007ffc4688f450:  000000c420000180  0000000000000000 
    00007ffc4688f460:  00005580d6c4b3e0 <runtime.main+208>  00005580d793f970 
    00007ffc4688f470:  0000000000000000  0000000000000000 
    00007ffc4688f480:  0000000000000000  0000000000000000 
    00007ffc4688f490:  0000000000000000  0000000000000000 
    00007ffc4688f4a0:  0000000000000000  000000c420000180 
    00007ffc4688f4b0: <0000000000000000  00005580d6c76f31 <runtime.goexit+1> 
    00007ffc4688f4c0:  0000000000000000  0000000000000000 
    00007ffc4688f4d0:  0000000000000000  0000000000000000 
    00007ffc4688f4e0:  0000000000000000  00005580d6c76f31 <runtime.goexit+1> 
    00007ffc4688f4f0:  00005580d7ced3c0  00007ffc4688f800 
    00007ffc4688f500:  00005580d6c6b962 <runtime.gentraceback+4850>  00007ffc4688f7a8 
    00007ffc4688f510:  00007ffc4688f898  00005580d7ced301 
    00007ffc4688f520:  00007ffc4688f601  0000000000000000 
    00007ffc4688f530:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc4688f540:  ffffffffffffffff  ffffffffffffffff 
    00007ffc4688f550:  ffffffffffffffff  ffffffffffffffff 
    00007ffc4688f560:  ffffffffffffffff  ffffffffffffffff 
    00007ffc4688f570:  ffffffffffffffff  ffffffffffffffff 
    00007ffc4688f580:  ffffffffffffffff  ffffffffffffffff 
    00007ffc4688f590:  ffffffffffffffff  ffffffffffffffff 
    00007ffc4688f5a0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fb8e0eb0f47
    stack: frame={sp:0x7ffc4688f4b0, fp:0x0} stack=[0x7ffc46090b50,0x7ffc4688fb80)
    00007ffc4688f3b0:  00005580d6c4b683 <runtime.main+883>  000000000030da24 
    00007ffc4688f3c0:  0000029300000002  00000050e0e71700 
    00007ffc4688f3d0:  000000000030da24  00007ffc4688f488 
    00007ffc4688f3e0:  0000000000000000  0000000000000000 
    00007ffc4688f3f0:  00007fb8e125e560  00007fb8e1261bc0 
    00007ffc4688f400:  000000c42006ffd0  00005580d6c4b3e0 <runtime.main+208> 
    00007ffc4688f410:  00005580d793f970  0000000000000000 
    00007ffc4688f420:  0000000000000000  0000000000000000 
    00007ffc4688f430:  0000000000000000  0000000000000000 
    00007ffc4688f440:  0000000000000000  0000000000000000 
    00007ffc4688f450:  000000c420000180  0000000000000000 
    00007ffc4688f460:  00005580d6c4b3e0 <runtime.main+208>  00005580d793f970 
    00007ffc4688f470:  0000000000000000  0000000000000000 
    00007ffc4688f480:  0000000000000000  0000000000000000 
    00007ffc4688f490:  0000000000000000  0000000000000000 
    00007ffc4688f4a0:  0000000000000000  000000c420000180 
    00007ffc4688f4b0: <0000000000000000  00005580d6c76f31 <runtime.goexit+1> 
    00007ffc4688f4c0:  0000000000000000  0000000000000000 
    00007ffc4688f4d0:  0000000000000000  0000000000000000 
    00007ffc4688f4e0:  0000000000000000  00005580d6c76f31 <runtime.goexit+1> 
    00007ffc4688f4f0:  00005580d7ced3c0  00007ffc4688f800 
    00007ffc4688f500:  00005580d6c6b962 <runtime.gentraceback+4850>  00007ffc4688f7a8 
    00007ffc4688f510:  00007ffc4688f898  00005580d7ced301 
    00007ffc4688f520:  00007ffc4688f601  0000000000000000 
    00007ffc4688f530:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc4688f540:  ffffffffffffffff  ffffffffffffffff 
    00007ffc4688f550:  ffffffffffffffff  ffffffffffffffff 
    00007ffc4688f560:  ffffffffffffffff  ffffffffffffffff 
    00007ffc4688f570:  ffffffffffffffff  ffffffffffffffff 
    00007ffc4688f580:  ffffffffffffffff  ffffffffffffffff 
    00007ffc4688f590:  ffffffffffffffff  ffffffffffffffff 
    00007ffc4688f5a0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.systemstack_switch()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:363 fp=0xc420081f00 sp=0xc420081ef8 pc=0x5580d6c74370
    runtime.newproc(0x558000000000, 0x5580d793f8f8)
    	/usr/lib/go-1.10/src/runtime/proc.go:3243 +0x64 fp=0xc420081f40 sp=0xc420081f00 pc=0x5580d6c53264
    runtime.init.4()
    	/usr/lib/go-1.10/src/runtime/proc.go:237 +0x37 fp=0xc420081f60 sp=0xc420081f40 pc=0x5580d6c4b6d7
    runtime.init()
    	<autogenerated>:1 +0xe5 fp=0xc420081f88 sp=0xc420081f60 pc=0x5580d6c73f45
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:144 +0xd0 fp=0xc420081fe0 sp=0xc420081f88 pc=0x5580d6c4b3e0
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x5580d6c76f31
    
    rax    0x0
    rbx    0x7fb8e125e840
    rcx    0x7fb8e0eb0f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffc4688f4b0
    rbp    0x5580d744532a
    rsp    0x7ffc4688f4b0
    r8     0x0
    r9     0x7ffc4688f4b0
    r10    0x8
    r11    0x246
    r12    0x5580d95fd3f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fb8e0eb0f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
