apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fd2c2d0bf47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fd2c2d0bf47
    stack: frame={sp:0x7ffc5d8e61e0, fp:0x0} stack=[0x7ffc5d0e7880,0x7ffc5d8e68b0)
    00007ffc5d8e60e0:  00005586704e5683 <runtime.main+883>  000000000030da24 
    00007ffc5d8e60f0:  0000029300000002  00000050c32f475a 
    00007ffc5d8e6100:  000000000030da24  00007ffc5d8e61b8 
    00007ffc5d8e6110:  0000558670500936 <runtime.pcvalue+342>  0000558671273828 
    00007ffc5d8e6120:  0000000000000000  0000000000000000 
    00007ffc5d8e6130:  00007fd2c30b9560  00007fd2c30bcbc0 
    00007ffc5d8e6140:  000000c42006ffd0  00005586704e53e0 <runtime.main+208> 
    00007ffc5d8e6150:  00005586711d9970  0000000000000000 
    00007ffc5d8e6160:  0000000000000000  0000000000000000 
    00007ffc5d8e6170:  0000000000000000  0000000000000000 
    00007ffc5d8e6180:  0000000000000000  0000000000000000 
    00007ffc5d8e6190:  000000c420000180  0000000000000000 
    00007ffc5d8e61a0:  00005586704e53e0 <runtime.main+208>  00005586711d9970 
    00007ffc5d8e61b0:  0000000000000000  0000000000000000 
    00007ffc5d8e61c0:  0000000000000000  0000000000000000 
    00007ffc5d8e61d0:  0000000000000000  0000000000000000 
    00007ffc5d8e61e0: <0000000000000000  000000c420000180 
    00007ffc5d8e61f0:  0000000000000000  0000558670510f31 <runtime.goexit+1> 
    00007ffc5d8e6200:  0000000000000000  0000000000000000 
    00007ffc5d8e6210:  0000000000000000  0000000000000000 
    00007ffc5d8e6220:  00005586715873c0  00007ffc5d8e6530 
    00007ffc5d8e6230:  0000558670505962 <runtime.gentraceback+4850>  00007ffc5d8e64d8 
    00007ffc5d8e6240:  00007ffc5d8e65c8  0000558671587301 
    00007ffc5d8e6250:  00007ffc5d8e6301  0000000000000000 
    00007ffc5d8e6260:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc5d8e6270:  ffffffffffffffff  ffffffffffffffff 
    00007ffc5d8e6280:  ffffffffffffffff  ffffffffffffffff 
    00007ffc5d8e6290:  ffffffffffffffff  ffffffffffffffff 
    00007ffc5d8e62a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc5d8e62b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc5d8e62c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc5d8e62d0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fd2c2d0bf47
    stack: frame={sp:0x7ffc5d8e61e0, fp:0x0} stack=[0x7ffc5d0e7880,0x7ffc5d8e68b0)
    00007ffc5d8e60e0:  00005586704e5683 <runtime.main+883>  000000000030da24 
    00007ffc5d8e60f0:  0000029300000002  00000050c32f475a 
    00007ffc5d8e6100:  000000000030da24  00007ffc5d8e61b8 
    00007ffc5d8e6110:  0000558670500936 <runtime.pcvalue+342>  0000558671273828 
    00007ffc5d8e6120:  0000000000000000  0000000000000000 
    00007ffc5d8e6130:  00007fd2c30b9560  00007fd2c30bcbc0 
    00007ffc5d8e6140:  000000c42006ffd0  00005586704e53e0 <runtime.main+208> 
    00007ffc5d8e6150:  00005586711d9970  0000000000000000 
    00007ffc5d8e6160:  0000000000000000  0000000000000000 
    00007ffc5d8e6170:  0000000000000000  0000000000000000 
    00007ffc5d8e6180:  0000000000000000  0000000000000000 
    00007ffc5d8e6190:  000000c420000180  0000000000000000 
    00007ffc5d8e61a0:  00005586704e53e0 <runtime.main+208>  00005586711d9970 
    00007ffc5d8e61b0:  0000000000000000  0000000000000000 
    00007ffc5d8e61c0:  0000000000000000  0000000000000000 
    00007ffc5d8e61d0:  0000000000000000  0000000000000000 
    00007ffc5d8e61e0: <0000000000000000  000000c420000180 
    00007ffc5d8e61f0:  0000000000000000  0000558670510f31 <runtime.goexit+1> 
    00007ffc5d8e6200:  0000000000000000  0000000000000000 
    00007ffc5d8e6210:  0000000000000000  0000000000000000 
    00007ffc5d8e6220:  00005586715873c0  00007ffc5d8e6530 
    00007ffc5d8e6230:  0000558670505962 <runtime.gentraceback+4850>  00007ffc5d8e64d8 
    00007ffc5d8e6240:  00007ffc5d8e65c8  0000558671587301 
    00007ffc5d8e6250:  00007ffc5d8e6301  0000000000000000 
    00007ffc5d8e6260:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc5d8e6270:  ffffffffffffffff  ffffffffffffffff 
    00007ffc5d8e6280:  ffffffffffffffff  ffffffffffffffff 
    00007ffc5d8e6290:  ffffffffffffffff  ffffffffffffffff 
    00007ffc5d8e62a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc5d8e62b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc5d8e62c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc5d8e62d0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.systemstack_switch()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:363 fp=0xc420081f00 sp=0xc420081ef8 pc=0x55867050e370
    runtime.newproc(0x558600000000, 0x5586711d98f8)
    	/usr/lib/go-1.10/src/runtime/proc.go:3243 +0x64 fp=0xc420081f40 sp=0xc420081f00 pc=0x5586704ed264
    runtime.init.4()
    	/usr/lib/go-1.10/src/runtime/proc.go:237 +0x37 fp=0xc420081f60 sp=0xc420081f40 pc=0x5586704e56d7
    runtime.init()
    	<autogenerated>:1 +0xe5 fp=0xc420081f88 sp=0xc420081f60 pc=0x55867050df45
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:144 +0xd0 fp=0xc420081fe0 sp=0xc420081f88 pc=0x5586704e53e0
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x558670510f31
    
    rax    0x0
    rbx    0x7fd2c30b9840
    rcx    0x7fd2c2d0bf47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffc5d8e61e0
    rbp    0x558670cdf32a
    rsp    0x7ffc5d8e61e0
    r8     0x0
    r9     0x7ffc5d8e61e0
    r10    0x8
    r11    0x246
    r12    0x558671d593f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fd2c2d0bf47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 2 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7d48, 0x0, 0xffffffffffffffff)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.main.func1()
    	/usr/local/go/src/runtime/proc.go:135 +0x3f
    runtime.systemstack(0x46c2f4)
    	/usr/local/go/src/runtime/asm_amd64.s:370 +0x66
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1116
    
    goroutine 1 [running]:
    runtime.systemstack_switch()
    	/usr/local/go/src/runtime/asm_amd64.s:330 fp=0xc00005e788 sp=0xc00005e780 pc=0x46c420
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:134 +0x70 fp=0xc00005e7e0 sp=0xc00005e788 pc=0x439ab0
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1 fp=0xc00005e7e8 sp=0xc00005e7e0 pc=0x46e061
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fc5530e2f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fc5530e2f47
    stack: frame={sp:0x7ffc16840370, fp:0x0} stack=[0x7ffc16041a10,0x7ffc16840a40)
    00007ffc16840270:  0000559b994f3683 <runtime.main+883>  000000000030da24 
    00007ffc16840280:  0000029300000002  00000050530a3700 
    00007ffc16840290:  000000000030da24  00007ffc16840348 
    00007ffc168402a0:  0000000000000000  0000000000000000 
    00007ffc168402b0:  00007fc553490560  00007fc553493bc0 
    00007ffc168402c0:  000000c42006ffd0  0000559b994f33e0 <runtime.main+208> 
    00007ffc168402d0:  0000559b9a1e7970  0000000000000000 
    00007ffc168402e0:  0000000000000000  0000000000000000 
    00007ffc168402f0:  0000000000000000  0000000000000000 
    00007ffc16840300:  0000000000000000  0000000000000000 
    00007ffc16840310:  000000c420000180  0000000000000000 
    00007ffc16840320:  0000559b994f33e0 <runtime.main+208>  0000559b9a1e7970 
    00007ffc16840330:  0000000000000000  0000000000000000 
    00007ffc16840340:  0000000000000000  0000000000000000 
    00007ffc16840350:  0000000000000000  0000000000000000 
    00007ffc16840360:  0000000000000000  000000c420000180 
    00007ffc16840370: <0000000000000000  0000559b9951ef31 <runtime.goexit+1> 
    00007ffc16840380:  0000000000000000  0000000000000000 
    00007ffc16840390:  0000000000000000  0000000000000000 
    00007ffc168403a0:  0000000000000000  0000559b9951ef31 <runtime.goexit+1> 
    00007ffc168403b0:  0000559b9a5953c0  00007ffc168406c0 
    00007ffc168403c0:  0000559b99513962 <runtime.gentraceback+4850>  00007ffc16840668 
    00007ffc168403d0:  00007ffc16840758  0000559b9a595301 
    00007ffc168403e0:  00007ffc16840401  0000000000000000 
    00007ffc168403f0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc16840400:  ffffffffffffffff  ffffffffffffffff 
    00007ffc16840410:  ffffffffffffffff  ffffffffffffffff 
    00007ffc16840420:  ffffffffffffffff  ffffffffffffffff 
    00007ffc16840430:  ffffffffffffffff  ffffffffffffffff 
    00007ffc16840440:  ffffffffffffffff  ffffffffffffffff 
    00007ffc16840450:  ffffffffffffffff  ffffffffffffffff 
    00007ffc16840460:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fc5530e2f47
    stack: frame={sp:0x7ffc16840370, fp:0x0} stack=[0x7ffc16041a10,0x7ffc16840a40)
    00007ffc16840270:  0000559b994f3683 <runtime.main+883>  000000000030da24 
    00007ffc16840280:  0000029300000002  00000050530a3700 
    00007ffc16840290:  000000000030da24  00007ffc16840348 
    00007ffc168402a0:  0000000000000000  0000000000000000 
    00007ffc168402b0:  00007fc553490560  00007fc553493bc0 
    00007ffc168402c0:  000000c42006ffd0  0000559b994f33e0 <runtime.main+208> 
    00007ffc168402d0:  0000559b9a1e7970  0000000000000000 
    00007ffc168402e0:  0000000000000000  0000000000000000 
    00007ffc168402f0:  0000000000000000  0000000000000000 
    00007ffc16840300:  0000000000000000  0000000000000000 
    00007ffc16840310:  000000c420000180  0000000000000000 
    00007ffc16840320:  0000559b994f33e0 <runtime.main+208>  0000559b9a1e7970 
    00007ffc16840330:  0000000000000000  0000000000000000 
    00007ffc16840340:  0000000000000000  0000000000000000 
    00007ffc16840350:  0000000000000000  0000000000000000 
    00007ffc16840360:  0000000000000000  000000c420000180 
    00007ffc16840370: <0000000000000000  0000559b9951ef31 <runtime.goexit+1> 
    00007ffc16840380:  0000000000000000  0000000000000000 
    00007ffc16840390:  0000000000000000  0000000000000000 
    00007ffc168403a0:  0000000000000000  0000559b9951ef31 <runtime.goexit+1> 
    00007ffc168403b0:  0000559b9a5953c0  00007ffc168406c0 
    00007ffc168403c0:  0000559b99513962 <runtime.gentraceback+4850>  00007ffc16840668 
    00007ffc168403d0:  00007ffc16840758  0000559b9a595301 
    00007ffc168403e0:  00007ffc16840401  0000000000000000 
    00007ffc168403f0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc16840400:  ffffffffffffffff  ffffffffffffffff 
    00007ffc16840410:  ffffffffffffffff  ffffffffffffffff 
    00007ffc16840420:  ffffffffffffffff  ffffffffffffffff 
    00007ffc16840430:  ffffffffffffffff  ffffffffffffffff 
    00007ffc16840440:  ffffffffffffffff  ffffffffffffffff 
    00007ffc16840450:  ffffffffffffffff  ffffffffffffffff 
    00007ffc16840460:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.systemstack_switch()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:363 fp=0xc420081f00 sp=0xc420081ef8 pc=0x559b9951c370
    runtime.newproc(0x559b00000000, 0x559b9a1e78f8)
    	/usr/lib/go-1.10/src/runtime/proc.go:3243 +0x64 fp=0xc420081f40 sp=0xc420081f00 pc=0x559b994fb264
    runtime.init.4()
    	/usr/lib/go-1.10/src/runtime/proc.go:237 +0x37 fp=0xc420081f60 sp=0xc420081f40 pc=0x559b994f36d7
    runtime.init()
    	<autogenerated>:1 +0xe5 fp=0xc420081f88 sp=0xc420081f60 pc=0x559b9951bf45
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:144 +0xd0 fp=0xc420081fe0 sp=0xc420081f88 pc=0x559b994f33e0
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x559b9951ef31
    
    rax    0x0
    rbx    0x7fc553490840
    rcx    0x7fc5530e2f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffc16840370
    rbp    0x559b99ced32a
    rsp    0x7ffc16840370
    r8     0x0
    r9     0x7ffc16840370
    r10    0x8
    r11    0x246
    r12    0x559b9a7563f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fc5530e2f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
