apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fc639787f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fc639787f47
    stack: frame={sp:0x7ffdddc13720, fp:0x0} stack=[0x7ffddd414dc0,0x7ffdddc13df0)
    00007ffdddc13620:  000055eef65ee683 <runtime.main+883>  000000000030da24 
    00007ffdddc13630:  0000029300000002  0000005039d7075a 
    00007ffdddc13640:  000000000030da24  00007ffdddc136f8 
    00007ffdddc13650:  000055eef6609936 <runtime.pcvalue+342>  000055eef737c828 
    00007ffdddc13660:  00000000002f742e  00000000002f742e 
    00007ffdddc13670:  00007ffdddc136b0  00007ffdddc136ac 
    00007ffdddc13680:  000055eef7690301  000055eef737c82a 
    00007ffdddc13690:  00000000002f742c  00000000002f742c 
    00007ffdddc136a0:  0000000000000001  0000000040000000 
    00007ffdddc136b0:  00007ffdddc13768  000055eef660475f <runtime.adjustframe+175> 
    00007ffdddc136c0:  000055eef737c7f0  000055eef76903c0 
    00007ffdddc136d0:  00007ffd00000000  000055eef6619f30 <runtime.goexit+0> 
    00007ffdddc136e0:  00007ffdddc13b20  00000000ffffffff 
    00007ffdddc136f0:  00000000ddc13680  000055eef6619f30 <runtime.goexit+0> 
    00007ffdddc13700:  000055eef660a1c1 <runtime.funcspdelta+97>  000055eef737c7f0 
    00007ffdddc13710:  000055eef76903c0  00007ffd0006f548 
    00007ffdddc13720: <0000000000000000  00007ffdddc13880 
    00007ffdddc13730:  000055eef6d76201  000055eef737c7f0 
    00007ffdddc13740:  000055eef76903c0  0000000000000000 
    00007ffdddc13750:  0000000000000000  000055eef6619f31 <runtime.goexit+1> 
    00007ffdddc13760:  000055eef76903c0  00007ffdddc13a70 
    00007ffdddc13770:  000055eef660e962 <runtime.gentraceback+4850>  00007ffdddc13a18 
    00007ffdddc13780:  00007ffdddc13b08  000055eef7690301 
    00007ffdddc13790:  00007ffdddc13801  0000000000000000 
    00007ffdddc137a0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffdddc137b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffdddc137c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffdddc137d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffdddc137e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffdddc137f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffdddc13800:  ffffffffffffffff  ffffffffffffffff 
    00007ffdddc13810:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fc639787f47
    stack: frame={sp:0x7ffdddc13720, fp:0x0} stack=[0x7ffddd414dc0,0x7ffdddc13df0)
    00007ffdddc13620:  000055eef65ee683 <runtime.main+883>  000000000030da24 
    00007ffdddc13630:  0000029300000002  0000005039d7075a 
    00007ffdddc13640:  000000000030da24  00007ffdddc136f8 
    00007ffdddc13650:  000055eef6609936 <runtime.pcvalue+342>  000055eef737c828 
    00007ffdddc13660:  00000000002f742e  00000000002f742e 
    00007ffdddc13670:  00007ffdddc136b0  00007ffdddc136ac 
    00007ffdddc13680:  000055eef7690301  000055eef737c82a 
    00007ffdddc13690:  00000000002f742c  00000000002f742c 
    00007ffdddc136a0:  0000000000000001  0000000040000000 
    00007ffdddc136b0:  00007ffdddc13768  000055eef660475f <runtime.adjustframe+175> 
    00007ffdddc136c0:  000055eef737c7f0  000055eef76903c0 
    00007ffdddc136d0:  00007ffd00000000  000055eef6619f30 <runtime.goexit+0> 
    00007ffdddc136e0:  00007ffdddc13b20  00000000ffffffff 
    00007ffdddc136f0:  00000000ddc13680  000055eef6619f30 <runtime.goexit+0> 
    00007ffdddc13700:  000055eef660a1c1 <runtime.funcspdelta+97>  000055eef737c7f0 
    00007ffdddc13710:  000055eef76903c0  00007ffd0006f548 
    00007ffdddc13720: <0000000000000000  00007ffdddc13880 
    00007ffdddc13730:  000055eef6d76201  000055eef737c7f0 
    00007ffdddc13740:  000055eef76903c0  0000000000000000 
    00007ffdddc13750:  0000000000000000  000055eef6619f31 <runtime.goexit+1> 
    00007ffdddc13760:  000055eef76903c0  00007ffdddc13a70 
    00007ffdddc13770:  000055eef660e962 <runtime.gentraceback+4850>  00007ffdddc13a18 
    00007ffdddc13780:  00007ffdddc13b08  000055eef7690301 
    00007ffdddc13790:  00007ffdddc13801  0000000000000000 
    00007ffdddc137a0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffdddc137b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffdddc137c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffdddc137d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffdddc137e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffdddc137f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffdddc13800:  ffffffffffffffff  ffffffffffffffff 
    00007ffdddc13810:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x55eef72e2a60, 0xc4200380c8, 0x55eef6cc0704, 0xc, 0xc42003ce17, 0x3)
    	/usr/lib/go-1.10/src/runtime/proc.go:291 +0x120
    runtime.goparkunlock(0xc4200380c8, 0x55eef6cc0704, 0xc, 0x17, 0x3)
    	/usr/lib/go-1.10/src/runtime/proc.go:297 +0x60
    runtime.chanrecv(0xc420038070, 0x0, 0x1, 0x55eef65d98aa)
    	/usr/lib/go-1.10/src/runtime/chan.go:518 +0x2f6
    runtime.chanrecv1(0xc420038070, 0x0)
    	/usr/lib/go-1.10/src/runtime/chan.go:400 +0x2b
    runtime.gcenable()
    	/usr/lib/go-1.10/src/runtime/mgc.go:217 +0x71
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:161 +0x126
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1
    
    rax    0x0
    rbx    0x7fc639b35840
    rcx    0x7fc639787f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffdddc13720
    rbp    0x55eef6de832a
    rsp    0x7ffdddc13720
    r8     0x0
    r9     0x7ffdddc13720
    r10    0x8
    r11    0x246
    r12    0x55eef95f9540
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fc639787f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 3 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062400)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062400)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc000048800, 0x2)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000046001)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.newproc.func1()
    	/usr/local/go/src/runtime/proc.go:3555 +0x97
    runtime.systemstack(0x46c2f4)
    	/usr/local/go/src/runtime/asm_amd64.s:370 +0x66
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1116
    
    goroutine 1 [running, locked to thread]:
    runtime.systemstack_switch()
    	/usr/local/go/src/runtime/asm_amd64.s:330 fp=0xc00005e6f0 sp=0xc00005e6e8 pc=0x46c420
    runtime.newproc(0x0, 0x1bb7b08)
    	/usr/local/go/src/runtime/proc.go:3548 +0x6e fp=0xc00005e738 sp=0xc00005e6f0 pc=0x44210e
    runtime.init.6()
    	/usr/local/go/src/runtime/proc.go:243 +0x35 fp=0xc00005e758 sp=0xc00005e738 pc=0x439df5
    runtime.doInit(0x2881120)
    	/usr/local/go/src/runtime/proc.go:5646 +0x8a fp=0xc00005e788 sp=0xc00005e758 pc=0x446f8a
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:151 +0xd9 fp=0xc00005e7e0 sp=0xc00005e788 pc=0x439b19
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1 fp=0xc00005e7e8 sp=0xc00005e7e0 pc=0x46e061
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f49fd02ff47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f49fd02ff47
    stack: frame={sp:0x7ffe638af790, fp:0x0} stack=[0x7ffe630b0fd0,0x7ffe638b0000)
    00007ffe638af690:  00007ffe638af6c0  00007ffe638af6d0 
    00007ffe638af6a0:  00007f49fd820358  0000000000000000 
    00007ffe638af6b0:  00007f49fd820a48  0000000000000000 
    00007ffe638af6c0:  00000000ffffffff  00007f49fd8204f0 
    00007ffe638af6d0:  00007f49fd601690  00007f49fd8299f0 
    00007ffe638af6e0:  00007f49fd820358  00007ffe638af828 
    00007ffe638af6f0:  00007f49fd820ca8  00007f49fd820000 
    00007ffe638af700:  0000000000000000  00007f49fd60c23f 
    00007ffe638af710:  0000000000000002  00007f49fd5fc278 
    00007ffe638af720:  00007ffe638afbf0  0000000000001000 
    00007ffe638af730:  00007ffe638afc80  00005622117493f0 
    00007ffe638af740:  00007ffe638afc80  00007f49fd610f13 
    00007ffe638af750:  0000000000000005  0000000000000000 
    00007ffe638af760:  00007f49fd820358  00007f49fd601690 
    00007ffe638af770:  00007ffe638afb10  00007f49fd61875a 
    00007ffe638af780:  0000562211749420  0000562211749500 
    00007ffe638af790: <0000000000000000  0000000000000000 
    00007ffe638af7a0:  00007f49fc7ef700  0000000000000000 
    00007ffe638af7b0:  0000000000001000  ffffffff00000000 
    00007ffe638af7c0:  000000000030d984  00007ffe638af878 
    00007ffe638af7d0:  000056220ec31936 <runtime.pcvalue+342>  0000ffff00001fa0 
    00007ffe638af7e0:  000000000030d984  000000000030d985 
    00007ffe638af7f0:  00007ffe638af830  00007ffe638af82c 
    00007ffe638af800:  00007ffe638afd00  000056220f98e2d4 
    00007ffe638af810:  fffffffe7fffffff  ffffffffffffffff 
    00007ffe638af820:  ffffffffffffffff  ffffffffffffffff 
    00007ffe638af830:  ffffffffffffffff  ffffffffffffffff 
    00007ffe638af840:  ffffffffffffffff  ffffffffffffffff 
    00007ffe638af850:  ffffffffffffffff  ffffffffffffffff 
    00007ffe638af860:  ffffffffffffffff  ffffffffffffffff 
    00007ffe638af870:  ffffffffffffffff  ffffffffffffffff 
    00007ffe638af880:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f49fd02ff47
    stack: frame={sp:0x7ffe638af790, fp:0x0} stack=[0x7ffe630b0fd0,0x7ffe638b0000)
    00007ffe638af690:  00007ffe638af6c0  00007ffe638af6d0 
    00007ffe638af6a0:  00007f49fd820358  0000000000000000 
    00007ffe638af6b0:  00007f49fd820a48  0000000000000000 
    00007ffe638af6c0:  00000000ffffffff  00007f49fd8204f0 
    00007ffe638af6d0:  00007f49fd601690  00007f49fd8299f0 
    00007ffe638af6e0:  00007f49fd820358  00007ffe638af828 
    00007ffe638af6f0:  00007f49fd820ca8  00007f49fd820000 
    00007ffe638af700:  0000000000000000  00007f49fd60c23f 
    00007ffe638af710:  0000000000000002  00007f49fd5fc278 
    00007ffe638af720:  00007ffe638afbf0  0000000000001000 
    00007ffe638af730:  00007ffe638afc80  00005622117493f0 
    00007ffe638af740:  00007ffe638afc80  00007f49fd610f13 
    00007ffe638af750:  0000000000000005  0000000000000000 
    00007ffe638af760:  00007f49fd820358  00007f49fd601690 
    00007ffe638af770:  00007ffe638afb10  00007f49fd61875a 
    00007ffe638af780:  0000562211749420  0000562211749500 
    00007ffe638af790: <0000000000000000  0000000000000000 
    00007ffe638af7a0:  00007f49fc7ef700  0000000000000000 
    00007ffe638af7b0:  0000000000001000  ffffffff00000000 
    00007ffe638af7c0:  000000000030d984  00007ffe638af878 
    00007ffe638af7d0:  000056220ec31936 <runtime.pcvalue+342>  0000ffff00001fa0 
    00007ffe638af7e0:  000000000030d984  000000000030d985 
    00007ffe638af7f0:  00007ffe638af830  00007ffe638af82c 
    00007ffe638af800:  00007ffe638afd00  000056220f98e2d4 
    00007ffe638af810:  fffffffe7fffffff  ffffffffffffffff 
    00007ffe638af820:  ffffffffffffffff  ffffffffffffffff 
    00007ffe638af830:  ffffffffffffffff  ffffffffffffffff 
    00007ffe638af840:  ffffffffffffffff  ffffffffffffffff 
    00007ffe638af850:  ffffffffffffffff  ffffffffffffffff 
    00007ffe638af860:  ffffffffffffffff  ffffffffffffffff 
    00007ffe638af870:  ffffffffffffffff  ffffffffffffffff 
    00007ffe638af880:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [runnable, locked to thread]:
    runtime.gcenable()
    	/usr/lib/go-1.10/src/runtime/mgc.go:214 +0x87
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:161 +0x126
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1
    
    rax    0x0
    rbx    0x7f49fd3dd840
    rcx    0x7f49fd02ff47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffe638af790
    rbp    0x56220f41032a
    rsp    0x7ffe638af790
    r8     0x0
    r9     0x7ffe638af790
    r10    0x8
    r11    0x246
    r12    0x562211749540
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f49fd02ff47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
