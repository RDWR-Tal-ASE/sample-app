apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7ff20d5f5f47 m=3 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7ff20d5f5f47
    stack: frame={sp:0x7ff207ffe810, fp:0x0} stack=[0x7ff2077ff290,0x7ff207ffee90)
    00007ff207ffe710:  0000000000000000  0000000000000000 
    00007ff207ffe720:  0000000000000000  0000000000000000 
    00007ff207ffe730:  0000000000000000  0000000000000000 
    00007ff207ffe740:  0000000000000000  0000000000000000 
    00007ff207ffe750:  0000000000000000  0000000000000000 
    00007ff207ffe760:  0000000000000000  0000000000000000 
    00007ff207ffe770:  0000000000000000  0000000000000000 
    00007ff207ffe780:  0000000000000000  0000000000000000 
    00007ff207ffe790:  0000000000000000  0000000000000000 
    00007ff207ffe7a0:  0000000000000000  0000000000000000 
    00007ff207ffe7b0:  0000000000000000  0000000000000000 
    00007ff207ffe7c0:  0000000000000000  0000000000000000 
    00007ff207ffe7d0:  0000000000000000  0000000000000000 
    00007ff207ffe7e0:  0000000000000000  0000000000000000 
    00007ff207ffe7f0:  0000000000000000  0000000000000000 
    00007ff207ffe800:  0000000000000000  0000000000000000 
    00007ff207ffe810: <0000000000000000  0000000000000000 
    00007ff207ffe820:  0000000000000000  0000000000000000 
    00007ff207ffe830:  0000000000000000  0000000000000000 
    00007ff207ffe840:  0000000000000000  0000000000000000 
    00007ff207ffe850:  0000000000000000  0000000000000000 
    00007ff207ffe860:  0000000000000000  0000000000000000 
    00007ff207ffe870:  0000000000000000  0000000000000000 
    00007ff207ffe880:  0000000000000000  0000000000000000 
    00007ff207ffe890:  fffffffe7fffffff  ffffffffffffffff 
    00007ff207ffe8a0:  ffffffffffffffff  ffffffffffffffff 
    00007ff207ffe8b0:  ffffffffffffffff  ffffffffffffffff 
    00007ff207ffe8c0:  ffffffffffffffff  ffffffffffffffff 
    00007ff207ffe8d0:  ffffffffffffffff  ffffffffffffffff 
    00007ff207ffe8e0:  ffffffffffffffff  ffffffffffffffff 
    00007ff207ffe8f0:  ffffffffffffffff  ffffffffffffffff 
    00007ff207ffe900:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7ff20d5f5f47
    stack: frame={sp:0x7ff207ffe810, fp:0x0} stack=[0x7ff2077ff290,0x7ff207ffee90)
    00007ff207ffe710:  0000000000000000  0000000000000000 
    00007ff207ffe720:  0000000000000000  0000000000000000 
    00007ff207ffe730:  0000000000000000  0000000000000000 
    00007ff207ffe740:  0000000000000000  0000000000000000 
    00007ff207ffe750:  0000000000000000  0000000000000000 
    00007ff207ffe760:  0000000000000000  0000000000000000 
    00007ff207ffe770:  0000000000000000  0000000000000000 
    00007ff207ffe780:  0000000000000000  0000000000000000 
    00007ff207ffe790:  0000000000000000  0000000000000000 
    00007ff207ffe7a0:  0000000000000000  0000000000000000 
    00007ff207ffe7b0:  0000000000000000  0000000000000000 
    00007ff207ffe7c0:  0000000000000000  0000000000000000 
    00007ff207ffe7d0:  0000000000000000  0000000000000000 
    00007ff207ffe7e0:  0000000000000000  0000000000000000 
    00007ff207ffe7f0:  0000000000000000  0000000000000000 
    00007ff207ffe800:  0000000000000000  0000000000000000 
    00007ff207ffe810: <0000000000000000  0000000000000000 
    00007ff207ffe820:  0000000000000000  0000000000000000 
    00007ff207ffe830:  0000000000000000  0000000000000000 
    00007ff207ffe840:  0000000000000000  0000000000000000 
    00007ff207ffe850:  0000000000000000  0000000000000000 
    00007ff207ffe860:  0000000000000000  0000000000000000 
    00007ff207ffe870:  0000000000000000  0000000000000000 
    00007ff207ffe880:  0000000000000000  0000000000000000 
    00007ff207ffe890:  fffffffe7fffffff  ffffffffffffffff 
    00007ff207ffe8a0:  ffffffffffffffff  ffffffffffffffff 
    00007ff207ffe8b0:  ffffffffffffffff  ffffffffffffffff 
    00007ff207ffe8c0:  ffffffffffffffff  ffffffffffffffff 
    00007ff207ffe8d0:  ffffffffffffffff  ffffffffffffffff 
    00007ff207ffe8e0:  ffffffffffffffff  ffffffffffffffff 
    00007ff207ffe8f0:  ffffffffffffffff  ffffffffffffffff 
    00007ff207ffe900:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    	goroutine running on other thread; stack unavailable
    
    rax    0x0
    rbx    0x7ff20d9a3840
    rcx    0x7ff20d5f5f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ff207ffe810
    rbp    0x5643cc0e132a
    rsp    0x7ff207ffe810
    r8     0x0
    r9     0x7ff207ffe810
    r10    0x8
    r11    0x246
    r12    0x5643ce1f93f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7ff20d5f5f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 4 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    runtime: failed to create new OS thread (have 5 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062800)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062800)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x0, 0xc000046000, 0x3)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0xc000046000, 0x2a6cc00)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.handoffp(0xc000046000)
    	/usr/local/go/src/runtime/proc.go:2001 +0x52
    runtime.stoplockedm()
    	/usr/local/go/src/runtime/proc.go:2075 +0xf7
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2611 +0x48c
    runtime.park_m(0xc000000180)
    	/usr/local/go/src/runtime/proc.go:2845 +0x9d
    runtime.mcall(0x0)
    	/usr/local/go/src/runtime/asm_amd64.s:318 +0x5b
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x1bb7a80, 0xc0000420c8, 0x170e, 0x2)
    	/usr/local/go/src/runtime/proc.go:306 +0xe5
    runtime.chanrecv(0xc000042070, 0x0, 0xc000000101, 0x41a55e)
    	/usr/local/go/src/runtime/chan.go:577 +0x36f
    runtime.chanrecv1(0xc000042070, 0x0)
    	/usr/local/go/src/runtime/chan.go:439 +0x2b
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:219 +0x95
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000088000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000088000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc00004b000, 0x4)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000073f01)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.resetspinning()
    	/usr/local/go/src/runtime/proc.go:2533 +0x59
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2684 +0x2b9
    runtime.mstart1()
    	/usr/local/go/src/runtime/proc.go:1179 +0x93
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1137 +0x6e
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fda5b450f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fda5b450f47
    stack: frame={sp:0x7fff7d6ddb60, fp:0x0} stack=[0x7fff7cedf060,0x7fff7d6de090)
    00007fff7d6dda60:  00007fda00000003  000055eb633875c0 
    00007fff7d6dda70:  0000000000000000  000000c420081fe0 
    00007fff7d6dda80:  0000000000000000  0000000000000000 
    00007fff7d6dda90:  0000000000000000  0000000000000000 
    00007fff7d6ddaa0:  0000000000000003  664117481cee6500 
    00007fff7d6ddab0:  0000000000000000  00000000000f4240 
    00007fff7d6ddac0:  000055eb65a27540  000055eb633875c0 
    00007fff7d6ddad0:  00007fff7d6ddb70  0000000000000000 
    00007fff7d6ddae0:  00007fff7d6ddb60  000055eb63387520 
    00007fff7d6ddaf0:  0000000000000004  00007fff7d6ddb00 
    00007fff7d6ddb00:  0000000000000000  0000000000000000 
    00007fff7d6ddb10:  0000000000000000  664117481cee6500 
    00007fff7d6ddb20:  0000000000000000  00007fff7d6ddb70 
    00007fff7d6ddb30:  00007fff7d6ddc30  000055eb65a27540 
    00007fff7d6ddb40:  00000000000000f1  664117481cee6500 
    00007fff7d6ddb50:  0000000000000000  000055eb63387753 
    00007fff7d6ddb60: <0000000000000000  0000000000800000 
    00007fff7d6ddb70:  0000000000000000  00007fff7d6ddbb8 
    00007fff7d6ddb80:  000055eb62cdb582 <runtime.step+290>  000055eb63a37232 
    00007fff7d6ddb90:  000000000030da24  000000000030da24 
    00007fff7d6ddba0:  0000029300000002  000000505bc02da8 
    00007fff7d6ddbb0:  000000000030da24  00007fff7d6ddc68 
    00007fff7d6ddbc0:  000055eb62cda936 <runtime.pcvalue+342>  000055eb63a4d828 
    00007fff7d6ddbd0:  00000000002f742e  00000000002f742e 
    00007fff7d6ddbe0:  fffffffe7fffffff  ffffffffffffffff 
    00007fff7d6ddbf0:  ffffffffffffffff  ffffffffffffffff 
    00007fff7d6ddc00:  ffffffffffffffff  ffffffffffffffff 
    00007fff7d6ddc10:  ffffffffffffffff  ffffffffffffffff 
    00007fff7d6ddc20:  ffffffffffffffff  ffffffffffffffff 
    00007fff7d6ddc30:  ffffffffffffffff  ffffffffffffffff 
    00007fff7d6ddc40:  ffffffffffffffff  ffffffffffffffff 
    00007fff7d6ddc50:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fda5b450f47
    stack: frame={sp:0x7fff7d6ddb60, fp:0x0} stack=[0x7fff7cedf060,0x7fff7d6de090)
    00007fff7d6dda60:  00007fda00000003  000055eb633875c0 
    00007fff7d6dda70:  0000000000000000  000000c420081fe0 
    00007fff7d6dda80:  0000000000000000  0000000000000000 
    00007fff7d6dda90:  0000000000000000  0000000000000000 
    00007fff7d6ddaa0:  0000000000000003  664117481cee6500 
    00007fff7d6ddab0:  0000000000000000  00000000000f4240 
    00007fff7d6ddac0:  000055eb65a27540  000055eb633875c0 
    00007fff7d6ddad0:  00007fff7d6ddb70  0000000000000000 
    00007fff7d6ddae0:  00007fff7d6ddb60  000055eb63387520 
    00007fff7d6ddaf0:  0000000000000004  00007fff7d6ddb00 
    00007fff7d6ddb00:  0000000000000000  0000000000000000 
    00007fff7d6ddb10:  0000000000000000  664117481cee6500 
    00007fff7d6ddb20:  0000000000000000  00007fff7d6ddb70 
    00007fff7d6ddb30:  00007fff7d6ddc30  000055eb65a27540 
    00007fff7d6ddb40:  00000000000000f1  664117481cee6500 
    00007fff7d6ddb50:  0000000000000000  000055eb63387753 
    00007fff7d6ddb60: <0000000000000000  0000000000800000 
    00007fff7d6ddb70:  0000000000000000  00007fff7d6ddbb8 
    00007fff7d6ddb80:  000055eb62cdb582 <runtime.step+290>  000055eb63a37232 
    00007fff7d6ddb90:  000000000030da24  000000000030da24 
    00007fff7d6ddba0:  0000029300000002  000000505bc02da8 
    00007fff7d6ddbb0:  000000000030da24  00007fff7d6ddc68 
    00007fff7d6ddbc0:  000055eb62cda936 <runtime.pcvalue+342>  000055eb63a4d828 
    00007fff7d6ddbd0:  00000000002f742e  00000000002f742e 
    00007fff7d6ddbe0:  fffffffe7fffffff  ffffffffffffffff 
    00007fff7d6ddbf0:  ffffffffffffffff  ffffffffffffffff 
    00007fff7d6ddc00:  ffffffffffffffff  ffffffffffffffff 
    00007fff7d6ddc10:  ffffffffffffffff  ffffffffffffffff 
    00007fff7d6ddc20:  ffffffffffffffff  ffffffffffffffff 
    00007fff7d6ddc30:  ffffffffffffffff  ffffffffffffffff 
    00007fff7d6ddc40:  ffffffffffffffff  ffffffffffffffff 
    00007fff7d6ddc50:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x55eb63387a30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x55eb62ce9bcf
    runtime.newm1(0xc420061000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x55eb62cc36b1
    runtime.newm(0x55eb639b3b08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x55eb62cc352f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x55eb62cc3791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x55eb62cbf4b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x55eb62ceaf31
    
    rax    0x0
    rbx    0x7fda5b7fe840
    rcx    0x7fda5b450f47
    rdx    0x0
    rdi    0x2
    rsi    0x7fff7d6ddb60
    rbp    0x55eb634b932a
    rsp    0x7fff7d6ddb60
    r8     0x0
    r9     0x7fff7d6ddb60
    r10    0x8
    r11    0x246
    r12    0x55eb65a27690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fda5b450f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
