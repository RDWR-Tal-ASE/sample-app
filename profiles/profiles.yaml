apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7ffbd81bff47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7ffbd81bff47
    stack: frame={sp:0x7ffc51a40240, fp:0x0} stack=[0x7ffc512418e0,0x7ffc51a40910)
    00007ffc51a40140:  0000559861385683 <runtime.main+883>  000000000030da24 
    00007ffc51a40150:  0000029300000002  0000005000000000 
    00007ffc51a40160:  0000000000000000  0000000000000000 
    00007ffc51a40170:  00007ffbd856d560  00007ffbd8570bc0 
    00007ffc51a40180:  000000c42006ffd0  00005598613853e0 <runtime.main+208> 
    00007ffc51a40190:  0000559862079970  0000000000000000 
    00007ffc51a401a0:  0000000000000000  0000000000000000 
    00007ffc51a401b0:  0000000000000000  0000000000000000 
    00007ffc51a401c0:  0000000000000000  0000000000000000 
    00007ffc51a401d0:  000000c420000180  0000000000000000 
    00007ffc51a401e0:  00005598613853e0 <runtime.main+208>  0000559862079970 
    00007ffc51a401f0:  0000000000000000  0000000000000000 
    00007ffc51a40200:  0000000000000000  0000000000000000 
    00007ffc51a40210:  0000000000000000  0000000000000000 
    00007ffc51a40220:  0000000000000000  000000c420000180 
    00007ffc51a40230:  0000000000000000  00005598613b0f31 <runtime.goexit+1> 
    00007ffc51a40240: <0000000000000000  0000000000000000 
    00007ffc51a40250:  0000000000000000  0000000000000000 
    00007ffc51a40260:  00005598624273c0  0000000000000000 
    00007ffc51a40270:  0000000000000000  00005598613b0f31 <runtime.goexit+1> 
    00007ffc51a40280:  00005598624273c0  00007ffc51a40590 
    00007ffc51a40290:  00005598613a5962 <runtime.gentraceback+4850>  00007ffc51a40538 
    00007ffc51a402a0:  00007ffc51a40628  0000559862427301 
    00007ffc51a402b0:  00007ffc51a40301  0000000000000000 
    00007ffc51a402c0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc51a402d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc51a402e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc51a402f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc51a40300:  ffffffffffffffff  ffffffffffffffff 
    00007ffc51a40310:  ffffffffffffffff  ffffffffffffffff 
    00007ffc51a40320:  ffffffffffffffff  ffffffffffffffff 
    00007ffc51a40330:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7ffbd81bff47
    stack: frame={sp:0x7ffc51a40240, fp:0x0} stack=[0x7ffc512418e0,0x7ffc51a40910)
    00007ffc51a40140:  0000559861385683 <runtime.main+883>  000000000030da24 
    00007ffc51a40150:  0000029300000002  0000005000000000 
    00007ffc51a40160:  0000000000000000  0000000000000000 
    00007ffc51a40170:  00007ffbd856d560  00007ffbd8570bc0 
    00007ffc51a40180:  000000c42006ffd0  00005598613853e0 <runtime.main+208> 
    00007ffc51a40190:  0000559862079970  0000000000000000 
    00007ffc51a401a0:  0000000000000000  0000000000000000 
    00007ffc51a401b0:  0000000000000000  0000000000000000 
    00007ffc51a401c0:  0000000000000000  0000000000000000 
    00007ffc51a401d0:  000000c420000180  0000000000000000 
    00007ffc51a401e0:  00005598613853e0 <runtime.main+208>  0000559862079970 
    00007ffc51a401f0:  0000000000000000  0000000000000000 
    00007ffc51a40200:  0000000000000000  0000000000000000 
    00007ffc51a40210:  0000000000000000  0000000000000000 
    00007ffc51a40220:  0000000000000000  000000c420000180 
    00007ffc51a40230:  0000000000000000  00005598613b0f31 <runtime.goexit+1> 
    00007ffc51a40240: <0000000000000000  0000000000000000 
    00007ffc51a40250:  0000000000000000  0000000000000000 
    00007ffc51a40260:  00005598624273c0  0000000000000000 
    00007ffc51a40270:  0000000000000000  00005598613b0f31 <runtime.goexit+1> 
    00007ffc51a40280:  00005598624273c0  00007ffc51a40590 
    00007ffc51a40290:  00005598613a5962 <runtime.gentraceback+4850>  00007ffc51a40538 
    00007ffc51a402a0:  00007ffc51a40628  0000559862427301 
    00007ffc51a402b0:  00007ffc51a40301  0000000000000000 
    00007ffc51a402c0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc51a402d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc51a402e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc51a402f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc51a40300:  ffffffffffffffff  ffffffffffffffff 
    00007ffc51a40310:  ffffffffffffffff  ffffffffffffffff 
    00007ffc51a40320:  ffffffffffffffff  ffffffffffffffff 
    00007ffc51a40330:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.systemstack_switch()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:363 fp=0xc420081f00 sp=0xc420081ef8 pc=0x5598613ae370
    runtime.newproc(0x559800000000, 0x5598620798f8)
    	/usr/lib/go-1.10/src/runtime/proc.go:3243 +0x64 fp=0xc420081f40 sp=0xc420081f00 pc=0x55986138d264
    runtime.init.4()
    	/usr/lib/go-1.10/src/runtime/proc.go:237 +0x37 fp=0xc420081f60 sp=0xc420081f40 pc=0x5598613856d7
    runtime.init()
    	<autogenerated>:1 +0xe5 fp=0xc420081f88 sp=0xc420081f60 pc=0x5598613adf45
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:144 +0xd0 fp=0xc420081fe0 sp=0xc420081f88 pc=0x5598613853e0
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x5598613b0f31
    
    rax    0x0
    rbx    0x7ffbd856d840
    rcx    0x7ffbd81bff47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffc51a40240
    rbp    0x559861b7f32a
    rsp    0x7ffc51a40240
    r8     0x0
    r9     0x7ffc51a40240
    r10    0x8
    r11    0x246
    r12    0x5598640383f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7ffbd81bff47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 2 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7d48, 0x0, 0xffffffffffffffff)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.main.func1()
    	/usr/local/go/src/runtime/proc.go:135 +0x3f
    runtime.systemstack(0x46c2f4)
    	/usr/local/go/src/runtime/asm_amd64.s:370 +0x66
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1116
    
    goroutine 1 [running]:
    runtime.systemstack_switch()
    	/usr/local/go/src/runtime/asm_amd64.s:330 fp=0xc00005e788 sp=0xc00005e780 pc=0x46c420
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:134 +0x70 fp=0xc00005e7e0 sp=0xc00005e788 pc=0x439ab0
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1 fp=0xc00005e7e8 sp=0xc00005e7e0 pc=0x46e061
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fb3b1cd6f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fb3b1cd6f47
    stack: frame={sp:0x7ffd9b8dd100, fp:0x0} stack=[0x7ffd9b0de7a0,0x7ffd9b8dd7d0)
    00007ffd9b8dd000:  000055c2fe1f8683 <runtime.main+883>  000000000030da24 
    00007ffd9b8dd010:  0000029300000002  0000005000000000 
    00007ffd9b8dd020:  0000000000000000  0000000000000000 
    00007ffd9b8dd030:  00007fb3b2084560  00007fb3b2087bc0 
    00007ffd9b8dd040:  000000c42006ffd0  000055c2fe1f83e0 <runtime.main+208> 
    00007ffd9b8dd050:  000055c2feeec970  0000000000000000 
    00007ffd9b8dd060:  0000000000000000  0000000000000000 
    00007ffd9b8dd070:  0000000000000000  0000000000000000 
    00007ffd9b8dd080:  0000000000000000  0000000000000000 
    00007ffd9b8dd090:  000000c420000180  0000000000000000 
    00007ffd9b8dd0a0:  000055c2fe1f83e0 <runtime.main+208>  000055c2feeec970 
    00007ffd9b8dd0b0:  0000000000000000  0000000000000000 
    00007ffd9b8dd0c0:  0000000000000000  0000000000000000 
    00007ffd9b8dd0d0:  0000000000000000  0000000000000000 
    00007ffd9b8dd0e0:  0000000000000000  000000c420000180 
    00007ffd9b8dd0f0:  0000000000000000  000055c2fe223f31 <runtime.goexit+1> 
    00007ffd9b8dd100: <0000000000000000  0000000000000000 
    00007ffd9b8dd110:  0000000000000000  0000000000000000 
    00007ffd9b8dd120:  000055c2ff29a3c0  0000000000000000 
    00007ffd9b8dd130:  0000000000000000  000055c2fe223f31 <runtime.goexit+1> 
    00007ffd9b8dd140:  000055c2ff29a3c0  00007ffd9b8dd450 
    00007ffd9b8dd150:  000055c2fe218962 <runtime.gentraceback+4850>  00007ffd9b8dd3f8 
    00007ffd9b8dd160:  00007ffd9b8dd4e8  000055c2ff29a301 
    00007ffd9b8dd170:  00007ffd9b8dd201  0000000000000000 
    00007ffd9b8dd180:  fffffffe7fffffff  ffffffffffffffff 
    00007ffd9b8dd190:  ffffffffffffffff  ffffffffffffffff 
    00007ffd9b8dd1a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd9b8dd1b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd9b8dd1c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd9b8dd1d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd9b8dd1e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd9b8dd1f0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fb3b1cd6f47
    stack: frame={sp:0x7ffd9b8dd100, fp:0x0} stack=[0x7ffd9b0de7a0,0x7ffd9b8dd7d0)
    00007ffd9b8dd000:  000055c2fe1f8683 <runtime.main+883>  000000000030da24 
    00007ffd9b8dd010:  0000029300000002  0000005000000000 
    00007ffd9b8dd020:  0000000000000000  0000000000000000 
    00007ffd9b8dd030:  00007fb3b2084560  00007fb3b2087bc0 
    00007ffd9b8dd040:  000000c42006ffd0  000055c2fe1f83e0 <runtime.main+208> 
    00007ffd9b8dd050:  000055c2feeec970  0000000000000000 
    00007ffd9b8dd060:  0000000000000000  0000000000000000 
    00007ffd9b8dd070:  0000000000000000  0000000000000000 
    00007ffd9b8dd080:  0000000000000000  0000000000000000 
    00007ffd9b8dd090:  000000c420000180  0000000000000000 
    00007ffd9b8dd0a0:  000055c2fe1f83e0 <runtime.main+208>  000055c2feeec970 
    00007ffd9b8dd0b0:  0000000000000000  0000000000000000 
    00007ffd9b8dd0c0:  0000000000000000  0000000000000000 
    00007ffd9b8dd0d0:  0000000000000000  0000000000000000 
    00007ffd9b8dd0e0:  0000000000000000  000000c420000180 
    00007ffd9b8dd0f0:  0000000000000000  000055c2fe223f31 <runtime.goexit+1> 
    00007ffd9b8dd100: <0000000000000000  0000000000000000 
    00007ffd9b8dd110:  0000000000000000  0000000000000000 
    00007ffd9b8dd120:  000055c2ff29a3c0  0000000000000000 
    00007ffd9b8dd130:  0000000000000000  000055c2fe223f31 <runtime.goexit+1> 
    00007ffd9b8dd140:  000055c2ff29a3c0  00007ffd9b8dd450 
    00007ffd9b8dd150:  000055c2fe218962 <runtime.gentraceback+4850>  00007ffd9b8dd3f8 
    00007ffd9b8dd160:  00007ffd9b8dd4e8  000055c2ff29a301 
    00007ffd9b8dd170:  00007ffd9b8dd201  0000000000000000 
    00007ffd9b8dd180:  fffffffe7fffffff  ffffffffffffffff 
    00007ffd9b8dd190:  ffffffffffffffff  ffffffffffffffff 
    00007ffd9b8dd1a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd9b8dd1b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd9b8dd1c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd9b8dd1d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd9b8dd1e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd9b8dd1f0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.systemstack_switch()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:363 fp=0xc420081f00 sp=0xc420081ef8 pc=0x55c2fe221370
    runtime.newproc(0x55c200000000, 0x55c2feeec8f8)
    	/usr/lib/go-1.10/src/runtime/proc.go:3243 +0x64 fp=0xc420081f40 sp=0xc420081f00 pc=0x55c2fe200264
    runtime.init.4()
    	/usr/lib/go-1.10/src/runtime/proc.go:237 +0x37 fp=0xc420081f60 sp=0xc420081f40 pc=0x55c2fe1f86d7
    runtime.init()
    	<autogenerated>:1 +0xe5 fp=0xc420081f88 sp=0xc420081f60 pc=0x55c2fe220f45
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:144 +0xd0 fp=0xc420081fe0 sp=0xc420081f88 pc=0x55c2fe1f83e0
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x55c2fe223f31
    
    rax    0x0
    rbx    0x7fb3b2084840
    rcx    0x7fb3b1cd6f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffd9b8dd100
    rbp    0x55c2fe9f232a
    rsp    0x7ffd9b8dd100
    r8     0x0
    r9     0x7ffd9b8dd100
    r10    0x8
    r11    0x246
    r12    0x55c3011763f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fb3b1cd6f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
