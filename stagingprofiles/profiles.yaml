apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fc5f5ccaf47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fc5f5ccaf47
    stack: frame={sp:0x7ffed604db70, fp:0x0} stack=[0x7ffed584f210,0x7ffed604e240)
    00007ffed604da70:  0000557be5d2c683 <runtime.main+883>  000000000030da24 
    00007ffed604da80:  0000029300000002  00000050f5c8b700 
    00007ffed604da90:  000000000030da24  00007ffed604db48 
    00007ffed604daa0:  0000000000000000  0000000000000000 
    00007ffed604dab0:  00007fc5f6078560  00007fc5f607bbc0 
    00007ffed604dac0:  000000c42006ffd0  0000557be5d2c3e0 <runtime.main+208> 
    00007ffed604dad0:  0000557be6a20970  0000000000000000 
    00007ffed604dae0:  0000000000000000  0000000000000000 
    00007ffed604daf0:  0000000000000000  0000000000000000 
    00007ffed604db00:  0000000000000000  0000000000000000 
    00007ffed604db10:  000000c420000180  0000000000000000 
    00007ffed604db20:  0000557be5d2c3e0 <runtime.main+208>  0000557be6a20970 
    00007ffed604db30:  0000000000000000  0000000000000000 
    00007ffed604db40:  0000000000000000  0000000000000000 
    00007ffed604db50:  0000000000000000  0000000000000000 
    00007ffed604db60:  0000000000000000  000000c420000180 
    00007ffed604db70: <0000000000000000  0000557be5d57f31 <runtime.goexit+1> 
    00007ffed604db80:  0000000000000000  0000000000000000 
    00007ffed604db90:  0000000000000000  0000000000000000 
    00007ffed604dba0:  0000000000000000  0000557be5d57f31 <runtime.goexit+1> 
    00007ffed604dbb0:  0000557be6dce3c0  00007ffed604dec0 
    00007ffed604dbc0:  0000557be5d4c962 <runtime.gentraceback+4850>  00007ffed604de68 
    00007ffed604dbd0:  00007ffed604df58  0000557be6dce301 
    00007ffed604dbe0:  00007ffed604dc01  0000000000000000 
    00007ffed604dbf0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffed604dc00:  ffffffffffffffff  ffffffffffffffff 
    00007ffed604dc10:  ffffffffffffffff  ffffffffffffffff 
    00007ffed604dc20:  ffffffffffffffff  ffffffffffffffff 
    00007ffed604dc30:  ffffffffffffffff  ffffffffffffffff 
    00007ffed604dc40:  ffffffffffffffff  ffffffffffffffff 
    00007ffed604dc50:  ffffffffffffffff  ffffffffffffffff 
    00007ffed604dc60:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fc5f5ccaf47
    stack: frame={sp:0x7ffed604db70, fp:0x0} stack=[0x7ffed584f210,0x7ffed604e240)
    00007ffed604da70:  0000557be5d2c683 <runtime.main+883>  000000000030da24 
    00007ffed604da80:  0000029300000002  00000050f5c8b700 
    00007ffed604da90:  000000000030da24  00007ffed604db48 
    00007ffed604daa0:  0000000000000000  0000000000000000 
    00007ffed604dab0:  00007fc5f6078560  00007fc5f607bbc0 
    00007ffed604dac0:  000000c42006ffd0  0000557be5d2c3e0 <runtime.main+208> 
    00007ffed604dad0:  0000557be6a20970  0000000000000000 
    00007ffed604dae0:  0000000000000000  0000000000000000 
    00007ffed604daf0:  0000000000000000  0000000000000000 
    00007ffed604db00:  0000000000000000  0000000000000000 
    00007ffed604db10:  000000c420000180  0000000000000000 
    00007ffed604db20:  0000557be5d2c3e0 <runtime.main+208>  0000557be6a20970 
    00007ffed604db30:  0000000000000000  0000000000000000 
    00007ffed604db40:  0000000000000000  0000000000000000 
    00007ffed604db50:  0000000000000000  0000000000000000 
    00007ffed604db60:  0000000000000000  000000c420000180 
    00007ffed604db70: <0000000000000000  0000557be5d57f31 <runtime.goexit+1> 
    00007ffed604db80:  0000000000000000  0000000000000000 
    00007ffed604db90:  0000000000000000  0000000000000000 
    00007ffed604dba0:  0000000000000000  0000557be5d57f31 <runtime.goexit+1> 
    00007ffed604dbb0:  0000557be6dce3c0  00007ffed604dec0 
    00007ffed604dbc0:  0000557be5d4c962 <runtime.gentraceback+4850>  00007ffed604de68 
    00007ffed604dbd0:  00007ffed604df58  0000557be6dce301 
    00007ffed604dbe0:  00007ffed604dc01  0000000000000000 
    00007ffed604dbf0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffed604dc00:  ffffffffffffffff  ffffffffffffffff 
    00007ffed604dc10:  ffffffffffffffff  ffffffffffffffff 
    00007ffed604dc20:  ffffffffffffffff  ffffffffffffffff 
    00007ffed604dc30:  ffffffffffffffff  ffffffffffffffff 
    00007ffed604dc40:  ffffffffffffffff  ffffffffffffffff 
    00007ffed604dc50:  ffffffffffffffff  ffffffffffffffff 
    00007ffed604dc60:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.systemstack_switch()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:363 fp=0xc420081f00 sp=0xc420081ef8 pc=0x557be5d55370
    runtime.newproc(0x557b00000000, 0x557be6a208f8)
    	/usr/lib/go-1.10/src/runtime/proc.go:3243 +0x64 fp=0xc420081f40 sp=0xc420081f00 pc=0x557be5d34264
    runtime.init.4()
    	/usr/lib/go-1.10/src/runtime/proc.go:237 +0x37 fp=0xc420081f60 sp=0xc420081f40 pc=0x557be5d2c6d7
    runtime.init()
    	<autogenerated>:1 +0xe5 fp=0xc420081f88 sp=0xc420081f60 pc=0x557be5d54f45
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:144 +0xd0 fp=0xc420081fe0 sp=0xc420081f88 pc=0x557be5d2c3e0
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x557be5d57f31
    
    rax    0x0
    rbx    0x7fc5f6078840
    rcx    0x7fc5f5ccaf47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffed604db70
    rbp    0x557be652632a
    rsp    0x7ffed604db70
    r8     0x0
    r9     0x7ffed604db70
    r10    0x8
    r11    0x246
    r12    0x557be7c8f3f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fc5f5ccaf47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 2 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7d48, 0x0, 0xffffffffffffffff)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.main.func1()
    	/usr/local/go/src/runtime/proc.go:135 +0x3f
    runtime.systemstack(0x46c2f4)
    	/usr/local/go/src/runtime/asm_amd64.s:370 +0x66
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1116
    
    goroutine 1 [running]:
    runtime.systemstack_switch()
    	/usr/local/go/src/runtime/asm_amd64.s:330 fp=0xc00005e788 sp=0xc00005e780 pc=0x46c420
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:134 +0x70 fp=0xc00005e7e0 sp=0xc00005e788 pc=0x439ab0
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1 fp=0xc00005e7e8 sp=0xc00005e7e0 pc=0x46e061
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f2ab95c6f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f2ab95c6f47
    stack: frame={sp:0x7ffce124df90, fp:0x0} stack=[0x7ffce0a4f630,0x7ffce124e660)
    00007ffce124de90:  000056358645e683 <runtime.main+883>  000000000030da24 
    00007ffce124dea0:  0000029300000002  00000050b9b98690 
    00007ffce124deb0:  000000000030da24  00007ffce124df68 
    00007ffce124dec0:  0000563586479936 <runtime.pcvalue+342>  00005635871ec828 
    00007ffce124ded0:  00000000002f742e  00000000002f742e 
    00007ffce124dee0:  00007ffce124df20  00007ffce124df1c 
    00007ffce124def0:  0000563587500301  00005635871ec82a 
    00007ffce124df00:  00000000002f742c  00000000002f742c 
    00007ffce124df10:  0000000000000001  0000000040000000 
    00007ffce124df20:  00007ffce124dfd8  000056358647475f <runtime.adjustframe+175> 
    00007ffce124df30:  00005635871ec7f0  00005635875003c0 
    00007ffce124df40:  00007ffc00000000  0000563586489f30 <runtime.goexit+0> 
    00007ffce124df50:  00007ffce124e390  00000000ffffffff 
    00007ffce124df60:  00000000e124def0  0000563586489f30 <runtime.goexit+0> 
    00007ffce124df70:  000056358647a1c1 <runtime.funcspdelta+97>  00005635871ec7f0 
    00007ffce124df80:  00005635875003c0  00007ffc0006f548 
    00007ffce124df90: <0000000000000000  00007ffce124e0f0 
    00007ffce124dfa0:  0000563586be6201  00005635871ec7f0 
    00007ffce124dfb0:  00005635875003c0  0000000000000000 
    00007ffce124dfc0:  0000000000000000  0000563586489f31 <runtime.goexit+1> 
    00007ffce124dfd0:  00005635875003c0  00007ffce124e2e0 
    00007ffce124dfe0:  000056358647e962 <runtime.gentraceback+4850>  00007ffce124e288 
    00007ffce124dff0:  00007ffce124e378  0000563587500301 
    00007ffce124e000:  00007ffce124e001  0000000000000000 
    00007ffce124e010:  fffffffe7fffffff  ffffffffffffffff 
    00007ffce124e020:  ffffffffffffffff  ffffffffffffffff 
    00007ffce124e030:  ffffffffffffffff  ffffffffffffffff 
    00007ffce124e040:  ffffffffffffffff  ffffffffffffffff 
    00007ffce124e050:  ffffffffffffffff  ffffffffffffffff 
    00007ffce124e060:  ffffffffffffffff  ffffffffffffffff 
    00007ffce124e070:  ffffffffffffffff  ffffffffffffffff 
    00007ffce124e080:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f2ab95c6f47
    stack: frame={sp:0x7ffce124df90, fp:0x0} stack=[0x7ffce0a4f630,0x7ffce124e660)
    00007ffce124de90:  000056358645e683 <runtime.main+883>  000000000030da24 
    00007ffce124dea0:  0000029300000002  00000050b9b98690 
    00007ffce124deb0:  000000000030da24  00007ffce124df68 
    00007ffce124dec0:  0000563586479936 <runtime.pcvalue+342>  00005635871ec828 
    00007ffce124ded0:  00000000002f742e  00000000002f742e 
    00007ffce124dee0:  00007ffce124df20  00007ffce124df1c 
    00007ffce124def0:  0000563587500301  00005635871ec82a 
    00007ffce124df00:  00000000002f742c  00000000002f742c 
    00007ffce124df10:  0000000000000001  0000000040000000 
    00007ffce124df20:  00007ffce124dfd8  000056358647475f <runtime.adjustframe+175> 
    00007ffce124df30:  00005635871ec7f0  00005635875003c0 
    00007ffce124df40:  00007ffc00000000  0000563586489f30 <runtime.goexit+0> 
    00007ffce124df50:  00007ffce124e390  00000000ffffffff 
    00007ffce124df60:  00000000e124def0  0000563586489f30 <runtime.goexit+0> 
    00007ffce124df70:  000056358647a1c1 <runtime.funcspdelta+97>  00005635871ec7f0 
    00007ffce124df80:  00005635875003c0  00007ffc0006f548 
    00007ffce124df90: <0000000000000000  00007ffce124e0f0 
    00007ffce124dfa0:  0000563586be6201  00005635871ec7f0 
    00007ffce124dfb0:  00005635875003c0  0000000000000000 
    00007ffce124dfc0:  0000000000000000  0000563586489f31 <runtime.goexit+1> 
    00007ffce124dfd0:  00005635875003c0  00007ffce124e2e0 
    00007ffce124dfe0:  000056358647e962 <runtime.gentraceback+4850>  00007ffce124e288 
    00007ffce124dff0:  00007ffce124e378  0000563587500301 
    00007ffce124e000:  00007ffce124e001  0000000000000000 
    00007ffce124e010:  fffffffe7fffffff  ffffffffffffffff 
    00007ffce124e020:  ffffffffffffffff  ffffffffffffffff 
    00007ffce124e030:  ffffffffffffffff  ffffffffffffffff 
    00007ffce124e040:  ffffffffffffffff  ffffffffffffffff 
    00007ffce124e050:  ffffffffffffffff  ffffffffffffffff 
    00007ffce124e060:  ffffffffffffffff  ffffffffffffffff 
    00007ffce124e070:  ffffffffffffffff  ffffffffffffffff 
    00007ffce124e080:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.systemstack_switch()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:363 fp=0xc420081f00 sp=0xc420081ef8 pc=0x563586487370
    runtime.newproc(0x563500000000, 0x5635871528f8)
    	/usr/lib/go-1.10/src/runtime/proc.go:3243 +0x64 fp=0xc420081f40 sp=0xc420081f00 pc=0x563586466264
    runtime.init.4()
    	/usr/lib/go-1.10/src/runtime/proc.go:237 +0x37 fp=0xc420081f60 sp=0xc420081f40 pc=0x56358645e6d7
    runtime.init()
    	<autogenerated>:1 +0xe5 fp=0xc420081f88 sp=0xc420081f60 pc=0x563586486f45
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:144 +0xd0 fp=0xc420081fe0 sp=0xc420081f88 pc=0x56358645e3e0
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x563586489f31
    
    rax    0x0
    rbx    0x7f2ab9974840
    rcx    0x7f2ab95c6f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffce124df90
    rbp    0x563586c5832a
    rsp    0x7ffce124df90
    r8     0x0
    r9     0x7ffce124df90
    r10    0x8
    r11    0x246
    r12    0x56358867f3f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f2ab95c6f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
