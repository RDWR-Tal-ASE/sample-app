apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7ff9e6259f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7ff9e6259f47
    stack: frame={sp:0x7ffd78788e20, fp:0x0} stack=[0x7ffd77f8a320,0x7ffd78789350)
    00007ffd78788d20:  00007ff900000001  00007ff9e6607420 
    00007ffd78788d30:  0000000000000000  000000c420081fe0 
    00007ffd78788d40:  0000000000000000  0000000000000000 
    00007ffd78788d50:  0000000000000000  0000000000000000 
    00007ffd78788d60:  0000000000000000  0000000000000000 
    00007ffd78788d70:  0000000000000000  0000000000000000 
    00007ffd78788d80:  000000c42006ffd0  00005579b9ff93e0 <runtime.main+208> 
    00007ffd78788d90:  00005579baced970  0000000000000000 
    00007ffd78788da0:  0000000000000000  0000000000000000 
    00007ffd78788db0:  0000000000000000  0000000000000000 
    00007ffd78788dc0:  0000000000000000  0000000000000000 
    00007ffd78788dd0:  000000c420000180  0000000000000000 
    00007ffd78788de0:  00005579b9ff93e0 <runtime.main+208>  00005579baced970 
    00007ffd78788df0:  0000000000000000  0000000000000000 
    00007ffd78788e00:  0000000000000000  0000000000000000 
    00007ffd78788e10:  0000000000000000  0000000000000000 
    00007ffd78788e20: <0000000000000000  000000c420000180 
    00007ffd78788e30:  0000000000000000  00005579ba024f31 <runtime.goexit+1> 
    00007ffd78788e40:  0000000000000000  0000000000000000 
    00007ffd78788e50:  0000000000000000  0000000000000000 
    00007ffd78788e60:  0000029300000002  00000050e6613ec5 
    00007ffd78788e70:  000000000030da24  00007ffd78788f28 
    00007ffd78788e80:  00005579ba014936 <runtime.pcvalue+342>  00005579bad87828 
    00007ffd78788e90:  00000000002f742e  00000000002f742e 
    00007ffd78788ea0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffd78788eb0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd78788ec0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd78788ed0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd78788ee0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd78788ef0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd78788f00:  ffffffffffffffff  ffffffffffffffff 
    00007ffd78788f10:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7ff9e6259f47
    stack: frame={sp:0x7ffd78788e20, fp:0x0} stack=[0x7ffd77f8a320,0x7ffd78789350)
    00007ffd78788d20:  00007ff900000001  00007ff9e6607420 
    00007ffd78788d30:  0000000000000000  000000c420081fe0 
    00007ffd78788d40:  0000000000000000  0000000000000000 
    00007ffd78788d50:  0000000000000000  0000000000000000 
    00007ffd78788d60:  0000000000000000  0000000000000000 
    00007ffd78788d70:  0000000000000000  0000000000000000 
    00007ffd78788d80:  000000c42006ffd0  00005579b9ff93e0 <runtime.main+208> 
    00007ffd78788d90:  00005579baced970  0000000000000000 
    00007ffd78788da0:  0000000000000000  0000000000000000 
    00007ffd78788db0:  0000000000000000  0000000000000000 
    00007ffd78788dc0:  0000000000000000  0000000000000000 
    00007ffd78788dd0:  000000c420000180  0000000000000000 
    00007ffd78788de0:  00005579b9ff93e0 <runtime.main+208>  00005579baced970 
    00007ffd78788df0:  0000000000000000  0000000000000000 
    00007ffd78788e00:  0000000000000000  0000000000000000 
    00007ffd78788e10:  0000000000000000  0000000000000000 
    00007ffd78788e20: <0000000000000000  000000c420000180 
    00007ffd78788e30:  0000000000000000  00005579ba024f31 <runtime.goexit+1> 
    00007ffd78788e40:  0000000000000000  0000000000000000 
    00007ffd78788e50:  0000000000000000  0000000000000000 
    00007ffd78788e60:  0000029300000002  00000050e6613ec5 
    00007ffd78788e70:  000000000030da24  00007ffd78788f28 
    00007ffd78788e80:  00005579ba014936 <runtime.pcvalue+342>  00005579bad87828 
    00007ffd78788e90:  00000000002f742e  00000000002f742e 
    00007ffd78788ea0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffd78788eb0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd78788ec0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd78788ed0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd78788ee0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd78788ef0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd78788f00:  ffffffffffffffff  ffffffffffffffff 
    00007ffd78788f10:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x5579ba6c1a30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x5579ba023bcf
    runtime.newm1(0xc420061000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x5579b9ffd6b1
    runtime.newm(0x5579bacedb08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x5579b9ffd52f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x5579b9ffd791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x5579b9ff94b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x5579ba024f31
    
    rax    0x0
    rbx    0x7ff9e6607840
    rcx    0x7ff9e6259f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffd78788e20
    rbp    0x5579ba7f332a
    rsp    0x7ffd78788e20
    r8     0x0
    r9     0x7ffd78788e20
    r10    0x8
    r11    0x246
    r12    0x5579bc0bd690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7ff9e6259f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 4 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062800)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062800)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x0, 0xc000046000, 0x3)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0xc000046000, 0x2a6cc00)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.handoffp(0xc000046000)
    	/usr/local/go/src/runtime/proc.go:2001 +0x52
    runtime.stoplockedm()
    	/usr/local/go/src/runtime/proc.go:2075 +0xf7
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2611 +0x48c
    runtime.park_m(0xc000000180)
    	/usr/local/go/src/runtime/proc.go:2845 +0x9d
    runtime.mcall(0x0)
    	/usr/local/go/src/runtime/asm_amd64.s:318 +0x5b
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x1bb7a80, 0xc0000420c8, 0x170e, 0x2)
    	/usr/local/go/src/runtime/proc.go:306 +0xe5
    runtime.chanrecv(0xc000042070, 0x0, 0xc000000101, 0x41a55e)
    	/usr/local/go/src/runtime/chan.go:577 +0x36f
    runtime.chanrecv1(0xc000042070, 0x0)
    	/usr/local/go/src/runtime/chan.go:439 +0x2b
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:219 +0x95
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f05c6db7f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f05c6db7f47
    stack: frame={sp:0x7ffe1c215450, fp:0x0} stack=[0x7ffe1ba16950,0x7ffe1c215980)
    00007ffe1c215350:  0000000000000001  0000000000000000 
    00007ffe1c215360:  0000000000000000  0000000000000000 
    00007ffe1c215370:  0000000000000000  0000000000000000 
    00007ffe1c215380:  000000c42006ffd0  0000565135d133e0 <runtime.main+208> 
    00007ffe1c215390:  0000565136a07970  0000000000000000 
    00007ffe1c2153a0:  0000000000000000  0000000000000000 
    00007ffe1c2153b0:  0000000000000000  0000000000000000 
    00007ffe1c2153c0:  0000000000000000  0000000000000000 
    00007ffe1c2153d0:  000000c420000180  0000000000000000 
    00007ffe1c2153e0:  0000565135d133e0 <runtime.main+208>  0000565136a07970 
    00007ffe1c2153f0:  0000000000000000  0000000000000000 
    00007ffe1c215400:  0000000000000000  0000000000000000 
    00007ffe1c215410:  0000000000000000  0000000000000000 
    00007ffe1c215420:  0000000000000000  000000c420000180 
    00007ffe1c215430:  0000000000000000  0000565135d3ef31 <runtime.goexit+1> 
    00007ffe1c215440:  0000000000000000  0000000000000000 
    00007ffe1c215450: <0000000000000000  0000000000000000 
    00007ffe1c215460:  00007f05c75a90d0  00007ffe1c2154a8 
    00007ffe1c215470:  0000565135d2f582 <runtime.step+290>  0000565136a8b232 
    00007ffe1c215480:  000000000030da24  000000000030da24 
    00007ffe1c215490:  0000029300000002  00000050c7171ec5 
    00007ffe1c2154a0:  000000000030da24  00007ffe1c215558 
    00007ffe1c2154b0:  0000565135d2e936 <runtime.pcvalue+342>  0000565136aa1828 
    00007ffe1c2154c0:  0000000000000002  0000000000000000 
    00007ffe1c2154d0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffe1c2154e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe1c2154f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe1c215500:  ffffffffffffffff  ffffffffffffffff 
    00007ffe1c215510:  ffffffffffffffff  ffffffffffffffff 
    00007ffe1c215520:  ffffffffffffffff  ffffffffffffffff 
    00007ffe1c215530:  ffffffffffffffff  ffffffffffffffff 
    00007ffe1c215540:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f05c6db7f47
    stack: frame={sp:0x7ffe1c215450, fp:0x0} stack=[0x7ffe1ba16950,0x7ffe1c215980)
    00007ffe1c215350:  0000000000000001  0000000000000000 
    00007ffe1c215360:  0000000000000000  0000000000000000 
    00007ffe1c215370:  0000000000000000  0000000000000000 
    00007ffe1c215380:  000000c42006ffd0  0000565135d133e0 <runtime.main+208> 
    00007ffe1c215390:  0000565136a07970  0000000000000000 
    00007ffe1c2153a0:  0000000000000000  0000000000000000 
    00007ffe1c2153b0:  0000000000000000  0000000000000000 
    00007ffe1c2153c0:  0000000000000000  0000000000000000 
    00007ffe1c2153d0:  000000c420000180  0000000000000000 
    00007ffe1c2153e0:  0000565135d133e0 <runtime.main+208>  0000565136a07970 
    00007ffe1c2153f0:  0000000000000000  0000000000000000 
    00007ffe1c215400:  0000000000000000  0000000000000000 
    00007ffe1c215410:  0000000000000000  0000000000000000 
    00007ffe1c215420:  0000000000000000  000000c420000180 
    00007ffe1c215430:  0000000000000000  0000565135d3ef31 <runtime.goexit+1> 
    00007ffe1c215440:  0000000000000000  0000000000000000 
    00007ffe1c215450: <0000000000000000  0000000000000000 
    00007ffe1c215460:  00007f05c75a90d0  00007ffe1c2154a8 
    00007ffe1c215470:  0000565135d2f582 <runtime.step+290>  0000565136a8b232 
    00007ffe1c215480:  000000000030da24  000000000030da24 
    00007ffe1c215490:  0000029300000002  00000050c7171ec5 
    00007ffe1c2154a0:  000000000030da24  00007ffe1c215558 
    00007ffe1c2154b0:  0000565135d2e936 <runtime.pcvalue+342>  0000565136aa1828 
    00007ffe1c2154c0:  0000000000000002  0000000000000000 
    00007ffe1c2154d0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffe1c2154e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe1c2154f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe1c215500:  ffffffffffffffff  ffffffffffffffff 
    00007ffe1c215510:  ffffffffffffffff  ffffffffffffffff 
    00007ffe1c215520:  ffffffffffffffff  ffffffffffffffff 
    00007ffe1c215530:  ffffffffffffffff  ffffffffffffffff 
    00007ffe1c215540:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x5651363dba30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x565135d3dbcf
    runtime.newm1(0xc420061000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x565135d176b1
    runtime.newm(0x565136a07b08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x565135d1752f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x565135d17791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x565135d134b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x565135d3ef31
    
    rax    0x0
    rbx    0x7f05c7165840
    rcx    0x7f05c6db7f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffe1c215450
    rbp    0x56513650d32a
    rsp    0x7ffe1c215450
    r8     0x0
    r9     0x7ffe1c215450
    r10    0x8
    r11    0x246
    r12    0x5651370f3690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f05c6db7f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
