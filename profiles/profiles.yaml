apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f57703ddf47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f57703ddf47
    stack: frame={sp:0x7ffe86e37410, fp:0x0} stack=[0x7ffe86638910,0x7ffe86e37940)
    00007ffe86e37310:  0000000000000001  0000000000000000 
    00007ffe86e37320:  0000000000000000  0000000000000000 
    00007ffe86e37330:  00007f577078b560  00007f577078ebc0 
    00007ffe86e37340:  000000c42006ffd0  000055e9545163e0 <runtime.main+208> 
    00007ffe86e37350:  000055e95520a970  0000000000000000 
    00007ffe86e37360:  0000000000000000  0000000000000000 
    00007ffe86e37370:  0000000000000000  0000000000000000 
    00007ffe86e37380:  0000000000000000  0000000000000000 
    00007ffe86e37390:  000000c420000180  0000000000000000 
    00007ffe86e373a0:  000055e9545163e0 <runtime.main+208>  000055e95520a970 
    00007ffe86e373b0:  0000000000000000  0000000000000000 
    00007ffe86e373c0:  0000000000000000  0000000000000000 
    00007ffe86e373d0:  0000000000000000  0000000000000000 
    00007ffe86e373e0:  0000000000000000  000000c420000180 
    00007ffe86e373f0:  0000000000000000  000055e954541f31 <runtime.goexit+1> 
    00007ffe86e37400:  0000000000000000  0000000000000000 
    00007ffe86e37410: <0000000000000000  0000000000000000 
    00007ffe86e37420:  00007f5770bcf0d0  00007ffe86e37468 
    00007ffe86e37430:  000055e954532582 <runtime.step+290>  000055e95528e232 
    00007ffe86e37440:  000000000030da24  000000000030da24 
    00007ffe86e37450:  0000029300000002  0000005070797ec5 
    00007ffe86e37460:  000000000030da24  00007ffe86e37518 
    00007ffe86e37470:  000055e954531936 <runtime.pcvalue+342>  000055e9552a4828 
    00007ffe86e37480:  0000000000000002  0000000000000000 
    00007ffe86e37490:  fffffffe7fffffff  ffffffffffffffff 
    00007ffe86e374a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe86e374b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe86e374c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe86e374d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe86e374e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe86e374f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe86e37500:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f57703ddf47
    stack: frame={sp:0x7ffe86e37410, fp:0x0} stack=[0x7ffe86638910,0x7ffe86e37940)
    00007ffe86e37310:  0000000000000001  0000000000000000 
    00007ffe86e37320:  0000000000000000  0000000000000000 
    00007ffe86e37330:  00007f577078b560  00007f577078ebc0 
    00007ffe86e37340:  000000c42006ffd0  000055e9545163e0 <runtime.main+208> 
    00007ffe86e37350:  000055e95520a970  0000000000000000 
    00007ffe86e37360:  0000000000000000  0000000000000000 
    00007ffe86e37370:  0000000000000000  0000000000000000 
    00007ffe86e37380:  0000000000000000  0000000000000000 
    00007ffe86e37390:  000000c420000180  0000000000000000 
    00007ffe86e373a0:  000055e9545163e0 <runtime.main+208>  000055e95520a970 
    00007ffe86e373b0:  0000000000000000  0000000000000000 
    00007ffe86e373c0:  0000000000000000  0000000000000000 
    00007ffe86e373d0:  0000000000000000  0000000000000000 
    00007ffe86e373e0:  0000000000000000  000000c420000180 
    00007ffe86e373f0:  0000000000000000  000055e954541f31 <runtime.goexit+1> 
    00007ffe86e37400:  0000000000000000  0000000000000000 
    00007ffe86e37410: <0000000000000000  0000000000000000 
    00007ffe86e37420:  00007f5770bcf0d0  00007ffe86e37468 
    00007ffe86e37430:  000055e954532582 <runtime.step+290>  000055e95528e232 
    00007ffe86e37440:  000000000030da24  000000000030da24 
    00007ffe86e37450:  0000029300000002  0000005070797ec5 
    00007ffe86e37460:  000000000030da24  00007ffe86e37518 
    00007ffe86e37470:  000055e954531936 <runtime.pcvalue+342>  000055e9552a4828 
    00007ffe86e37480:  0000000000000002  0000000000000000 
    00007ffe86e37490:  fffffffe7fffffff  ffffffffffffffff 
    00007ffe86e374a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe86e374b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe86e374c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe86e374d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe86e374e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe86e374f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe86e37500:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x55e954bdea30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x55e954540bcf
    runtime.newm1(0xc420061000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x55e95451a6b1
    runtime.newm(0x55e95520ab08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x55e95451a52f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x55e95451a791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x55e9545164b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x55e954541f31
    
    rax    0x0
    rbx    0x7f577078b840
    rcx    0x7f57703ddf47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffe86e37410
    rbp    0x55e954d1032a
    rsp    0x7ffe86e37410
    r8     0x0
    r9     0x7ffe86e37410
    r10    0x8
    r11    0x246
    r12    0x55e956901690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f57703ddf47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 4 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    runtime: failed to create new OS thread (have 5 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062800)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062800)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x0, 0xc000046000, 0x3)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0xc000046000, 0x2a6cc00)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.handoffp(0xc000046000)
    	/usr/local/go/src/runtime/proc.go:2001 +0x52
    runtime.stoplockedm()
    	/usr/local/go/src/runtime/proc.go:2075 +0xf7
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2611 +0x48c
    runtime.park_m(0xc000000180)
    	/usr/local/go/src/runtime/proc.go:2845 +0x9d
    runtime.mcall(0x0)
    	/usr/local/go/src/runtime/asm_amd64.s:318 +0x5b
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x1bb7a80, 0xc0000420c8, 0x170e, 0x2)
    	/usr/local/go/src/runtime/proc.go:306 +0xe5
    runtime.chanrecv(0xc000042070, 0x0, 0xc000000101, 0x41a55e)
    	/usr/local/go/src/runtime/chan.go:577 +0x36f
    runtime.chanrecv1(0xc000042070, 0x0)
    	/usr/local/go/src/runtime/chan.go:439 +0x2b
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:219 +0x95
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000088000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000088000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc00004b000, 0x4)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000073f01)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.resetspinning()
    	/usr/local/go/src/runtime/proc.go:2533 +0x59
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2684 +0x2b9
    runtime.mstart1()
    	/usr/local/go/src/runtime/proc.go:1179 +0x93
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1137 +0x6e
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fc058da8f47 m=3 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fc058da8f47
    stack: frame={sp:0x7fc050567810, fp:0x0} stack=[0x7fc04fd68290,0x7fc050567e90)
    00007fc050567710:  0000000000000000  0000000000000000 
    00007fc050567720:  0000000000000000  0000000000000000 
    00007fc050567730:  0000000000000000  0000000000000000 
    00007fc050567740:  0000000000000000  0000000000000000 
    00007fc050567750:  0000000000000000  0000000000000000 
    00007fc050567760:  0000000000000000  0000000000000000 
    00007fc050567770:  0000000000000000  0000000000000000 
    00007fc050567780:  0000000000000000  0000000000000000 
    00007fc050567790:  0000000000000000  0000000000000000 
    00007fc0505677a0:  0000000000000000  0000000000000000 
    00007fc0505677b0:  0000000000000000  0000000000000000 
    00007fc0505677c0:  0000000000000000  0000000000000000 
    00007fc0505677d0:  0000000000000000  0000000000000000 
    00007fc0505677e0:  0000000000000000  0000000000000000 
    00007fc0505677f0:  0000000000000000  0000000000000000 
    00007fc050567800:  0000000000000000  0000000000000000 
    00007fc050567810: <0000000000000000  0000000000000000 
    00007fc050567820:  0000000000000000  0000000000000000 
    00007fc050567830:  0000000000000000  0000000000000000 
    00007fc050567840:  0000000000000000  0000000000000000 
    00007fc050567850:  0000000000000000  0000000000000000 
    00007fc050567860:  0000000000000000  0000000000000000 
    00007fc050567870:  0000000000000000  0000000000000000 
    00007fc050567880:  0000000000000000  0000000000000000 
    00007fc050567890:  fffffffe7fffffff  ffffffffffffffff 
    00007fc0505678a0:  ffffffffffffffff  ffffffffffffffff 
    00007fc0505678b0:  ffffffffffffffff  ffffffffffffffff 
    00007fc0505678c0:  ffffffffffffffff  ffffffffffffffff 
    00007fc0505678d0:  ffffffffffffffff  ffffffffffffffff 
    00007fc0505678e0:  ffffffffffffffff  ffffffffffffffff 
    00007fc0505678f0:  ffffffffffffffff  ffffffffffffffff 
    00007fc050567900:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fc058da8f47
    stack: frame={sp:0x7fc050567810, fp:0x0} stack=[0x7fc04fd68290,0x7fc050567e90)
    00007fc050567710:  0000000000000000  0000000000000000 
    00007fc050567720:  0000000000000000  0000000000000000 
    00007fc050567730:  0000000000000000  0000000000000000 
    00007fc050567740:  0000000000000000  0000000000000000 
    00007fc050567750:  0000000000000000  0000000000000000 
    00007fc050567760:  0000000000000000  0000000000000000 
    00007fc050567770:  0000000000000000  0000000000000000 
    00007fc050567780:  0000000000000000  0000000000000000 
    00007fc050567790:  0000000000000000  0000000000000000 
    00007fc0505677a0:  0000000000000000  0000000000000000 
    00007fc0505677b0:  0000000000000000  0000000000000000 
    00007fc0505677c0:  0000000000000000  0000000000000000 
    00007fc0505677d0:  0000000000000000  0000000000000000 
    00007fc0505677e0:  0000000000000000  0000000000000000 
    00007fc0505677f0:  0000000000000000  0000000000000000 
    00007fc050567800:  0000000000000000  0000000000000000 
    00007fc050567810: <0000000000000000  0000000000000000 
    00007fc050567820:  0000000000000000  0000000000000000 
    00007fc050567830:  0000000000000000  0000000000000000 
    00007fc050567840:  0000000000000000  0000000000000000 
    00007fc050567850:  0000000000000000  0000000000000000 
    00007fc050567860:  0000000000000000  0000000000000000 
    00007fc050567870:  0000000000000000  0000000000000000 
    00007fc050567880:  0000000000000000  0000000000000000 
    00007fc050567890:  fffffffe7fffffff  ffffffffffffffff 
    00007fc0505678a0:  ffffffffffffffff  ffffffffffffffff 
    00007fc0505678b0:  ffffffffffffffff  ffffffffffffffff 
    00007fc0505678c0:  ffffffffffffffff  ffffffffffffffff 
    00007fc0505678d0:  ffffffffffffffff  ffffffffffffffff 
    00007fc0505678e0:  ffffffffffffffff  ffffffffffffffff 
    00007fc0505678f0:  ffffffffffffffff  ffffffffffffffff 
    00007fc050567900:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    	goroutine running on other thread; stack unavailable
    
    rax    0x0
    rbx    0x7fc059156840
    rcx    0x7fc058da8f47
    rdx    0x0
    rdi    0x2
    rsi    0x7fc050567810
    rbp    0x55dde877e32a
    rsp    0x7fc050567810
    r8     0x0
    r9     0x7fc050567810
    r10    0x8
    r11    0x246
    r12    0x55dde93b13f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fc058da8f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
