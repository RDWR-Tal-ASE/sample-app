apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fe2434b3f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fe2434b3f47
    stack: frame={sp:0x7ffd75267260, fp:0x0} stack=[0x7ffd74a68900,0x7ffd75267930)
    00007ffd75267160:  00005653485bf683 <runtime.main+883>  000000000030da24 
    00007ffd75267170:  0000029300000002  0000005043a9c75a 
    00007ffd75267180:  000000000030da24  00007ffd75267238 
    00007ffd75267190:  00005653485da936 <runtime.pcvalue+342>  000056534934d828 
    00007ffd752671a0:  0000000000000000  0000000000000000 
    00007ffd752671b0:  00007fe243861560  00007fe243864bc0 
    00007ffd752671c0:  000000c42006ffd0  00005653485bf3e0 <runtime.main+208> 
    00007ffd752671d0:  00005653492b3970  0000000000000000 
    00007ffd752671e0:  0000000000000000  0000000000000000 
    00007ffd752671f0:  0000000000000000  0000000000000000 
    00007ffd75267200:  0000000000000000  0000000000000000 
    00007ffd75267210:  000000c420000180  0000000000000000 
    00007ffd75267220:  00005653485bf3e0 <runtime.main+208>  00005653492b3970 
    00007ffd75267230:  0000000000000000  0000000000000000 
    00007ffd75267240:  0000000000000000  0000000000000000 
    00007ffd75267250:  0000000000000000  0000000000000000 
    00007ffd75267260: <0000000000000000  000000c420000180 
    00007ffd75267270:  0000000000000000  00005653485eaf31 <runtime.goexit+1> 
    00007ffd75267280:  0000000000000000  0000000000000000 
    00007ffd75267290:  0000000000000000  0000000000000000 
    00007ffd752672a0:  00005653496613c0  00007ffd752675b0 
    00007ffd752672b0:  00005653485df962 <runtime.gentraceback+4850>  00007ffd75267558 
    00007ffd752672c0:  00007ffd75267648  0000565349661301 
    00007ffd752672d0:  00007ffd75267301  0000000000000000 
    00007ffd752672e0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffd752672f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd75267300:  ffffffffffffffff  ffffffffffffffff 
    00007ffd75267310:  ffffffffffffffff  ffffffffffffffff 
    00007ffd75267320:  ffffffffffffffff  ffffffffffffffff 
    00007ffd75267330:  ffffffffffffffff  ffffffffffffffff 
    00007ffd75267340:  ffffffffffffffff  ffffffffffffffff 
    00007ffd75267350:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fe2434b3f47
    stack: frame={sp:0x7ffd75267260, fp:0x0} stack=[0x7ffd74a68900,0x7ffd75267930)
    00007ffd75267160:  00005653485bf683 <runtime.main+883>  000000000030da24 
    00007ffd75267170:  0000029300000002  0000005043a9c75a 
    00007ffd75267180:  000000000030da24  00007ffd75267238 
    00007ffd75267190:  00005653485da936 <runtime.pcvalue+342>  000056534934d828 
    00007ffd752671a0:  0000000000000000  0000000000000000 
    00007ffd752671b0:  00007fe243861560  00007fe243864bc0 
    00007ffd752671c0:  000000c42006ffd0  00005653485bf3e0 <runtime.main+208> 
    00007ffd752671d0:  00005653492b3970  0000000000000000 
    00007ffd752671e0:  0000000000000000  0000000000000000 
    00007ffd752671f0:  0000000000000000  0000000000000000 
    00007ffd75267200:  0000000000000000  0000000000000000 
    00007ffd75267210:  000000c420000180  0000000000000000 
    00007ffd75267220:  00005653485bf3e0 <runtime.main+208>  00005653492b3970 
    00007ffd75267230:  0000000000000000  0000000000000000 
    00007ffd75267240:  0000000000000000  0000000000000000 
    00007ffd75267250:  0000000000000000  0000000000000000 
    00007ffd75267260: <0000000000000000  000000c420000180 
    00007ffd75267270:  0000000000000000  00005653485eaf31 <runtime.goexit+1> 
    00007ffd75267280:  0000000000000000  0000000000000000 
    00007ffd75267290:  0000000000000000  0000000000000000 
    00007ffd752672a0:  00005653496613c0  00007ffd752675b0 
    00007ffd752672b0:  00005653485df962 <runtime.gentraceback+4850>  00007ffd75267558 
    00007ffd752672c0:  00007ffd75267648  0000565349661301 
    00007ffd752672d0:  00007ffd75267301  0000000000000000 
    00007ffd752672e0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffd752672f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd75267300:  ffffffffffffffff  ffffffffffffffff 
    00007ffd75267310:  ffffffffffffffff  ffffffffffffffff 
    00007ffd75267320:  ffffffffffffffff  ffffffffffffffff 
    00007ffd75267330:  ffffffffffffffff  ffffffffffffffff 
    00007ffd75267340:  ffffffffffffffff  ffffffffffffffff 
    00007ffd75267350:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.systemstack_switch()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:363 fp=0xc420081f00 sp=0xc420081ef8 pc=0x5653485e8370
    runtime.newproc(0x565300000000, 0x5653492b38f8)
    	/usr/lib/go-1.10/src/runtime/proc.go:3243 +0x64 fp=0xc420081f40 sp=0xc420081f00 pc=0x5653485c7264
    runtime.init.4()
    	/usr/lib/go-1.10/src/runtime/proc.go:237 +0x37 fp=0xc420081f60 sp=0xc420081f40 pc=0x5653485bf6d7
    runtime.init()
    	<autogenerated>:1 +0xe5 fp=0xc420081f88 sp=0xc420081f60 pc=0x5653485e7f45
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:144 +0xd0 fp=0xc420081fe0 sp=0xc420081f88 pc=0x5653485bf3e0
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x5653485eaf31
    
    rax    0x0
    rbx    0x7fe243861840
    rcx    0x7fe2434b3f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffd75267260
    rbp    0x565348db932a
    rsp    0x7ffd75267260
    r8     0x0
    r9     0x7ffd75267260
    r10    0x8
    r11    0x246
    r12    0x565349a443f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fe2434b3f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 2 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7d48, 0x0, 0xffffffffffffffff)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.main.func1()
    	/usr/local/go/src/runtime/proc.go:135 +0x3f
    runtime.systemstack(0x46c2f4)
    	/usr/local/go/src/runtime/asm_amd64.s:370 +0x66
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1116
    
    goroutine 1 [running]:
    runtime.systemstack_switch()
    	/usr/local/go/src/runtime/asm_amd64.s:330 fp=0xc00005e788 sp=0xc00005e780 pc=0x46c420
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:134 +0x70 fp=0xc00005e7e0 sp=0xc00005e788 pc=0x439ab0
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1 fp=0xc00005e7e8 sp=0xc00005e7e0 pc=0x46e061
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f9938d96f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f9938d96f47
    stack: frame={sp:0x7ffd42870210, fp:0x0} stack=[0x7ffd420718b0,0x7ffd428708e0)
    00007ffd42870110:  0000556245cca683 <runtime.main+883>  000000000030da24 
    00007ffd42870120:  0000000000000000  0000000000000000 
    00007ffd42870130:  00007f9939144560  00007f9939147bc0 
    00007ffd42870140:  000000c42006ffd0  0000556245cca3e0 <runtime.main+208> 
    00007ffd42870150:  00005562469be970  0000000000000000 
    00007ffd42870160:  0000000000000000  0000000000000000 
    00007ffd42870170:  0000000000000000  0000000000000000 
    00007ffd42870180:  0000000000000000  0000000000000000 
    00007ffd42870190:  000000c420000180  0000000000000000 
    00007ffd428701a0:  0000556245cca3e0 <runtime.main+208>  00005562469be970 
    00007ffd428701b0:  0000000000000000  0000000000000000 
    00007ffd428701c0:  0000000000000000  0000000000000000 
    00007ffd428701d0:  0000000000000000  0000000000000000 
    00007ffd428701e0:  0000000000000000  000000c420000180 
    00007ffd428701f0:  0000000000000000  0000556245cf5f31 <runtime.goexit+1> 
    00007ffd42870200:  0000000000000000  0000000000000000 
    00007ffd42870210: <0000000000000000  0000000000000000 
    00007ffd42870220:  0000556246452201  0000556246a587f0 
    00007ffd42870230:  0000556246d6c3c0  0000000000000000 
    00007ffd42870240:  0000000000000000  0000556245cf5f31 <runtime.goexit+1> 
    00007ffd42870250:  0000556246d6c3c0  00007ffd42870560 
    00007ffd42870260:  0000556245cea962 <runtime.gentraceback+4850>  00007ffd42870508 
    00007ffd42870270:  00007ffd428705f8  0000556246d6c301 
    00007ffd42870280:  0000000000000002  0000000000000000 
    00007ffd42870290:  fffffffe7fffffff  ffffffffffffffff 
    00007ffd428702a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd428702b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd428702c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd428702d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd428702e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd428702f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd42870300:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f9938d96f47
    stack: frame={sp:0x7ffd42870210, fp:0x0} stack=[0x7ffd420718b0,0x7ffd428708e0)
    00007ffd42870110:  0000556245cca683 <runtime.main+883>  000000000030da24 
    00007ffd42870120:  0000000000000000  0000000000000000 
    00007ffd42870130:  00007f9939144560  00007f9939147bc0 
    00007ffd42870140:  000000c42006ffd0  0000556245cca3e0 <runtime.main+208> 
    00007ffd42870150:  00005562469be970  0000000000000000 
    00007ffd42870160:  0000000000000000  0000000000000000 
    00007ffd42870170:  0000000000000000  0000000000000000 
    00007ffd42870180:  0000000000000000  0000000000000000 
    00007ffd42870190:  000000c420000180  0000000000000000 
    00007ffd428701a0:  0000556245cca3e0 <runtime.main+208>  00005562469be970 
    00007ffd428701b0:  0000000000000000  0000000000000000 
    00007ffd428701c0:  0000000000000000  0000000000000000 
    00007ffd428701d0:  0000000000000000  0000000000000000 
    00007ffd428701e0:  0000000000000000  000000c420000180 
    00007ffd428701f0:  0000000000000000  0000556245cf5f31 <runtime.goexit+1> 
    00007ffd42870200:  0000000000000000  0000000000000000 
    00007ffd42870210: <0000000000000000  0000000000000000 
    00007ffd42870220:  0000556246452201  0000556246a587f0 
    00007ffd42870230:  0000556246d6c3c0  0000000000000000 
    00007ffd42870240:  0000000000000000  0000556245cf5f31 <runtime.goexit+1> 
    00007ffd42870250:  0000556246d6c3c0  00007ffd42870560 
    00007ffd42870260:  0000556245cea962 <runtime.gentraceback+4850>  00007ffd42870508 
    00007ffd42870270:  00007ffd428705f8  0000556246d6c301 
    00007ffd42870280:  0000000000000002  0000000000000000 
    00007ffd42870290:  fffffffe7fffffff  ffffffffffffffff 
    00007ffd428702a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd428702b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd428702c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd428702d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd428702e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd428702f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd42870300:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.systemstack_switch()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:363 fp=0xc420081f00 sp=0xc420081ef8 pc=0x556245cf3370
    runtime.newproc(0x556200000000, 0x5562469be8f8)
    	/usr/lib/go-1.10/src/runtime/proc.go:3243 +0x64 fp=0xc420081f40 sp=0xc420081f00 pc=0x556245cd2264
    runtime.init.4()
    	/usr/lib/go-1.10/src/runtime/proc.go:237 +0x37 fp=0xc420081f60 sp=0xc420081f40 pc=0x556245cca6d7
    runtime.init()
    	<autogenerated>:1 +0xe5 fp=0xc420081f88 sp=0xc420081f60 pc=0x556245cf2f45
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:144 +0xd0 fp=0xc420081fe0 sp=0xc420081f88 pc=0x556245cca3e0
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x556245cf5f31
    
    rax    0x0
    rbx    0x7f9939144840
    rcx    0x7f9938d96f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffd42870210
    rbp    0x5562464c432a
    rsp    0x7ffd42870210
    r8     0x0
    r9     0x7ffd42870210
    r10    0x8
    r11    0x246
    r12    0x5562477263f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f9938d96f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
