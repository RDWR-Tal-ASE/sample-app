apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fcafed56f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fcafed56f47
    stack: frame={sp:0x7ffeafddfff0, fp:0x0} stack=[0x7ffeaf5e14f0,0x7ffeafde0520)
    00007ffeafddfef0:  0000000000000001  0000000000000000 
    00007ffeafddff00:  0000000000000000  000000c420081fe0 
    00007ffeafddff10:  0000000000000000  0000000000000000 
    00007ffeafddff20:  0000000000000000  0000000000000000 
    00007ffeafddff30:  00007fcaff104560  00007fcaff107bc0 
    00007ffeafddff40:  000000c42006ffd0  0000564296bc43e0 <runtime.main+208> 
    00007ffeafddff50:  00005642978b8970  0000000000000000 
    00007ffeafddff60:  0000000000000000  0000000000000000 
    00007ffeafddff70:  0000000000000000  0000000000000000 
    00007ffeafddff80:  0000000000000000  0000000000000000 
    00007ffeafddff90:  000000c420000180  0000000000000000 
    00007ffeafddffa0:  0000564296bc43e0 <runtime.main+208>  00005642978b8970 
    00007ffeafddffb0:  0000000000000000  0000000000000000 
    00007ffeafddffc0:  0000000000000000  0000000000000000 
    00007ffeafddffd0:  0000000000000000  0000000000000000 
    00007ffeafddffe0:  0000000000000000  000000c420000180 
    00007ffeafddfff0: <0000000000000000  0000564296beff31 <runtime.goexit+1> 
    00007ffeafde0000:  0000000000000000  0000000000000000 
    00007ffeafde0010:  0000000000000000  0000000000000000 
    00007ffeafde0020:  000000000030da24  000000000030da24 
    00007ffeafde0030:  0000029300000002  00000050ff110ec5 
    00007ffeafde0040:  000000000030da24  00007ffeafde00f8 
    00007ffeafde0050:  0000564296bdf936 <runtime.pcvalue+342>  0000564297952828 
    00007ffeafde0060:  00000000002f742e  00000000002f742e 
    00007ffeafde0070:  fffffffe7fffffff  ffffffffffffffff 
    00007ffeafde0080:  ffffffffffffffff  ffffffffffffffff 
    00007ffeafde0090:  ffffffffffffffff  ffffffffffffffff 
    00007ffeafde00a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffeafde00b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffeafde00c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffeafde00d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffeafde00e0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fcafed56f47
    stack: frame={sp:0x7ffeafddfff0, fp:0x0} stack=[0x7ffeaf5e14f0,0x7ffeafde0520)
    00007ffeafddfef0:  0000000000000001  0000000000000000 
    00007ffeafddff00:  0000000000000000  000000c420081fe0 
    00007ffeafddff10:  0000000000000000  0000000000000000 
    00007ffeafddff20:  0000000000000000  0000000000000000 
    00007ffeafddff30:  00007fcaff104560  00007fcaff107bc0 
    00007ffeafddff40:  000000c42006ffd0  0000564296bc43e0 <runtime.main+208> 
    00007ffeafddff50:  00005642978b8970  0000000000000000 
    00007ffeafddff60:  0000000000000000  0000000000000000 
    00007ffeafddff70:  0000000000000000  0000000000000000 
    00007ffeafddff80:  0000000000000000  0000000000000000 
    00007ffeafddff90:  000000c420000180  0000000000000000 
    00007ffeafddffa0:  0000564296bc43e0 <runtime.main+208>  00005642978b8970 
    00007ffeafddffb0:  0000000000000000  0000000000000000 
    00007ffeafddffc0:  0000000000000000  0000000000000000 
    00007ffeafddffd0:  0000000000000000  0000000000000000 
    00007ffeafddffe0:  0000000000000000  000000c420000180 
    00007ffeafddfff0: <0000000000000000  0000564296beff31 <runtime.goexit+1> 
    00007ffeafde0000:  0000000000000000  0000000000000000 
    00007ffeafde0010:  0000000000000000  0000000000000000 
    00007ffeafde0020:  000000000030da24  000000000030da24 
    00007ffeafde0030:  0000029300000002  00000050ff110ec5 
    00007ffeafde0040:  000000000030da24  00007ffeafde00f8 
    00007ffeafde0050:  0000564296bdf936 <runtime.pcvalue+342>  0000564297952828 
    00007ffeafde0060:  00000000002f742e  00000000002f742e 
    00007ffeafde0070:  fffffffe7fffffff  ffffffffffffffff 
    00007ffeafde0080:  ffffffffffffffff  ffffffffffffffff 
    00007ffeafde0090:  ffffffffffffffff  ffffffffffffffff 
    00007ffeafde00a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffeafde00b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffeafde00c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffeafde00d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffeafde00e0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x56429728ca30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x564296beebcf
    runtime.newm1(0xc420094400)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x564296bc86b1
    runtime.newm(0x5642978b8b08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x564296bc852f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x564296bc8791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x564296bc44b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x564296beff31
    
    rax    0x0
    rbx    0x7fcaff104840
    rcx    0x7fcafed56f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffeafddfff0
    rbp    0x5642973be32a
    rsp    0x7ffeafddfff0
    r8     0x0
    r9     0x7ffeafddfff0
    r10    0x8
    r11    0x246
    r12    0x564297fa9690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fcafed56f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 5 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000088000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000088000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc00004b000, 0x4)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000073f01)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.resetspinning()
    	/usr/local/go/src/runtime/proc.go:2533 +0x59
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2684 +0x2b9
    runtime.mstart1()
    	/usr/local/go/src/runtime/proc.go:1179 +0x93
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1137 +0x6e
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x1bb7a80, 0xc0000420c8, 0x170e, 0x2)
    	/usr/local/go/src/runtime/proc.go:306 +0xe5
    runtime.chanrecv(0xc000042070, 0x0, 0xc000000101, 0x41a55e)
    	/usr/local/go/src/runtime/chan.go:577 +0x36f
    runtime.chanrecv1(0xc000042070, 0x0)
    	/usr/local/go/src/runtime/chan.go:439 +0x2b
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:219 +0x95
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fd8f05a9f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fd8f05a9f47
    stack: frame={sp:0x7ffc7c5c8550, fp:0x0} stack=[0x7ffc7bdc9a50,0x7ffc7c5c8a80)
    00007ffc7c5c8450:  0000000000000001  0000562e886125c0 
    00007ffc7c5c8460:  0000000000000000  0000000000000000 
    00007ffc7c5c8470:  00007fd8f0957560  00007fd8f095abc0 
    00007ffc7c5c8480:  000000c42006ffd0  0000562e87f4a3e0 <runtime.main+208> 
    00007ffc7c5c8490:  0000562e88c3e970  0000000000000000 
    00007ffc7c5c84a0:  0000000000000000  0000000000000000 
    00007ffc7c5c84b0:  0000000000000000  0000000000000000 
    00007ffc7c5c84c0:  0000000000000000  0000000000000000 
    00007ffc7c5c84d0:  000000c420000180  0000000000000000 
    00007ffc7c5c84e0:  0000562e87f4a3e0 <runtime.main+208>  0000562e88c3e970 
    00007ffc7c5c84f0:  0000000000000000  0000000000000000 
    00007ffc7c5c8500:  0000000000000000  0000000000000000 
    00007ffc7c5c8510:  0000000000000000  0000000000000000 
    00007ffc7c5c8520:  0000000000000000  000000c420000180 
    00007ffc7c5c8530:  0000000000000000  0000562e87f75f31 <runtime.goexit+1> 
    00007ffc7c5c8540:  0000000000000000  0000000000000000 
    00007ffc7c5c8550: <0000000000000000  0000000000000000 
    00007ffc7c5c8560:  00007fd8f0d9b0d0  00007ffc7c5c85a8 
    00007ffc7c5c8570:  0000562e87f66582 <runtime.step+290>  0000562e88cc2232 
    00007ffc7c5c8580:  000000000030da24  000000000030da24 
    00007ffc7c5c8590:  0000029300000002  00000050f0963ec5 
    00007ffc7c5c85a0:  000000000030da24  00007ffc7c5c8658 
    00007ffc7c5c85b0:  0000562e87f65936 <runtime.pcvalue+342>  0000562e88cd8828 
    00007ffc7c5c85c0:  0000000000000002  0000000000000000 
    00007ffc7c5c85d0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc7c5c85e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc7c5c85f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc7c5c8600:  ffffffffffffffff  ffffffffffffffff 
    00007ffc7c5c8610:  ffffffffffffffff  ffffffffffffffff 
    00007ffc7c5c8620:  ffffffffffffffff  ffffffffffffffff 
    00007ffc7c5c8630:  ffffffffffffffff  ffffffffffffffff 
    00007ffc7c5c8640:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fd8f05a9f47
    stack: frame={sp:0x7ffc7c5c8550, fp:0x0} stack=[0x7ffc7bdc9a50,0x7ffc7c5c8a80)
    00007ffc7c5c8450:  0000000000000001  0000562e886125c0 
    00007ffc7c5c8460:  0000000000000000  0000000000000000 
    00007ffc7c5c8470:  00007fd8f0957560  00007fd8f095abc0 
    00007ffc7c5c8480:  000000c42006ffd0  0000562e87f4a3e0 <runtime.main+208> 
    00007ffc7c5c8490:  0000562e88c3e970  0000000000000000 
    00007ffc7c5c84a0:  0000000000000000  0000000000000000 
    00007ffc7c5c84b0:  0000000000000000  0000000000000000 
    00007ffc7c5c84c0:  0000000000000000  0000000000000000 
    00007ffc7c5c84d0:  000000c420000180  0000000000000000 
    00007ffc7c5c84e0:  0000562e87f4a3e0 <runtime.main+208>  0000562e88c3e970 
    00007ffc7c5c84f0:  0000000000000000  0000000000000000 
    00007ffc7c5c8500:  0000000000000000  0000000000000000 
    00007ffc7c5c8510:  0000000000000000  0000000000000000 
    00007ffc7c5c8520:  0000000000000000  000000c420000180 
    00007ffc7c5c8530:  0000000000000000  0000562e87f75f31 <runtime.goexit+1> 
    00007ffc7c5c8540:  0000000000000000  0000000000000000 
    00007ffc7c5c8550: <0000000000000000  0000000000000000 
    00007ffc7c5c8560:  00007fd8f0d9b0d0  00007ffc7c5c85a8 
    00007ffc7c5c8570:  0000562e87f66582 <runtime.step+290>  0000562e88cc2232 
    00007ffc7c5c8580:  000000000030da24  000000000030da24 
    00007ffc7c5c8590:  0000029300000002  00000050f0963ec5 
    00007ffc7c5c85a0:  000000000030da24  00007ffc7c5c8658 
    00007ffc7c5c85b0:  0000562e87f65936 <runtime.pcvalue+342>  0000562e88cd8828 
    00007ffc7c5c85c0:  0000000000000002  0000000000000000 
    00007ffc7c5c85d0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc7c5c85e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc7c5c85f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc7c5c8600:  ffffffffffffffff  ffffffffffffffff 
    00007ffc7c5c8610:  ffffffffffffffff  ffffffffffffffff 
    00007ffc7c5c8620:  ffffffffffffffff  ffffffffffffffff 
    00007ffc7c5c8630:  ffffffffffffffff  ffffffffffffffff 
    00007ffc7c5c8640:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x562e88612a30, 0xc420089f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420089ee8 sp=0xc420089ee0 pc=0x562e87f74bcf
    runtime.newm1(0xc420061000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420089f38 sp=0xc420089ee8 pc=0x562e87f4e6b1
    runtime.newm(0x562e88c3eb08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420089f68 sp=0xc420089f38 pc=0x562e87f4e52f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420089f88 sp=0xc420089f68 pc=0x562e87f4e791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420089fe0 sp=0xc420089f88 pc=0x562e87f4a4b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420089fe8 sp=0xc420089fe0 pc=0x562e87f75f31
    
    rax    0x0
    rbx    0x7fd8f0957840
    rcx    0x7fd8f05a9f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffc7c5c8550
    rbp    0x562e8874432a
    rsp    0x7ffc7c5c8550
    r8     0x0
    r9     0x7ffc7c5c8550
    r10    0x8
    r11    0x246
    r12    0x562e8a487690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fd8f05a9f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
