apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f8d1cc8ff47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f8d1cc8ff47
    stack: frame={sp:0x7ffed5b35750, fp:0x0} stack=[0x7ffed5336c50,0x7ffed5b35c80)
    00007ffed5b35650:  0000000000000003  000055e3b4c325c0 
    00007ffed5b35660:  0000000000000000  0000000000000000 
    00007ffed5b35670:  0000000000000000  0000000000000000 
    00007ffed5b35680:  000000c42006ffd0  000055e3b456a3e0 <runtime.main+208> 
    00007ffed5b35690:  000055e3b525e970  0000000000000000 
    00007ffed5b356a0:  0000000000000000  0000000000000000 
    00007ffed5b356b0:  0000000000000000  0000000000000000 
    00007ffed5b356c0:  0000000000000000  0000000000000000 
    00007ffed5b356d0:  000000c420000180  0000000000000000 
    00007ffed5b356e0:  000055e3b456a3e0 <runtime.main+208>  000055e3b525e970 
    00007ffed5b356f0:  0000000000000000  0000000000000000 
    00007ffed5b35700:  0000000000000000  0000000000000000 
    00007ffed5b35710:  0000000000000000  0000000000000000 
    00007ffed5b35720:  0000000000000000  000000c420000180 
    00007ffed5b35730:  0000000000000000  000055e3b4595f31 <runtime.goexit+1> 
    00007ffed5b35740:  0000000000000000  0000000000000000 
    00007ffed5b35750: <0000000000000000  0000000000000000 
    00007ffed5b35760:  0000000000000000  00007ffed5b357a8 
    00007ffed5b35770:  000055e3b4586582 <runtime.step+290>  000055e3b52e2232 
    00007ffed5b35780:  000000000030da24  000000000030da24 
    00007ffed5b35790:  0000029300000002  000000501d441da8 
    00007ffed5b357a0:  000000000030da24  00007ffed5b35858 
    00007ffed5b357b0:  000055e3b4585936 <runtime.pcvalue+342>  000055e3b52f8828 
    00007ffed5b357c0:  0000000000000002  0000000000000000 
    00007ffed5b357d0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffed5b357e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffed5b357f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffed5b35800:  ffffffffffffffff  ffffffffffffffff 
    00007ffed5b35810:  ffffffffffffffff  ffffffffffffffff 
    00007ffed5b35820:  ffffffffffffffff  ffffffffffffffff 
    00007ffed5b35830:  ffffffffffffffff  ffffffffffffffff 
    00007ffed5b35840:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f8d1cc8ff47
    stack: frame={sp:0x7ffed5b35750, fp:0x0} stack=[0x7ffed5336c50,0x7ffed5b35c80)
    00007ffed5b35650:  0000000000000003  000055e3b4c325c0 
    00007ffed5b35660:  0000000000000000  0000000000000000 
    00007ffed5b35670:  0000000000000000  0000000000000000 
    00007ffed5b35680:  000000c42006ffd0  000055e3b456a3e0 <runtime.main+208> 
    00007ffed5b35690:  000055e3b525e970  0000000000000000 
    00007ffed5b356a0:  0000000000000000  0000000000000000 
    00007ffed5b356b0:  0000000000000000  0000000000000000 
    00007ffed5b356c0:  0000000000000000  0000000000000000 
    00007ffed5b356d0:  000000c420000180  0000000000000000 
    00007ffed5b356e0:  000055e3b456a3e0 <runtime.main+208>  000055e3b525e970 
    00007ffed5b356f0:  0000000000000000  0000000000000000 
    00007ffed5b35700:  0000000000000000  0000000000000000 
    00007ffed5b35710:  0000000000000000  0000000000000000 
    00007ffed5b35720:  0000000000000000  000000c420000180 
    00007ffed5b35730:  0000000000000000  000055e3b4595f31 <runtime.goexit+1> 
    00007ffed5b35740:  0000000000000000  0000000000000000 
    00007ffed5b35750: <0000000000000000  0000000000000000 
    00007ffed5b35760:  0000000000000000  00007ffed5b357a8 
    00007ffed5b35770:  000055e3b4586582 <runtime.step+290>  000055e3b52e2232 
    00007ffed5b35780:  000000000030da24  000000000030da24 
    00007ffed5b35790:  0000029300000002  000000501d441da8 
    00007ffed5b357a0:  000000000030da24  00007ffed5b35858 
    00007ffed5b357b0:  000055e3b4585936 <runtime.pcvalue+342>  000055e3b52f8828 
    00007ffed5b357c0:  0000000000000002  0000000000000000 
    00007ffed5b357d0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffed5b357e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffed5b357f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffed5b35800:  ffffffffffffffff  ffffffffffffffff 
    00007ffed5b35810:  ffffffffffffffff  ffffffffffffffff 
    00007ffed5b35820:  ffffffffffffffff  ffffffffffffffff 
    00007ffed5b35830:  ffffffffffffffff  ffffffffffffffff 
    00007ffed5b35840:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x55e3b4c32a30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x55e3b4594bcf
    runtime.newm1(0xc420061000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x55e3b456e6b1
    runtime.newm(0x55e3b525eb08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x55e3b456e52f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x55e3b456e791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x55e3b456a4b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x55e3b4595f31
    
    rax    0x0
    rbx    0x7f8d1d03d840
    rcx    0x7f8d1cc8ff47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffed5b35750
    rbp    0x55e3b4d6432a
    rsp    0x7ffed5b35750
    r8     0x0
    r9     0x7ffed5b35750
    r10    0x8
    r11    0x246
    r12    0x55e3b5ea8690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f8d1cc8ff47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 4 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    runtime: failed to create new OS thread (have 5 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062800)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062800)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x0, 0xc000046000, 0x3)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0xc000046000, 0x2a6cc00)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.handoffp(0xc000046000)
    	/usr/local/go/src/runtime/proc.go:2001 +0x52
    runtime.stoplockedm()
    	/usr/local/go/src/runtime/proc.go:2075 +0xf7
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2611 +0x48c
    runtime.park_m(0xc000000180)
    	/usr/local/go/src/runtime/proc.go:2845 +0x9d
    runtime.mcall(0x0)
    	/usr/local/go/src/runtime/asm_amd64.s:318 +0x5b
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x1bb7a80, 0xc0000420c8, 0x170e, 0x2)
    	/usr/local/go/src/runtime/proc.go:306 +0xe5
    runtime.chanrecv(0xc000042070, 0x0, 0xc000000101, 0x41a55e)
    	/usr/local/go/src/runtime/chan.go:577 +0x36f
    runtime.chanrecv1(0xc000042070, 0x0)
    	/usr/local/go/src/runtime/chan.go:439 +0x2b
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:219 +0x95
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000088000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000088000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc00004b000, 0x4)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000073f01)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.resetspinning()
    	/usr/local/go/src/runtime/proc.go:2533 +0x59
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2684 +0x2b9
    runtime.mstart1()
    	/usr/local/go/src/runtime/proc.go:1179 +0x93
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1137 +0x6e
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f28789a9f47 m=3 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f28789a9f47
    stack: frame={sp:0x7f2870168810, fp:0x0} stack=[0x7f286f969290,0x7f2870168e90)
    00007f2870168710:  0000000000000000  0000000000000000 
    00007f2870168720:  0000000000000000  0000000000000000 
    00007f2870168730:  0000000000000000  0000000000000000 
    00007f2870168740:  0000000000000000  0000000000000000 
    00007f2870168750:  0000000000000000  0000000000000000 
    00007f2870168760:  0000000000000000  0000000000000000 
    00007f2870168770:  0000000000000000  0000000000000000 
    00007f2870168780:  0000000000000000  0000000000000000 
    00007f2870168790:  0000000000000000  0000000000000000 
    00007f28701687a0:  0000000000000000  0000000000000000 
    00007f28701687b0:  0000000000000000  0000000000000000 
    00007f28701687c0:  0000000000000000  0000000000000000 
    00007f28701687d0:  0000000000000000  0000000000000000 
    00007f28701687e0:  0000000000000000  0000000000000000 
    00007f28701687f0:  0000000000000000  0000000000000000 
    00007f2870168800:  0000000000000000  0000000000000000 
    00007f2870168810: <0000000000000000  0000000000000000 
    00007f2870168820:  0000000000000000  0000000000000000 
    00007f2870168830:  0000000000000000  0000000000000000 
    00007f2870168840:  0000000000000000  0000000000000000 
    00007f2870168850:  0000000000000000  0000000000000000 
    00007f2870168860:  0000000000000000  0000000000000000 
    00007f2870168870:  0000000000000000  0000000000000000 
    00007f2870168880:  0000000000000000  0000000000000000 
    00007f2870168890:  fffffffe7fffffff  ffffffffffffffff 
    00007f28701688a0:  ffffffffffffffff  ffffffffffffffff 
    00007f28701688b0:  ffffffffffffffff  ffffffffffffffff 
    00007f28701688c0:  ffffffffffffffff  ffffffffffffffff 
    00007f28701688d0:  ffffffffffffffff  ffffffffffffffff 
    00007f28701688e0:  ffffffffffffffff  ffffffffffffffff 
    00007f28701688f0:  ffffffffffffffff  ffffffffffffffff 
    00007f2870168900:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f28789a9f47
    stack: frame={sp:0x7f2870168810, fp:0x0} stack=[0x7f286f969290,0x7f2870168e90)
    00007f2870168710:  0000000000000000  0000000000000000 
    00007f2870168720:  0000000000000000  0000000000000000 
    00007f2870168730:  0000000000000000  0000000000000000 
    00007f2870168740:  0000000000000000  0000000000000000 
    00007f2870168750:  0000000000000000  0000000000000000 
    00007f2870168760:  0000000000000000  0000000000000000 
    00007f2870168770:  0000000000000000  0000000000000000 
    00007f2870168780:  0000000000000000  0000000000000000 
    00007f2870168790:  0000000000000000  0000000000000000 
    00007f28701687a0:  0000000000000000  0000000000000000 
    00007f28701687b0:  0000000000000000  0000000000000000 
    00007f28701687c0:  0000000000000000  0000000000000000 
    00007f28701687d0:  0000000000000000  0000000000000000 
    00007f28701687e0:  0000000000000000  0000000000000000 
    00007f28701687f0:  0000000000000000  0000000000000000 
    00007f2870168800:  0000000000000000  0000000000000000 
    00007f2870168810: <0000000000000000  0000000000000000 
    00007f2870168820:  0000000000000000  0000000000000000 
    00007f2870168830:  0000000000000000  0000000000000000 
    00007f2870168840:  0000000000000000  0000000000000000 
    00007f2870168850:  0000000000000000  0000000000000000 
    00007f2870168860:  0000000000000000  0000000000000000 
    00007f2870168870:  0000000000000000  0000000000000000 
    00007f2870168880:  0000000000000000  0000000000000000 
    00007f2870168890:  fffffffe7fffffff  ffffffffffffffff 
    00007f28701688a0:  ffffffffffffffff  ffffffffffffffff 
    00007f28701688b0:  ffffffffffffffff  ffffffffffffffff 
    00007f28701688c0:  ffffffffffffffff  ffffffffffffffff 
    00007f28701688d0:  ffffffffffffffff  ffffffffffffffff 
    00007f28701688e0:  ffffffffffffffff  ffffffffffffffff 
    00007f28701688f0:  ffffffffffffffff  ffffffffffffffff 
    00007f2870168900:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    	goroutine running on other thread; stack unavailable
    
    rax    0x0
    rbx    0x7f2878d57840
    rcx    0x7f28789a9f47
    rdx    0x0
    rdi    0x2
    rsi    0x7f2870168810
    rbp    0x55d54fa7932a
    rsp    0x7f2870168810
    r8     0x0
    r9     0x7f2870168810
    r10    0x8
    r11    0x246
    r12    0x55d55153e3f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f28789a9f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
