apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fbc8b406f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fbc8b406f47
    stack: frame={sp:0x7fffba5082b0, fp:0x0} stack=[0x7fffb9d09950,0x7fffba508980)
    00007fffba5081b0:  0000561462217683 <runtime.main+883>  000000000030da24 
    00007fffba5081c0:  0000029300000002  000000508b3c7700 
    00007fffba5081d0:  000000000030da24  00007fffba508288 
    00007fffba5081e0:  0000000000000000  0000000000000000 
    00007fffba5081f0:  00007fbc8b7b4560  00007fbc8b7b7bc0 
    00007fffba508200:  000000c42006ffd0  00005614622173e0 <runtime.main+208> 
    00007fffba508210:  0000561462f0b970  0000000000000000 
    00007fffba508220:  0000000000000000  0000000000000000 
    00007fffba508230:  0000000000000000  0000000000000000 
    00007fffba508240:  0000000000000000  0000000000000000 
    00007fffba508250:  000000c420000180  0000000000000000 
    00007fffba508260:  00005614622173e0 <runtime.main+208>  0000561462f0b970 
    00007fffba508270:  0000000000000000  0000000000000000 
    00007fffba508280:  0000000000000000  0000000000000000 
    00007fffba508290:  0000000000000000  0000000000000000 
    00007fffba5082a0:  0000000000000000  000000c420000180 
    00007fffba5082b0: <0000000000000000  0000561462242f31 <runtime.goexit+1> 
    00007fffba5082c0:  0000000000000000  0000000000000000 
    00007fffba5082d0:  0000000000000000  0000000000000000 
    00007fffba5082e0:  0000000000000000  0000561462242f31 <runtime.goexit+1> 
    00007fffba5082f0:  00005614632b93c0  00007fffba508600 
    00007fffba508300:  0000561462237962 <runtime.gentraceback+4850>  00007fffba5085a8 
    00007fffba508310:  00007fffba508698  00005614632b9301 
    00007fffba508320:  00007fffba508401  0000000000000000 
    00007fffba508330:  fffffffe7fffffff  ffffffffffffffff 
    00007fffba508340:  ffffffffffffffff  ffffffffffffffff 
    00007fffba508350:  ffffffffffffffff  ffffffffffffffff 
    00007fffba508360:  ffffffffffffffff  ffffffffffffffff 
    00007fffba508370:  ffffffffffffffff  ffffffffffffffff 
    00007fffba508380:  ffffffffffffffff  ffffffffffffffff 
    00007fffba508390:  ffffffffffffffff  ffffffffffffffff 
    00007fffba5083a0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fbc8b406f47
    stack: frame={sp:0x7fffba5082b0, fp:0x0} stack=[0x7fffb9d09950,0x7fffba508980)
    00007fffba5081b0:  0000561462217683 <runtime.main+883>  000000000030da24 
    00007fffba5081c0:  0000029300000002  000000508b3c7700 
    00007fffba5081d0:  000000000030da24  00007fffba508288 
    00007fffba5081e0:  0000000000000000  0000000000000000 
    00007fffba5081f0:  00007fbc8b7b4560  00007fbc8b7b7bc0 
    00007fffba508200:  000000c42006ffd0  00005614622173e0 <runtime.main+208> 
    00007fffba508210:  0000561462f0b970  0000000000000000 
    00007fffba508220:  0000000000000000  0000000000000000 
    00007fffba508230:  0000000000000000  0000000000000000 
    00007fffba508240:  0000000000000000  0000000000000000 
    00007fffba508250:  000000c420000180  0000000000000000 
    00007fffba508260:  00005614622173e0 <runtime.main+208>  0000561462f0b970 
    00007fffba508270:  0000000000000000  0000000000000000 
    00007fffba508280:  0000000000000000  0000000000000000 
    00007fffba508290:  0000000000000000  0000000000000000 
    00007fffba5082a0:  0000000000000000  000000c420000180 
    00007fffba5082b0: <0000000000000000  0000561462242f31 <runtime.goexit+1> 
    00007fffba5082c0:  0000000000000000  0000000000000000 
    00007fffba5082d0:  0000000000000000  0000000000000000 
    00007fffba5082e0:  0000000000000000  0000561462242f31 <runtime.goexit+1> 
    00007fffba5082f0:  00005614632b93c0  00007fffba508600 
    00007fffba508300:  0000561462237962 <runtime.gentraceback+4850>  00007fffba5085a8 
    00007fffba508310:  00007fffba508698  00005614632b9301 
    00007fffba508320:  00007fffba508401  0000000000000000 
    00007fffba508330:  fffffffe7fffffff  ffffffffffffffff 
    00007fffba508340:  ffffffffffffffff  ffffffffffffffff 
    00007fffba508350:  ffffffffffffffff  ffffffffffffffff 
    00007fffba508360:  ffffffffffffffff  ffffffffffffffff 
    00007fffba508370:  ffffffffffffffff  ffffffffffffffff 
    00007fffba508380:  ffffffffffffffff  ffffffffffffffff 
    00007fffba508390:  ffffffffffffffff  ffffffffffffffff 
    00007fffba5083a0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.systemstack_switch()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:363 fp=0xc420081f00 sp=0xc420081ef8 pc=0x561462240370
    runtime.newproc(0x561400000000, 0x561462f0b8f8)
    	/usr/lib/go-1.10/src/runtime/proc.go:3243 +0x64 fp=0xc420081f40 sp=0xc420081f00 pc=0x56146221f264
    runtime.init.4()
    	/usr/lib/go-1.10/src/runtime/proc.go:237 +0x37 fp=0xc420081f60 sp=0xc420081f40 pc=0x5614622176d7
    runtime.init()
    	<autogenerated>:1 +0xe5 fp=0xc420081f88 sp=0xc420081f60 pc=0x56146223ff45
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:144 +0xd0 fp=0xc420081fe0 sp=0xc420081f88 pc=0x5614622173e0
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x561462242f31
    
    rax    0x0
    rbx    0x7fbc8b7b4840
    rcx    0x7fbc8b406f47
    rdx    0x0
    rdi    0x2
    rsi    0x7fffba5082b0
    rbp    0x561462a1132a
    rsp    0x7fffba5082b0
    r8     0x0
    r9     0x7fffba5082b0
    r10    0x8
    r11    0x246
    r12    0x5614638853f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fbc8b406f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 2 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7d48, 0x0, 0xffffffffffffffff)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.main.func1()
    	/usr/local/go/src/runtime/proc.go:135 +0x3f
    runtime.systemstack(0x46c2f4)
    	/usr/local/go/src/runtime/asm_amd64.s:370 +0x66
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1116
    
    goroutine 1 [running]:
    runtime.systemstack_switch()
    	/usr/local/go/src/runtime/asm_amd64.s:330 fp=0xc00005e788 sp=0xc00005e780 pc=0x46c420
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:134 +0x70 fp=0xc00005e7e0 sp=0xc00005e788 pc=0x439ab0
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1 fp=0xc00005e7e8 sp=0xc00005e7e0 pc=0x46e061
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fa20e8edf47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fa20e8edf47
    stack: frame={sp:0x7ffff793eae0, fp:0x0} stack=[0x7ffff7140180,0x7ffff793f1b0)
    00007ffff793e9e0:  00005596f3af1683 <runtime.main+883>  000000000030da24 
    00007ffff793e9f0:  0000029300000002  000000500eed675a 
    00007ffff793ea00:  000000000030da24  00007ffff793eab8 
    00007ffff793ea10:  00005596f3b0c936 <runtime.pcvalue+342>  00005596f487f828 
    00007ffff793ea20:  0000000000000000  0000000000000000 
    00007ffff793ea30:  00007fa20ec9b560  00007fa20ec9ebc0 
    00007ffff793ea40:  000000c42006ffd0  00005596f3af13e0 <runtime.main+208> 
    00007ffff793ea50:  00005596f47e5970  0000000000000000 
    00007ffff793ea60:  0000000000000000  0000000000000000 
    00007ffff793ea70:  0000000000000000  0000000000000000 
    00007ffff793ea80:  0000000000000000  0000000000000000 
    00007ffff793ea90:  000000c420000180  0000000000000000 
    00007ffff793eaa0:  00005596f3af13e0 <runtime.main+208>  00005596f47e5970 
    00007ffff793eab0:  0000000000000000  0000000000000000 
    00007ffff793eac0:  0000000000000000  0000000000000000 
    00007ffff793ead0:  0000000000000000  0000000000000000 
    00007ffff793eae0: <0000000000000000  000000c420000180 
    00007ffff793eaf0:  0000000000000000  00005596f3b1cf31 <runtime.goexit+1> 
    00007ffff793eb00:  0000000000000000  0000000000000000 
    00007ffff793eb10:  0000000000000000  0000000000000000 
    00007ffff793eb20:  00005596f4b933c0  00007ffff793ee30 
    00007ffff793eb30:  00005596f3b11962 <runtime.gentraceback+4850>  00007ffff793edd8 
    00007ffff793eb40:  00007ffff793eec8  00005596f4b93301 
    00007ffff793eb50:  00007ffff793ec01  0000000000000000 
    00007ffff793eb60:  fffffffe7fffffff  ffffffffffffffff 
    00007ffff793eb70:  ffffffffffffffff  ffffffffffffffff 
    00007ffff793eb80:  ffffffffffffffff  ffffffffffffffff 
    00007ffff793eb90:  ffffffffffffffff  ffffffffffffffff 
    00007ffff793eba0:  ffffffffffffffff  ffffffffffffffff 
    00007ffff793ebb0:  ffffffffffffffff  ffffffffffffffff 
    00007ffff793ebc0:  ffffffffffffffff  ffffffffffffffff 
    00007ffff793ebd0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fa20e8edf47
    stack: frame={sp:0x7ffff793eae0, fp:0x0} stack=[0x7ffff7140180,0x7ffff793f1b0)
    00007ffff793e9e0:  00005596f3af1683 <runtime.main+883>  000000000030da24 
    00007ffff793e9f0:  0000029300000002  000000500eed675a 
    00007ffff793ea00:  000000000030da24  00007ffff793eab8 
    00007ffff793ea10:  00005596f3b0c936 <runtime.pcvalue+342>  00005596f487f828 
    00007ffff793ea20:  0000000000000000  0000000000000000 
    00007ffff793ea30:  00007fa20ec9b560  00007fa20ec9ebc0 
    00007ffff793ea40:  000000c42006ffd0  00005596f3af13e0 <runtime.main+208> 
    00007ffff793ea50:  00005596f47e5970  0000000000000000 
    00007ffff793ea60:  0000000000000000  0000000000000000 
    00007ffff793ea70:  0000000000000000  0000000000000000 
    00007ffff793ea80:  0000000000000000  0000000000000000 
    00007ffff793ea90:  000000c420000180  0000000000000000 
    00007ffff793eaa0:  00005596f3af13e0 <runtime.main+208>  00005596f47e5970 
    00007ffff793eab0:  0000000000000000  0000000000000000 
    00007ffff793eac0:  0000000000000000  0000000000000000 
    00007ffff793ead0:  0000000000000000  0000000000000000 
    00007ffff793eae0: <0000000000000000  000000c420000180 
    00007ffff793eaf0:  0000000000000000  00005596f3b1cf31 <runtime.goexit+1> 
    00007ffff793eb00:  0000000000000000  0000000000000000 
    00007ffff793eb10:  0000000000000000  0000000000000000 
    00007ffff793eb20:  00005596f4b933c0  00007ffff793ee30 
    00007ffff793eb30:  00005596f3b11962 <runtime.gentraceback+4850>  00007ffff793edd8 
    00007ffff793eb40:  00007ffff793eec8  00005596f4b93301 
    00007ffff793eb50:  00007ffff793ec01  0000000000000000 
    00007ffff793eb60:  fffffffe7fffffff  ffffffffffffffff 
    00007ffff793eb70:  ffffffffffffffff  ffffffffffffffff 
    00007ffff793eb80:  ffffffffffffffff  ffffffffffffffff 
    00007ffff793eb90:  ffffffffffffffff  ffffffffffffffff 
    00007ffff793eba0:  ffffffffffffffff  ffffffffffffffff 
    00007ffff793ebb0:  ffffffffffffffff  ffffffffffffffff 
    00007ffff793ebc0:  ffffffffffffffff  ffffffffffffffff 
    00007ffff793ebd0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.systemstack_switch()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:363 fp=0xc420081f00 sp=0xc420081ef8 pc=0x5596f3b1a370
    runtime.newproc(0x559600000000, 0x5596f47e58f8)
    	/usr/lib/go-1.10/src/runtime/proc.go:3243 +0x64 fp=0xc420081f40 sp=0xc420081f00 pc=0x5596f3af9264
    runtime.init.4()
    	/usr/lib/go-1.10/src/runtime/proc.go:237 +0x37 fp=0xc420081f60 sp=0xc420081f40 pc=0x5596f3af16d7
    runtime.init()
    	<autogenerated>:1 +0xe5 fp=0xc420081f88 sp=0xc420081f60 pc=0x5596f3b19f45
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:144 +0xd0 fp=0xc420081fe0 sp=0xc420081f88 pc=0x5596f3af13e0
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x5596f3b1cf31
    
    rax    0x0
    rbx    0x7fa20ec9b840
    rcx    0x7fa20e8edf47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffff793eae0
    rbp    0x5596f42eb32a
    rsp    0x7ffff793eae0
    r8     0x0
    r9     0x7ffff793eae0
    r10    0x8
    r11    0x246
    r12    0x5596f6b5f3f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fa20e8edf47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
