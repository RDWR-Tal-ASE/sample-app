apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f14d76cff47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f14d76cff47
    stack: frame={sp:0x7ffddb681a20, fp:0x0} stack=[0x7ffddae82f20,0x7ffddb681f50)
    00007ffddb681920:  0000000000000000  0000000000000000 
    00007ffddb681930:  0000000000000000  0000000000000000 
    00007ffddb681940:  0000000000000000  0000000000000000 
    00007ffddb681950:  0000000000000000  0000000000000000 
    00007ffddb681960:  0000000000000000  0000000000000000 
    00007ffddb681970:  0000000000000000  0000000000000000 
    00007ffddb681980:  0000000000000000  0000000000000000 
    00007ffddb681990:  0000000000000000  0000000000000000 
    00007ffddb6819a0:  0000000000000000  0000000000000000 
    00007ffddb6819b0:  0000000000000000  0000000000000000 
    00007ffddb6819c0:  0000000000000000  0000000000000000 
    00007ffddb6819d0:  0000000000000000  0000000000000000 
    00007ffddb6819e0:  0000000000000000  0000000000000000 
    00007ffddb6819f0:  0000000000000000  0000000000000000 
    00007ffddb681a00:  0000000000000000  00007f14d7cb4307 
    00007ffddb681a10:  0000000000000000  0000000000000001 
    00007ffddb681a20: <0000000000000000  0000559540544570 
    00007ffddb681a30:  00007f14d7ec10d0  00007ffddb681a78 
    00007ffddb681a40:  000055953e18e582 <runtime.step+290>  000055953eeea232 
    00007ffddb681a50:  000000000030da24  000000000030da24 
    00007ffddb681a60:  0000029300000002  00000050d7a89ec5 
    00007ffddb681a70:  000000000030da24  00007ffddb681b28 
    00007ffddb681a80:  000055953e18d936 <runtime.pcvalue+342>  000055953ef00828 
    00007ffddb681a90:  00000000002f742e  00000000002f742e 
    00007ffddb681aa0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffddb681ab0:  ffffffffffffffff  ffffffffffffffff 
    00007ffddb681ac0:  ffffffffffffffff  ffffffffffffffff 
    00007ffddb681ad0:  ffffffffffffffff  ffffffffffffffff 
    00007ffddb681ae0:  ffffffffffffffff  ffffffffffffffff 
    00007ffddb681af0:  ffffffffffffffff  ffffffffffffffff 
    00007ffddb681b00:  ffffffffffffffff  ffffffffffffffff 
    00007ffddb681b10:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f14d76cff47
    stack: frame={sp:0x7ffddb681a20, fp:0x0} stack=[0x7ffddae82f20,0x7ffddb681f50)
    00007ffddb681920:  0000000000000000  0000000000000000 
    00007ffddb681930:  0000000000000000  0000000000000000 
    00007ffddb681940:  0000000000000000  0000000000000000 
    00007ffddb681950:  0000000000000000  0000000000000000 
    00007ffddb681960:  0000000000000000  0000000000000000 
    00007ffddb681970:  0000000000000000  0000000000000000 
    00007ffddb681980:  0000000000000000  0000000000000000 
    00007ffddb681990:  0000000000000000  0000000000000000 
    00007ffddb6819a0:  0000000000000000  0000000000000000 
    00007ffddb6819b0:  0000000000000000  0000000000000000 
    00007ffddb6819c0:  0000000000000000  0000000000000000 
    00007ffddb6819d0:  0000000000000000  0000000000000000 
    00007ffddb6819e0:  0000000000000000  0000000000000000 
    00007ffddb6819f0:  0000000000000000  0000000000000000 
    00007ffddb681a00:  0000000000000000  00007f14d7cb4307 
    00007ffddb681a10:  0000000000000000  0000000000000001 
    00007ffddb681a20: <0000000000000000  0000559540544570 
    00007ffddb681a30:  00007f14d7ec10d0  00007ffddb681a78 
    00007ffddb681a40:  000055953e18e582 <runtime.step+290>  000055953eeea232 
    00007ffddb681a50:  000000000030da24  000000000030da24 
    00007ffddb681a60:  0000029300000002  00000050d7a89ec5 
    00007ffddb681a70:  000000000030da24  00007ffddb681b28 
    00007ffddb681a80:  000055953e18d936 <runtime.pcvalue+342>  000055953ef00828 
    00007ffddb681a90:  00000000002f742e  00000000002f742e 
    00007ffddb681aa0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffddb681ab0:  ffffffffffffffff  ffffffffffffffff 
    00007ffddb681ac0:  ffffffffffffffff  ffffffffffffffff 
    00007ffddb681ad0:  ffffffffffffffff  ffffffffffffffff 
    00007ffddb681ae0:  ffffffffffffffff  ffffffffffffffff 
    00007ffddb681af0:  ffffffffffffffff  ffffffffffffffff 
    00007ffddb681b00:  ffffffffffffffff  ffffffffffffffff 
    00007ffddb681b10:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x55953e83aa30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x55953e19cbcf
    runtime.newm1(0xc420061000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x55953e1766b1
    runtime.newm(0x55953ee66b08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x55953e17652f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x55953e176791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x55953e1724b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x55953e19df31
    
    rax    0x0
    rbx    0x7f14d7a7d840
    rcx    0x7f14d76cff47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffddb681a20
    rbp    0x55953e96c32a
    rsp    0x7ffddb681a20
    r8     0x0
    r9     0x7ffddb681a20
    r10    0x8
    r11    0x246
    r12    0x559540544690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f14d76cff47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 4 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    runtime: failed to create new OS thread (have 5 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062800)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062800)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x0, 0xc000046000, 0x3)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0xc000046000, 0x2a6cc00)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.handoffp(0xc000046000)
    	/usr/local/go/src/runtime/proc.go:2001 +0x52
    runtime.stoplockedm()
    	/usr/local/go/src/runtime/proc.go:2075 +0xf7
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2611 +0x48c
    runtime.park_m(0xc000000180)
    	/usr/local/go/src/runtime/proc.go:2845 +0x9d
    runtime.mcall(0x0)
    	/usr/local/go/src/runtime/asm_amd64.s:318 +0x5b
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x1bb7a80, 0xc0000420c8, 0x170e, 0x2)
    	/usr/local/go/src/runtime/proc.go:306 +0xe5
    runtime.chanrecv(0xc000042070, 0x0, 0xc000000101, 0x41a55e)
    	/usr/local/go/src/runtime/chan.go:577 +0x36f
    runtime.chanrecv1(0xc000042070, 0x0)
    	/usr/local/go/src/runtime/chan.go:439 +0x2b
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:219 +0x95
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000088000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000088000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc00004b000, 0x4)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000073f01)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.resetspinning()
    	/usr/local/go/src/runtime/proc.go:2533 +0x59
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2684 +0x2b9
    runtime.mstart1()
    	/usr/local/go/src/runtime/proc.go:1179 +0x93
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1137 +0x6e
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f5753857f47 m=3 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f5753857f47
    stack: frame={sp:0x7f5753016810, fp:0x0} stack=[0x7f5752817290,0x7f5753016e90)
    00007f5753016710:  0000000000000000  0000000000000000 
    00007f5753016720:  0000000000000000  0000000000000000 
    00007f5753016730:  0000000000000000  0000000000000000 
    00007f5753016740:  0000000000000000  0000000000000000 
    00007f5753016750:  0000000000000000  0000000000000000 
    00007f5753016760:  0000000000000000  0000000000000000 
    00007f5753016770:  0000000000000000  0000000000000000 
    00007f5753016780:  0000000000000000  0000000000000000 
    00007f5753016790:  0000000000000000  0000000000000000 
    00007f57530167a0:  0000000000000000  0000000000000000 
    00007f57530167b0:  0000000000000000  0000000000000000 
    00007f57530167c0:  0000000000000000  0000000000000000 
    00007f57530167d0:  0000000000000000  0000000000000000 
    00007f57530167e0:  0000000000000000  0000000000000000 
    00007f57530167f0:  0000000000000000  0000000000000000 
    00007f5753016800:  0000000000000000  0000000000000000 
    00007f5753016810: <0000000000000000  0000000000000000 
    00007f5753016820:  0000000000000000  0000000000000000 
    00007f5753016830:  0000000000000000  0000000000000000 
    00007f5753016840:  0000000000000000  0000000000000000 
    00007f5753016850:  0000000000000000  0000000000000000 
    00007f5753016860:  0000000000000000  0000000000000000 
    00007f5753016870:  0000000000000000  0000000000000000 
    00007f5753016880:  0000000000000000  0000000000000000 
    00007f5753016890:  fffffffe7fffffff  ffffffffffffffff 
    00007f57530168a0:  ffffffffffffffff  ffffffffffffffff 
    00007f57530168b0:  ffffffffffffffff  ffffffffffffffff 
    00007f57530168c0:  ffffffffffffffff  ffffffffffffffff 
    00007f57530168d0:  ffffffffffffffff  ffffffffffffffff 
    00007f57530168e0:  ffffffffffffffff  ffffffffffffffff 
    00007f57530168f0:  ffffffffffffffff  ffffffffffffffff 
    00007f5753016900:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f5753857f47
    stack: frame={sp:0x7f5753016810, fp:0x0} stack=[0x7f5752817290,0x7f5753016e90)
    00007f5753016710:  0000000000000000  0000000000000000 
    00007f5753016720:  0000000000000000  0000000000000000 
    00007f5753016730:  0000000000000000  0000000000000000 
    00007f5753016740:  0000000000000000  0000000000000000 
    00007f5753016750:  0000000000000000  0000000000000000 
    00007f5753016760:  0000000000000000  0000000000000000 
    00007f5753016770:  0000000000000000  0000000000000000 
    00007f5753016780:  0000000000000000  0000000000000000 
    00007f5753016790:  0000000000000000  0000000000000000 
    00007f57530167a0:  0000000000000000  0000000000000000 
    00007f57530167b0:  0000000000000000  0000000000000000 
    00007f57530167c0:  0000000000000000  0000000000000000 
    00007f57530167d0:  0000000000000000  0000000000000000 
    00007f57530167e0:  0000000000000000  0000000000000000 
    00007f57530167f0:  0000000000000000  0000000000000000 
    00007f5753016800:  0000000000000000  0000000000000000 
    00007f5753016810: <0000000000000000  0000000000000000 
    00007f5753016820:  0000000000000000  0000000000000000 
    00007f5753016830:  0000000000000000  0000000000000000 
    00007f5753016840:  0000000000000000  0000000000000000 
    00007f5753016850:  0000000000000000  0000000000000000 
    00007f5753016860:  0000000000000000  0000000000000000 
    00007f5753016870:  0000000000000000  0000000000000000 
    00007f5753016880:  0000000000000000  0000000000000000 
    00007f5753016890:  fffffffe7fffffff  ffffffffffffffff 
    00007f57530168a0:  ffffffffffffffff  ffffffffffffffff 
    00007f57530168b0:  ffffffffffffffff  ffffffffffffffff 
    00007f57530168c0:  ffffffffffffffff  ffffffffffffffff 
    00007f57530168d0:  ffffffffffffffff  ffffffffffffffff 
    00007f57530168e0:  ffffffffffffffff  ffffffffffffffff 
    00007f57530168f0:  ffffffffffffffff  ffffffffffffffff 
    00007f5753016900:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [runnable, locked to thread]:
    runtime.gcenable()
    	/usr/lib/go-1.10/src/runtime/mgc.go:214 +0x87
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:161 +0x126
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1
    
    rax    0x0
    rbx    0x7f5753c05840
    rcx    0x7f5753857f47
    rdx    0x0
    rdi    0x2
    rsi    0x7f5753016810
    rbp    0x5647625bf32a
    rsp    0x7f5753016810
    r8     0x0
    r9     0x7f5753016810
    r10    0x8
    r11    0x246
    r12    0x56476434b3f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f5753857f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
