apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7ff28f9eef47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7ff28f9eef47
    stack: frame={sp:0x7fffc1767180, fp:0x0} stack=[0x7fffc0f68820,0x7fffc1767850)
    00007fffc1767080:  0000561885697683 <runtime.main+883>  000000000030da24 
    00007fffc1767090:  0000029300000002  0000005000000000 
    00007fffc17670a0:  0000000000000000  0000000000000000 
    00007fffc17670b0:  00007ff28fd9c560  00007ff28fd9fbc0 
    00007fffc17670c0:  000000c42006ffd0  00005618856973e0 <runtime.main+208> 
    00007fffc17670d0:  000056188638b970  0000000000000000 
    00007fffc17670e0:  0000000000000000  0000000000000000 
    00007fffc17670f0:  0000000000000000  0000000000000000 
    00007fffc1767100:  0000000000000000  0000000000000000 
    00007fffc1767110:  000000c420000180  0000000000000000 
    00007fffc1767120:  00005618856973e0 <runtime.main+208>  000056188638b970 
    00007fffc1767130:  0000000000000000  0000000000000000 
    00007fffc1767140:  0000000000000000  0000000000000000 
    00007fffc1767150:  0000000000000000  0000000000000000 
    00007fffc1767160:  0000000000000000  000000c420000180 
    00007fffc1767170:  0000000000000000  00005618856c2f31 <runtime.goexit+1> 
    00007fffc1767180: <0000000000000000  0000000000000000 
    00007fffc1767190:  0000000000000000  0000000000000000 
    00007fffc17671a0:  00005618867393c0  0000000000000000 
    00007fffc17671b0:  0000000000000000  00005618856c2f31 <runtime.goexit+1> 
    00007fffc17671c0:  00005618867393c0  00007fffc17674d0 
    00007fffc17671d0:  00005618856b7962 <runtime.gentraceback+4850>  00007fffc1767478 
    00007fffc17671e0:  00007fffc1767568  0000561886739301 
    00007fffc17671f0:  00007fffc1767201  0000000000000000 
    00007fffc1767200:  fffffffe7fffffff  ffffffffffffffff 
    00007fffc1767210:  ffffffffffffffff  ffffffffffffffff 
    00007fffc1767220:  ffffffffffffffff  ffffffffffffffff 
    00007fffc1767230:  ffffffffffffffff  ffffffffffffffff 
    00007fffc1767240:  ffffffffffffffff  ffffffffffffffff 
    00007fffc1767250:  ffffffffffffffff  ffffffffffffffff 
    00007fffc1767260:  ffffffffffffffff  ffffffffffffffff 
    00007fffc1767270:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7ff28f9eef47
    stack: frame={sp:0x7fffc1767180, fp:0x0} stack=[0x7fffc0f68820,0x7fffc1767850)
    00007fffc1767080:  0000561885697683 <runtime.main+883>  000000000030da24 
    00007fffc1767090:  0000029300000002  0000005000000000 
    00007fffc17670a0:  0000000000000000  0000000000000000 
    00007fffc17670b0:  00007ff28fd9c560  00007ff28fd9fbc0 
    00007fffc17670c0:  000000c42006ffd0  00005618856973e0 <runtime.main+208> 
    00007fffc17670d0:  000056188638b970  0000000000000000 
    00007fffc17670e0:  0000000000000000  0000000000000000 
    00007fffc17670f0:  0000000000000000  0000000000000000 
    00007fffc1767100:  0000000000000000  0000000000000000 
    00007fffc1767110:  000000c420000180  0000000000000000 
    00007fffc1767120:  00005618856973e0 <runtime.main+208>  000056188638b970 
    00007fffc1767130:  0000000000000000  0000000000000000 
    00007fffc1767140:  0000000000000000  0000000000000000 
    00007fffc1767150:  0000000000000000  0000000000000000 
    00007fffc1767160:  0000000000000000  000000c420000180 
    00007fffc1767170:  0000000000000000  00005618856c2f31 <runtime.goexit+1> 
    00007fffc1767180: <0000000000000000  0000000000000000 
    00007fffc1767190:  0000000000000000  0000000000000000 
    00007fffc17671a0:  00005618867393c0  0000000000000000 
    00007fffc17671b0:  0000000000000000  00005618856c2f31 <runtime.goexit+1> 
    00007fffc17671c0:  00005618867393c0  00007fffc17674d0 
    00007fffc17671d0:  00005618856b7962 <runtime.gentraceback+4850>  00007fffc1767478 
    00007fffc17671e0:  00007fffc1767568  0000561886739301 
    00007fffc17671f0:  00007fffc1767201  0000000000000000 
    00007fffc1767200:  fffffffe7fffffff  ffffffffffffffff 
    00007fffc1767210:  ffffffffffffffff  ffffffffffffffff 
    00007fffc1767220:  ffffffffffffffff  ffffffffffffffff 
    00007fffc1767230:  ffffffffffffffff  ffffffffffffffff 
    00007fffc1767240:  ffffffffffffffff  ffffffffffffffff 
    00007fffc1767250:  ffffffffffffffff  ffffffffffffffff 
    00007fffc1767260:  ffffffffffffffff  ffffffffffffffff 
    00007fffc1767270:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.systemstack_switch()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:363 fp=0xc420081f00 sp=0xc420081ef8 pc=0x5618856c0370
    runtime.newproc(0x561800000000, 0x56188638b8f8)
    	/usr/lib/go-1.10/src/runtime/proc.go:3243 +0x64 fp=0xc420081f40 sp=0xc420081f00 pc=0x56188569f264
    runtime.init.4()
    	/usr/lib/go-1.10/src/runtime/proc.go:237 +0x37 fp=0xc420081f60 sp=0xc420081f40 pc=0x5618856976d7
    runtime.init()
    	<autogenerated>:1 +0xe5 fp=0xc420081f88 sp=0xc420081f60 pc=0x5618856bff45
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:144 +0xd0 fp=0xc420081fe0 sp=0xc420081f88 pc=0x5618856973e0
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x5618856c2f31
    
    rax    0x0
    rbx    0x7ff28fd9c840
    rcx    0x7ff28f9eef47
    rdx    0x0
    rdi    0x2
    rsi    0x7fffc1767180
    rbp    0x561885e9132a
    rsp    0x7fffc1767180
    r8     0x0
    r9     0x7fffc1767180
    r10    0x8
    r11    0x246
    r12    0x5618871813f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7ff28f9eef47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 2 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7d48, 0x0, 0xffffffffffffffff)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.main.func1()
    	/usr/local/go/src/runtime/proc.go:135 +0x3f
    runtime.systemstack(0x46c2f4)
    	/usr/local/go/src/runtime/asm_amd64.s:370 +0x66
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1116
    
    goroutine 1 [running]:
    runtime.systemstack_switch()
    	/usr/local/go/src/runtime/asm_amd64.s:330 fp=0xc00005e788 sp=0xc00005e780 pc=0x46c420
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:134 +0x70 fp=0xc00005e7e0 sp=0xc00005e788 pc=0x439ab0
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1 fp=0xc00005e7e8 sp=0xc00005e7e0 pc=0x46e061
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f523ebf4f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f523ebf4f47
    stack: frame={sp:0x7ffca38752e0, fp:0x0} stack=[0x7ffca3076980,0x7ffca38759b0)
    00007ffca38751e0:  000055b882dcc683 <runtime.main+883>  000000000030da24 
    00007ffca38751f0:  0000029300000002  000000503f1dd75a 
    00007ffca3875200:  000000000030da24  00007ffca38752b8 
    00007ffca3875210:  000055b882de7936 <runtime.pcvalue+342>  000055b883b5a828 
    00007ffca3875220:  0000000000000000  0000000000000000 
    00007ffca3875230:  00007f523efa2560  00007f523efa5bc0 
    00007ffca3875240:  000000c42006ffd0  000055b882dcc3e0 <runtime.main+208> 
    00007ffca3875250:  000055b883ac0970  0000000000000000 
    00007ffca3875260:  0000000000000000  0000000000000000 
    00007ffca3875270:  0000000000000000  0000000000000000 
    00007ffca3875280:  0000000000000000  0000000000000000 
    00007ffca3875290:  000000c420000180  0000000000000000 
    00007ffca38752a0:  000055b882dcc3e0 <runtime.main+208>  000055b883ac0970 
    00007ffca38752b0:  0000000000000000  0000000000000000 
    00007ffca38752c0:  0000000000000000  0000000000000000 
    00007ffca38752d0:  0000000000000000  0000000000000000 
    00007ffca38752e0: <0000000000000000  000000c420000180 
    00007ffca38752f0:  0000000000000000  000055b882df7f31 <runtime.goexit+1> 
    00007ffca3875300:  0000000000000000  0000000000000000 
    00007ffca3875310:  0000000000000000  0000000000000000 
    00007ffca3875320:  000055b883e6e3c0  00007ffca3875630 
    00007ffca3875330:  000055b882dec962 <runtime.gentraceback+4850>  00007ffca38755d8 
    00007ffca3875340:  00007ffca38756c8  000055b883e6e301 
    00007ffca3875350:  00007ffca3875401  0000000000000000 
    00007ffca3875360:  fffffffe7fffffff  ffffffffffffffff 
    00007ffca3875370:  ffffffffffffffff  ffffffffffffffff 
    00007ffca3875380:  ffffffffffffffff  ffffffffffffffff 
    00007ffca3875390:  ffffffffffffffff  ffffffffffffffff 
    00007ffca38753a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffca38753b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffca38753c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffca38753d0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f523ebf4f47
    stack: frame={sp:0x7ffca38752e0, fp:0x0} stack=[0x7ffca3076980,0x7ffca38759b0)
    00007ffca38751e0:  000055b882dcc683 <runtime.main+883>  000000000030da24 
    00007ffca38751f0:  0000029300000002  000000503f1dd75a 
    00007ffca3875200:  000000000030da24  00007ffca38752b8 
    00007ffca3875210:  000055b882de7936 <runtime.pcvalue+342>  000055b883b5a828 
    00007ffca3875220:  0000000000000000  0000000000000000 
    00007ffca3875230:  00007f523efa2560  00007f523efa5bc0 
    00007ffca3875240:  000000c42006ffd0  000055b882dcc3e0 <runtime.main+208> 
    00007ffca3875250:  000055b883ac0970  0000000000000000 
    00007ffca3875260:  0000000000000000  0000000000000000 
    00007ffca3875270:  0000000000000000  0000000000000000 
    00007ffca3875280:  0000000000000000  0000000000000000 
    00007ffca3875290:  000000c420000180  0000000000000000 
    00007ffca38752a0:  000055b882dcc3e0 <runtime.main+208>  000055b883ac0970 
    00007ffca38752b0:  0000000000000000  0000000000000000 
    00007ffca38752c0:  0000000000000000  0000000000000000 
    00007ffca38752d0:  0000000000000000  0000000000000000 
    00007ffca38752e0: <0000000000000000  000000c420000180 
    00007ffca38752f0:  0000000000000000  000055b882df7f31 <runtime.goexit+1> 
    00007ffca3875300:  0000000000000000  0000000000000000 
    00007ffca3875310:  0000000000000000  0000000000000000 
    00007ffca3875320:  000055b883e6e3c0  00007ffca3875630 
    00007ffca3875330:  000055b882dec962 <runtime.gentraceback+4850>  00007ffca38755d8 
    00007ffca3875340:  00007ffca38756c8  000055b883e6e301 
    00007ffca3875350:  00007ffca3875401  0000000000000000 
    00007ffca3875360:  fffffffe7fffffff  ffffffffffffffff 
    00007ffca3875370:  ffffffffffffffff  ffffffffffffffff 
    00007ffca3875380:  ffffffffffffffff  ffffffffffffffff 
    00007ffca3875390:  ffffffffffffffff  ffffffffffffffff 
    00007ffca38753a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffca38753b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffca38753c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffca38753d0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.systemstack_switch()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:363 fp=0xc420081f00 sp=0xc420081ef8 pc=0x55b882df5370
    runtime.newproc(0x55b800000000, 0x55b883ac08f8)
    	/usr/lib/go-1.10/src/runtime/proc.go:3243 +0x64 fp=0xc420081f40 sp=0xc420081f00 pc=0x55b882dd4264
    runtime.init.4()
    	/usr/lib/go-1.10/src/runtime/proc.go:237 +0x37 fp=0xc420081f60 sp=0xc420081f40 pc=0x55b882dcc6d7
    runtime.init()
    	<autogenerated>:1 +0xe5 fp=0xc420081f88 sp=0xc420081f60 pc=0x55b882df4f45
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:144 +0xd0 fp=0xc420081fe0 sp=0xc420081f88 pc=0x55b882dcc3e0
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x55b882df7f31
    
    rax    0x0
    rbx    0x7f523efa2840
    rcx    0x7f523ebf4f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffca38752e0
    rbp    0x55b8835c632a
    rsp    0x7ffca38752e0
    r8     0x0
    r9     0x7ffca38752e0
    r10    0x8
    r11    0x246
    r12    0x55b8857b43f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f523ebf4f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
