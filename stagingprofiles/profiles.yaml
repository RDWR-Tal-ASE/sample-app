apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fcf1fbfff47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fcf1fbfff47
    stack: frame={sp:0x7ffd1f581a40, fp:0x0} stack=[0x7ffd1ed830e0,0x7ffd1f582110)
    00007ffd1f581940:  0000563044f81683 <runtime.main+883>  000000000030da24 
    00007ffd1f581950:  0000029300000002  0000005000000000 
    00007ffd1f581960:  0000000000000000  0000000000000000 
    00007ffd1f581970:  00007fcf1ffad560  00007fcf1ffb0bc0 
    00007ffd1f581980:  000000c42006ffd0  0000563044f813e0 <runtime.main+208> 
    00007ffd1f581990:  0000563045c75970  0000000000000000 
    00007ffd1f5819a0:  0000000000000000  0000000000000000 
    00007ffd1f5819b0:  0000000000000000  0000000000000000 
    00007ffd1f5819c0:  0000000000000000  0000000000000000 
    00007ffd1f5819d0:  000000c420000180  0000000000000000 
    00007ffd1f5819e0:  0000563044f813e0 <runtime.main+208>  0000563045c75970 
    00007ffd1f5819f0:  0000000000000000  0000000000000000 
    00007ffd1f581a00:  0000000000000000  0000000000000000 
    00007ffd1f581a10:  0000000000000000  0000000000000000 
    00007ffd1f581a20:  0000000000000000  000000c420000180 
    00007ffd1f581a30:  0000000000000000  0000563044facf31 <runtime.goexit+1> 
    00007ffd1f581a40: <0000000000000000  0000000000000000 
    00007ffd1f581a50:  0000000000000000  0000000000000000 
    00007ffd1f581a60:  00005630460233c0  0000000000000000 
    00007ffd1f581a70:  0000000000000000  0000563044facf31 <runtime.goexit+1> 
    00007ffd1f581a80:  00005630460233c0  00007ffd1f581d90 
    00007ffd1f581a90:  0000563044fa1962 <runtime.gentraceback+4850>  00007ffd1f581d38 
    00007ffd1f581aa0:  00007ffd1f581e28  0000563046023301 
    00007ffd1f581ab0:  00007ffd1f581b01  0000000000000000 
    00007ffd1f581ac0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffd1f581ad0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd1f581ae0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd1f581af0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd1f581b00:  ffffffffffffffff  ffffffffffffffff 
    00007ffd1f581b10:  ffffffffffffffff  ffffffffffffffff 
    00007ffd1f581b20:  ffffffffffffffff  ffffffffffffffff 
    00007ffd1f581b30:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fcf1fbfff47
    stack: frame={sp:0x7ffd1f581a40, fp:0x0} stack=[0x7ffd1ed830e0,0x7ffd1f582110)
    00007ffd1f581940:  0000563044f81683 <runtime.main+883>  000000000030da24 
    00007ffd1f581950:  0000029300000002  0000005000000000 
    00007ffd1f581960:  0000000000000000  0000000000000000 
    00007ffd1f581970:  00007fcf1ffad560  00007fcf1ffb0bc0 
    00007ffd1f581980:  000000c42006ffd0  0000563044f813e0 <runtime.main+208> 
    00007ffd1f581990:  0000563045c75970  0000000000000000 
    00007ffd1f5819a0:  0000000000000000  0000000000000000 
    00007ffd1f5819b0:  0000000000000000  0000000000000000 
    00007ffd1f5819c0:  0000000000000000  0000000000000000 
    00007ffd1f5819d0:  000000c420000180  0000000000000000 
    00007ffd1f5819e0:  0000563044f813e0 <runtime.main+208>  0000563045c75970 
    00007ffd1f5819f0:  0000000000000000  0000000000000000 
    00007ffd1f581a00:  0000000000000000  0000000000000000 
    00007ffd1f581a10:  0000000000000000  0000000000000000 
    00007ffd1f581a20:  0000000000000000  000000c420000180 
    00007ffd1f581a30:  0000000000000000  0000563044facf31 <runtime.goexit+1> 
    00007ffd1f581a40: <0000000000000000  0000000000000000 
    00007ffd1f581a50:  0000000000000000  0000000000000000 
    00007ffd1f581a60:  00005630460233c0  0000000000000000 
    00007ffd1f581a70:  0000000000000000  0000563044facf31 <runtime.goexit+1> 
    00007ffd1f581a80:  00005630460233c0  00007ffd1f581d90 
    00007ffd1f581a90:  0000563044fa1962 <runtime.gentraceback+4850>  00007ffd1f581d38 
    00007ffd1f581aa0:  00007ffd1f581e28  0000563046023301 
    00007ffd1f581ab0:  00007ffd1f581b01  0000000000000000 
    00007ffd1f581ac0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffd1f581ad0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd1f581ae0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd1f581af0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd1f581b00:  ffffffffffffffff  ffffffffffffffff 
    00007ffd1f581b10:  ffffffffffffffff  ffffffffffffffff 
    00007ffd1f581b20:  ffffffffffffffff  ffffffffffffffff 
    00007ffd1f581b30:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.systemstack_switch()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:363 fp=0xc420081f00 sp=0xc420081ef8 pc=0x563044faa370
    runtime.newproc(0x563000000000, 0x563045c758f8)
    	/usr/lib/go-1.10/src/runtime/proc.go:3243 +0x64 fp=0xc420081f40 sp=0xc420081f00 pc=0x563044f89264
    runtime.init.4()
    	/usr/lib/go-1.10/src/runtime/proc.go:237 +0x37 fp=0xc420081f60 sp=0xc420081f40 pc=0x563044f816d7
    runtime.init()
    	<autogenerated>:1 +0xe5 fp=0xc420081f88 sp=0xc420081f60 pc=0x563044fa9f45
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:144 +0xd0 fp=0xc420081fe0 sp=0xc420081f88 pc=0x563044f813e0
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x563044facf31
    
    rax    0x0
    rbx    0x7fcf1ffad840
    rcx    0x7fcf1fbfff47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffd1f581a40
    rbp    0x56304577b32a
    rsp    0x7ffd1f581a40
    r8     0x0
    r9     0x7ffd1f581a40
    r10    0x8
    r11    0x246
    r12    0x563046a683f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fcf1fbfff47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 2 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7d48, 0x0, 0xffffffffffffffff)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.main.func1()
    	/usr/local/go/src/runtime/proc.go:135 +0x3f
    runtime.systemstack(0x46c2f4)
    	/usr/local/go/src/runtime/asm_amd64.s:370 +0x66
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1116
    
    goroutine 1 [running]:
    runtime.systemstack_switch()
    	/usr/local/go/src/runtime/asm_amd64.s:330 fp=0xc00005e788 sp=0xc00005e780 pc=0x46c420
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:134 +0x70 fp=0xc00005e7e0 sp=0xc00005e788 pc=0x439ab0
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1 fp=0xc00005e7e8 sp=0xc00005e7e0 pc=0x46e061
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fe2e6ab1f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fe2e6ab1f47
    stack: frame={sp:0x7ffc0b01df80, fp:0x0} stack=[0x7ffc0a81f620,0x7ffc0b01e650)
    00007ffc0b01de80:  0000555fa0325683 <runtime.main+883>  000000000030da24 
    00007ffc0b01de90:  0000029300000002  0000005000000000 
    00007ffc0b01dea0:  0000000000000000  0000000000000000 
    00007ffc0b01deb0:  00007fe2e6e5f560  00007fe2e6e62bc0 
    00007ffc0b01dec0:  000000c42006ffd0  0000555fa03253e0 <runtime.main+208> 
    00007ffc0b01ded0:  0000555fa1019970  0000000000000000 
    00007ffc0b01dee0:  0000000000000000  0000000000000000 
    00007ffc0b01def0:  0000000000000000  0000000000000000 
    00007ffc0b01df00:  0000000000000000  0000000000000000 
    00007ffc0b01df10:  000000c420000180  0000000000000000 
    00007ffc0b01df20:  0000555fa03253e0 <runtime.main+208>  0000555fa1019970 
    00007ffc0b01df30:  0000000000000000  0000000000000000 
    00007ffc0b01df40:  0000000000000000  0000000000000000 
    00007ffc0b01df50:  0000000000000000  0000000000000000 
    00007ffc0b01df60:  0000000000000000  000000c420000180 
    00007ffc0b01df70:  0000000000000000  0000555fa0350f31 <runtime.goexit+1> 
    00007ffc0b01df80: <0000000000000000  0000000000000000 
    00007ffc0b01df90:  0000000000000000  0000000000000000 
    00007ffc0b01dfa0:  0000555fa13c73c0  0000000000000000 
    00007ffc0b01dfb0:  0000000000000000  0000555fa0350f31 <runtime.goexit+1> 
    00007ffc0b01dfc0:  0000555fa13c73c0  00007ffc0b01e2d0 
    00007ffc0b01dfd0:  0000555fa0345962 <runtime.gentraceback+4850>  00007ffc0b01e278 
    00007ffc0b01dfe0:  00007ffc0b01e368  0000555fa13c7301 
    00007ffc0b01dff0:  00007ffc0b01e001  0000000000000000 
    00007ffc0b01e000:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc0b01e010:  ffffffffffffffff  ffffffffffffffff 
    00007ffc0b01e020:  ffffffffffffffff  ffffffffffffffff 
    00007ffc0b01e030:  ffffffffffffffff  ffffffffffffffff 
    00007ffc0b01e040:  ffffffffffffffff  ffffffffffffffff 
    00007ffc0b01e050:  ffffffffffffffff  ffffffffffffffff 
    00007ffc0b01e060:  ffffffffffffffff  ffffffffffffffff 
    00007ffc0b01e070:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fe2e6ab1f47
    stack: frame={sp:0x7ffc0b01df80, fp:0x0} stack=[0x7ffc0a81f620,0x7ffc0b01e650)
    00007ffc0b01de80:  0000555fa0325683 <runtime.main+883>  000000000030da24 
    00007ffc0b01de90:  0000029300000002  0000005000000000 
    00007ffc0b01dea0:  0000000000000000  0000000000000000 
    00007ffc0b01deb0:  00007fe2e6e5f560  00007fe2e6e62bc0 
    00007ffc0b01dec0:  000000c42006ffd0  0000555fa03253e0 <runtime.main+208> 
    00007ffc0b01ded0:  0000555fa1019970  0000000000000000 
    00007ffc0b01dee0:  0000000000000000  0000000000000000 
    00007ffc0b01def0:  0000000000000000  0000000000000000 
    00007ffc0b01df00:  0000000000000000  0000000000000000 
    00007ffc0b01df10:  000000c420000180  0000000000000000 
    00007ffc0b01df20:  0000555fa03253e0 <runtime.main+208>  0000555fa1019970 
    00007ffc0b01df30:  0000000000000000  0000000000000000 
    00007ffc0b01df40:  0000000000000000  0000000000000000 
    00007ffc0b01df50:  0000000000000000  0000000000000000 
    00007ffc0b01df60:  0000000000000000  000000c420000180 
    00007ffc0b01df70:  0000000000000000  0000555fa0350f31 <runtime.goexit+1> 
    00007ffc0b01df80: <0000000000000000  0000000000000000 
    00007ffc0b01df90:  0000000000000000  0000000000000000 
    00007ffc0b01dfa0:  0000555fa13c73c0  0000000000000000 
    00007ffc0b01dfb0:  0000000000000000  0000555fa0350f31 <runtime.goexit+1> 
    00007ffc0b01dfc0:  0000555fa13c73c0  00007ffc0b01e2d0 
    00007ffc0b01dfd0:  0000555fa0345962 <runtime.gentraceback+4850>  00007ffc0b01e278 
    00007ffc0b01dfe0:  00007ffc0b01e368  0000555fa13c7301 
    00007ffc0b01dff0:  00007ffc0b01e001  0000000000000000 
    00007ffc0b01e000:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc0b01e010:  ffffffffffffffff  ffffffffffffffff 
    00007ffc0b01e020:  ffffffffffffffff  ffffffffffffffff 
    00007ffc0b01e030:  ffffffffffffffff  ffffffffffffffff 
    00007ffc0b01e040:  ffffffffffffffff  ffffffffffffffff 
    00007ffc0b01e050:  ffffffffffffffff  ffffffffffffffff 
    00007ffc0b01e060:  ffffffffffffffff  ffffffffffffffff 
    00007ffc0b01e070:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.systemstack_switch()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:363 fp=0xc420081f00 sp=0xc420081ef8 pc=0x555fa034e370
    runtime.newproc(0x555f00000000, 0x555fa10198f8)
    	/usr/lib/go-1.10/src/runtime/proc.go:3243 +0x64 fp=0xc420081f40 sp=0xc420081f00 pc=0x555fa032d264
    runtime.init.4()
    	/usr/lib/go-1.10/src/runtime/proc.go:237 +0x37 fp=0xc420081f60 sp=0xc420081f40 pc=0x555fa03256d7
    runtime.init()
    	<autogenerated>:1 +0xe5 fp=0xc420081f88 sp=0xc420081f60 pc=0x555fa034df45
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:144 +0xd0 fp=0xc420081fe0 sp=0xc420081f88 pc=0x555fa03253e0
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x555fa0350f31
    
    rax    0x0
    rbx    0x7fe2e6e5f840
    rcx    0x7fe2e6ab1f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffc0b01df80
    rbp    0x555fa0b1f32a
    rsp    0x7ffc0b01df80
    r8     0x0
    r9     0x7ffc0b01df80
    r10    0x8
    r11    0x246
    r12    0x555fa28e53f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fe2e6ab1f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
