apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fed6c24df47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fed6c24df47
    stack: frame={sp:0x7ffdf6f7cff0, fp:0x0} stack=[0x7ffdf677e4f0,0x7ffdf6f7d520)
    00007ffdf6f7cef0:  0000000000000001  0000000000000000 
    00007ffdf6f7cf00:  0000000000000000  000000c420081fe0 
    00007ffdf6f7cf10:  0000000000000000  0000000000000000 
    00007ffdf6f7cf20:  0000000000000000  0000000000000000 
    00007ffdf6f7cf30:  00007fed6c5fb560  00007fed6c5febc0 
    00007ffdf6f7cf40:  000000c42006ffd0  0000560691dfd3e0 <runtime.main+208> 
    00007ffdf6f7cf50:  0000560692af1970  0000000000000000 
    00007ffdf6f7cf60:  0000000000000000  0000000000000000 
    00007ffdf6f7cf70:  0000000000000000  0000000000000000 
    00007ffdf6f7cf80:  0000000000000000  0000000000000000 
    00007ffdf6f7cf90:  000000c420000180  0000000000000000 
    00007ffdf6f7cfa0:  0000560691dfd3e0 <runtime.main+208>  0000560692af1970 
    00007ffdf6f7cfb0:  0000000000000000  0000000000000000 
    00007ffdf6f7cfc0:  0000000000000000  0000000000000000 
    00007ffdf6f7cfd0:  0000000000000000  0000000000000000 
    00007ffdf6f7cfe0:  0000000000000000  000000c420000180 
    00007ffdf6f7cff0: <0000000000000000  0000560691e28f31 <runtime.goexit+1> 
    00007ffdf6f7d000:  0000000000000000  0000000000000000 
    00007ffdf6f7d010:  0000000000000000  0000000000000000 
    00007ffdf6f7d020:  000000000030da24  000000000030da24 
    00007ffdf6f7d030:  0000029300000002  000000506c607ec5 
    00007ffdf6f7d040:  000000000030da24  00007ffdf6f7d0f8 
    00007ffdf6f7d050:  0000560691e18936 <runtime.pcvalue+342>  0000560692b8b828 
    00007ffdf6f7d060:  00000000002f742e  00000000002f742e 
    00007ffdf6f7d070:  fffffffe7fffffff  ffffffffffffffff 
    00007ffdf6f7d080:  ffffffffffffffff  ffffffffffffffff 
    00007ffdf6f7d090:  ffffffffffffffff  ffffffffffffffff 
    00007ffdf6f7d0a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffdf6f7d0b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffdf6f7d0c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffdf6f7d0d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffdf6f7d0e0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fed6c24df47
    stack: frame={sp:0x7ffdf6f7cff0, fp:0x0} stack=[0x7ffdf677e4f0,0x7ffdf6f7d520)
    00007ffdf6f7cef0:  0000000000000001  0000000000000000 
    00007ffdf6f7cf00:  0000000000000000  000000c420081fe0 
    00007ffdf6f7cf10:  0000000000000000  0000000000000000 
    00007ffdf6f7cf20:  0000000000000000  0000000000000000 
    00007ffdf6f7cf30:  00007fed6c5fb560  00007fed6c5febc0 
    00007ffdf6f7cf40:  000000c42006ffd0  0000560691dfd3e0 <runtime.main+208> 
    00007ffdf6f7cf50:  0000560692af1970  0000000000000000 
    00007ffdf6f7cf60:  0000000000000000  0000000000000000 
    00007ffdf6f7cf70:  0000000000000000  0000000000000000 
    00007ffdf6f7cf80:  0000000000000000  0000000000000000 
    00007ffdf6f7cf90:  000000c420000180  0000000000000000 
    00007ffdf6f7cfa0:  0000560691dfd3e0 <runtime.main+208>  0000560692af1970 
    00007ffdf6f7cfb0:  0000000000000000  0000000000000000 
    00007ffdf6f7cfc0:  0000000000000000  0000000000000000 
    00007ffdf6f7cfd0:  0000000000000000  0000000000000000 
    00007ffdf6f7cfe0:  0000000000000000  000000c420000180 
    00007ffdf6f7cff0: <0000000000000000  0000560691e28f31 <runtime.goexit+1> 
    00007ffdf6f7d000:  0000000000000000  0000000000000000 
    00007ffdf6f7d010:  0000000000000000  0000000000000000 
    00007ffdf6f7d020:  000000000030da24  000000000030da24 
    00007ffdf6f7d030:  0000029300000002  000000506c607ec5 
    00007ffdf6f7d040:  000000000030da24  00007ffdf6f7d0f8 
    00007ffdf6f7d050:  0000560691e18936 <runtime.pcvalue+342>  0000560692b8b828 
    00007ffdf6f7d060:  00000000002f742e  00000000002f742e 
    00007ffdf6f7d070:  fffffffe7fffffff  ffffffffffffffff 
    00007ffdf6f7d080:  ffffffffffffffff  ffffffffffffffff 
    00007ffdf6f7d090:  ffffffffffffffff  ffffffffffffffff 
    00007ffdf6f7d0a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffdf6f7d0b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffdf6f7d0c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffdf6f7d0d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffdf6f7d0e0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x5606924c5a30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x560691e27bcf
    runtime.newm1(0xc420094400)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x560691e016b1
    runtime.newm(0x560692af1b08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x560691e0152f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x560691e01791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x560691dfd4b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x560691e28f31
    
    rax    0x0
    rbx    0x7fed6c5fb840
    rcx    0x7fed6c24df47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffdf6f7cff0
    rbp    0x5606925f732a
    rsp    0x7ffdf6f7cff0
    r8     0x0
    r9     0x7ffdf6f7cff0
    r10    0x8
    r11    0x246
    r12    0x56069435d690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fed6c24df47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 5 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000088000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000088000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc00004b000, 0x4)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000073f01)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.resetspinning()
    	/usr/local/go/src/runtime/proc.go:2533 +0x59
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2684 +0x2b9
    runtime.mstart1()
    	/usr/local/go/src/runtime/proc.go:1179 +0x93
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1137 +0x6e
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x1bb7a80, 0xc0000420c8, 0x170e, 0x2)
    	/usr/local/go/src/runtime/proc.go:306 +0xe5
    runtime.chanrecv(0xc000042070, 0x0, 0xc000000101, 0x410101)
    	/usr/local/go/src/runtime/chan.go:577 +0x36f
    runtime.chanrecv1(0xc000042070, 0x0)
    	/usr/local/go/src/runtime/chan.go:439 +0x2b
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:220 +0xac
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fb599981f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fb599981f47
    stack: frame={sp:0x7ffede7c7280, fp:0x0} stack=[0x7ffeddfc8780,0x7ffede7c77b0)
    00007ffede7c7180:  0000000000000001  0000000000000000 
    00007ffede7c7190:  0000000000000000  000000c420081fe0 
    00007ffede7c71a0:  0000000000000000  0000000000000000 
    00007ffede7c71b0:  00007fb599d2f560  00007fb599d32bc0 
    00007ffede7c71c0:  000000c42006ffd0  00005602291f93e0 <runtime.main+208> 
    00007ffede7c71d0:  0000560229eed970  0000000000000000 
    00007ffede7c71e0:  0000000000000000  0000000000000000 
    00007ffede7c71f0:  0000000000000000  0000000000000000 
    00007ffede7c7200:  0000000000000000  0000000000000000 
    00007ffede7c7210:  000000c420000180  0000000000000000 
    00007ffede7c7220:  00005602291f93e0 <runtime.main+208>  0000560229eed970 
    00007ffede7c7230:  0000000000000000  0000000000000000 
    00007ffede7c7240:  0000000000000000  0000000000000000 
    00007ffede7c7250:  0000000000000000  0000000000000000 
    00007ffede7c7260:  0000000000000000  000000c420000180 
    00007ffede7c7270:  0000000000000000  0000560229224f31 <runtime.goexit+1> 
    00007ffede7c7280: <0000000000000000  0000000000000000 
    00007ffede7c7290:  0000000000000000  0000000000000000 
    00007ffede7c72a0:  0000560229215582 <runtime.step+290>  0000560229f71232 
    00007ffede7c72b0:  000000000030da24  000000000030da24 
    00007ffede7c72c0:  0000029300000002  0000005099d3bec5 
    00007ffede7c72d0:  000000000030da24  00007ffede7c7388 
    00007ffede7c72e0:  0000560229214936 <runtime.pcvalue+342>  0000560229f87828 
    00007ffede7c72f0:  00000000002f742e  00000000002f742e 
    00007ffede7c7300:  fffffffe7fffffff  ffffffffffffffff 
    00007ffede7c7310:  ffffffffffffffff  ffffffffffffffff 
    00007ffede7c7320:  ffffffffffffffff  ffffffffffffffff 
    00007ffede7c7330:  ffffffffffffffff  ffffffffffffffff 
    00007ffede7c7340:  ffffffffffffffff  ffffffffffffffff 
    00007ffede7c7350:  ffffffffffffffff  ffffffffffffffff 
    00007ffede7c7360:  ffffffffffffffff  ffffffffffffffff 
    00007ffede7c7370:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fb599981f47
    stack: frame={sp:0x7ffede7c7280, fp:0x0} stack=[0x7ffeddfc8780,0x7ffede7c77b0)
    00007ffede7c7180:  0000000000000001  0000000000000000 
    00007ffede7c7190:  0000000000000000  000000c420081fe0 
    00007ffede7c71a0:  0000000000000000  0000000000000000 
    00007ffede7c71b0:  00007fb599d2f560  00007fb599d32bc0 
    00007ffede7c71c0:  000000c42006ffd0  00005602291f93e0 <runtime.main+208> 
    00007ffede7c71d0:  0000560229eed970  0000000000000000 
    00007ffede7c71e0:  0000000000000000  0000000000000000 
    00007ffede7c71f0:  0000000000000000  0000000000000000 
    00007ffede7c7200:  0000000000000000  0000000000000000 
    00007ffede7c7210:  000000c420000180  0000000000000000 
    00007ffede7c7220:  00005602291f93e0 <runtime.main+208>  0000560229eed970 
    00007ffede7c7230:  0000000000000000  0000000000000000 
    00007ffede7c7240:  0000000000000000  0000000000000000 
    00007ffede7c7250:  0000000000000000  0000000000000000 
    00007ffede7c7260:  0000000000000000  000000c420000180 
    00007ffede7c7270:  0000000000000000  0000560229224f31 <runtime.goexit+1> 
    00007ffede7c7280: <0000000000000000  0000000000000000 
    00007ffede7c7290:  0000000000000000  0000000000000000 
    00007ffede7c72a0:  0000560229215582 <runtime.step+290>  0000560229f71232 
    00007ffede7c72b0:  000000000030da24  000000000030da24 
    00007ffede7c72c0:  0000029300000002  0000005099d3bec5 
    00007ffede7c72d0:  000000000030da24  00007ffede7c7388 
    00007ffede7c72e0:  0000560229214936 <runtime.pcvalue+342>  0000560229f87828 
    00007ffede7c72f0:  00000000002f742e  00000000002f742e 
    00007ffede7c7300:  fffffffe7fffffff  ffffffffffffffff 
    00007ffede7c7310:  ffffffffffffffff  ffffffffffffffff 
    00007ffede7c7320:  ffffffffffffffff  ffffffffffffffff 
    00007ffede7c7330:  ffffffffffffffff  ffffffffffffffff 
    00007ffede7c7340:  ffffffffffffffff  ffffffffffffffff 
    00007ffede7c7350:  ffffffffffffffff  ffffffffffffffff 
    00007ffede7c7360:  ffffffffffffffff  ffffffffffffffff 
    00007ffede7c7370:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x5602298c1a30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x560229223bcf
    runtime.newm1(0xc420061000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x5602291fd6b1
    runtime.newm(0x560229eedb08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x5602291fd52f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x5602291fd791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x5602291f94b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x560229224f31
    
    rax    0x0
    rbx    0x7fb599d2f840
    rcx    0x7fb599981f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffede7c7280
    rbp    0x5602299f332a
    rsp    0x7ffede7c7280
    r8     0x0
    r9     0x7ffede7c7280
    r10    0x8
    r11    0x246
    r12    0x56022bddd690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fb599981f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
