apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fc3df51df47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fc3df51df47
    stack: frame={sp:0x7ffcd377e600, fp:0x0} stack=[0x7ffcd2f7fb00,0x7ffcd377eb30)
    00007ffcd377e500:  0000000000000001  0000000000000000 
    00007ffcd377e510:  0000000000000000  000000c420081fe0 
    00007ffcd377e520:  0000000000000000  0000000000000000 
    00007ffcd377e530:  00007fc3df8cb560  00007fc3df8cebc0 
    00007ffcd377e540:  000000c42006ffd0  0000561a50a793e0 <runtime.main+208> 
    00007ffcd377e550:  0000561a5176d970  0000000000000000 
    00007ffcd377e560:  0000000000000000  0000000000000000 
    00007ffcd377e570:  0000000000000000  0000000000000000 
    00007ffcd377e580:  0000000000000000  0000000000000000 
    00007ffcd377e590:  000000c420000180  0000000000000000 
    00007ffcd377e5a0:  0000561a50a793e0 <runtime.main+208>  0000561a5176d970 
    00007ffcd377e5b0:  0000000000000000  0000000000000000 
    00007ffcd377e5c0:  0000000000000000  0000000000000000 
    00007ffcd377e5d0:  0000000000000000  0000000000000000 
    00007ffcd377e5e0:  0000000000000000  000000c420000180 
    00007ffcd377e5f0:  0000000000000000  0000561a50aa4f31 <runtime.goexit+1> 
    00007ffcd377e600: <0000000000000000  0000000000000000 
    00007ffcd377e610:  0000000000000000  0000000000000000 
    00007ffcd377e620:  0000561a50a95582 <runtime.step+290>  0000561a517f1232 
    00007ffcd377e630:  000000000030da24  000000000030da24 
    00007ffcd377e640:  0000029300000002  00000050df8d7ec5 
    00007ffcd377e650:  000000000030da24  00007ffcd377e708 
    00007ffcd377e660:  0000561a50a94936 <runtime.pcvalue+342>  0000561a51807828 
    00007ffcd377e670:  00000000002f742e  00000000002f742e 
    00007ffcd377e680:  fffffffe7fffffff  ffffffffffffffff 
    00007ffcd377e690:  ffffffffffffffff  ffffffffffffffff 
    00007ffcd377e6a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffcd377e6b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffcd377e6c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffcd377e6d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffcd377e6e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffcd377e6f0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fc3df51df47
    stack: frame={sp:0x7ffcd377e600, fp:0x0} stack=[0x7ffcd2f7fb00,0x7ffcd377eb30)
    00007ffcd377e500:  0000000000000001  0000000000000000 
    00007ffcd377e510:  0000000000000000  000000c420081fe0 
    00007ffcd377e520:  0000000000000000  0000000000000000 
    00007ffcd377e530:  00007fc3df8cb560  00007fc3df8cebc0 
    00007ffcd377e540:  000000c42006ffd0  0000561a50a793e0 <runtime.main+208> 
    00007ffcd377e550:  0000561a5176d970  0000000000000000 
    00007ffcd377e560:  0000000000000000  0000000000000000 
    00007ffcd377e570:  0000000000000000  0000000000000000 
    00007ffcd377e580:  0000000000000000  0000000000000000 
    00007ffcd377e590:  000000c420000180  0000000000000000 
    00007ffcd377e5a0:  0000561a50a793e0 <runtime.main+208>  0000561a5176d970 
    00007ffcd377e5b0:  0000000000000000  0000000000000000 
    00007ffcd377e5c0:  0000000000000000  0000000000000000 
    00007ffcd377e5d0:  0000000000000000  0000000000000000 
    00007ffcd377e5e0:  0000000000000000  000000c420000180 
    00007ffcd377e5f0:  0000000000000000  0000561a50aa4f31 <runtime.goexit+1> 
    00007ffcd377e600: <0000000000000000  0000000000000000 
    00007ffcd377e610:  0000000000000000  0000000000000000 
    00007ffcd377e620:  0000561a50a95582 <runtime.step+290>  0000561a517f1232 
    00007ffcd377e630:  000000000030da24  000000000030da24 
    00007ffcd377e640:  0000029300000002  00000050df8d7ec5 
    00007ffcd377e650:  000000000030da24  00007ffcd377e708 
    00007ffcd377e660:  0000561a50a94936 <runtime.pcvalue+342>  0000561a51807828 
    00007ffcd377e670:  00000000002f742e  00000000002f742e 
    00007ffcd377e680:  fffffffe7fffffff  ffffffffffffffff 
    00007ffcd377e690:  ffffffffffffffff  ffffffffffffffff 
    00007ffcd377e6a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffcd377e6b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffcd377e6c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffcd377e6d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffcd377e6e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffcd377e6f0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x561a51141a30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x561a50aa3bcf
    runtime.newm1(0xc420061000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x561a50a7d6b1
    runtime.newm(0x561a5176db08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x561a50a7d52f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x561a50a7d791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x561a50a794b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x561a50aa4f31
    
    rax    0x0
    rbx    0x7fc3df8cb840
    rcx    0x7fc3df51df47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffcd377e600
    rbp    0x561a5127332a
    rsp    0x7ffcd377e600
    r8     0x0
    r9     0x7ffcd377e600
    r10    0x8
    r11    0x246
    r12    0x561a51edc690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fc3df51df47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 5 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000088000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000088000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc00004b000, 0x4)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000073f01)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.resetspinning()
    	/usr/local/go/src/runtime/proc.go:2533 +0x59
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2684 +0x2b9
    runtime.mstart1()
    	/usr/local/go/src/runtime/proc.go:1179 +0x93
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1137 +0x6e
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x1bb7a80, 0xc0000420c8, 0x170e, 0x2)
    	/usr/local/go/src/runtime/proc.go:306 +0xe5
    runtime.chanrecv(0xc000042070, 0x0, 0xc000000101, 0x410101)
    	/usr/local/go/src/runtime/chan.go:577 +0x36f
    runtime.chanrecv1(0xc000042070, 0x0)
    	/usr/local/go/src/runtime/chan.go:439 +0x2b
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:220 +0xac
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fb599981f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fb599981f47
    stack: frame={sp:0x7ffede7c7280, fp:0x0} stack=[0x7ffeddfc8780,0x7ffede7c77b0)
    00007ffede7c7180:  0000000000000001  0000000000000000 
    00007ffede7c7190:  0000000000000000  000000c420081fe0 
    00007ffede7c71a0:  0000000000000000  0000000000000000 
    00007ffede7c71b0:  00007fb599d2f560  00007fb599d32bc0 
    00007ffede7c71c0:  000000c42006ffd0  00005602291f93e0 <runtime.main+208> 
    00007ffede7c71d0:  0000560229eed970  0000000000000000 
    00007ffede7c71e0:  0000000000000000  0000000000000000 
    00007ffede7c71f0:  0000000000000000  0000000000000000 
    00007ffede7c7200:  0000000000000000  0000000000000000 
    00007ffede7c7210:  000000c420000180  0000000000000000 
    00007ffede7c7220:  00005602291f93e0 <runtime.main+208>  0000560229eed970 
    00007ffede7c7230:  0000000000000000  0000000000000000 
    00007ffede7c7240:  0000000000000000  0000000000000000 
    00007ffede7c7250:  0000000000000000  0000000000000000 
    00007ffede7c7260:  0000000000000000  000000c420000180 
    00007ffede7c7270:  0000000000000000  0000560229224f31 <runtime.goexit+1> 
    00007ffede7c7280: <0000000000000000  0000000000000000 
    00007ffede7c7290:  0000000000000000  0000000000000000 
    00007ffede7c72a0:  0000560229215582 <runtime.step+290>  0000560229f71232 
    00007ffede7c72b0:  000000000030da24  000000000030da24 
    00007ffede7c72c0:  0000029300000002  0000005099d3bec5 
    00007ffede7c72d0:  000000000030da24  00007ffede7c7388 
    00007ffede7c72e0:  0000560229214936 <runtime.pcvalue+342>  0000560229f87828 
    00007ffede7c72f0:  00000000002f742e  00000000002f742e 
    00007ffede7c7300:  fffffffe7fffffff  ffffffffffffffff 
    00007ffede7c7310:  ffffffffffffffff  ffffffffffffffff 
    00007ffede7c7320:  ffffffffffffffff  ffffffffffffffff 
    00007ffede7c7330:  ffffffffffffffff  ffffffffffffffff 
    00007ffede7c7340:  ffffffffffffffff  ffffffffffffffff 
    00007ffede7c7350:  ffffffffffffffff  ffffffffffffffff 
    00007ffede7c7360:  ffffffffffffffff  ffffffffffffffff 
    00007ffede7c7370:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fb599981f47
    stack: frame={sp:0x7ffede7c7280, fp:0x0} stack=[0x7ffeddfc8780,0x7ffede7c77b0)
    00007ffede7c7180:  0000000000000001  0000000000000000 
    00007ffede7c7190:  0000000000000000  000000c420081fe0 
    00007ffede7c71a0:  0000000000000000  0000000000000000 
    00007ffede7c71b0:  00007fb599d2f560  00007fb599d32bc0 
    00007ffede7c71c0:  000000c42006ffd0  00005602291f93e0 <runtime.main+208> 
    00007ffede7c71d0:  0000560229eed970  0000000000000000 
    00007ffede7c71e0:  0000000000000000  0000000000000000 
    00007ffede7c71f0:  0000000000000000  0000000000000000 
    00007ffede7c7200:  0000000000000000  0000000000000000 
    00007ffede7c7210:  000000c420000180  0000000000000000 
    00007ffede7c7220:  00005602291f93e0 <runtime.main+208>  0000560229eed970 
    00007ffede7c7230:  0000000000000000  0000000000000000 
    00007ffede7c7240:  0000000000000000  0000000000000000 
    00007ffede7c7250:  0000000000000000  0000000000000000 
    00007ffede7c7260:  0000000000000000  000000c420000180 
    00007ffede7c7270:  0000000000000000  0000560229224f31 <runtime.goexit+1> 
    00007ffede7c7280: <0000000000000000  0000000000000000 
    00007ffede7c7290:  0000000000000000  0000000000000000 
    00007ffede7c72a0:  0000560229215582 <runtime.step+290>  0000560229f71232 
    00007ffede7c72b0:  000000000030da24  000000000030da24 
    00007ffede7c72c0:  0000029300000002  0000005099d3bec5 
    00007ffede7c72d0:  000000000030da24  00007ffede7c7388 
    00007ffede7c72e0:  0000560229214936 <runtime.pcvalue+342>  0000560229f87828 
    00007ffede7c72f0:  00000000002f742e  00000000002f742e 
    00007ffede7c7300:  fffffffe7fffffff  ffffffffffffffff 
    00007ffede7c7310:  ffffffffffffffff  ffffffffffffffff 
    00007ffede7c7320:  ffffffffffffffff  ffffffffffffffff 
    00007ffede7c7330:  ffffffffffffffff  ffffffffffffffff 
    00007ffede7c7340:  ffffffffffffffff  ffffffffffffffff 
    00007ffede7c7350:  ffffffffffffffff  ffffffffffffffff 
    00007ffede7c7360:  ffffffffffffffff  ffffffffffffffff 
    00007ffede7c7370:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x5602298c1a30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x560229223bcf
    runtime.newm1(0xc420061000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x5602291fd6b1
    runtime.newm(0x560229eedb08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x5602291fd52f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x5602291fd791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x5602291f94b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x560229224f31
    
    rax    0x0
    rbx    0x7fb599d2f840
    rcx    0x7fb599981f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffede7c7280
    rbp    0x5602299f332a
    rsp    0x7ffede7c7280
    r8     0x0
    r9     0x7ffede7c7280
    r10    0x8
    r11    0x246
    r12    0x56022bddd690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fb599981f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
