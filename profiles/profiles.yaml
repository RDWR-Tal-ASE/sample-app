apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7ffb55b2ef47 m=5 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7ffb55b2ef47
    stack: frame={sp:0x7ffb520da830, fp:0x0} stack=[0x7ffb518db288,0x7ffb520dae88)
    00007ffb520da730:  00007ffb520daaf0  00007ffb5611775a 
    00007ffb520da740:  000000000000000b  0000000000000000 
    00007ffb520da750:  00007ffb510d9700  000055a56d085148 
    00007ffb520da760:  00007ffb520dac40  000055a56d51c3f0 
    00007ffb520da770:  0000000000000000  000055a56c561d10 
    00007ffb520da780:  0000000000000000  00007ffb5610ff13 
    00007ffb520da790:  0000000000000005  0000000000000000 
    00007ffb520da7a0:  2525252525252525  2525252525252525 
    00007ffb520da7b0:  00000000000000ff  0000000000000000 
    00007ffb520da7c0:  00000000000000ff  0000000000000000 
    00007ffb520da7d0:  00007ffb3c000010  00007ffb3c000010 
    00007ffb520da7e0:  000000000000000e  000000000000000e 
    00007ffb520da7f0:  0000000000000000  0000000000000000 
    00007ffb520da800:  ffffffffffffffff  ffffffffffffffff 
    00007ffb520da810:  0000000400000004  0000000400000004 
    00007ffb520da820:  20636f6c6c616d00  203a64656c696166 
    00007ffb520da830: <0000000000000000  0000000000000000 
    00007ffb520da840:  0000000000000000  0000000000000000 
    00007ffb520da850:  0000000000000000  0000000000000000 
    00007ffb520da860:  0000000000000000  0000000000000000 
    00007ffb520da870:  0000000000000000  0000000000000000 
    00007ffb520da880:  0000000000000000  0000000000000000 
    00007ffb520da890:  0000000000000000  0000000000000000 
    00007ffb520da8a0:  0000000000000000  0000000000000000 
    00007ffb520da8b0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffb520da8c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffb520da8d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffb520da8e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffb520da8f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffb520da900:  ffffffffffffffff  ffffffffffffffff 
    00007ffb520da910:  ffffffffffffffff  ffffffffffffffff 
    00007ffb520da920:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7ffb55b2ef47
    stack: frame={sp:0x7ffb520da830, fp:0x0} stack=[0x7ffb518db288,0x7ffb520dae88)
    00007ffb520da730:  00007ffb520daaf0  00007ffb5611775a 
    00007ffb520da740:  000000000000000b  0000000000000000 
    00007ffb520da750:  00007ffb510d9700  000055a56d085148 
    00007ffb520da760:  00007ffb520dac40  000055a56d51c3f0 
    00007ffb520da770:  0000000000000000  000055a56c561d10 
    00007ffb520da780:  0000000000000000  00007ffb5610ff13 
    00007ffb520da790:  0000000000000005  0000000000000000 
    00007ffb520da7a0:  2525252525252525  2525252525252525 
    00007ffb520da7b0:  00000000000000ff  0000000000000000 
    00007ffb520da7c0:  00000000000000ff  0000000000000000 
    00007ffb520da7d0:  00007ffb3c000010  00007ffb3c000010 
    00007ffb520da7e0:  000000000000000e  000000000000000e 
    00007ffb520da7f0:  0000000000000000  0000000000000000 
    00007ffb520da800:  ffffffffffffffff  ffffffffffffffff 
    00007ffb520da810:  0000000400000004  0000000400000004 
    00007ffb520da820:  20636f6c6c616d00  203a64656c696166 
    00007ffb520da830: <0000000000000000  0000000000000000 
    00007ffb520da840:  0000000000000000  0000000000000000 
    00007ffb520da850:  0000000000000000  0000000000000000 
    00007ffb520da860:  0000000000000000  0000000000000000 
    00007ffb520da870:  0000000000000000  0000000000000000 
    00007ffb520da880:  0000000000000000  0000000000000000 
    00007ffb520da890:  0000000000000000  0000000000000000 
    00007ffb520da8a0:  0000000000000000  0000000000000000 
    00007ffb520da8b0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffb520da8c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffb520da8d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffb520da8e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffb520da8f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffb520da900:  ffffffffffffffff  ffffffffffffffff 
    00007ffb520da910:  ffffffffffffffff  ffffffffffffffff 
    00007ffb520da920:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [chan receive, locked to thread]:
    text/template/parse.(*lexer).nextItem(...)
    	/usr/lib/go-1.13/src/text/template/parse/lex.go:195
    text/template/parse.(*Tree).peek(...)
    	/usr/lib/go-1.13/src/text/template/parse/parse.go:95
    text/template/parse.(*Tree).parse(0xc00011c500)
    	/usr/lib/go-1.13/src/text/template/parse/parse.go:277 +0xbc6
    text/template/parse.(*Tree).Parse(0xc00011c500, 0x55a56c411440, 0x16c, 0x0, 0x0, 0x0, 0x0, 0xc0001c4720, 0xc000142350, 0x2, ...)
    	/usr/lib/go-1.13/src/text/template/parse/parse.go:230 +0x249
    text/template/parse.Parse(0x55a56c3b69b7, 0x4, 0x55a56c411440, 0x16c, 0x0, 0x0, 0x0, 0x0, 0xc000142350, 0x2, ...)
    	/usr/lib/go-1.13/src/text/template/parse/parse.go:55 +0x124
    text/template.(*Template).Parse(0xc00003d840, 0x55a56c411440, 0x16c, 0x4, 0xc0001095e8, 0x55a56d0a0760)
    	/usr/lib/go-1.13/src/text/template/template.go:200 +0x113
    github.com/snapcore/snapd/systemd.init()
    	/build/snapd/parts/snapd-deb/build/systemd/systemd.go:1281 +0x3ad
    
    goroutine 6 [syscall]:
    os/signal.signal_recv(0x0)
    	/usr/lib/go-1.13/src/runtime/sigqueue.go:147 +0x9e
    os/signal.loop()
    	/usr/lib/go-1.13/src/os/signal/signal_unix.go:23 +0x24
    created by os/signal.init.0
    	/usr/lib/go-1.13/src/os/signal/signal_unix.go:29 +0x43
    
    goroutine 7 [runnable]:
    text/template/parse.(*lexer).run(0xc00014a630)
    	/usr/lib/go-1.13/src/text/template/parse/lex.go:228
    created by text/template/parse.lex
    	/usr/lib/go-1.13/src/text/template/parse/lex.go:223 +0x192
    
    rax    0x0
    rbx    0x7ffb55edc840
    rcx    0x7ffb55b2ef47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffb520da830
    rbp    0x55a56c57be7c
    rsp    0x7ffb520da830
    r8     0x0
    r9     0x7ffb520da830
    r10    0x8
    r11    0x246
    r12    0x55a56d51c3f0
    r13    0x0
    r14    0x55a56c561d10
    r15    0x0
    rip    0x7ffb55b2ef47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 6 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000100000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000100000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc00004d800, 0x5)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000099f01)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.resetspinning()
    	/usr/local/go/src/runtime/proc.go:2533 +0x59
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2684 +0x2b9
    runtime.mstart1()
    	/usr/local/go/src/runtime/proc.go:1179 +0x93
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1137 +0x6e
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x1bb7a80, 0xc0000420c8, 0x170e, 0x2)
    	/usr/local/go/src/runtime/proc.go:306 +0xe5
    runtime.chanrecv(0xc000042070, 0x0, 0xc000000101, 0x410101)
    	/usr/local/go/src/runtime/chan.go:577 +0x36f
    runtime.chanrecv1(0xc000042070, 0x0)
    	/usr/local/go/src/runtime/chan.go:439 +0x2b
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:220 +0xac
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f50b5acdf47 m=5 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f50b5acdf47
    stack: frame={sp:0x7f50b2079830, fp:0x0} stack=[0x7f50b187a288,0x7f50b2079e88)
    00007f50b2079730:  00007f50b2079af0  00007f50b60b675a 
    00007f50b2079740:  000000000000000b  0000000000000000 
    00007f50b2079750:  00007f50b1078700  000055ac1e94b148 
    00007f50b2079760:  00007f50b2079c40  000055ac1f2b03f0 
    00007f50b2079770:  0000000000000000  000055ac1de27d10 
    00007f50b2079780:  0000000000000000  00007f50b60aef13 
    00007f50b2079790:  0000000000000005  0000000000000000 
    00007f50b20797a0:  2525252525252525  2525252525252525 
    00007f50b20797b0:  00000000000000ff  0000000000000000 
    00007f50b20797c0:  00000000000000ff  0000000000000000 
    00007f50b20797d0:  00007f509c000010  00007f509c000010 
    00007f50b20797e0:  000000000000000e  000000000000000e 
    00007f50b20797f0:  0000000000000000  0000000000000000 
    00007f50b2079800:  ffffffffffffffff  ffffffffffffffff 
    00007f50b2079810:  0000000400000004  0000000400000004 
    00007f50b2079820:  20636f6c6c616d00  203a64656c696166 
    00007f50b2079830: <0000000000000000  0000000000000000 
    00007f50b2079840:  0000000000000000  0000000000000000 
    00007f50b2079850:  0000000000000000  0000000000000000 
    00007f50b2079860:  0000000000000000  0000000000000000 
    00007f50b2079870:  0000000000000000  0000000000000000 
    00007f50b2079880:  0000000000000000  0000000000000000 
    00007f50b2079890:  0000000000000000  0000000000000000 
    00007f50b20798a0:  0000000000000000  0000000000000000 
    00007f50b20798b0:  fffffffe7fffffff  ffffffffffffffff 
    00007f50b20798c0:  ffffffffffffffff  ffffffffffffffff 
    00007f50b20798d0:  ffffffffffffffff  ffffffffffffffff 
    00007f50b20798e0:  ffffffffffffffff  ffffffffffffffff 
    00007f50b20798f0:  ffffffffffffffff  ffffffffffffffff 
    00007f50b2079900:  ffffffffffffffff  ffffffffffffffff 
    00007f50b2079910:  ffffffffffffffff  ffffffffffffffff 
    00007f50b2079920:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f50b5acdf47
    stack: frame={sp:0x7f50b2079830, fp:0x0} stack=[0x7f50b187a288,0x7f50b2079e88)
    00007f50b2079730:  00007f50b2079af0  00007f50b60b675a 
    00007f50b2079740:  000000000000000b  0000000000000000 
    00007f50b2079750:  00007f50b1078700  000055ac1e94b148 
    00007f50b2079760:  00007f50b2079c40  000055ac1f2b03f0 
    00007f50b2079770:  0000000000000000  000055ac1de27d10 
    00007f50b2079780:  0000000000000000  00007f50b60aef13 
    00007f50b2079790:  0000000000000005  0000000000000000 
    00007f50b20797a0:  2525252525252525  2525252525252525 
    00007f50b20797b0:  00000000000000ff  0000000000000000 
    00007f50b20797c0:  00000000000000ff  0000000000000000 
    00007f50b20797d0:  00007f509c000010  00007f509c000010 
    00007f50b20797e0:  000000000000000e  000000000000000e 
    00007f50b20797f0:  0000000000000000  0000000000000000 
    00007f50b2079800:  ffffffffffffffff  ffffffffffffffff 
    00007f50b2079810:  0000000400000004  0000000400000004 
    00007f50b2079820:  20636f6c6c616d00  203a64656c696166 
    00007f50b2079830: <0000000000000000  0000000000000000 
    00007f50b2079840:  0000000000000000  0000000000000000 
    00007f50b2079850:  0000000000000000  0000000000000000 
    00007f50b2079860:  0000000000000000  0000000000000000 
    00007f50b2079870:  0000000000000000  0000000000000000 
    00007f50b2079880:  0000000000000000  0000000000000000 
    00007f50b2079890:  0000000000000000  0000000000000000 
    00007f50b20798a0:  0000000000000000  0000000000000000 
    00007f50b20798b0:  fffffffe7fffffff  ffffffffffffffff 
    00007f50b20798c0:  ffffffffffffffff  ffffffffffffffff 
    00007f50b20798d0:  ffffffffffffffff  ffffffffffffffff 
    00007f50b20798e0:  ffffffffffffffff  ffffffffffffffff 
    00007f50b20798f0:  ffffffffffffffff  ffffffffffffffff 
    00007f50b2079900:  ffffffffffffffff  ffffffffffffffff 
    00007f50b2079910:  ffffffffffffffff  ffffffffffffffff 
    00007f50b2079920:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [chan receive, locked to thread]:
    text/template/parse.(*lexer).nextItem(...)
    	/usr/lib/go-1.13/src/text/template/parse/lex.go:195
    text/template/parse.(*Tree).peek(...)
    	/usr/lib/go-1.13/src/text/template/parse/parse.go:95
    text/template/parse.(*Tree).parse(0xc00011c500)
    	/usr/lib/go-1.13/src/text/template/parse/parse.go:277 +0xbc6
    text/template/parse.(*Tree).Parse(0xc00011c500, 0x55ac1dcd7440, 0x16c, 0x0, 0x0, 0x0, 0x0, 0xc0001c4720, 0xc000142350, 0x2, ...)
    	/usr/lib/go-1.13/src/text/template/parse/parse.go:230 +0x249
    text/template/parse.Parse(0x55ac1dc7c9b7, 0x4, 0x55ac1dcd7440, 0x16c, 0x0, 0x0, 0x0, 0x0, 0xc000142350, 0x2, ...)
    	/usr/lib/go-1.13/src/text/template/parse/parse.go:55 +0x124
    text/template.(*Template).Parse(0xc00003d840, 0x55ac1dcd7440, 0x16c, 0x4, 0xc000109708, 0x55ac1e966760)
    	/usr/lib/go-1.13/src/text/template/template.go:200 +0x113
    github.com/snapcore/snapd/systemd.init()
    	/build/snapd/parts/snapd-deb/build/systemd/systemd.go:1281 +0x3ad
    
    goroutine 6 [syscall]:
    os/signal.signal_recv(0x0)
    	/usr/lib/go-1.13/src/runtime/sigqueue.go:147 +0x9e
    os/signal.loop()
    	/usr/lib/go-1.13/src/os/signal/signal_unix.go:23 +0x24
    created by os/signal.init.0
    	/usr/lib/go-1.13/src/os/signal/signal_unix.go:29 +0x43
    
    goroutine 7 [runnable]:
    text/template/parse.(*lexer).run(0xc00014a630)
    	/usr/lib/go-1.13/src/text/template/parse/lex.go:228
    created by text/template/parse.lex
    	/usr/lib/go-1.13/src/text/template/parse/lex.go:223 +0x192
    
    rax    0x0
    rbx    0x7f50b5e7b840
    rcx    0x7f50b5acdf47
    rdx    0x0
    rdi    0x2
    rsi    0x7f50b2079830
    rbp    0x55ac1de41e7c
    rsp    0x7f50b2079830
    r8     0x0
    r9     0x7f50b2079830
    r10    0x8
    r11    0x246
    r12    0x55ac1f2b03f0
    r13    0x0
    r14    0x55ac1de27d10
    r15    0x0
    rip    0x7f50b5acdf47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
