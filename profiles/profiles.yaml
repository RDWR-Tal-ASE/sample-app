apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f9676821f47 m=4 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f9676821f47
    stack: frame={sp:0x7f966b5ce830, fp:0x0} stack=[0x7f966adcf288,0x7f966b5cee88)
    00007f966b5ce730:  0000000000000000  0000000000000000 
    00007f966b5ce740:  0000000000000000  0000000000000000 
    00007f966b5ce750:  0000000000000000  000055c727d76148 
    00007f966b5ce760:  00007f966b5cec40  000055c728c9f540 
    00007f966b5ce770:  0000000000000000  000055c727252d10 
    00007f966b5ce780:  0000000000000000  00007f9676e02f13 
    00007f966b5ce790:  0000000000000005  0000000000000000 
    00007f966b5ce7a0:  2525252525252525  2525252525252525 
    00007f966b5ce7b0:  00000000000000ff  0000000000000000 
    00007f966b5ce7c0:  00000000000000ff  0000000000000000 
    00007f966b5ce7d0:  0000000000000001  0000000000000012 
    00007f966b5ce7e0:  000000000000000e  000000000000000e 
    00007f966b5ce7f0:  0000000000000000  0000000000000000 
    00007f966b5ce800:  ffffffffffffffff  ffffffffffffffff 
    00007f966b5ce810:  0000000400000004  0000000400000004 
    00007f966b5ce820:  20636f6c6c616d00  203a64656c696166 
    00007f966b5ce830: <0000000000000000  0000000000000000 
    00007f966b5ce840:  0000000000000000  0000000000000000 
    00007f966b5ce850:  0000000000000000  0000000000000000 
    00007f966b5ce860:  0000000000000000  0000000000000000 
    00007f966b5ce870:  0000000000000000  0000000000000000 
    00007f966b5ce880:  0000000000000000  0000000000000000 
    00007f966b5ce890:  0000000000000000  0000000000000000 
    00007f966b5ce8a0:  0000000000000000  0000000000000000 
    00007f966b5ce8b0:  fffffffe7fffffff  ffffffffffffffff 
    00007f966b5ce8c0:  ffffffffffffffff  ffffffffffffffff 
    00007f966b5ce8d0:  ffffffffffffffff  ffffffffffffffff 
    00007f966b5ce8e0:  ffffffffffffffff  ffffffffffffffff 
    00007f966b5ce8f0:  ffffffffffffffff  ffffffffffffffff 
    00007f966b5ce900:  ffffffffffffffff  ffffffffffffffff 
    00007f966b5ce910:  ffffffffffffffff  ffffffffffffffff 
    00007f966b5ce920:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f9676821f47
    stack: frame={sp:0x7f966b5ce830, fp:0x0} stack=[0x7f966adcf288,0x7f966b5cee88)
    00007f966b5ce730:  0000000000000000  0000000000000000 
    00007f966b5ce740:  0000000000000000  0000000000000000 
    00007f966b5ce750:  0000000000000000  000055c727d76148 
    00007f966b5ce760:  00007f966b5cec40  000055c728c9f540 
    00007f966b5ce770:  0000000000000000  000055c727252d10 
    00007f966b5ce780:  0000000000000000  00007f9676e02f13 
    00007f966b5ce790:  0000000000000005  0000000000000000 
    00007f966b5ce7a0:  2525252525252525  2525252525252525 
    00007f966b5ce7b0:  00000000000000ff  0000000000000000 
    00007f966b5ce7c0:  00000000000000ff  0000000000000000 
    00007f966b5ce7d0:  0000000000000001  0000000000000012 
    00007f966b5ce7e0:  000000000000000e  000000000000000e 
    00007f966b5ce7f0:  0000000000000000  0000000000000000 
    00007f966b5ce800:  ffffffffffffffff  ffffffffffffffff 
    00007f966b5ce810:  0000000400000004  0000000400000004 
    00007f966b5ce820:  20636f6c6c616d00  203a64656c696166 
    00007f966b5ce830: <0000000000000000  0000000000000000 
    00007f966b5ce840:  0000000000000000  0000000000000000 
    00007f966b5ce850:  0000000000000000  0000000000000000 
    00007f966b5ce860:  0000000000000000  0000000000000000 
    00007f966b5ce870:  0000000000000000  0000000000000000 
    00007f966b5ce880:  0000000000000000  0000000000000000 
    00007f966b5ce890:  0000000000000000  0000000000000000 
    00007f966b5ce8a0:  0000000000000000  0000000000000000 
    00007f966b5ce8b0:  fffffffe7fffffff  ffffffffffffffff 
    00007f966b5ce8c0:  ffffffffffffffff  ffffffffffffffff 
    00007f966b5ce8d0:  ffffffffffffffff  ffffffffffffffff 
    00007f966b5ce8e0:  ffffffffffffffff  ffffffffffffffff 
    00007f966b5ce8f0:  ffffffffffffffff  ffffffffffffffff 
    00007f966b5ce900:  ffffffffffffffff  ffffffffffffffff 
    00007f966b5ce910:  ffffffffffffffff  ffffffffffffffff 
    00007f966b5ce920:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [chan receive, locked to thread]:
    text/template/parse.(*lexer).nextItem(...)
    	/usr/lib/go-1.13/src/text/template/parse/lex.go:195
    text/template/parse.(*Tree).next(...)
    	/usr/lib/go-1.13/src/text/template/parse/parse.go:64
    text/template/parse.(*Tree).nextNonSpace(0xc00010e500, 0x0, 0x0, 0x0, 0x0, 0x0)
    	/usr/lib/go-1.13/src/text/template/parse/parse.go:102 +0x14e
    text/template/parse.(*Tree).expect(0xc00010e500, 0xf, 0x55c7270a7067, 0x3, 0x0, 0x0, 0x0, 0x0, 0x0)
    	/usr/lib/go-1.13/src/text/template/parse/parse.go:168 +0x61
    text/template/parse.(*Tree).endControl(...)
    	/usr/lib/go-1.13/src/text/template/parse/parse.go:516
    text/template/parse.(*Tree).action(0xc00010e500, 0xa, 0x162)
    	/usr/lib/go-1.13/src/text/template/parse/parse.go:364 +0x38a
    text/template/parse.(*Tree).textOrAction(0xc00010e500, 0xa, 0x162)
    	/usr/lib/go-1.13/src/text/template/parse/parse.go:345 +0x295
    text/template/parse.(*Tree).itemList(0xc00010e500, 0x55c7270a79eb, 0x4, 0xc000260120)
    	/usr/lib/go-1.13/src/text/template/parse/parse.go:327 +0xfb
    text/template/parse.(*Tree).parseControl(0xc00010e500, 0xdd1000, 0x55c7270a79eb, 0x4, 0x0, 0x0, 0xc000260120, 0x0, 0x0)
    	/usr/lib/go-1.13/src/text/template/parse/parse.go:459 +0x102
    text/template/parse.(*Tree).withControl(0xc00010e500, 0x1f, 0x13f)
    	/usr/lib/go-1.13/src/text/template/parse/parse.go:509 +0x4e
    text/template/parse.(*Tree).action(0xc00010e500, 0xa, 0x13b)
    	/usr/lib/go-1.13/src/text/template/parse/parse.go:372 +0x55f
    text/template/parse.(*Tree).textOrAction(0xc00010e500, 0x1f, 0x13f)
    	/usr/lib/go-1.13/src/text/template/parse/parse.go:345 +0x295
    text/template/parse.(*Tree).parse(0xc00010e500)
    	/usr/lib/go-1.13/src/text/template/parse/parse.go:291 +0x383
    text/template/parse.(*Tree).Parse(0xc00010e500, 0x55c727102440, 0x16c, 0x0, 0x0, 0x0, 0x0, 0xc0001b6720, 0xc000134350, 0x2, ...)
    	/usr/lib/go-1.13/src/text/template/parse/parse.go:230 +0x249
    text/template/parse.Parse(0x55c7270a79b7, 0x4, 0x55c727102440, 0x16c, 0x0, 0x0, 0x0, 0x0, 0xc000134350, 0x2, ...)
    	/usr/lib/go-1.13/src/text/template/parse/parse.go:55 +0x124
    text/template.(*Template).Parse(0xc00003d840, 0x55c727102440, 0x16c, 0x4, 0xc0000fb5e8, 0x55c727d91760)
    	/usr/lib/go-1.13/src/text/template/template.go:200 +0x113
    github.com/snapcore/snapd/systemd.init()
    	/build/snapd/parts/snapd-deb/build/systemd/systemd.go:1281 +0x3ad
    
    goroutine 6 [syscall]:
    os/signal.signal_recv(0x0)
    	/usr/lib/go-1.13/src/runtime/sigqueue.go:147 +0x9e
    os/signal.loop()
    	/usr/lib/go-1.13/src/os/signal/signal_unix.go:23 +0x24
    created by os/signal.init.0
    	/usr/lib/go-1.13/src/os/signal/signal_unix.go:29 +0x43
    
    goroutine 7 [runnable]:
    text/template/parse.(*lexer).emit(...)
    	/usr/lib/go-1.13/src/text/template/parse/lex.go:157
    text/template/parse.lexIdentifier(0xc00013c630, 0x55c727821878)
    	/usr/lib/go-1.13/src/text/template/parse/lex.go:462 +0x534
    text/template/parse.(*lexer).run(0xc00013c630)
    	/usr/lib/go-1.13/src/text/template/parse/lex.go:230 +0x39
    created by text/template/parse.lex
    	/usr/lib/go-1.13/src/text/template/parse/lex.go:223 +0x192
    
    rax    0x0
    rbx    0x7f9676bcf840
    rcx    0x7f9676821f47
    rdx    0x0
    rdi    0x2
    rsi    0x7f966b5ce830
    rbp    0x55c72726ce7c
    rsp    0x7f966b5ce830
    r8     0x0
    r9     0x7f966b5ce830
    r10    0x8
    r11    0x246
    r12    0x55c728c9f540
    r13    0x0
    r14    0x55c727252d10
    r15    0x0
    rip    0x7f9676821f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 5 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc0002f0800)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc0002f0800)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x0, 0xc000046000, 0x4)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0xc000046000, 0x2a6cc00)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.handoffp(0xc000046000)
    	/usr/local/go/src/runtime/proc.go:2001 +0x52
    runtime.entersyscallblock_handoff()
    	/usr/local/go/src/runtime/proc.go:3213 +0x30
    runtime.systemstack(0x46c2f4)
    	/usr/local/go/src/runtime/asm_amd64.s:370 +0x66
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1116
    
    goroutine 1 [syscall, locked to thread]:
    runtime.notetsleepg(0x2a9eb78, 0xffffffffffffffff, 0xc000046000)
    	/usr/local/go/src/runtime/lock_futex.go:235 +0x34 fp=0xc000426098 sp=0xc000426068 pc=0x40c454
    runtime.gcBgMarkStartWorkers()
    	/usr/local/go/src/runtime/mgc.go:1840 +0x90 fp=0xc0004260d8 sp=0xc000426098 pc=0x41d150
    runtime.gcStart(0x0, 0x0, 0x0)
    	/usr/local/go/src/runtime/mgc.go:1296 +0x1ca fp=0xc000426150 sp=0xc0004260d8 pc=0x41bc2a
    runtime.mallocgc(0x240, 0x19ce1a0, 0x6e8d01, 0xc00049e918)
    	/usr/local/go/src/runtime/malloc.go:1153 +0x470 fp=0xc0004261f0 sp=0xc000426150 pc=0x40da30
    reflect.unsafe_New(0x19ce1a0, 0x93a)
    	/usr/local/go/src/runtime/malloc.go:1200 +0x38 fp=0xc000426220 sp=0xc0004261f0 pc=0x467538
    reflect.Zero(0x1d4e220, 0x19ce1a0, 0x19ce1a0, 0xc0003c7061, 0x8)
    	/usr/local/go/src/reflect/value.go:2373 +0x5d fp=0xc000426250 sp=0xc000426220 pc=0x4a2c5d
    encoding/json.(*decodeState).object(0xc00049e8f0, 0x18bc100, 0xc0004a3ca0, 0x195, 0xc00049e918, 0x7b)
    	/usr/local/go/src/encoding/json/decode.go:691 +0x457 fp=0xc0004264e0 sp=0xc000426250 pc=0x6eab97
    encoding/json.(*decodeState).value(0xc00049e8f0, 0x18bc100, 0xc0004a3ca0, 0x195, 0x18bc100, 0xc0004a3ca0)
    	/usr/local/go/src/encoding/json/decode.go:370 +0x6d fp=0xc000426548 sp=0xc0004264e0 pc=0x6e904d
    encoding/json.(*decodeState).object(0xc00049e8f0, 0x1815520, 0xc0004a3b00, 0x16, 0xc00049e918, 0x7b)
    	/usr/local/go/src/encoding/json/decode.go:765 +0x12fe fp=0xc0004267d8 sp=0xc000426548 pc=0x6eba3e
    encoding/json.(*decodeState).value(0xc00049e8f0, 0x1815520, 0xc0004a3b00, 0x16, 0xc000426888, 0x6fa8ab)
    	/usr/local/go/src/encoding/json/decode.go:370 +0x6d fp=0xc000426840 sp=0xc0004267d8 pc=0x6e904d
    encoding/json.(*decodeState).unmarshal(0xc00049e8f0, 0x1815520, 0xc0004a3b00, 0xc00049e918, 0x0)
    	/usr/local/go/src/encoding/json/decode.go:180 +0x1ea fp=0xc0004268c8 sp=0xc000426840 pc=0x6e87ca
    encoding/json.Unmarshal(0xc0003c67b5, 0x9e1, 0xb64b, 0x1815520, 0xc0004a3b00, 0x26, 0x0)
    	/usr/local/go/src/encoding/json/decode.go:107 +0x112 fp=0xc000426910 sp=0xc0004268c8 pc=0x6e8172
    k8s.io/kubernetes/vendor/github.com/go-openapi/spec.(*Schema).UnmarshalJSON(0xc0003f5d40, 0xc0003c67b5, 0x9e1, 0xb64b, 0x7f73738c03c0, 0xc0003f5d40)
    	/workspace/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/vendor/github.com/go-openapi/spec/schema.go:555 +0x8b fp=0xc000426c18 sp=0xc000426910 pc=0x12e334b
    encoding/json.(*decodeState).object(0xc0000be9a0, 0x19ce1a0, 0xc0003f5d40, 0x199, 0xc0000be9c8, 0x7b)
    	/usr/local/go/src/encoding/json/decode.go:609 +0x207c fp=0xc000426ea8 sp=0xc000426c18 pc=0x6ec7bc
    encoding/json.(*decodeState).value(0xc0000be9a0, 0x19ce1a0, 0xc0003f5d40, 0x199, 0xc0004a38c0, 0x99)
    	/usr/local/go/src/encoding/json/decode.go:370 +0x6d fp=0xc000426f10 sp=0xc000426ea8 pc=0x6e904d
    encoding/json.(*decodeState).object(0xc0000be9a0, 0x18e59a0, 0xc00037fcc8, 0x195, 0xc0000be9c8, 0x7b)
    	/usr/local/go/src/encoding/json/decode.go:765 +0x12fe fp=0xc0004271a0 sp=0xc000426f10 pc=0x6eba3e
    encoding/json.(*decodeState).value(0xc0000be9a0, 0x18e59a0, 0xc00037fcc8, 0x195, 0x18e59a0, 0xc00037fcc8)
    	/usr/local/go/src/encoding/json/decode.go:370 +0x6d fp=0xc000427208 sp=0xc0004271a0 pc=0x6e904d
    encoding/json.(*decodeState).object(0xc0000be9a0, 0x1815520, 0xc00037fb00, 0x16, 0xc0000be9c8, 0x7b)
    	/usr/local/go/src/encoding/json/decode.go:765 +0x12fe fp=0xc000427498 sp=0xc000427208 pc=0x6eba3e
    encoding/json.(*decodeState).value(0xc0000be9a0, 0x1815520, 0xc00037fb00, 0x16, 0xc0000fb548, 0x6fa8ab)
    	/usr/local/go/src/encoding/json/decode.go:370 +0x6d fp=0xc000427500 sp=0xc000427498 pc=0x6e904d
    encoding/json.(*decodeState).unmarshal(0xc0000be9a0, 0x1815520, 0xc00037fb00, 0xc0000be9c8, 0x0)
    	/usr/local/go/src/encoding/json/decode.go:180 +0x1ea fp=0xc000427588 sp=0xc000427500 pc=0x6e87ca
    encoding/json.Unmarshal(0xc0003c2000, 0x9d38, 0xfe00, 0x1815520, 0xc00037fb00, 0x7f73739208e0, 0x0)
    	/usr/local/go/src/encoding/json/decode.go:107 +0x112 fp=0xc0004275d0 sp=0xc000427588 pc=0x6e8172
    k8s.io/kubernetes/vendor/github.com/go-openapi/spec.(*Schema).UnmarshalJSON(0xc00037f8c0, 0xc0003c2000, 0x9d38, 0xfe00, 0x7f73738c03c0, 0xc00037f8c0)
    	/workspace/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/vendor/github.com/go-openapi/spec/schema.go:555 +0x8b fp=0xc0004278d8 sp=0xc0004275d0 pc=0x12e334b
    encoding/json.(*decodeState).object(0xc0000be8f0, 0x1a89300, 0xc00037f8c0, 0x16, 0xc0000be918, 0x7b)
    	/usr/local/go/src/encoding/json/decode.go:609 +0x207c fp=0xc000427b68 sp=0xc0004278d8 pc=0x6ec7bc
    encoding/json.(*decodeState).value(0xc0000be8f0, 0x1a89300, 0xc00037f8c0, 0x16, 0xc0000fbc18, 0x6fa8ab)
    	/usr/local/go/src/encoding/json/decode.go:370 +0x6d fp=0xc000427bd0 sp=0xc000427b68 pc=0x6e904d
    encoding/json.(*decodeState).unmarshal(0xc0000be8f0, 0x1a89300, 0xc00037f8c0, 0xc0000be918, 0x0)
    	/usr/local/go/src/encoding/json/decode.go:180 +0x1ea fp=0xc000427c58 sp=0xc000427bd0 pc=0x6e87ca
    encoding/json.Unmarshal(0xc0003c2000, 0x9d39, 0xfe00, 0x1a89300, 0xc00037f8c0, 0x0, 0x0)
    	/usr/local/go/src/encoding/json/decode.go:107 +0x112 fp=0xc000427ca0 sp=0xc000427c58 pc=0x6e8172
    k8s.io/kubernetes/vendor/github.com/go-openapi/spec.Swagger20Schema(0xc000377b30, 0xc0000fbd68, 0x12e538a)
    	/workspace/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/vendor/github.com/go-openapi/spec/spec.go:82 +0xb8 fp=0xc000427d08 sp=0xc000427ca0 pc=0x12e3bb8
    k8s.io/kubernetes/vendor/github.com/go-openapi/spec.MustLoadSwagger20Schema(...)
    	/workspace/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/vendor/github.com/go-openapi/spec/spec.go:66
    k8s.io/kubernetes/vendor/github.com/go-openapi/spec.initResolutionCache(0xc000377a70, 0xc000377a40)
    	/workspace/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/vendor/github.com/go-openapi/spec/cache.go:57 +0x35 fp=0xc000427d58 sp=0xc000427d08 pc=0x12dedb5
    k8s.io/kubernetes/vendor/github.com/go-openapi/spec.init.0()
    	/workspace/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/vendor/github.com/go-openapi/spec/cache.go:51 +0x25 fp=0xc000427d78 sp=0xc000427d58 pc=0x12ded25
    runtime.doInit(0x288d900)
    	/usr/local/go/src/runtime/proc.go:5646 +0x8a fp=0xc000427da8 sp=0xc000427d78 pc=0x446f8a
    runtime.doInit(0x2884b40)
    	/usr/local/go/src/runtime/proc.go:5641 +0x57 fp=0xc000427dd8 sp=0xc000427da8 pc=0x446f57
    runtime.doInit(0x2883340)
    	/usr/local/go/src/runtime/proc.go:5641 +0x57 fp=0xc000427e08 sp=0xc000427dd8 pc=0x446f57
    runtime.doInit(0x287fd40)
    	/usr/local/go/src/runtime/proc.go:5641 +0x57 fp=0xc000427e38 sp=0xc000427e08 pc=0x446f57
    runtime.doInit(0x287c780)
    	/usr/local/go/src/runtime/proc.go:5641 +0x57 fp=0xc000427e68 sp=0xc000427e38 pc=0x446f57
    runtime.doInit(0x287c740)
    	/usr/local/go/src/runtime/proc.go:5641 +0x57 fp=0xc000427e98 sp=0xc000427e68 pc=0x446f57
    runtime.doInit(0x287c700)
    	/usr/local/go/src/runtime/proc.go:5641 +0x57 fp=0xc000427ec8 sp=0xc000427e98 pc=0x446f57
    runtime.doInit(0x288ff40)
    	/usr/local/go/src/runtime/proc.go:5641 +0x57 fp=0xc000427ef8 sp=0xc000427ec8 pc=0x446f57
    runtime.doInit(0x288c0e0)
    	/usr/local/go/src/runtime/proc.go:5641 +0x57 fp=0xc000427f28 sp=0xc000427ef8 pc=0x446f57
    runtime.doInit(0x28926a0)
    	/usr/local/go/src/runtime/proc.go:5641 +0x57 fp=0xc000427f58 sp=0xc000427f28 pc=0x446f57
    runtime.doInit(0x2882980)
    	/usr/local/go/src/runtime/proc.go:5641 +0x57 fp=0xc000427f88 sp=0xc000427f58 pc=0x446f57
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:191 +0x1c5 fp=0xc000427fe0 sp=0xc000427f88 pc=0x439c05
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1 fp=0xc000427fe8 sp=0xc000427fe0 pc=0x46e061
    
    goroutine 6 [chan receive]:
    k8s.io/kubernetes/vendor/k8s.io/klog/v2.(*loggingT).flushDaemon(0x2a6c040)
    	/workspace/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/vendor/k8s.io/klog/v2/klog.go:1169 +0x8b
    created by k8s.io/kubernetes/vendor/k8s.io/klog/v2.init.0
    	/workspace/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/vendor/k8s.io/klog/v2/klog.go:417 +0xdf
    system_key.go:147: cannot determine seccomp compiler version in generateSystemKey: fork/exec /snap/snapd/15534/usr/lib/snapd/snap-seccomp: resource temporarily unavailable
