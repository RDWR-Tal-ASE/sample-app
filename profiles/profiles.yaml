apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fbeb7a3cf47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fbeb7a3cf47
    stack: frame={sp:0x7ffd19e21790, fp:0x0} stack=[0x7ffd19622c90,0x7ffd19e21cc0)
    00007ffd19e21690:  0000000000000001  0000000000000000 
    00007ffd19e216a0:  0000000000000000  0000000000000000 
    00007ffd19e216b0:  00007fbeb7dea560  00007fbeb7dedbc0 
    00007ffd19e216c0:  000000c42006ffd0  000056186944e3e0 <runtime.main+208> 
    00007ffd19e216d0:  000056186a142970  0000000000000000 
    00007ffd19e216e0:  0000000000000000  0000000000000000 
    00007ffd19e216f0:  0000000000000000  0000000000000000 
    00007ffd19e21700:  0000000000000000  0000000000000000 
    00007ffd19e21710:  000000c420000180  0000000000000000 
    00007ffd19e21720:  000056186944e3e0 <runtime.main+208>  000056186a142970 
    00007ffd19e21730:  0000000000000000  0000000000000000 
    00007ffd19e21740:  0000000000000000  0000000000000000 
    00007ffd19e21750:  0000000000000000  0000000000000000 
    00007ffd19e21760:  0000000000000000  000000c420000180 
    00007ffd19e21770:  0000000000000000  0000561869479f31 <runtime.goexit+1> 
    00007ffd19e21780:  0000000000000000  0000000000000000 
    00007ffd19e21790: <0000000000000000  0000000000000000 
    00007ffd19e217a0:  00007fbeb822e0d0  00007ffd19e217e8 
    00007ffd19e217b0:  000056186946a582 <runtime.step+290>  000056186a1c6232 
    00007ffd19e217c0:  000000000030da24  000000000030da24 
    00007ffd19e217d0:  0000029300000002  00000050b7df6ec5 
    00007ffd19e217e0:  000000000030da24  00007ffd19e21898 
    00007ffd19e217f0:  0000561869469936 <runtime.pcvalue+342>  000056186a1dc828 
    00007ffd19e21800:  0000000000000002  0000000000000000 
    00007ffd19e21810:  fffffffe7fffffff  ffffffffffffffff 
    00007ffd19e21820:  ffffffffffffffff  ffffffffffffffff 
    00007ffd19e21830:  ffffffffffffffff  ffffffffffffffff 
    00007ffd19e21840:  ffffffffffffffff  ffffffffffffffff 
    00007ffd19e21850:  ffffffffffffffff  ffffffffffffffff 
    00007ffd19e21860:  ffffffffffffffff  ffffffffffffffff 
    00007ffd19e21870:  ffffffffffffffff  ffffffffffffffff 
    00007ffd19e21880:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fbeb7a3cf47
    stack: frame={sp:0x7ffd19e21790, fp:0x0} stack=[0x7ffd19622c90,0x7ffd19e21cc0)
    00007ffd19e21690:  0000000000000001  0000000000000000 
    00007ffd19e216a0:  0000000000000000  0000000000000000 
    00007ffd19e216b0:  00007fbeb7dea560  00007fbeb7dedbc0 
    00007ffd19e216c0:  000000c42006ffd0  000056186944e3e0 <runtime.main+208> 
    00007ffd19e216d0:  000056186a142970  0000000000000000 
    00007ffd19e216e0:  0000000000000000  0000000000000000 
    00007ffd19e216f0:  0000000000000000  0000000000000000 
    00007ffd19e21700:  0000000000000000  0000000000000000 
    00007ffd19e21710:  000000c420000180  0000000000000000 
    00007ffd19e21720:  000056186944e3e0 <runtime.main+208>  000056186a142970 
    00007ffd19e21730:  0000000000000000  0000000000000000 
    00007ffd19e21740:  0000000000000000  0000000000000000 
    00007ffd19e21750:  0000000000000000  0000000000000000 
    00007ffd19e21760:  0000000000000000  000000c420000180 
    00007ffd19e21770:  0000000000000000  0000561869479f31 <runtime.goexit+1> 
    00007ffd19e21780:  0000000000000000  0000000000000000 
    00007ffd19e21790: <0000000000000000  0000000000000000 
    00007ffd19e217a0:  00007fbeb822e0d0  00007ffd19e217e8 
    00007ffd19e217b0:  000056186946a582 <runtime.step+290>  000056186a1c6232 
    00007ffd19e217c0:  000000000030da24  000000000030da24 
    00007ffd19e217d0:  0000029300000002  00000050b7df6ec5 
    00007ffd19e217e0:  000000000030da24  00007ffd19e21898 
    00007ffd19e217f0:  0000561869469936 <runtime.pcvalue+342>  000056186a1dc828 
    00007ffd19e21800:  0000000000000002  0000000000000000 
    00007ffd19e21810:  fffffffe7fffffff  ffffffffffffffff 
    00007ffd19e21820:  ffffffffffffffff  ffffffffffffffff 
    00007ffd19e21830:  ffffffffffffffff  ffffffffffffffff 
    00007ffd19e21840:  ffffffffffffffff  ffffffffffffffff 
    00007ffd19e21850:  ffffffffffffffff  ffffffffffffffff 
    00007ffd19e21860:  ffffffffffffffff  ffffffffffffffff 
    00007ffd19e21870:  ffffffffffffffff  ffffffffffffffff 
    00007ffd19e21880:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x561869b16a30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x561869478bcf
    runtime.newm1(0xc420061000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x5618694526b1
    runtime.newm(0x56186a142b08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x56186945252f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x561869452791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x56186944e4b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x561869479f31
    
    rax    0x0
    rbx    0x7fbeb7dea840
    rcx    0x7fbeb7a3cf47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffd19e21790
    rbp    0x561869c4832a
    rsp    0x7ffd19e21790
    r8     0x0
    r9     0x7ffd19e21790
    r10    0x8
    r11    0x246
    r12    0x56186b56c690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fbeb7a3cf47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 5 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000088000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000088000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc00004b000, 0x4)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000073f01)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.resetspinning()
    	/usr/local/go/src/runtime/proc.go:2533 +0x59
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2684 +0x2b9
    runtime.mstart1()
    	/usr/local/go/src/runtime/proc.go:1179 +0x93
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1137 +0x6e
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x1bb7a80, 0xc0000420c8, 0x170e, 0x2)
    	/usr/local/go/src/runtime/proc.go:306 +0xe5
    runtime.chanrecv(0xc000042070, 0x0, 0xc000000101, 0x410101)
    	/usr/local/go/src/runtime/chan.go:577 +0x36f
    runtime.chanrecv1(0xc000042070, 0x0)
    	/usr/local/go/src/runtime/chan.go:439 +0x2b
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:220 +0xac
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f1c1eb20f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f1c1eb20f47
    stack: frame={sp:0x7ffd67fe3590, fp:0x0} stack=[0x7ffd677e4a90,0x7ffd67fe3ac0)
    00007ffd67fe3490:  0000000000000001  00005604ff31e5c0 
    00007ffd67fe34a0:  0000000000000000  0000000000000000 
    00007ffd67fe34b0:  00007f1c1eece560  00007f1c1eed1bc0 
    00007ffd67fe34c0:  000000c42006ffd0  00005604fec563e0 <runtime.main+208> 
    00007ffd67fe34d0:  00005604ff94a970  0000000000000000 
    00007ffd67fe34e0:  0000000000000000  0000000000000000 
    00007ffd67fe34f0:  0000000000000000  0000000000000000 
    00007ffd67fe3500:  0000000000000000  0000000000000000 
    00007ffd67fe3510:  000000c420000180  0000000000000000 
    00007ffd67fe3520:  00005604fec563e0 <runtime.main+208>  00005604ff94a970 
    00007ffd67fe3530:  0000000000000000  0000000000000000 
    00007ffd67fe3540:  0000000000000000  0000000000000000 
    00007ffd67fe3550:  0000000000000000  0000000000000000 
    00007ffd67fe3560:  0000000000000000  000000c420000180 
    00007ffd67fe3570:  0000000000000000  00005604fec81f31 <runtime.goexit+1> 
    00007ffd67fe3580:  0000000000000000  0000000000000000 
    00007ffd67fe3590: <0000000000000000  0000000000000000 
    00007ffd67fe35a0:  00007f1c1f3120d0  00007ffd67fe35e8 
    00007ffd67fe35b0:  00005604fec72582 <runtime.step+290>  00005604ff9ce232 
    00007ffd67fe35c0:  000000000030da24  000000000030da24 
    00007ffd67fe35d0:  0000029300000002  000000501eedaec5 
    00007ffd67fe35e0:  000000000030da24  00007ffd67fe3698 
    00007ffd67fe35f0:  00005604fec71936 <runtime.pcvalue+342>  00005604ff9e4828 
    00007ffd67fe3600:  0000000000000002  0000000000000000 
    00007ffd67fe3610:  fffffffe7fffffff  ffffffffffffffff 
    00007ffd67fe3620:  ffffffffffffffff  ffffffffffffffff 
    00007ffd67fe3630:  ffffffffffffffff  ffffffffffffffff 
    00007ffd67fe3640:  ffffffffffffffff  ffffffffffffffff 
    00007ffd67fe3650:  ffffffffffffffff  ffffffffffffffff 
    00007ffd67fe3660:  ffffffffffffffff  ffffffffffffffff 
    00007ffd67fe3670:  ffffffffffffffff  ffffffffffffffff 
    00007ffd67fe3680:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f1c1eb20f47
    stack: frame={sp:0x7ffd67fe3590, fp:0x0} stack=[0x7ffd677e4a90,0x7ffd67fe3ac0)
    00007ffd67fe3490:  0000000000000001  00005604ff31e5c0 
    00007ffd67fe34a0:  0000000000000000  0000000000000000 
    00007ffd67fe34b0:  00007f1c1eece560  00007f1c1eed1bc0 
    00007ffd67fe34c0:  000000c42006ffd0  00005604fec563e0 <runtime.main+208> 
    00007ffd67fe34d0:  00005604ff94a970  0000000000000000 
    00007ffd67fe34e0:  0000000000000000  0000000000000000 
    00007ffd67fe34f0:  0000000000000000  0000000000000000 
    00007ffd67fe3500:  0000000000000000  0000000000000000 
    00007ffd67fe3510:  000000c420000180  0000000000000000 
    00007ffd67fe3520:  00005604fec563e0 <runtime.main+208>  00005604ff94a970 
    00007ffd67fe3530:  0000000000000000  0000000000000000 
    00007ffd67fe3540:  0000000000000000  0000000000000000 
    00007ffd67fe3550:  0000000000000000  0000000000000000 
    00007ffd67fe3560:  0000000000000000  000000c420000180 
    00007ffd67fe3570:  0000000000000000  00005604fec81f31 <runtime.goexit+1> 
    00007ffd67fe3580:  0000000000000000  0000000000000000 
    00007ffd67fe3590: <0000000000000000  0000000000000000 
    00007ffd67fe35a0:  00007f1c1f3120d0  00007ffd67fe35e8 
    00007ffd67fe35b0:  00005604fec72582 <runtime.step+290>  00005604ff9ce232 
    00007ffd67fe35c0:  000000000030da24  000000000030da24 
    00007ffd67fe35d0:  0000029300000002  000000501eedaec5 
    00007ffd67fe35e0:  000000000030da24  00007ffd67fe3698 
    00007ffd67fe35f0:  00005604fec71936 <runtime.pcvalue+342>  00005604ff9e4828 
    00007ffd67fe3600:  0000000000000002  0000000000000000 
    00007ffd67fe3610:  fffffffe7fffffff  ffffffffffffffff 
    00007ffd67fe3620:  ffffffffffffffff  ffffffffffffffff 
    00007ffd67fe3630:  ffffffffffffffff  ffffffffffffffff 
    00007ffd67fe3640:  ffffffffffffffff  ffffffffffffffff 
    00007ffd67fe3650:  ffffffffffffffff  ffffffffffffffff 
    00007ffd67fe3660:  ffffffffffffffff  ffffffffffffffff 
    00007ffd67fe3670:  ffffffffffffffff  ffffffffffffffff 
    00007ffd67fe3680:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x5604ff31ea30, 0xc420089f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420089ee8 sp=0xc420089ee0 pc=0x5604fec80bcf
    runtime.newm1(0xc420061000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420089f38 sp=0xc420089ee8 pc=0x5604fec5a6b1
    runtime.newm(0x5604ff94ab08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420089f68 sp=0xc420089f38 pc=0x5604fec5a52f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420089f88 sp=0xc420089f68 pc=0x5604fec5a791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420089fe0 sp=0xc420089f88 pc=0x5604fec564b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420089fe8 sp=0xc420089fe0 pc=0x5604fec81f31
    
    rax    0x0
    rbx    0x7f1c1eece840
    rcx    0x7f1c1eb20f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffd67fe3590
    rbp    0x5604ff45032a
    rsp    0x7ffd67fe3590
    r8     0x0
    r9     0x7ffd67fe3590
    r10    0x8
    r11    0x246
    r12    0x5605002e8690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f1c1eb20f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
