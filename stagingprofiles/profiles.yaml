apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fa747d56f47 m=3 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fa747d56f47
    stack: frame={sp:0x7fa745304830, fp:0x0} stack=[0x7fa744b05288,0x7fa745304e88)
    00007fa745304730:  00007fa745304af0  00007fa74833f75a 
    00007fa745304740:  000000000000000b  0000000000000000 
    00007fa745304750:  00007fa73effd700  000056217be74148 
    00007fa745304760:  00007fa745304c40  00007fa740000c50 
    00007fa745304770:  0000000000000000  000056217b350d10 
    00007fa745304780:  0000000000000000  00007fa748337f13 
    00007fa745304790:  0000000000000005  0000000000000000 
    00007fa7453047a0:  2525252525252525  2525252525252525 
    00007fa7453047b0:  00000000000000ff  0000000000000000 
    00007fa7453047c0:  00000000000000ff  0000000000000000 
    00007fa7453047d0:  00007fa740000010  00007fa740000010 
    00007fa7453047e0:  000000000000000e  000000000000000e 
    00007fa7453047f0:  0000000000000000  0000000000000000 
    00007fa745304800:  ffffffffffffffff  ffffffffffffffff 
    00007fa745304810:  0000000400000004  0000000400000004 
    00007fa745304820:  20636f6c6c616d00  203a64656c696166 
    00007fa745304830: <0000000000000000  0000000000000000 
    00007fa745304840:  0000000000000000  0000000000000000 
    00007fa745304850:  0000000000000000  0000000000000000 
    00007fa745304860:  0000000000000000  0000000000000000 
    00007fa745304870:  0000000000000000  0000000000000000 
    00007fa745304880:  0000000000000000  0000000000000000 
    00007fa745304890:  0000000000000000  0000000000000000 
    00007fa7453048a0:  0000000000000000  0000000000000000 
    00007fa7453048b0:  fffffffe7fffffff  ffffffffffffffff 
    00007fa7453048c0:  ffffffffffffffff  ffffffffffffffff 
    00007fa7453048d0:  ffffffffffffffff  ffffffffffffffff 
    00007fa7453048e0:  ffffffffffffffff  ffffffffffffffff 
    00007fa7453048f0:  ffffffffffffffff  ffffffffffffffff 
    00007fa745304900:  ffffffffffffffff  ffffffffffffffff 
    00007fa745304910:  ffffffffffffffff  ffffffffffffffff 
    00007fa745304920:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fa747d56f47
    stack: frame={sp:0x7fa745304830, fp:0x0} stack=[0x7fa744b05288,0x7fa745304e88)
    00007fa745304730:  00007fa745304af0  00007fa74833f75a 
    00007fa745304740:  000000000000000b  0000000000000000 
    00007fa745304750:  00007fa73effd700  000056217be74148 
    00007fa745304760:  00007fa745304c40  00007fa740000c50 
    00007fa745304770:  0000000000000000  000056217b350d10 
    00007fa745304780:  0000000000000000  00007fa748337f13 
    00007fa745304790:  0000000000000005  0000000000000000 
    00007fa7453047a0:  2525252525252525  2525252525252525 
    00007fa7453047b0:  00000000000000ff  0000000000000000 
    00007fa7453047c0:  00000000000000ff  0000000000000000 
    00007fa7453047d0:  00007fa740000010  00007fa740000010 
    00007fa7453047e0:  000000000000000e  000000000000000e 
    00007fa7453047f0:  0000000000000000  0000000000000000 
    00007fa745304800:  ffffffffffffffff  ffffffffffffffff 
    00007fa745304810:  0000000400000004  0000000400000004 
    00007fa745304820:  20636f6c6c616d00  203a64656c696166 
    00007fa745304830: <0000000000000000  0000000000000000 
    00007fa745304840:  0000000000000000  0000000000000000 
    00007fa745304850:  0000000000000000  0000000000000000 
    00007fa745304860:  0000000000000000  0000000000000000 
    00007fa745304870:  0000000000000000  0000000000000000 
    00007fa745304880:  0000000000000000  0000000000000000 
    00007fa745304890:  0000000000000000  0000000000000000 
    00007fa7453048a0:  0000000000000000  0000000000000000 
    00007fa7453048b0:  fffffffe7fffffff  ffffffffffffffff 
    00007fa7453048c0:  ffffffffffffffff  ffffffffffffffff 
    00007fa7453048d0:  ffffffffffffffff  ffffffffffffffff 
    00007fa7453048e0:  ffffffffffffffff  ffffffffffffffff 
    00007fa7453048f0:  ffffffffffffffff  ffffffffffffffff 
    00007fa745304900:  ffffffffffffffff  ffffffffffffffff 
    00007fa745304910:  ffffffffffffffff  ffffffffffffffff 
    00007fa745304920:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [chan receive, locked to thread]:
    text/template/parse.(*lexer).nextItem(...)
    	/usr/lib/go-1.13/src/text/template/parse/lex.go:195
    text/template/parse.(*Tree).peek(...)
    	/usr/lib/go-1.13/src/text/template/parse/parse.go:95
    text/template/parse.(*Tree).parse(0xc000132500)
    	/usr/lib/go-1.13/src/text/template/parse/parse.go:277 +0xbc6
    text/template/parse.(*Tree).Parse(0xc000132500, 0x56217b200440, 0x16c, 0x0, 0x0, 0x0, 0x0, 0xc0001dc6f0, 0xc000158340, 0x2, ...)
    	/usr/lib/go-1.13/src/text/template/parse/parse.go:230 +0x249
    text/template/parse.Parse(0x56217b1a59b7, 0x4, 0x56217b200440, 0x16c, 0x0, 0x0, 0x0, 0x0, 0xc000158340, 0x2, ...)
    	/usr/lib/go-1.13/src/text/template/parse/parse.go:55 +0x124
    text/template.(*Template).Parse(0xc00009d7c0, 0x56217b200440, 0x16c, 0x4, 0xc00011f5e8, 0x56217be8f760)
    	/usr/lib/go-1.13/src/text/template/template.go:200 +0x113
    github.com/snapcore/snapd/systemd.init()
    	/build/snapd/parts/snapd-deb/build/systemd/systemd.go:1281 +0x3ad
    
    goroutine 19 [syscall]:
    os/signal.signal_recv(0x0)
    	/usr/lib/go-1.13/src/runtime/sigqueue.go:147 +0x9e
    os/signal.loop()
    	/usr/lib/go-1.13/src/os/signal/signal_unix.go:23 +0x24
    created by os/signal.init.0
    	/usr/lib/go-1.13/src/os/signal/signal_unix.go:29 +0x43
    
    goroutine 20 [runnable]:
    text/template/parse.(*lexer).run(0xc000160630)
    	/usr/lib/go-1.13/src/text/template/parse/lex.go:228
    created by text/template/parse.lex
    	/usr/lib/go-1.13/src/text/template/parse/lex.go:223 +0x192
    
    rax    0x0
    rbx    0x7fa748104840
    rcx    0x7fa747d56f47
    rdx    0x0
    rdi    0x2
    rsi    0x7fa745304830
    rbp    0x56217b36ae7c
    rsp    0x7fa745304830
    r8     0x0
    r9     0x7fa745304830
    r10    0x8
    r11    0x246
    r12    0x7fa740000c50
    r13    0x0
    r14    0x56217b350d10
    r15    0x0
    rip    0x7fa747d56f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 6 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000188000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000188000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc000048800, 0x5)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000073f01)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.resetspinning()
    	/usr/local/go/src/runtime/proc.go:2533 +0x59
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2684 +0x2b9
    runtime.park_m(0xc000000a80)
    	/usr/local/go/src/runtime/proc.go:2845 +0x9d
    runtime.mcall(0x0)
    	/usr/local/go/src/runtime/asm_amd64.s:318 +0x5b
    
    goroutine 1 [syscall, locked to thread]:
    reflect.mapassign(0x18bc100, 0xc0004f5830, 0xc00050d120, 0xc00051fb00)
    	/usr/local/go/src/runtime/map.go:1319 +0x3f
    reflect.Value.SetMapIndex(0x18bc100, 0xc00051f3a0, 0x195, 0x1858200, 0xc00050d120, 0x98, 0x19ce1a0, 0xc00051fb00, 0x199)
    	/usr/local/go/src/reflect/value.go:1706 +0x27c
    encoding/json.(*decodeState).object(0xc0005169a0, 0x18bc100, 0xc00051f3a0, 0x195, 0xc0005169c8, 0x7b)
    	/usr/local/go/src/encoding/json/decode.go:807 +0x8da
    encoding/json.(*decodeState).value(0xc0005169a0, 0x18bc100, 0xc00051f3a0, 0x195, 0x18bc100, 0xc00051f3a0)
    	/usr/local/go/src/encoding/json/decode.go:370 +0x6d
    encoding/json.(*decodeState).object(0xc0005169a0, 0x1815520, 0xc00051f200, 0x16, 0xc0005169c8, 0x7b)
    	/usr/local/go/src/encoding/json/decode.go:765 +0x12fe
    encoding/json.(*decodeState).value(0xc0005169a0, 0x1815520, 0xc00051f200, 0x16, 0xc0004a0888, 0x6fa8ab)
    	/usr/local/go/src/encoding/json/decode.go:370 +0x6d
    encoding/json.(*decodeState).unmarshal(0xc0005169a0, 0x1815520, 0xc00051f200, 0xc0005169c8, 0x0)
    	/usr/local/go/src/encoding/json/decode.go:180 +0x1ea
    encoding/json.Unmarshal(0xc00043e7b5, 0x9e1, 0xb64b, 0x1815520, 0xc00051f200, 0x26, 0x0)
    	/usr/local/go/src/encoding/json/decode.go:107 +0x112
    k8s.io/kubernetes/vendor/github.com/go-openapi/spec.(*Schema).UnmarshalJSON(0xc000471440, 0xc00043e7b5, 0x9e1, 0xb64b, 0x7fd38351db00, 0xc000471440)
    	/workspace/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/vendor/github.com/go-openapi/spec/schema.go:555 +0x8b
    encoding/json.(*decodeState).object(0xc000136a50, 0x19ce1a0, 0xc000471440, 0x199, 0xc000136a78, 0x7b)
    	/usr/local/go/src/encoding/json/decode.go:609 +0x207c
    encoding/json.(*decodeState).value(0xc000136a50, 0x19ce1a0, 0xc000471440, 0x199, 0xc00051efc0, 0x99)
    	/usr/local/go/src/encoding/json/decode.go:370 +0x6d
    encoding/json.(*decodeState).object(0xc000136a50, 0x18e59a0, 0xc0003fb3c8, 0x195, 0xc000136a78, 0x7b)
    	/usr/local/go/src/encoding/json/decode.go:765 +0x12fe
    encoding/json.(*decodeState).value(0xc000136a50, 0x18e59a0, 0xc0003fb3c8, 0x195, 0x18e59a0, 0xc0003fb3c8)
    	/usr/local/go/src/encoding/json/decode.go:370 +0x6d
    encoding/json.(*decodeState).object(0xc000136a50, 0x1815520, 0xc0003fb200, 0x16, 0xc000136a78, 0x7b)
    	/usr/local/go/src/encoding/json/decode.go:765 +0x12fe
    encoding/json.(*decodeState).value(0xc000136a50, 0x1815520, 0xc0003fb200, 0x16, 0xc000173548, 0x6fa8ab)
    	/usr/local/go/src/encoding/json/decode.go:370 +0x6d
    encoding/json.(*decodeState).unmarshal(0xc000136a50, 0x1815520, 0xc0003fb200, 0xc000136a78, 0x0)
    	/usr/local/go/src/encoding/json/decode.go:180 +0x1ea
    encoding/json.Unmarshal(0xc00043a000, 0x9d38, 0xfe00, 0x1815520, 0xc0003fb200, 0x7fd383515618, 0x0)
    	/usr/local/go/src/encoding/json/decode.go:107 +0x112
    k8s.io/kubernetes/vendor/github.com/go-openapi/spec.(*Schema).UnmarshalJSON(0xc0003fafc0, 0xc00043a000, 0x9d38, 0xfe00, 0x7fd38351db00, 0xc0003fafc0)
    	/workspace/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/vendor/github.com/go-openapi/spec/schema.go:555 +0x8b
    encoding/json.(*decodeState).object(0xc0001369a0, 0x1a89300, 0xc0003fafc0, 0x16, 0xc0001369c8, 0x7b)
    	/usr/local/go/src/encoding/json/decode.go:609 +0x207c
    encoding/json.(*decodeState).value(0xc0001369a0, 0x1a89300, 0xc0003fafc0, 0x16, 0xc000173c18, 0x6fa8ab)
    	/usr/local/go/src/encoding/json/decode.go:370 +0x6d
    encoding/json.(*decodeState).unmarshal(0xc0001369a0, 0x1a89300, 0xc0003fafc0, 0xc0001369c8, 0x0)
    	/usr/local/go/src/encoding/json/decode.go:180 +0x1ea
    encoding/json.Unmarshal(0xc00043a000, 0x9d39, 0xfe00, 0x1a89300, 0xc0003fafc0, 0x0, 0x0)
    	/usr/local/go/src/encoding/json/decode.go:107 +0x112
    k8s.io/kubernetes/vendor/github.com/go-openapi/spec.Swagger20Schema(0xc0003edb30, 0xc000173d68, 0x12e538a)
    	/workspace/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/vendor/github.com/go-openapi/spec/spec.go:82 +0xb8
    k8s.io/kubernetes/vendor/github.com/go-openapi/spec.MustLoadSwagger20Schema(...)
    	/workspace/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/vendor/github.com/go-openapi/spec/spec.go:66
    k8s.io/kubernetes/vendor/github.com/go-openapi/spec.initResolutionCache(0xc0003eda70, 0xc0003eda40)
    	/workspace/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/vendor/github.com/go-openapi/spec/cache.go:57 +0x35
    k8s.io/kubernetes/vendor/github.com/go-openapi/spec.init.0()
    	/workspace/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/vendor/github.com/go-openapi/spec/cache.go:51 +0x25
    
    goroutine 6 [chan receive]:
    k8s.io/kubernetes/vendor/k8s.io/klog/v2.(*loggingT).flushDaemon(0x2a6c040)
    	/workspace/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/vendor/k8s.io/klog/v2/klog.go:1169 +0x8b
    created by k8s.io/kubernetes/vendor/k8s.io/klog/v2.init.0
    	/workspace/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/vendor/k8s.io/klog/v2/klog.go:417 +0xdf
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fd0e1bd2f47 m=5 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fd0e1bd2f47
    stack: frame={sp:0x7fd0de97f830, fp:0x0} stack=[0x7fd0de180288,0x7fd0de97fe88)
    00007fd0de97f730:  00007fd0de97faf0  00007fd0e21bb75a 
    00007fd0de97f740:  000000000000000b  0000000000000000 
    00007fd0de97f750:  00007fd0dd81e700  00005586f7166148 
    00007fd0de97f760:  00007fd0de97fc40  00005586f79b73f0 
    00007fd0de97f770:  0000000000000000  00005586f6642d10 
    00007fd0de97f780:  0000000000000000  00007fd0e21b3f13 
    00007fd0de97f790:  0000000000000005  0000000000000000 
    00007fd0de97f7a0:  2525252525252525  2525252525252525 
    00007fd0de97f7b0:  00000000000000ff  0000000000000000 
    00007fd0de97f7c0:  00000000000000ff  0000000000000000 
    00007fd0de97f7d0:  00007fd0cc000010  00007fd0cc000010 
    00007fd0de97f7e0:  000000000000000e  000000000000000e 
    00007fd0de97f7f0:  0000000000000000  0000000000000000 
    00007fd0de97f800:  ffffffffffffffff  ffffffffffffffff 
    00007fd0de97f810:  0000000400000004  0000000400000004 
    00007fd0de97f820:  20636f6c6c616d00  203a64656c696166 
    00007fd0de97f830: <0000000000000000  0000000000000000 
    00007fd0de97f840:  0000000000000000  0000000000000000 
    00007fd0de97f850:  0000000000000000  0000000000000000 
    00007fd0de97f860:  0000000000000000  0000000000000000 
    00007fd0de97f870:  0000000000000000  0000000000000000 
    00007fd0de97f880:  0000000000000000  0000000000000000 
    00007fd0de97f890:  0000000000000000  0000000000000000 
    00007fd0de97f8a0:  0000000000000000  0000000000000000 
    00007fd0de97f8b0:  fffffffe7fffffff  ffffffffffffffff 
    00007fd0de97f8c0:  ffffffffffffffff  ffffffffffffffff 
    00007fd0de97f8d0:  ffffffffffffffff  ffffffffffffffff 
    00007fd0de97f8e0:  ffffffffffffffff  ffffffffffffffff 
    00007fd0de97f8f0:  ffffffffffffffff  ffffffffffffffff 
    00007fd0de97f900:  ffffffffffffffff  ffffffffffffffff 
    00007fd0de97f910:  ffffffffffffffff  ffffffffffffffff 
    00007fd0de97f920:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fd0e1bd2f47
    stack: frame={sp:0x7fd0de97f830, fp:0x0} stack=[0x7fd0de180288,0x7fd0de97fe88)
    00007fd0de97f730:  00007fd0de97faf0  00007fd0e21bb75a 
    00007fd0de97f740:  000000000000000b  0000000000000000 
    00007fd0de97f750:  00007fd0dd81e700  00005586f7166148 
    00007fd0de97f760:  00007fd0de97fc40  00005586f79b73f0 
    00007fd0de97f770:  0000000000000000  00005586f6642d10 
    00007fd0de97f780:  0000000000000000  00007fd0e21b3f13 
    00007fd0de97f790:  0000000000000005  0000000000000000 
    00007fd0de97f7a0:  2525252525252525  2525252525252525 
    00007fd0de97f7b0:  00000000000000ff  0000000000000000 
    00007fd0de97f7c0:  00000000000000ff  0000000000000000 
    00007fd0de97f7d0:  00007fd0cc000010  00007fd0cc000010 
    00007fd0de97f7e0:  000000000000000e  000000000000000e 
    00007fd0de97f7f0:  0000000000000000  0000000000000000 
    00007fd0de97f800:  ffffffffffffffff  ffffffffffffffff 
    00007fd0de97f810:  0000000400000004  0000000400000004 
    00007fd0de97f820:  20636f6c6c616d00  203a64656c696166 
    00007fd0de97f830: <0000000000000000  0000000000000000 
    00007fd0de97f840:  0000000000000000  0000000000000000 
    00007fd0de97f850:  0000000000000000  0000000000000000 
    00007fd0de97f860:  0000000000000000  0000000000000000 
    00007fd0de97f870:  0000000000000000  0000000000000000 
    00007fd0de97f880:  0000000000000000  0000000000000000 
    00007fd0de97f890:  0000000000000000  0000000000000000 
    00007fd0de97f8a0:  0000000000000000  0000000000000000 
    00007fd0de97f8b0:  fffffffe7fffffff  ffffffffffffffff 
    00007fd0de97f8c0:  ffffffffffffffff  ffffffffffffffff 
    00007fd0de97f8d0:  ffffffffffffffff  ffffffffffffffff 
    00007fd0de97f8e0:  ffffffffffffffff  ffffffffffffffff 
    00007fd0de97f8f0:  ffffffffffffffff  ffffffffffffffff 
    00007fd0de97f900:  ffffffffffffffff  ffffffffffffffff 
    00007fd0de97f910:  ffffffffffffffff  ffffffffffffffff 
    00007fd0de97f920:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [chan receive, locked to thread]:
    text/template/parse.(*lexer).nextItem(...)
    	/usr/lib/go-1.13/src/text/template/parse/lex.go:195
    text/template/parse.(*Tree).peek(...)
    	/usr/lib/go-1.13/src/text/template/parse/parse.go:95
    text/template/parse.(*Tree).parse(0xc00012c500)
    	/usr/lib/go-1.13/src/text/template/parse/parse.go:277 +0xbc6
    text/template/parse.(*Tree).Parse(0xc00012c500, 0x5586f64f2440, 0x16c, 0x0, 0x0, 0x0, 0x0, 0xc0001d66f0, 0xc000152340, 0x2, ...)
    	/usr/lib/go-1.13/src/text/template/parse/parse.go:230 +0x249
    text/template/parse.Parse(0x5586f64979b7, 0x4, 0x5586f64f2440, 0x16c, 0x0, 0x0, 0x0, 0x0, 0xc000152340, 0x2, ...)
    	/usr/lib/go-1.13/src/text/template/parse/parse.go:55 +0x124
    text/template.(*Template).Parse(0xc0000cd780, 0x5586f64f2440, 0x16c, 0x4, 0xc000119708, 0x5586f7181760)
    	/usr/lib/go-1.13/src/text/template/template.go:200 +0x113
    github.com/snapcore/snapd/systemd.init()
    	/build/snapd/parts/snapd-deb/build/systemd/systemd.go:1281 +0x3ad
    
    goroutine 19 [syscall]:
    os/signal.signal_recv(0x0)
    	/usr/lib/go-1.13/src/runtime/sigqueue.go:147 +0x9e
    os/signal.loop()
    	/usr/lib/go-1.13/src/os/signal/signal_unix.go:23 +0x24
    created by os/signal.init.0
    	/usr/lib/go-1.13/src/os/signal/signal_unix.go:29 +0x43
    
    goroutine 20 [runnable]:
    text/template/parse.(*lexer).run(0xc00015a630)
    	/usr/lib/go-1.13/src/text/template/parse/lex.go:228
    created by text/template/parse.lex
    	/usr/lib/go-1.13/src/text/template/parse/lex.go:223 +0x192
    
    rax    0x0
    rbx    0x7fd0e1f80840
    rcx    0x7fd0e1bd2f47
    rdx    0x0
    rdi    0x2
    rsi    0x7fd0de97f830
    rbp    0x5586f665ce7c
    rsp    0x7fd0de97f830
    r8     0x0
    r9     0x7fd0de97f830
    r10    0x8
    r11    0x246
    r12    0x5586f79b73f0
    r13    0x0
    r14    0x5586f6642d10
    r15    0x0
    rip    0x7fd0e1bd2f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
