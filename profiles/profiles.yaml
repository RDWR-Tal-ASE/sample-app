apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f3fe0785f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f3fe0785f47
    stack: frame={sp:0x7ffc1abf1310, fp:0x0} stack=[0x7ffc1a3f2810,0x7ffc1abf1840)
    00007ffc1abf1210:  0000000000000001  0000000000000000 
    00007ffc1abf1220:  0000000000000000  0000000000000000 
    00007ffc1abf1230:  00007f3fe0b33560  00007f3fe0b36bc0 
    00007ffc1abf1240:  000000c42006ffd0  0000562b5604e3e0 <runtime.main+208> 
    00007ffc1abf1250:  0000562b56d42970  0000000000000000 
    00007ffc1abf1260:  0000000000000000  0000000000000000 
    00007ffc1abf1270:  0000000000000000  0000000000000000 
    00007ffc1abf1280:  0000000000000000  0000000000000000 
    00007ffc1abf1290:  000000c420000180  0000000000000000 
    00007ffc1abf12a0:  0000562b5604e3e0 <runtime.main+208>  0000562b56d42970 
    00007ffc1abf12b0:  0000000000000000  0000000000000000 
    00007ffc1abf12c0:  0000000000000000  0000000000000000 
    00007ffc1abf12d0:  0000000000000000  0000000000000000 
    00007ffc1abf12e0:  0000000000000000  000000c420000180 
    00007ffc1abf12f0:  0000000000000000  0000562b56079f31 <runtime.goexit+1> 
    00007ffc1abf1300:  0000000000000000  0000000000000000 
    00007ffc1abf1310: <0000000000000000  0000000000000000 
    00007ffc1abf1320:  00007f3fe0f770d0  00007ffc1abf1368 
    00007ffc1abf1330:  0000562b5606a582 <runtime.step+290>  0000562b56dc6232 
    00007ffc1abf1340:  000000000030da24  000000000030da24 
    00007ffc1abf1350:  0000029300000002  00000050e0b3fec5 
    00007ffc1abf1360:  000000000030da24  00007ffc1abf1418 
    00007ffc1abf1370:  0000562b56069936 <runtime.pcvalue+342>  0000562b56ddc828 
    00007ffc1abf1380:  0000000000000002  0000000000000000 
    00007ffc1abf1390:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc1abf13a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc1abf13b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc1abf13c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc1abf13d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc1abf13e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc1abf13f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc1abf1400:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f3fe0785f47
    stack: frame={sp:0x7ffc1abf1310, fp:0x0} stack=[0x7ffc1a3f2810,0x7ffc1abf1840)
    00007ffc1abf1210:  0000000000000001  0000000000000000 
    00007ffc1abf1220:  0000000000000000  0000000000000000 
    00007ffc1abf1230:  00007f3fe0b33560  00007f3fe0b36bc0 
    00007ffc1abf1240:  000000c42006ffd0  0000562b5604e3e0 <runtime.main+208> 
    00007ffc1abf1250:  0000562b56d42970  0000000000000000 
    00007ffc1abf1260:  0000000000000000  0000000000000000 
    00007ffc1abf1270:  0000000000000000  0000000000000000 
    00007ffc1abf1280:  0000000000000000  0000000000000000 
    00007ffc1abf1290:  000000c420000180  0000000000000000 
    00007ffc1abf12a0:  0000562b5604e3e0 <runtime.main+208>  0000562b56d42970 
    00007ffc1abf12b0:  0000000000000000  0000000000000000 
    00007ffc1abf12c0:  0000000000000000  0000000000000000 
    00007ffc1abf12d0:  0000000000000000  0000000000000000 
    00007ffc1abf12e0:  0000000000000000  000000c420000180 
    00007ffc1abf12f0:  0000000000000000  0000562b56079f31 <runtime.goexit+1> 
    00007ffc1abf1300:  0000000000000000  0000000000000000 
    00007ffc1abf1310: <0000000000000000  0000000000000000 
    00007ffc1abf1320:  00007f3fe0f770d0  00007ffc1abf1368 
    00007ffc1abf1330:  0000562b5606a582 <runtime.step+290>  0000562b56dc6232 
    00007ffc1abf1340:  000000000030da24  000000000030da24 
    00007ffc1abf1350:  0000029300000002  00000050e0b3fec5 
    00007ffc1abf1360:  000000000030da24  00007ffc1abf1418 
    00007ffc1abf1370:  0000562b56069936 <runtime.pcvalue+342>  0000562b56ddc828 
    00007ffc1abf1380:  0000000000000002  0000000000000000 
    00007ffc1abf1390:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc1abf13a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc1abf13b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc1abf13c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc1abf13d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc1abf13e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc1abf13f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc1abf1400:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x562b56716a30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x562b56078bcf
    runtime.newm1(0xc420094400)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x562b560526b1
    runtime.newm(0x562b56d42b08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x562b5605252f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x562b56052791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x562b5604e4b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x562b56079f31
    
    rax    0x0
    rbx    0x7f3fe0b33840
    rcx    0x7f3fe0785f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffc1abf1310
    rbp    0x562b5684832a
    rsp    0x7ffc1abf1310
    r8     0x0
    r9     0x7ffc1abf1310
    r10    0x8
    r11    0x246
    r12    0x562b59032690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f3fe0785f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 5 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000088000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000088000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc00004b000, 0x4)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000073f01)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.resetspinning()
    	/usr/local/go/src/runtime/proc.go:2533 +0x59
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2684 +0x2b9
    runtime.mstart1()
    	/usr/local/go/src/runtime/proc.go:1179 +0x93
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1137 +0x6e
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x1bb7a80, 0xc0000420c8, 0x170e, 0x2)
    	/usr/local/go/src/runtime/proc.go:306 +0xe5
    runtime.chanrecv(0xc000042070, 0x0, 0xc000000101, 0x410101)
    	/usr/local/go/src/runtime/chan.go:577 +0x36f
    runtime.chanrecv1(0xc000042070, 0x0)
    	/usr/local/go/src/runtime/chan.go:439 +0x2b
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:220 +0xac
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f5c07e26f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f5c07e26f47
    stack: frame={sp:0x7ffe7b856e70, fp:0x0} stack=[0x7ffe7b058360,0x7ffe7b8573a0)
    00007ffe7b856d70:  00007ffe7b857130  00007f5c0840f75a 
    00007ffe7b856d80:  000000000000000b  0000000000000000 
    00007ffe7b856d90:  00007f5bff7fe700  000055f21ec8d148 
    00007ffe7b856da0:  00007ffe7b857280  000055f2204c3690 
    00007ffe7b856db0:  0000000000000000  000055f21e169d10 
    00007ffe7b856dc0:  0000000000000000  00007f5c08407f13 
    00007ffe7b856dd0:  0000000000000005  0000000000000000 
    00007ffe7b856de0:  2525252525252525  2525252525252525 
    00007ffe7b856df0:  00000000000000ff  0000000000000000 
    00007ffe7b856e00:  00000000000000ff  0000000000000000 
    00007ffe7b856e10:  0000000000000000  0000000000000000 
    00007ffe7b856e20:  2f7273752f3a6e69  73752f3a6e696273 
    00007ffe7b856e30:  752f3a6e69622f72  6c61636f6c2f7273 
    00007ffe7b856e40:  73752f3a6e69622f  732f6e6962732f72 
    00007ffe7b856e50:  2f3a656369767265  6e69622f70616e73 
    00007ffe7b856e60:  20636f6c6c616d00  203a64656c696166 
    00007ffe7b856e70: <0000000000000000  0000000000000000 
    00007ffe7b856e80:  0000000000000000  0000000000000000 
    00007ffe7b856e90:  0000000000000000  0000000000000000 
    00007ffe7b856ea0:  0000000000000000  0000000000000000 
    00007ffe7b856eb0:  0000000000000000  0000000000000000 
    00007ffe7b856ec0:  0000000000000000  0000000000000000 
    00007ffe7b856ed0:  0000000000000000  0000000000000000 
    00007ffe7b856ee0:  0000000000000000  0000000000000000 
    00007ffe7b856ef0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffe7b856f00:  ffffffffffffffff  ffffffffffffffff 
    00007ffe7b856f10:  ffffffffffffffff  ffffffffffffffff 
    00007ffe7b856f20:  ffffffffffffffff  ffffffffffffffff 
    00007ffe7b856f30:  ffffffffffffffff  ffffffffffffffff 
    00007ffe7b856f40:  ffffffffffffffff  ffffffffffffffff 
    00007ffe7b856f50:  ffffffffffffffff  ffffffffffffffff 
    00007ffe7b856f60:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f5c07e26f47
    stack: frame={sp:0x7ffe7b856e70, fp:0x0} stack=[0x7ffe7b058360,0x7ffe7b8573a0)
    00007ffe7b856d70:  00007ffe7b857130  00007f5c0840f75a 
    00007ffe7b856d80:  000000000000000b  0000000000000000 
    00007ffe7b856d90:  00007f5bff7fe700  000055f21ec8d148 
    00007ffe7b856da0:  00007ffe7b857280  000055f2204c3690 
    00007ffe7b856db0:  0000000000000000  000055f21e169d10 
    00007ffe7b856dc0:  0000000000000000  00007f5c08407f13 
    00007ffe7b856dd0:  0000000000000005  0000000000000000 
    00007ffe7b856de0:  2525252525252525  2525252525252525 
    00007ffe7b856df0:  00000000000000ff  0000000000000000 
    00007ffe7b856e00:  00000000000000ff  0000000000000000 
    00007ffe7b856e10:  0000000000000000  0000000000000000 
    00007ffe7b856e20:  2f7273752f3a6e69  73752f3a6e696273 
    00007ffe7b856e30:  752f3a6e69622f72  6c61636f6c2f7273 
    00007ffe7b856e40:  73752f3a6e69622f  732f6e6962732f72 
    00007ffe7b856e50:  2f3a656369767265  6e69622f70616e73 
    00007ffe7b856e60:  20636f6c6c616d00  203a64656c696166 
    00007ffe7b856e70: <0000000000000000  0000000000000000 
    00007ffe7b856e80:  0000000000000000  0000000000000000 
    00007ffe7b856e90:  0000000000000000  0000000000000000 
    00007ffe7b856ea0:  0000000000000000  0000000000000000 
    00007ffe7b856eb0:  0000000000000000  0000000000000000 
    00007ffe7b856ec0:  0000000000000000  0000000000000000 
    00007ffe7b856ed0:  0000000000000000  0000000000000000 
    00007ffe7b856ee0:  0000000000000000  0000000000000000 
    00007ffe7b856ef0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffe7b856f00:  ffffffffffffffff  ffffffffffffffff 
    00007ffe7b856f10:  ffffffffffffffff  ffffffffffffffff 
    00007ffe7b856f20:  ffffffffffffffff  ffffffffffffffff 
    00007ffe7b856f30:  ffffffffffffffff  ffffffffffffffff 
    00007ffe7b856f40:  ffffffffffffffff  ffffffffffffffff 
    00007ffe7b856f50:  ffffffffffffffff  ffffffffffffffff 
    00007ffe7b856f60:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x55f21dfbd930, 0xc00005e708)
    	/usr/lib/go-1.13/src/runtime/asm_amd64.s:640 +0x3f fp=0xc00005e6f0 sp=0xc00005e6e8 pc=0x55f21d85e35f
    runtime.newm1(0xc000062e00)
    	/usr/lib/go-1.13/src/runtime/proc.go:1848 +0xa6 fp=0xc00005e730 sp=0xc00005e6f0 pc=0x55f21d8369b6
    runtime.newm(0x55f21e738690, 0x0)
    	/usr/lib/go-1.13/src/runtime/proc.go:1832 +0x93 fp=0xc00005e760 sp=0xc00005e730 pc=0x55f21d836853
    runtime.startTemplateThread(...)
    	/usr/lib/go-1.13/src/runtime/proc.go:1868
    runtime.main()
    	/usr/lib/go-1.13/src/runtime/proc.go:186 +0x2cb fp=0xc00005e7e0 sp=0xc00005e760 pc=0x55f21d832a8b
    runtime.goexit()
    	/usr/lib/go-1.13/src/runtime/asm_amd64.s:1357 +0x1 fp=0xc00005e7e8 sp=0xc00005e7e0 pc=0x55f21d85ec21
    
    rax    0x0
    rbx    0x7f5c081d4840
    rcx    0x7f5c07e26f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffe7b856e70
    rbp    0x55f21e183e7c
    rsp    0x7ffe7b856e70
    r8     0x0
    r9     0x7ffe7b856e70
    r10    0x8
    r11    0x246
    r12    0x55f2204c3690
    r13    0x0
    r14    0x55f21e169d10
    r15    0x0
    rip    0x7f5c07e26f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
