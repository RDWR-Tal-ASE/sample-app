apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fba421eaf47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fba421eaf47
    stack: frame={sp:0x7fffcbebd390, fp:0x0} stack=[0x7fffcb6be890,0x7fffcbebd8c0)
    00007fffcbebd290:  0000000000000001  0000000000000000 
    00007fffcbebd2a0:  0000000000000000  0000000000000000 
    00007fffcbebd2b0:  00007fba42598560  00007fba4259bbc0 
    00007fffcbebd2c0:  000000c42006ffd0  00005612b2a2f3e0 <runtime.main+208> 
    00007fffcbebd2d0:  00005612b3723970  0000000000000000 
    00007fffcbebd2e0:  0000000000000000  0000000000000000 
    00007fffcbebd2f0:  0000000000000000  0000000000000000 
    00007fffcbebd300:  0000000000000000  0000000000000000 
    00007fffcbebd310:  000000c420000180  0000000000000000 
    00007fffcbebd320:  00005612b2a2f3e0 <runtime.main+208>  00005612b3723970 
    00007fffcbebd330:  0000000000000000  0000000000000000 
    00007fffcbebd340:  0000000000000000  0000000000000000 
    00007fffcbebd350:  0000000000000000  0000000000000000 
    00007fffcbebd360:  0000000000000000  000000c420000180 
    00007fffcbebd370:  0000000000000000  00005612b2a5af31 <runtime.goexit+1> 
    00007fffcbebd380:  0000000000000000  0000000000000000 
    00007fffcbebd390: <0000000000000000  0000000000000000 
    00007fffcbebd3a0:  00007fba429dc0d0  00007fffcbebd3e8 
    00007fffcbebd3b0:  00005612b2a4b582 <runtime.step+290>  00005612b37a7232 
    00007fffcbebd3c0:  000000000030da24  000000000030da24 
    00007fffcbebd3d0:  0000029300000002  00000050425a4ec5 
    00007fffcbebd3e0:  000000000030da24  00007fffcbebd498 
    00007fffcbebd3f0:  00005612b2a4a936 <runtime.pcvalue+342>  00005612b37bd828 
    00007fffcbebd400:  0000000000000002  0000000000000000 
    00007fffcbebd410:  fffffffe7fffffff  ffffffffffffffff 
    00007fffcbebd420:  ffffffffffffffff  ffffffffffffffff 
    00007fffcbebd430:  ffffffffffffffff  ffffffffffffffff 
    00007fffcbebd440:  ffffffffffffffff  ffffffffffffffff 
    00007fffcbebd450:  ffffffffffffffff  ffffffffffffffff 
    00007fffcbebd460:  ffffffffffffffff  ffffffffffffffff 
    00007fffcbebd470:  ffffffffffffffff  ffffffffffffffff 
    00007fffcbebd480:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fba421eaf47
    stack: frame={sp:0x7fffcbebd390, fp:0x0} stack=[0x7fffcb6be890,0x7fffcbebd8c0)
    00007fffcbebd290:  0000000000000001  0000000000000000 
    00007fffcbebd2a0:  0000000000000000  0000000000000000 
    00007fffcbebd2b0:  00007fba42598560  00007fba4259bbc0 
    00007fffcbebd2c0:  000000c42006ffd0  00005612b2a2f3e0 <runtime.main+208> 
    00007fffcbebd2d0:  00005612b3723970  0000000000000000 
    00007fffcbebd2e0:  0000000000000000  0000000000000000 
    00007fffcbebd2f0:  0000000000000000  0000000000000000 
    00007fffcbebd300:  0000000000000000  0000000000000000 
    00007fffcbebd310:  000000c420000180  0000000000000000 
    00007fffcbebd320:  00005612b2a2f3e0 <runtime.main+208>  00005612b3723970 
    00007fffcbebd330:  0000000000000000  0000000000000000 
    00007fffcbebd340:  0000000000000000  0000000000000000 
    00007fffcbebd350:  0000000000000000  0000000000000000 
    00007fffcbebd360:  0000000000000000  000000c420000180 
    00007fffcbebd370:  0000000000000000  00005612b2a5af31 <runtime.goexit+1> 
    00007fffcbebd380:  0000000000000000  0000000000000000 
    00007fffcbebd390: <0000000000000000  0000000000000000 
    00007fffcbebd3a0:  00007fba429dc0d0  00007fffcbebd3e8 
    00007fffcbebd3b0:  00005612b2a4b582 <runtime.step+290>  00005612b37a7232 
    00007fffcbebd3c0:  000000000030da24  000000000030da24 
    00007fffcbebd3d0:  0000029300000002  00000050425a4ec5 
    00007fffcbebd3e0:  000000000030da24  00007fffcbebd498 
    00007fffcbebd3f0:  00005612b2a4a936 <runtime.pcvalue+342>  00005612b37bd828 
    00007fffcbebd400:  0000000000000002  0000000000000000 
    00007fffcbebd410:  fffffffe7fffffff  ffffffffffffffff 
    00007fffcbebd420:  ffffffffffffffff  ffffffffffffffff 
    00007fffcbebd430:  ffffffffffffffff  ffffffffffffffff 
    00007fffcbebd440:  ffffffffffffffff  ffffffffffffffff 
    00007fffcbebd450:  ffffffffffffffff  ffffffffffffffff 
    00007fffcbebd460:  ffffffffffffffff  ffffffffffffffff 
    00007fffcbebd470:  ffffffffffffffff  ffffffffffffffff 
    00007fffcbebd480:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x5612b30f7a30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x5612b2a59bcf
    runtime.newm1(0xc420094400)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x5612b2a336b1
    runtime.newm(0x5612b3723b08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x5612b2a3352f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x5612b2a33791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x5612b2a2f4b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x5612b2a5af31
    
    rax    0x0
    rbx    0x7fba42598840
    rcx    0x7fba421eaf47
    rdx    0x0
    rdi    0x2
    rsi    0x7fffcbebd390
    rbp    0x5612b322932a
    rsp    0x7fffcbebd390
    r8     0x0
    r9     0x7fffcbebd390
    r10    0x8
    r11    0x246
    r12    0x5612b4d8b690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fba421eaf47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 5 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000088000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000088000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc00004b000, 0x4)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000073f01)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.resetspinning()
    	/usr/local/go/src/runtime/proc.go:2533 +0x59
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2684 +0x2b9
    runtime.mstart1()
    	/usr/local/go/src/runtime/proc.go:1179 +0x93
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1137 +0x6e
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x1bb7a80, 0xc0000420c8, 0x170e, 0x2)
    	/usr/local/go/src/runtime/proc.go:306 +0xe5
    runtime.chanrecv(0xc000042070, 0x0, 0xc000000101, 0x41a55e)
    	/usr/local/go/src/runtime/chan.go:577 +0x36f
    runtime.chanrecv1(0xc000042070, 0x0)
    	/usr/local/go/src/runtime/chan.go:439 +0x2b
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:219 +0x95
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f6e5ac29f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f6e5ac29f47
    stack: frame={sp:0x7ffe037a60d0, fp:0x0} stack=[0x7ffe02fa75d0,0x7ffe037a6600)
    00007ffe037a5fd0:  0000000000000001  0000000000000000 
    00007ffe037a5fe0:  0000000000000000  0000000000000000 
    00007ffe037a5ff0:  00007f6e5afd7560  00007f6e5afdabc0 
    00007ffe037a6000:  000000c42006ffd0  000055cbc583d3e0 <runtime.main+208> 
    00007ffe037a6010:  000055cbc6531970  0000000000000000 
    00007ffe037a6020:  0000000000000000  0000000000000000 
    00007ffe037a6030:  0000000000000000  0000000000000000 
    00007ffe037a6040:  0000000000000000  0000000000000000 
    00007ffe037a6050:  000000c420000180  0000000000000000 
    00007ffe037a6060:  000055cbc583d3e0 <runtime.main+208>  000055cbc6531970 
    00007ffe037a6070:  0000000000000000  0000000000000000 
    00007ffe037a6080:  0000000000000000  0000000000000000 
    00007ffe037a6090:  0000000000000000  0000000000000000 
    00007ffe037a60a0:  0000000000000000  000000c420000180 
    00007ffe037a60b0:  0000000000000000  000055cbc5868f31 <runtime.goexit+1> 
    00007ffe037a60c0:  0000000000000000  0000000000000000 
    00007ffe037a60d0: <0000000000000000  0000000000000000 
    00007ffe037a60e0:  00007f6e5b41b0d0  00007ffe037a6128 
    00007ffe037a60f0:  000055cbc5859582 <runtime.step+290>  000055cbc65b5232 
    00007ffe037a6100:  000000000030da24  000000000030da24 
    00007ffe037a6110:  0000029300000002  000000505afe3ec5 
    00007ffe037a6120:  000000000030da24  00007ffe037a61d8 
    00007ffe037a6130:  000055cbc5858936 <runtime.pcvalue+342>  000055cbc65cb828 
    00007ffe037a6140:  0000000000000002  0000000000000000 
    00007ffe037a6150:  fffffffe7fffffff  ffffffffffffffff 
    00007ffe037a6160:  ffffffffffffffff  ffffffffffffffff 
    00007ffe037a6170:  ffffffffffffffff  ffffffffffffffff 
    00007ffe037a6180:  ffffffffffffffff  ffffffffffffffff 
    00007ffe037a6190:  ffffffffffffffff  ffffffffffffffff 
    00007ffe037a61a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe037a61b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe037a61c0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f6e5ac29f47
    stack: frame={sp:0x7ffe037a60d0, fp:0x0} stack=[0x7ffe02fa75d0,0x7ffe037a6600)
    00007ffe037a5fd0:  0000000000000001  0000000000000000 
    00007ffe037a5fe0:  0000000000000000  0000000000000000 
    00007ffe037a5ff0:  00007f6e5afd7560  00007f6e5afdabc0 
    00007ffe037a6000:  000000c42006ffd0  000055cbc583d3e0 <runtime.main+208> 
    00007ffe037a6010:  000055cbc6531970  0000000000000000 
    00007ffe037a6020:  0000000000000000  0000000000000000 
    00007ffe037a6030:  0000000000000000  0000000000000000 
    00007ffe037a6040:  0000000000000000  0000000000000000 
    00007ffe037a6050:  000000c420000180  0000000000000000 
    00007ffe037a6060:  000055cbc583d3e0 <runtime.main+208>  000055cbc6531970 
    00007ffe037a6070:  0000000000000000  0000000000000000 
    00007ffe037a6080:  0000000000000000  0000000000000000 
    00007ffe037a6090:  0000000000000000  0000000000000000 
    00007ffe037a60a0:  0000000000000000  000000c420000180 
    00007ffe037a60b0:  0000000000000000  000055cbc5868f31 <runtime.goexit+1> 
    00007ffe037a60c0:  0000000000000000  0000000000000000 
    00007ffe037a60d0: <0000000000000000  0000000000000000 
    00007ffe037a60e0:  00007f6e5b41b0d0  00007ffe037a6128 
    00007ffe037a60f0:  000055cbc5859582 <runtime.step+290>  000055cbc65b5232 
    00007ffe037a6100:  000000000030da24  000000000030da24 
    00007ffe037a6110:  0000029300000002  000000505afe3ec5 
    00007ffe037a6120:  000000000030da24  00007ffe037a61d8 
    00007ffe037a6130:  000055cbc5858936 <runtime.pcvalue+342>  000055cbc65cb828 
    00007ffe037a6140:  0000000000000002  0000000000000000 
    00007ffe037a6150:  fffffffe7fffffff  ffffffffffffffff 
    00007ffe037a6160:  ffffffffffffffff  ffffffffffffffff 
    00007ffe037a6170:  ffffffffffffffff  ffffffffffffffff 
    00007ffe037a6180:  ffffffffffffffff  ffffffffffffffff 
    00007ffe037a6190:  ffffffffffffffff  ffffffffffffffff 
    00007ffe037a61a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe037a61b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe037a61c0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x55cbc5f05a30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x55cbc5867bcf
    runtime.newm1(0xc420094400)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x55cbc58416b1
    runtime.newm(0x55cbc6531b08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x55cbc584152f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x55cbc5841791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x55cbc583d4b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x55cbc5868f31
    
    rax    0x0
    rbx    0x7f6e5afd7840
    rcx    0x7f6e5ac29f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffe037a60d0
    rbp    0x55cbc603732a
    rsp    0x7ffe037a60d0
    r8     0x0
    r9     0x7ffe037a60d0
    r10    0x8
    r11    0x246
    r12    0x55cbc6f74690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f6e5ac29f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
