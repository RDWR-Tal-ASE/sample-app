apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fdc1b85ff47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fdc1b85ff47
    stack: frame={sp:0x7ffcfbc58690, fp:0x0} stack=[0x7ffcfb459b90,0x7ffcfbc58bc0)
    00007ffcfbc58590:  0000000000000001  0000000000000000 
    00007ffcfbc585a0:  0000000000000000  0000000000000000 
    00007ffcfbc585b0:  00007fdc1bc0d560  00007fdc1bc10bc0 
    00007ffcfbc585c0:  000000c42006ffd0  000055feb8c263e0 <runtime.main+208> 
    00007ffcfbc585d0:  000055feb991a970  0000000000000000 
    00007ffcfbc585e0:  0000000000000000  0000000000000000 
    00007ffcfbc585f0:  0000000000000000  0000000000000000 
    00007ffcfbc58600:  0000000000000000  0000000000000000 
    00007ffcfbc58610:  000000c420000180  0000000000000000 
    00007ffcfbc58620:  000055feb8c263e0 <runtime.main+208>  000055feb991a970 
    00007ffcfbc58630:  0000000000000000  0000000000000000 
    00007ffcfbc58640:  0000000000000000  0000000000000000 
    00007ffcfbc58650:  0000000000000000  0000000000000000 
    00007ffcfbc58660:  0000000000000000  000000c420000180 
    00007ffcfbc58670:  0000000000000000  000055feb8c51f31 <runtime.goexit+1> 
    00007ffcfbc58680:  0000000000000000  0000000000000000 
    00007ffcfbc58690: <0000000000000000  0000000000000000 
    00007ffcfbc586a0:  00007fdc1c0510d0  00007ffcfbc586e8 
    00007ffcfbc586b0:  000055feb8c42582 <runtime.step+290>  000055feb999e232 
    00007ffcfbc586c0:  000000000030da24  000000000030da24 
    00007ffcfbc586d0:  0000029300000002  000000501bc19ec5 
    00007ffcfbc586e0:  000000000030da24  00007ffcfbc58798 
    00007ffcfbc586f0:  000055feb8c41936 <runtime.pcvalue+342>  000055feb99b4828 
    00007ffcfbc58700:  0000000000000002  0000000000000000 
    00007ffcfbc58710:  fffffffe7fffffff  ffffffffffffffff 
    00007ffcfbc58720:  ffffffffffffffff  ffffffffffffffff 
    00007ffcfbc58730:  ffffffffffffffff  ffffffffffffffff 
    00007ffcfbc58740:  ffffffffffffffff  ffffffffffffffff 
    00007ffcfbc58750:  ffffffffffffffff  ffffffffffffffff 
    00007ffcfbc58760:  ffffffffffffffff  ffffffffffffffff 
    00007ffcfbc58770:  ffffffffffffffff  ffffffffffffffff 
    00007ffcfbc58780:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fdc1b85ff47
    stack: frame={sp:0x7ffcfbc58690, fp:0x0} stack=[0x7ffcfb459b90,0x7ffcfbc58bc0)
    00007ffcfbc58590:  0000000000000001  0000000000000000 
    00007ffcfbc585a0:  0000000000000000  0000000000000000 
    00007ffcfbc585b0:  00007fdc1bc0d560  00007fdc1bc10bc0 
    00007ffcfbc585c0:  000000c42006ffd0  000055feb8c263e0 <runtime.main+208> 
    00007ffcfbc585d0:  000055feb991a970  0000000000000000 
    00007ffcfbc585e0:  0000000000000000  0000000000000000 
    00007ffcfbc585f0:  0000000000000000  0000000000000000 
    00007ffcfbc58600:  0000000000000000  0000000000000000 
    00007ffcfbc58610:  000000c420000180  0000000000000000 
    00007ffcfbc58620:  000055feb8c263e0 <runtime.main+208>  000055feb991a970 
    00007ffcfbc58630:  0000000000000000  0000000000000000 
    00007ffcfbc58640:  0000000000000000  0000000000000000 
    00007ffcfbc58650:  0000000000000000  0000000000000000 
    00007ffcfbc58660:  0000000000000000  000000c420000180 
    00007ffcfbc58670:  0000000000000000  000055feb8c51f31 <runtime.goexit+1> 
    00007ffcfbc58680:  0000000000000000  0000000000000000 
    00007ffcfbc58690: <0000000000000000  0000000000000000 
    00007ffcfbc586a0:  00007fdc1c0510d0  00007ffcfbc586e8 
    00007ffcfbc586b0:  000055feb8c42582 <runtime.step+290>  000055feb999e232 
    00007ffcfbc586c0:  000000000030da24  000000000030da24 
    00007ffcfbc586d0:  0000029300000002  000000501bc19ec5 
    00007ffcfbc586e0:  000000000030da24  00007ffcfbc58798 
    00007ffcfbc586f0:  000055feb8c41936 <runtime.pcvalue+342>  000055feb99b4828 
    00007ffcfbc58700:  0000000000000002  0000000000000000 
    00007ffcfbc58710:  fffffffe7fffffff  ffffffffffffffff 
    00007ffcfbc58720:  ffffffffffffffff  ffffffffffffffff 
    00007ffcfbc58730:  ffffffffffffffff  ffffffffffffffff 
    00007ffcfbc58740:  ffffffffffffffff  ffffffffffffffff 
    00007ffcfbc58750:  ffffffffffffffff  ffffffffffffffff 
    00007ffcfbc58760:  ffffffffffffffff  ffffffffffffffff 
    00007ffcfbc58770:  ffffffffffffffff  ffffffffffffffff 
    00007ffcfbc58780:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x55feb92eea30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x55feb8c50bcf
    runtime.newm1(0xc420061000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x55feb8c2a6b1
    runtime.newm(0x55feb991ab08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x55feb8c2a52f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x55feb8c2a791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x55feb8c264b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x55feb8c51f31
    
    rax    0x0
    rbx    0x7fdc1bc0d840
    rcx    0x7fdc1b85ff47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffcfbc58690
    rbp    0x55feb942032a
    rsp    0x7ffcfbc58690
    r8     0x0
    r9     0x7ffcfbc58690
    r10    0x8
    r11    0x246
    r12    0x55feba019690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fdc1b85ff47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 5 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000088000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000088000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc00004b000, 0x4)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000073f01)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.resetspinning()
    	/usr/local/go/src/runtime/proc.go:2533 +0x59
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2684 +0x2b9
    runtime.mstart1()
    	/usr/local/go/src/runtime/proc.go:1179 +0x93
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1137 +0x6e
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x1bb7a80, 0xc0000420c8, 0x170e, 0x2)
    	/usr/local/go/src/runtime/proc.go:306 +0xe5
    runtime.chanrecv(0xc000042070, 0x0, 0xc000000101, 0x41a55e)
    	/usr/local/go/src/runtime/chan.go:577 +0x36f
    runtime.chanrecv1(0xc000042070, 0x0)
    	/usr/local/go/src/runtime/chan.go:439 +0x2b
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:219 +0x95
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7ff20208af47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7ff20208af47
    stack: frame={sp:0x7fff19458db0, fp:0x0} stack=[0x7fff18c5a2b0,0x7fff194592e0)
    00007fff19458cb0:  0000000000000001  0000000000000000 
    00007fff19458cc0:  0000000000000000  000000c420081fe0 
    00007fff19458cd0:  0000000000000000  0000000000000000 
    00007fff19458ce0:  0000000000000000  0000000000000000 
    00007fff19458cf0:  00007ff202438560  00007ff20243bbc0 
    00007fff19458d00:  000000c42006ffd0  000056135cd023e0 <runtime.main+208> 
    00007fff19458d10:  000056135d9f6970  0000000000000000 
    00007fff19458d20:  0000000000000000  0000000000000000 
    00007fff19458d30:  0000000000000000  0000000000000000 
    00007fff19458d40:  0000000000000000  0000000000000000 
    00007fff19458d50:  000000c420000180  0000000000000000 
    00007fff19458d60:  000056135cd023e0 <runtime.main+208>  000056135d9f6970 
    00007fff19458d70:  0000000000000000  0000000000000000 
    00007fff19458d80:  0000000000000000  0000000000000000 
    00007fff19458d90:  0000000000000000  0000000000000000 
    00007fff19458da0:  0000000000000000  000000c420000180 
    00007fff19458db0: <0000000000000000  000056135cd2df31 <runtime.goexit+1> 
    00007fff19458dc0:  0000000000000000  0000000000000000 
    00007fff19458dd0:  0000000000000000  0000000000000000 
    00007fff19458de0:  000000000030da24  000000000030da24 
    00007fff19458df0:  0000029300000002  0000005002444ec5 
    00007fff19458e00:  000000000030da24  00007fff19458eb8 
    00007fff19458e10:  000056135cd1d936 <runtime.pcvalue+342>  000056135da90828 
    00007fff19458e20:  00000000002f742e  00000000002f742e 
    00007fff19458e30:  fffffffe7fffffff  ffffffffffffffff 
    00007fff19458e40:  ffffffffffffffff  ffffffffffffffff 
    00007fff19458e50:  ffffffffffffffff  ffffffffffffffff 
    00007fff19458e60:  ffffffffffffffff  ffffffffffffffff 
    00007fff19458e70:  ffffffffffffffff  ffffffffffffffff 
    00007fff19458e80:  ffffffffffffffff  ffffffffffffffff 
    00007fff19458e90:  ffffffffffffffff  ffffffffffffffff 
    00007fff19458ea0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7ff20208af47
    stack: frame={sp:0x7fff19458db0, fp:0x0} stack=[0x7fff18c5a2b0,0x7fff194592e0)
    00007fff19458cb0:  0000000000000001  0000000000000000 
    00007fff19458cc0:  0000000000000000  000000c420081fe0 
    00007fff19458cd0:  0000000000000000  0000000000000000 
    00007fff19458ce0:  0000000000000000  0000000000000000 
    00007fff19458cf0:  00007ff202438560  00007ff20243bbc0 
    00007fff19458d00:  000000c42006ffd0  000056135cd023e0 <runtime.main+208> 
    00007fff19458d10:  000056135d9f6970  0000000000000000 
    00007fff19458d20:  0000000000000000  0000000000000000 
    00007fff19458d30:  0000000000000000  0000000000000000 
    00007fff19458d40:  0000000000000000  0000000000000000 
    00007fff19458d50:  000000c420000180  0000000000000000 
    00007fff19458d60:  000056135cd023e0 <runtime.main+208>  000056135d9f6970 
    00007fff19458d70:  0000000000000000  0000000000000000 
    00007fff19458d80:  0000000000000000  0000000000000000 
    00007fff19458d90:  0000000000000000  0000000000000000 
    00007fff19458da0:  0000000000000000  000000c420000180 
    00007fff19458db0: <0000000000000000  000056135cd2df31 <runtime.goexit+1> 
    00007fff19458dc0:  0000000000000000  0000000000000000 
    00007fff19458dd0:  0000000000000000  0000000000000000 
    00007fff19458de0:  000000000030da24  000000000030da24 
    00007fff19458df0:  0000029300000002  0000005002444ec5 
    00007fff19458e00:  000000000030da24  00007fff19458eb8 
    00007fff19458e10:  000056135cd1d936 <runtime.pcvalue+342>  000056135da90828 
    00007fff19458e20:  00000000002f742e  00000000002f742e 
    00007fff19458e30:  fffffffe7fffffff  ffffffffffffffff 
    00007fff19458e40:  ffffffffffffffff  ffffffffffffffff 
    00007fff19458e50:  ffffffffffffffff  ffffffffffffffff 
    00007fff19458e60:  ffffffffffffffff  ffffffffffffffff 
    00007fff19458e70:  ffffffffffffffff  ffffffffffffffff 
    00007fff19458e80:  ffffffffffffffff  ffffffffffffffff 
    00007fff19458e90:  ffffffffffffffff  ffffffffffffffff 
    00007fff19458ea0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x56135d3caa30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x56135cd2cbcf
    runtime.newm1(0xc420094400)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x56135cd066b1
    runtime.newm(0x56135d9f6b08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x56135cd0652f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x56135cd06791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x56135cd024b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x56135cd2df31
    
    rax    0x0
    rbx    0x7ff202438840
    rcx    0x7ff20208af47
    rdx    0x0
    rdi    0x2
    rsi    0x7fff19458db0
    rbp    0x56135d4fc32a
    rsp    0x7fff19458db0
    r8     0x0
    r9     0x7fff19458db0
    r10    0x8
    r11    0x246
    r12    0x56135e894690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7ff20208af47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
