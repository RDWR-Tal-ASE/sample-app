apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fdf279ecf47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fdf279ecf47
    stack: frame={sp:0x7ffddb9b3320, fp:0x0} stack=[0x7ffddb1b49c0,0x7ffddb9b39f0)
    00007ffddb9b3220:  0000560955987683 <runtime.main+883>  000000000030da24 
    00007ffddb9b3230:  0000029300000002  0000005027fd575a 
    00007ffddb9b3240:  000000000030da24  00007ffddb9b32f8 
    00007ffddb9b3250:  00005609559a2936 <runtime.pcvalue+342>  0000560956715828 
    00007ffddb9b3260:  0000000000000000  0000000000000000 
    00007ffddb9b3270:  00007fdf27d9a560  00007fdf27d9dbc0 
    00007ffddb9b3280:  000000c42006ffd0  00005609559873e0 <runtime.main+208> 
    00007ffddb9b3290:  000056095667b970  0000000000000000 
    00007ffddb9b32a0:  0000000000000000  0000000000000000 
    00007ffddb9b32b0:  0000000000000000  0000000000000000 
    00007ffddb9b32c0:  0000000000000000  0000000000000000 
    00007ffddb9b32d0:  000000c420000180  0000000000000000 
    00007ffddb9b32e0:  00005609559873e0 <runtime.main+208>  000056095667b970 
    00007ffddb9b32f0:  0000000000000000  0000000000000000 
    00007ffddb9b3300:  0000000000000000  0000000000000000 
    00007ffddb9b3310:  0000000000000000  0000000000000000 
    00007ffddb9b3320: <0000000000000000  000000c420000180 
    00007ffddb9b3330:  0000000000000000  00005609559b2f31 <runtime.goexit+1> 
    00007ffddb9b3340:  0000000000000000  0000000000000000 
    00007ffddb9b3350:  0000000000000000  0000000000000000 
    00007ffddb9b3360:  0000560956a293c0  00007ffddb9b3670 
    00007ffddb9b3370:  00005609559a7962 <runtime.gentraceback+4850>  00007ffddb9b3618 
    00007ffddb9b3380:  00007ffddb9b3708  0000560956a29301 
    00007ffddb9b3390:  00007ffddb9b3401  0000000000000000 
    00007ffddb9b33a0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffddb9b33b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffddb9b33c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffddb9b33d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffddb9b33e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffddb9b33f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffddb9b3400:  ffffffffffffffff  ffffffffffffffff 
    00007ffddb9b3410:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fdf279ecf47
    stack: frame={sp:0x7ffddb9b3320, fp:0x0} stack=[0x7ffddb1b49c0,0x7ffddb9b39f0)
    00007ffddb9b3220:  0000560955987683 <runtime.main+883>  000000000030da24 
    00007ffddb9b3230:  0000029300000002  0000005027fd575a 
    00007ffddb9b3240:  000000000030da24  00007ffddb9b32f8 
    00007ffddb9b3250:  00005609559a2936 <runtime.pcvalue+342>  0000560956715828 
    00007ffddb9b3260:  0000000000000000  0000000000000000 
    00007ffddb9b3270:  00007fdf27d9a560  00007fdf27d9dbc0 
    00007ffddb9b3280:  000000c42006ffd0  00005609559873e0 <runtime.main+208> 
    00007ffddb9b3290:  000056095667b970  0000000000000000 
    00007ffddb9b32a0:  0000000000000000  0000000000000000 
    00007ffddb9b32b0:  0000000000000000  0000000000000000 
    00007ffddb9b32c0:  0000000000000000  0000000000000000 
    00007ffddb9b32d0:  000000c420000180  0000000000000000 
    00007ffddb9b32e0:  00005609559873e0 <runtime.main+208>  000056095667b970 
    00007ffddb9b32f0:  0000000000000000  0000000000000000 
    00007ffddb9b3300:  0000000000000000  0000000000000000 
    00007ffddb9b3310:  0000000000000000  0000000000000000 
    00007ffddb9b3320: <0000000000000000  000000c420000180 
    00007ffddb9b3330:  0000000000000000  00005609559b2f31 <runtime.goexit+1> 
    00007ffddb9b3340:  0000000000000000  0000000000000000 
    00007ffddb9b3350:  0000000000000000  0000000000000000 
    00007ffddb9b3360:  0000560956a293c0  00007ffddb9b3670 
    00007ffddb9b3370:  00005609559a7962 <runtime.gentraceback+4850>  00007ffddb9b3618 
    00007ffddb9b3380:  00007ffddb9b3708  0000560956a29301 
    00007ffddb9b3390:  00007ffddb9b3401  0000000000000000 
    00007ffddb9b33a0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffddb9b33b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffddb9b33c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffddb9b33d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffddb9b33e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffddb9b33f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffddb9b3400:  ffffffffffffffff  ffffffffffffffff 
    00007ffddb9b3410:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.systemstack_switch()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:363 fp=0xc420081f00 sp=0xc420081ef8 pc=0x5609559b0370
    runtime.newproc(0x560900000000, 0x56095667b8f8)
    	/usr/lib/go-1.10/src/runtime/proc.go:3243 +0x64 fp=0xc420081f40 sp=0xc420081f00 pc=0x56095598f264
    runtime.init.4()
    	/usr/lib/go-1.10/src/runtime/proc.go:237 +0x37 fp=0xc420081f60 sp=0xc420081f40 pc=0x5609559876d7
    runtime.init()
    	<autogenerated>:1 +0xe5 fp=0xc420081f88 sp=0xc420081f60 pc=0x5609559aff45
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:144 +0xd0 fp=0xc420081fe0 sp=0xc420081f88 pc=0x5609559873e0
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x5609559b2f31
    
    rax    0x0
    rbx    0x7fdf27d9a840
    rcx    0x7fdf279ecf47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffddb9b3320
    rbp    0x56095618132a
    rsp    0x7ffddb9b3320
    r8     0x0
    r9     0x7ffddb9b3320
    r10    0x8
    r11    0x246
    r12    0x56095735e3f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fdf279ecf47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 2 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7d48, 0x0, 0xffffffffffffffff)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.main.func1()
    	/usr/local/go/src/runtime/proc.go:135 +0x3f
    runtime.systemstack(0x46c2f4)
    	/usr/local/go/src/runtime/asm_amd64.s:370 +0x66
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1116
    
    goroutine 1 [running]:
    runtime.systemstack_switch()
    	/usr/local/go/src/runtime/asm_amd64.s:330 fp=0xc00005e788 sp=0xc00005e780 pc=0x46c420
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:134 +0x70 fp=0xc00005e7e0 sp=0xc00005e788 pc=0x439ab0
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1 fp=0xc00005e7e8 sp=0xc00005e7e0 pc=0x46e061
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f35ac9ccf47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f35ac9ccf47
    stack: frame={sp:0x7ffd18d0a7f0, fp:0x0} stack=[0x7ffd1850be90,0x7ffd18d0aec0)
    00007ffd18d0a6f0:  000055c9dcc33683 <runtime.main+883>  000000000030da24 
    00007ffd18d0a700:  0000029300000002  00000050ac98d700 
    00007ffd18d0a710:  000000000030da24  00007ffd18d0a7c8 
    00007ffd18d0a720:  0000000000000000  0000000000000000 
    00007ffd18d0a730:  00007f35acd7a560  00007f35acd7dbc0 
    00007ffd18d0a740:  000000c42006ffd0  000055c9dcc333e0 <runtime.main+208> 
    00007ffd18d0a750:  000055c9dd927970  0000000000000000 
    00007ffd18d0a760:  0000000000000000  0000000000000000 
    00007ffd18d0a770:  0000000000000000  0000000000000000 
    00007ffd18d0a780:  0000000000000000  0000000000000000 
    00007ffd18d0a790:  000000c420000180  0000000000000000 
    00007ffd18d0a7a0:  000055c9dcc333e0 <runtime.main+208>  000055c9dd927970 
    00007ffd18d0a7b0:  0000000000000000  0000000000000000 
    00007ffd18d0a7c0:  0000000000000000  0000000000000000 
    00007ffd18d0a7d0:  0000000000000000  0000000000000000 
    00007ffd18d0a7e0:  0000000000000000  000000c420000180 
    00007ffd18d0a7f0: <0000000000000000  000055c9dcc5ef31 <runtime.goexit+1> 
    00007ffd18d0a800:  0000000000000000  0000000000000000 
    00007ffd18d0a810:  0000000000000000  0000000000000000 
    00007ffd18d0a820:  0000000000000000  000055c9dcc5ef31 <runtime.goexit+1> 
    00007ffd18d0a830:  000055c9ddcd53c0  00007ffd18d0ab40 
    00007ffd18d0a840:  000055c9dcc53962 <runtime.gentraceback+4850>  00007ffd18d0aae8 
    00007ffd18d0a850:  00007ffd18d0abd8  000055c9ddcd5301 
    00007ffd18d0a860:  00007ffd18d0a901  0000000000000000 
    00007ffd18d0a870:  fffffffe7fffffff  ffffffffffffffff 
    00007ffd18d0a880:  ffffffffffffffff  ffffffffffffffff 
    00007ffd18d0a890:  ffffffffffffffff  ffffffffffffffff 
    00007ffd18d0a8a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd18d0a8b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd18d0a8c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd18d0a8d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd18d0a8e0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f35ac9ccf47
    stack: frame={sp:0x7ffd18d0a7f0, fp:0x0} stack=[0x7ffd1850be90,0x7ffd18d0aec0)
    00007ffd18d0a6f0:  000055c9dcc33683 <runtime.main+883>  000000000030da24 
    00007ffd18d0a700:  0000029300000002  00000050ac98d700 
    00007ffd18d0a710:  000000000030da24  00007ffd18d0a7c8 
    00007ffd18d0a720:  0000000000000000  0000000000000000 
    00007ffd18d0a730:  00007f35acd7a560  00007f35acd7dbc0 
    00007ffd18d0a740:  000000c42006ffd0  000055c9dcc333e0 <runtime.main+208> 
    00007ffd18d0a750:  000055c9dd927970  0000000000000000 
    00007ffd18d0a760:  0000000000000000  0000000000000000 
    00007ffd18d0a770:  0000000000000000  0000000000000000 
    00007ffd18d0a780:  0000000000000000  0000000000000000 
    00007ffd18d0a790:  000000c420000180  0000000000000000 
    00007ffd18d0a7a0:  000055c9dcc333e0 <runtime.main+208>  000055c9dd927970 
    00007ffd18d0a7b0:  0000000000000000  0000000000000000 
    00007ffd18d0a7c0:  0000000000000000  0000000000000000 
    00007ffd18d0a7d0:  0000000000000000  0000000000000000 
    00007ffd18d0a7e0:  0000000000000000  000000c420000180 
    00007ffd18d0a7f0: <0000000000000000  000055c9dcc5ef31 <runtime.goexit+1> 
    00007ffd18d0a800:  0000000000000000  0000000000000000 
    00007ffd18d0a810:  0000000000000000  0000000000000000 
    00007ffd18d0a820:  0000000000000000  000055c9dcc5ef31 <runtime.goexit+1> 
    00007ffd18d0a830:  000055c9ddcd53c0  00007ffd18d0ab40 
    00007ffd18d0a840:  000055c9dcc53962 <runtime.gentraceback+4850>  00007ffd18d0aae8 
    00007ffd18d0a850:  00007ffd18d0abd8  000055c9ddcd5301 
    00007ffd18d0a860:  00007ffd18d0a901  0000000000000000 
    00007ffd18d0a870:  fffffffe7fffffff  ffffffffffffffff 
    00007ffd18d0a880:  ffffffffffffffff  ffffffffffffffff 
    00007ffd18d0a890:  ffffffffffffffff  ffffffffffffffff 
    00007ffd18d0a8a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd18d0a8b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd18d0a8c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd18d0a8d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd18d0a8e0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.systemstack_switch()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:363 fp=0xc420081f00 sp=0xc420081ef8 pc=0x55c9dcc5c370
    runtime.newproc(0x55c900000000, 0x55c9dd9278f8)
    	/usr/lib/go-1.10/src/runtime/proc.go:3243 +0x64 fp=0xc420081f40 sp=0xc420081f00 pc=0x55c9dcc3b264
    runtime.init.4()
    	/usr/lib/go-1.10/src/runtime/proc.go:237 +0x37 fp=0xc420081f60 sp=0xc420081f40 pc=0x55c9dcc336d7
    runtime.init()
    	<autogenerated>:1 +0xe5 fp=0xc420081f88 sp=0xc420081f60 pc=0x55c9dcc5bf45
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:144 +0xd0 fp=0xc420081fe0 sp=0xc420081f88 pc=0x55c9dcc333e0
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x55c9dcc5ef31
    
    rax    0x0
    rbx    0x7f35acd7a840
    rcx    0x7f35ac9ccf47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffd18d0a7f0
    rbp    0x55c9dd42d32a
    rsp    0x7ffd18d0a7f0
    r8     0x0
    r9     0x7ffd18d0a7f0
    r10    0x8
    r11    0x246
    r12    0x55c9ddfb83f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f35ac9ccf47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
