apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fc0bf2caf47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fc0bf2caf47
    stack: frame={sp:0x7fff1ed132a0, fp:0x0} stack=[0x7fff1e5147a0,0x7fff1ed137d0)
    00007fff1ed131a0:  00007fc000000001  00007fc0bf678420 
    00007fff1ed131b0:  0000000000000000  000000c420081fe0 
    00007fff1ed131c0:  0000000000000000  0000000000000000 
    00007fff1ed131d0:  0000000000000000  0000000000000000 
    00007fff1ed131e0:  0000000000000000  0000000000000000 
    00007fff1ed131f0:  00007fc0bf678560  00007fc0bf67bbc0 
    00007fff1ed13200:  000000c42006ffd0  000055914a51a3e0 <runtime.main+208> 
    00007fff1ed13210:  000055914b20e970  0000000000000000 
    00007fff1ed13220:  0000000000000000  0000000000000000 
    00007fff1ed13230:  0000000000000000  0000000000000000 
    00007fff1ed13240:  0000000000000000  0000000000000000 
    00007fff1ed13250:  000000c420000180  0000000000000000 
    00007fff1ed13260:  000055914a51a3e0 <runtime.main+208>  000055914b20e970 
    00007fff1ed13270:  0000000000000000  0000000000000000 
    00007fff1ed13280:  0000000000000000  0000000000000000 
    00007fff1ed13290:  0000000000000000  0000000000000000 
    00007fff1ed132a0: <0000000000000000  000000c420000180 
    00007fff1ed132b0:  0000000000000000  000055914a545f31 <runtime.goexit+1> 
    00007fff1ed132c0:  0000000000000000  0000000000000000 
    00007fff1ed132d0:  0000000000000000  0000000000000000 
    00007fff1ed132e0:  0000029300000002  00000050bf684ec5 
    00007fff1ed132f0:  000000000030da24  00007fff1ed133a8 
    00007fff1ed13300:  000055914a535936 <runtime.pcvalue+342>  000055914b2a8828 
    00007fff1ed13310:  00000000002f742e  00000000002f742e 
    00007fff1ed13320:  fffffffe7fffffff  ffffffffffffffff 
    00007fff1ed13330:  ffffffffffffffff  ffffffffffffffff 
    00007fff1ed13340:  ffffffffffffffff  ffffffffffffffff 
    00007fff1ed13350:  ffffffffffffffff  ffffffffffffffff 
    00007fff1ed13360:  ffffffffffffffff  ffffffffffffffff 
    00007fff1ed13370:  ffffffffffffffff  ffffffffffffffff 
    00007fff1ed13380:  ffffffffffffffff  ffffffffffffffff 
    00007fff1ed13390:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fc0bf2caf47
    stack: frame={sp:0x7fff1ed132a0, fp:0x0} stack=[0x7fff1e5147a0,0x7fff1ed137d0)
    00007fff1ed131a0:  00007fc000000001  00007fc0bf678420 
    00007fff1ed131b0:  0000000000000000  000000c420081fe0 
    00007fff1ed131c0:  0000000000000000  0000000000000000 
    00007fff1ed131d0:  0000000000000000  0000000000000000 
    00007fff1ed131e0:  0000000000000000  0000000000000000 
    00007fff1ed131f0:  00007fc0bf678560  00007fc0bf67bbc0 
    00007fff1ed13200:  000000c42006ffd0  000055914a51a3e0 <runtime.main+208> 
    00007fff1ed13210:  000055914b20e970  0000000000000000 
    00007fff1ed13220:  0000000000000000  0000000000000000 
    00007fff1ed13230:  0000000000000000  0000000000000000 
    00007fff1ed13240:  0000000000000000  0000000000000000 
    00007fff1ed13250:  000000c420000180  0000000000000000 
    00007fff1ed13260:  000055914a51a3e0 <runtime.main+208>  000055914b20e970 
    00007fff1ed13270:  0000000000000000  0000000000000000 
    00007fff1ed13280:  0000000000000000  0000000000000000 
    00007fff1ed13290:  0000000000000000  0000000000000000 
    00007fff1ed132a0: <0000000000000000  000000c420000180 
    00007fff1ed132b0:  0000000000000000  000055914a545f31 <runtime.goexit+1> 
    00007fff1ed132c0:  0000000000000000  0000000000000000 
    00007fff1ed132d0:  0000000000000000  0000000000000000 
    00007fff1ed132e0:  0000029300000002  00000050bf684ec5 
    00007fff1ed132f0:  000000000030da24  00007fff1ed133a8 
    00007fff1ed13300:  000055914a535936 <runtime.pcvalue+342>  000055914b2a8828 
    00007fff1ed13310:  00000000002f742e  00000000002f742e 
    00007fff1ed13320:  fffffffe7fffffff  ffffffffffffffff 
    00007fff1ed13330:  ffffffffffffffff  ffffffffffffffff 
    00007fff1ed13340:  ffffffffffffffff  ffffffffffffffff 
    00007fff1ed13350:  ffffffffffffffff  ffffffffffffffff 
    00007fff1ed13360:  ffffffffffffffff  ffffffffffffffff 
    00007fff1ed13370:  ffffffffffffffff  ffffffffffffffff 
    00007fff1ed13380:  ffffffffffffffff  ffffffffffffffff 
    00007fff1ed13390:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x55914abe2a30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x55914a544bcf
    runtime.newm1(0xc420061000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x55914a51e6b1
    runtime.newm(0x55914b20eb08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x55914a51e52f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x55914a51e791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x55914a51a4b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x55914a545f31
    
    rax    0x0
    rbx    0x7fc0bf678840
    rcx    0x7fc0bf2caf47
    rdx    0x0
    rdi    0x2
    rsi    0x7fff1ed132a0
    rbp    0x55914ad1432a
    rsp    0x7fff1ed132a0
    r8     0x0
    r9     0x7fff1ed132a0
    r10    0x8
    r11    0x246
    r12    0x55914c8f1690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fc0bf2caf47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 5 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000088000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000088000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc00004b000, 0x4)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000073f01)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.resetspinning()
    	/usr/local/go/src/runtime/proc.go:2533 +0x59
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2684 +0x2b9
    runtime.mstart1()
    	/usr/local/go/src/runtime/proc.go:1179 +0x93
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1137 +0x6e
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x1bb7a80, 0xc0000420c8, 0x170e, 0x2)
    	/usr/local/go/src/runtime/proc.go:306 +0xe5
    runtime.chanrecv(0xc000042070, 0x0, 0xc000000101, 0x410101)
    	/usr/local/go/src/runtime/chan.go:577 +0x36f
    runtime.chanrecv1(0xc000042070, 0x0)
    	/usr/local/go/src/runtime/chan.go:439 +0x2b
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:220 +0xac
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f2e411eff47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f2e411eff47
    stack: frame={sp:0x7ffc8f1712a0, fp:0x0} stack=[0x7ffc8e9727a0,0x7ffc8f1717d0)
    00007ffc8f1711a0:  00007f2e00000001  00007f2e4159d420 
    00007ffc8f1711b0:  0000000000000000  000000c420081fe0 
    00007ffc8f1711c0:  0000000000000000  0000000000000000 
    00007ffc8f1711d0:  0000000000000000  0000000000000000 
    00007ffc8f1711e0:  0000000000000000  0000000000000000 
    00007ffc8f1711f0:  00007f2e4159d560  00007f2e415a0bc0 
    00007ffc8f171200:  000000c42006ffd0  000055bf1ebf83e0 <runtime.main+208> 
    00007ffc8f171210:  000055bf1f8ec970  0000000000000000 
    00007ffc8f171220:  0000000000000000  0000000000000000 
    00007ffc8f171230:  0000000000000000  0000000000000000 
    00007ffc8f171240:  0000000000000000  0000000000000000 
    00007ffc8f171250:  000000c420000180  0000000000000000 
    00007ffc8f171260:  000055bf1ebf83e0 <runtime.main+208>  000055bf1f8ec970 
    00007ffc8f171270:  0000000000000000  0000000000000000 
    00007ffc8f171280:  0000000000000000  0000000000000000 
    00007ffc8f171290:  0000000000000000  0000000000000000 
    00007ffc8f1712a0: <0000000000000000  000000c420000180 
    00007ffc8f1712b0:  0000000000000000  000055bf1ec23f31 <runtime.goexit+1> 
    00007ffc8f1712c0:  0000000000000000  0000000000000000 
    00007ffc8f1712d0:  0000000000000000  0000000000000000 
    00007ffc8f1712e0:  0000029300000002  00000050415a9ec5 
    00007ffc8f1712f0:  000000000030da24  00007ffc8f1713a8 
    00007ffc8f171300:  000055bf1ec13936 <runtime.pcvalue+342>  000055bf1f986828 
    00007ffc8f171310:  00000000002f742e  00000000002f742e 
    00007ffc8f171320:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc8f171330:  ffffffffffffffff  ffffffffffffffff 
    00007ffc8f171340:  ffffffffffffffff  ffffffffffffffff 
    00007ffc8f171350:  ffffffffffffffff  ffffffffffffffff 
    00007ffc8f171360:  ffffffffffffffff  ffffffffffffffff 
    00007ffc8f171370:  ffffffffffffffff  ffffffffffffffff 
    00007ffc8f171380:  ffffffffffffffff  ffffffffffffffff 
    00007ffc8f171390:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f2e411eff47
    stack: frame={sp:0x7ffc8f1712a0, fp:0x0} stack=[0x7ffc8e9727a0,0x7ffc8f1717d0)
    00007ffc8f1711a0:  00007f2e00000001  00007f2e4159d420 
    00007ffc8f1711b0:  0000000000000000  000000c420081fe0 
    00007ffc8f1711c0:  0000000000000000  0000000000000000 
    00007ffc8f1711d0:  0000000000000000  0000000000000000 
    00007ffc8f1711e0:  0000000000000000  0000000000000000 
    00007ffc8f1711f0:  00007f2e4159d560  00007f2e415a0bc0 
    00007ffc8f171200:  000000c42006ffd0  000055bf1ebf83e0 <runtime.main+208> 
    00007ffc8f171210:  000055bf1f8ec970  0000000000000000 
    00007ffc8f171220:  0000000000000000  0000000000000000 
    00007ffc8f171230:  0000000000000000  0000000000000000 
    00007ffc8f171240:  0000000000000000  0000000000000000 
    00007ffc8f171250:  000000c420000180  0000000000000000 
    00007ffc8f171260:  000055bf1ebf83e0 <runtime.main+208>  000055bf1f8ec970 
    00007ffc8f171270:  0000000000000000  0000000000000000 
    00007ffc8f171280:  0000000000000000  0000000000000000 
    00007ffc8f171290:  0000000000000000  0000000000000000 
    00007ffc8f1712a0: <0000000000000000  000000c420000180 
    00007ffc8f1712b0:  0000000000000000  000055bf1ec23f31 <runtime.goexit+1> 
    00007ffc8f1712c0:  0000000000000000  0000000000000000 
    00007ffc8f1712d0:  0000000000000000  0000000000000000 
    00007ffc8f1712e0:  0000029300000002  00000050415a9ec5 
    00007ffc8f1712f0:  000000000030da24  00007ffc8f1713a8 
    00007ffc8f171300:  000055bf1ec13936 <runtime.pcvalue+342>  000055bf1f986828 
    00007ffc8f171310:  00000000002f742e  00000000002f742e 
    00007ffc8f171320:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc8f171330:  ffffffffffffffff  ffffffffffffffff 
    00007ffc8f171340:  ffffffffffffffff  ffffffffffffffff 
    00007ffc8f171350:  ffffffffffffffff  ffffffffffffffff 
    00007ffc8f171360:  ffffffffffffffff  ffffffffffffffff 
    00007ffc8f171370:  ffffffffffffffff  ffffffffffffffff 
    00007ffc8f171380:  ffffffffffffffff  ffffffffffffffff 
    00007ffc8f171390:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x55bf1f2c0a30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x55bf1ec22bcf
    runtime.newm1(0xc420061000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x55bf1ebfc6b1
    runtime.newm(0x55bf1f8ecb08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x55bf1ebfc52f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x55bf1ebfc791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x55bf1ebf84b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x55bf1ec23f31
    
    rax    0x0
    rbx    0x7f2e4159d840
    rcx    0x7f2e411eff47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffc8f1712a0
    rbp    0x55bf1f3f232a
    rsp    0x7ffc8f1712a0
    r8     0x0
    r9     0x7ffc8f1712a0
    r10    0x8
    r11    0x246
    r12    0x55bf20f18690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f2e411eff47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
