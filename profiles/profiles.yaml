apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f803fa0af47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f803fa0af47
    stack: frame={sp:0x7ffcaba794d0, fp:0x0} stack=[0x7ffcab27a9d0,0x7ffcaba79a00)
    00007ffcaba793d0:  0000000000000001  0000000000000000 
    00007ffcaba793e0:  0000000000000000  0000000000000000 
    00007ffcaba793f0:  0000000000000000  0000000000000000 
    00007ffcaba79400:  000000c42006ffd0  00005655132ac3e0 <runtime.main+208> 
    00007ffcaba79410:  0000565513fa0970  0000000000000000 
    00007ffcaba79420:  0000000000000000  0000000000000000 
    00007ffcaba79430:  0000000000000000  0000000000000000 
    00007ffcaba79440:  0000000000000000  0000000000000000 
    00007ffcaba79450:  000000c420000180  0000000000000000 
    00007ffcaba79460:  00005655132ac3e0 <runtime.main+208>  0000565513fa0970 
    00007ffcaba79470:  0000000000000000  0000000000000000 
    00007ffcaba79480:  0000000000000000  0000000000000000 
    00007ffcaba79490:  0000000000000000  0000000000000000 
    00007ffcaba794a0:  0000000000000000  000000c420000180 
    00007ffcaba794b0:  0000000000000000  00005655132d7f31 <runtime.goexit+1> 
    00007ffcaba794c0:  0000000000000000  0000000000000000 
    00007ffcaba794d0: <0000000000000000  0000000000000000 
    00007ffcaba794e0:  00007f80401fc0d0  00007ffcaba79528 
    00007ffcaba794f0:  00005655132c8582 <runtime.step+290>  0000565514024232 
    00007ffcaba79500:  000000000030da24  000000000030da24 
    00007ffcaba79510:  0000029300000002  000000503fdc4ec5 
    00007ffcaba79520:  000000000030da24  00007ffcaba795d8 
    00007ffcaba79530:  00005655132c7936 <runtime.pcvalue+342>  000056551403a828 
    00007ffcaba79540:  0000000000000002  0000000000000000 
    00007ffcaba79550:  fffffffe7fffffff  ffffffffffffffff 
    00007ffcaba79560:  ffffffffffffffff  ffffffffffffffff 
    00007ffcaba79570:  ffffffffffffffff  ffffffffffffffff 
    00007ffcaba79580:  ffffffffffffffff  ffffffffffffffff 
    00007ffcaba79590:  ffffffffffffffff  ffffffffffffffff 
    00007ffcaba795a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffcaba795b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffcaba795c0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f803fa0af47
    stack: frame={sp:0x7ffcaba794d0, fp:0x0} stack=[0x7ffcab27a9d0,0x7ffcaba79a00)
    00007ffcaba793d0:  0000000000000001  0000000000000000 
    00007ffcaba793e0:  0000000000000000  0000000000000000 
    00007ffcaba793f0:  0000000000000000  0000000000000000 
    00007ffcaba79400:  000000c42006ffd0  00005655132ac3e0 <runtime.main+208> 
    00007ffcaba79410:  0000565513fa0970  0000000000000000 
    00007ffcaba79420:  0000000000000000  0000000000000000 
    00007ffcaba79430:  0000000000000000  0000000000000000 
    00007ffcaba79440:  0000000000000000  0000000000000000 
    00007ffcaba79450:  000000c420000180  0000000000000000 
    00007ffcaba79460:  00005655132ac3e0 <runtime.main+208>  0000565513fa0970 
    00007ffcaba79470:  0000000000000000  0000000000000000 
    00007ffcaba79480:  0000000000000000  0000000000000000 
    00007ffcaba79490:  0000000000000000  0000000000000000 
    00007ffcaba794a0:  0000000000000000  000000c420000180 
    00007ffcaba794b0:  0000000000000000  00005655132d7f31 <runtime.goexit+1> 
    00007ffcaba794c0:  0000000000000000  0000000000000000 
    00007ffcaba794d0: <0000000000000000  0000000000000000 
    00007ffcaba794e0:  00007f80401fc0d0  00007ffcaba79528 
    00007ffcaba794f0:  00005655132c8582 <runtime.step+290>  0000565514024232 
    00007ffcaba79500:  000000000030da24  000000000030da24 
    00007ffcaba79510:  0000029300000002  000000503fdc4ec5 
    00007ffcaba79520:  000000000030da24  00007ffcaba795d8 
    00007ffcaba79530:  00005655132c7936 <runtime.pcvalue+342>  000056551403a828 
    00007ffcaba79540:  0000000000000002  0000000000000000 
    00007ffcaba79550:  fffffffe7fffffff  ffffffffffffffff 
    00007ffcaba79560:  ffffffffffffffff  ffffffffffffffff 
    00007ffcaba79570:  ffffffffffffffff  ffffffffffffffff 
    00007ffcaba79580:  ffffffffffffffff  ffffffffffffffff 
    00007ffcaba79590:  ffffffffffffffff  ffffffffffffffff 
    00007ffcaba795a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffcaba795b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffcaba795c0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x565513974a30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x5655132d6bcf
    runtime.newm1(0xc420061000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x5655132b06b1
    runtime.newm(0x565513fa0b08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x5655132b052f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x5655132b0791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x5655132ac4b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x5655132d7f31
    
    rax    0x0
    rbx    0x7f803fdb8840
    rcx    0x7f803fa0af47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffcaba794d0
    rbp    0x565513aa632a
    rsp    0x7ffcaba794d0
    r8     0x0
    r9     0x7ffcaba794d0
    r10    0x8
    r11    0x246
    r12    0x565515362690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f803fa0af47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 4 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062800)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062800)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x0, 0xc000046000, 0x3)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0xc000046000, 0x2a6cc00)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.handoffp(0xc000046000)
    	/usr/local/go/src/runtime/proc.go:2001 +0x52
    runtime.stoplockedm()
    	/usr/local/go/src/runtime/proc.go:2075 +0xf7
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2611 +0x48c
    runtime.park_m(0xc000000180)
    	/usr/local/go/src/runtime/proc.go:2845 +0x9d
    runtime.mcall(0x0)
    	/usr/local/go/src/runtime/asm_amd64.s:318 +0x5b
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x1bb7a80, 0xc0000420c8, 0x170e, 0x2)
    	/usr/local/go/src/runtime/proc.go:306 +0xe5
    runtime.chanrecv(0xc000042070, 0x0, 0xc000000101, 0x41a55e)
    	/usr/local/go/src/runtime/chan.go:577 +0x36f
    runtime.chanrecv1(0xc000042070, 0x0)
    	/usr/local/go/src/runtime/chan.go:439 +0x2b
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:219 +0x95
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fab20491f47 m=3 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fab20491f47
    stack: frame={sp:0x7fab1fc50810, fp:0x0} stack=[0x7fab1f451290,0x7fab1fc50e90)
    00007fab1fc50710:  0000000000000000  0000000000000000 
    00007fab1fc50720:  0000000000000000  0000000000000000 
    00007fab1fc50730:  0000000000000000  0000000000000000 
    00007fab1fc50740:  0000000000000000  0000000000000000 
    00007fab1fc50750:  0000000000000000  0000000000000000 
    00007fab1fc50760:  0000000000000000  0000000000000000 
    00007fab1fc50770:  0000000000000000  0000000000000000 
    00007fab1fc50780:  0000000000000000  0000000000000000 
    00007fab1fc50790:  0000000000000000  0000000000000000 
    00007fab1fc507a0:  0000000000000000  0000000000000000 
    00007fab1fc507b0:  0000000000000000  0000000000000000 
    00007fab1fc507c0:  0000000000000000  0000000000000000 
    00007fab1fc507d0:  0000000000000000  0000000000000000 
    00007fab1fc507e0:  0000000000000000  0000000000000000 
    00007fab1fc507f0:  0000000000000000  0000000000000000 
    00007fab1fc50800:  0000000000000000  0000000000000000 
    00007fab1fc50810: <0000000000000000  0000000000000000 
    00007fab1fc50820:  0000000000000000  0000000000000000 
    00007fab1fc50830:  0000000000000000  0000000000000000 
    00007fab1fc50840:  0000000000000000  0000000000000000 
    00007fab1fc50850:  0000000000000000  0000000000000000 
    00007fab1fc50860:  0000000000000000  0000000000000000 
    00007fab1fc50870:  0000000000000000  0000000000000000 
    00007fab1fc50880:  0000000000000000  0000000000000000 
    00007fab1fc50890:  fffffffe7fffffff  ffffffffffffffff 
    00007fab1fc508a0:  ffffffffffffffff  ffffffffffffffff 
    00007fab1fc508b0:  ffffffffffffffff  ffffffffffffffff 
    00007fab1fc508c0:  ffffffffffffffff  ffffffffffffffff 
    00007fab1fc508d0:  ffffffffffffffff  ffffffffffffffff 
    00007fab1fc508e0:  ffffffffffffffff  ffffffffffffffff 
    00007fab1fc508f0:  ffffffffffffffff  ffffffffffffffff 
    00007fab1fc50900:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fab20491f47
    stack: frame={sp:0x7fab1fc50810, fp:0x0} stack=[0x7fab1f451290,0x7fab1fc50e90)
    00007fab1fc50710:  0000000000000000  0000000000000000 
    00007fab1fc50720:  0000000000000000  0000000000000000 
    00007fab1fc50730:  0000000000000000  0000000000000000 
    00007fab1fc50740:  0000000000000000  0000000000000000 
    00007fab1fc50750:  0000000000000000  0000000000000000 
    00007fab1fc50760:  0000000000000000  0000000000000000 
    00007fab1fc50770:  0000000000000000  0000000000000000 
    00007fab1fc50780:  0000000000000000  0000000000000000 
    00007fab1fc50790:  0000000000000000  0000000000000000 
    00007fab1fc507a0:  0000000000000000  0000000000000000 
    00007fab1fc507b0:  0000000000000000  0000000000000000 
    00007fab1fc507c0:  0000000000000000  0000000000000000 
    00007fab1fc507d0:  0000000000000000  0000000000000000 
    00007fab1fc507e0:  0000000000000000  0000000000000000 
    00007fab1fc507f0:  0000000000000000  0000000000000000 
    00007fab1fc50800:  0000000000000000  0000000000000000 
    00007fab1fc50810: <0000000000000000  0000000000000000 
    00007fab1fc50820:  0000000000000000  0000000000000000 
    00007fab1fc50830:  0000000000000000  0000000000000000 
    00007fab1fc50840:  0000000000000000  0000000000000000 
    00007fab1fc50850:  0000000000000000  0000000000000000 
    00007fab1fc50860:  0000000000000000  0000000000000000 
    00007fab1fc50870:  0000000000000000  0000000000000000 
    00007fab1fc50880:  0000000000000000  0000000000000000 
    00007fab1fc50890:  fffffffe7fffffff  ffffffffffffffff 
    00007fab1fc508a0:  ffffffffffffffff  ffffffffffffffff 
    00007fab1fc508b0:  ffffffffffffffff  ffffffffffffffff 
    00007fab1fc508c0:  ffffffffffffffff  ffffffffffffffff 
    00007fab1fc508d0:  ffffffffffffffff  ffffffffffffffff 
    00007fab1fc508e0:  ffffffffffffffff  ffffffffffffffff 
    00007fab1fc508f0:  ffffffffffffffff  ffffffffffffffff 
    00007fab1fc50900:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    	goroutine running on other thread; stack unavailable
    
    rax    0x0
    rbx    0x7fab2083f840
    rcx    0x7fab20491f47
    rdx    0x0
    rdi    0x2
    rsi    0x7fab1fc50810
    rbp    0x55a083a4332a
    rsp    0x7fab1fc50810
    r8     0x0
    r9     0x7fab1fc50810
    r10    0x8
    r11    0x246
    r12    0x55a0857b73f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fab20491f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
