apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    system_key.go:147: cannot determine seccomp compiler version in generateSystemKey: fork/exec /snap/snapd/15534/usr/lib/snapd/snap-seccomp: resource temporarily unavailable
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fe4e0f33f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fe4e0f33f47
    stack: frame={sp:0x7ffc90b355d0, fp:0x0} stack=[0x7ffc90336be0,0x7ffc90b35c20)
    00007ffc90b354d0:  0000000000000005  0000ffff00001fa0 
    00007ffc90b354e0:  00007ffc90b359e0  0000555d5ea66fc0 
    00007ffc90b354f0:  0000000000000000  0000555d5c74dd10 
    00007ffc90b35500:  0000000000000000  00007fe4e1514f13 
    00007ffc90b35510:  0000000000000005  0000000000000000 
    00007ffc90b35520:  0000000000000000  00007fe4e0f05ce0 
    00007ffc90b35530:  00007ffc90b358f0  00007fe4e151c75a 
    00007ffc90b35540:  0000000000000000  0000000000000000 
    00007ffc90b35550:  0000000000000000  00007ffc90b359e0 
    00007ffc90b35560:  2525252525252525  2525252525252525 
    00007ffc90b35570:  00000000000000ff  0000000000000000 
    00007ffc90b35580:  00000000000000ff  0000000000000000 
    00007ffc90b35590:  73222c223631223a  6f6d2d6d65747379 
    00007ffc90b355a0:  656b222c226e6961  6c69663a6c656e72 
    00007ffc90b355b0:  67632d6563697665  2231762d70756f72 
    00007ffc90b355c0:  656369766564222c  697265746c69662d 
    00007ffc90b355d0: <0000000000000000  2c7d5d22676e6967 
    00007ffc90b355e0:  20636f6c6c616d00  203a64656c696166 
    00007ffc90b355f0:  0000000000000000  0000000000000000 
    00007ffc90b35600:  6973726576222c22  352e32223a226e6f 
    00007ffc90b35610:  6976222c22332e35  617a696c61757472 
    00007ffc90b35620:  76223a226e6f6974  7d7d22657261776d 
    00007ffc90b35630:  732d70616e732f64  203a706d6f636365 
    00007ffc90b35640:  656372756f736572  61726f706d657420 
    00007ffc90b35650:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc90b35660:  ffffffffffffffff  ffffffffffffffff 
    00007ffc90b35670:  ffffffffffffffff  ffffffffffffffff 
    00007ffc90b35680:  ffffffffffffffff  ffffffffffffffff 
    00007ffc90b35690:  ffffffffffffffff  ffffffffffffffff 
    00007ffc90b356a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc90b356b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc90b356c0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fe4e0f33f47
    stack: frame={sp:0x7ffc90b355d0, fp:0x0} stack=[0x7ffc90336be0,0x7ffc90b35c20)
    00007ffc90b354d0:  0000000000000005  0000ffff00001fa0 
    00007ffc90b354e0:  00007ffc90b359e0  0000555d5ea66fc0 
    00007ffc90b354f0:  0000000000000000  0000555d5c74dd10 
    00007ffc90b35500:  0000000000000000  00007fe4e1514f13 
    00007ffc90b35510:  0000000000000005  0000000000000000 
    00007ffc90b35520:  0000000000000000  00007fe4e0f05ce0 
    00007ffc90b35530:  00007ffc90b358f0  00007fe4e151c75a 
    00007ffc90b35540:  0000000000000000  0000000000000000 
    00007ffc90b35550:  0000000000000000  00007ffc90b359e0 
    00007ffc90b35560:  2525252525252525  2525252525252525 
    00007ffc90b35570:  00000000000000ff  0000000000000000 
    00007ffc90b35580:  00000000000000ff  0000000000000000 
    00007ffc90b35590:  73222c223631223a  6f6d2d6d65747379 
    00007ffc90b355a0:  656b222c226e6961  6c69663a6c656e72 
    00007ffc90b355b0:  67632d6563697665  2231762d70756f72 
    00007ffc90b355c0:  656369766564222c  697265746c69662d 
    00007ffc90b355d0: <0000000000000000  2c7d5d22676e6967 
    00007ffc90b355e0:  20636f6c6c616d00  203a64656c696166 
    00007ffc90b355f0:  0000000000000000  0000000000000000 
    00007ffc90b35600:  6973726576222c22  352e32223a226e6f 
    00007ffc90b35610:  6976222c22332e35  617a696c61757472 
    00007ffc90b35620:  76223a226e6f6974  7d7d22657261776d 
    00007ffc90b35630:  732d70616e732f64  203a706d6f636365 
    00007ffc90b35640:  656372756f736572  61726f706d657420 
    00007ffc90b35650:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc90b35660:  ffffffffffffffff  ffffffffffffffff 
    00007ffc90b35670:  ffffffffffffffff  ffffffffffffffff 
    00007ffc90b35680:  ffffffffffffffff  ffffffffffffffff 
    00007ffc90b35690:  ffffffffffffffff  ffffffffffffffff 
    00007ffc90b356a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc90b356b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc90b356c0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running]:
    runtime.systemstack_switch()
    	/usr/lib/go-1.13/src/runtime/asm_amd64.s:330 fp=0xc00023f4b8 sp=0xc00023f4b0 pc=0x555d5be40b20
    runtime.goready(0xc00016de00, 0x4)
    	/usr/lib/go-1.13/src/runtime/proc.go:314 +0x5e fp=0xc00023f4e8 sp=0xc00023f4b8 pc=0x555d5be16e8e
    runtime.send(0xc00003bd50, 0xc00037a7e0, 0xc00023f5f7, 0xc00023f578, 0x3)
    	/usr/lib/go-1.13/src/runtime/chan.go:299 +0x7e fp=0xc00023f518 sp=0xc00023f4e8 pc=0x555d5bdec22e
    runtime.chansend(0xc00003bd50, 0xc00023f5f7, 0x401, 0x555d5c2b548a, 0x348)
    	/usr/lib/go-1.13/src/runtime/chan.go:193 +0x51e fp=0xc00023f598 sp=0xc00023f518 pc=0x555d5bdec08e
    runtime.chansend1(0xc00003bd50, 0xc00023f5f7)
    	/usr/lib/go-1.13/src/runtime/chan.go:127 +0x35 fp=0xc00023f5d0 sp=0xc00023f598 pc=0x555d5bdebb65
    net/http.(*persistConn).readLoop.func4(0x555d5cd33820, 0xc000074060, 0x400, 0x400)
    	/usr/lib/go-1.13/src/net/http/transport.go:2002 +0x6a fp=0xc00023f620 sp=0xc00023f5d0 pc=0x555d5c2b548a
    net/http.(*bodyEOFSignal).condfn(...)
    	/usr/lib/go-1.13/src/net/http/transport.go:2613
    net/http.(*bodyEOFSignal).Read(0xc0002f1580, 0xc0000e3400, 0x400, 0x400, 0x348, 0x555d5cd33820, 0xc000074060)
    	/usr/lib/go-1.13/src/net/http/transport.go:2589 +0x1cd fp=0xc00023f6c0 sp=0xc00023f620 pc=0x555d5c2af7bd
    encoding/json.(*Decoder).refill(0xc000382580, 0x6d, 0x0)
    	/usr/lib/go-1.13/src/encoding/json/stream.go:161 +0xed fp=0xc00023f728 sp=0xc00023f6c0 pc=0x555d5c06a0bd
    encoding/json.(*Decoder).readValue(0xc000382580, 0x0, 0x0, 0x555d5ccdddc0)
    	/usr/lib/go-1.13/src/encoding/json/stream.go:136 +0x1de fp=0xc00023f780 sp=0xc00023f728 pc=0x555d5c069e4e
    encoding/json.(*Decoder).Decode(0xc000382580, 0x555d5cbfbf40, 0xc00032fa40, 0xc00023f808, 0x0)
    	/usr/lib/go-1.13/src/encoding/json/stream.go:63 +0x7b fp=0xc00023f7c0 sp=0xc00023f780 pc=0x555d5c06991b
    github.com/snapcore/snapd/client.decodeInto(0x555d5cd355e0, 0xc0002f1580, 0x555d5cbfbf40, 0xc00032fa40, 0xc0002f1580, 0x555d5c5abd78)
    	/build/snapd/parts/snapd-deb/build/client/client.go:423 +0x92 fp=0xc00023f878 sp=0xc00023f7c0 pc=0x555d5c2cc882
    github.com/snapcore/snapd/client.(*Client).do(0xc00010ea80, 0x555d5c5a1ee7, 0x3, 0x555d5c5abd78, 0xf, 0x0, 0x0, 0x0, 0x0, 0x555d5cbfbf40, ...)
    	/build/snapd/parts/snapd-deb/build/client/client.go:408 +0x410 fp=0xc00023fa78 sp=0xc00023f878 pc=0x555d5c2cc420
    github.com/snapcore/snapd/client.(*Client).doSyncWithOpts(0xc00010ea80, 0x555d5c5a1ee7, 0x3, 0x555d5c5abd78, 0xf, 0x0, 0x0, 0x0, 0x0, 0x555d5cb979a0, ...)
    	/build/snapd/parts/snapd-deb/build/client/client.go:492 +0xf6 fp=0xc00023fb30 sp=0xc00023fa78 pc=0x555d5c2ccef6
    github.com/snapcore/snapd/client.(*Client).SysInfo(0xc00010ea80, 0x46, 0x0, 0x0)
    	/build/snapd/parts/snapd-deb/build/client/client.go:727 +0xd4 fp=0xc00023fbe0 sp=0xc00023fb30 pc=0x555d5c2ce044
    main.maybeWaitForSecurityProfileRegeneration(0xc00010ea80, 0xc000334280, 0xd)
    	/build/snapd/parts/snapd-deb/build/cmd/snap/cmd_run.go:200 +0x1aa fp=0xc00023fc50 sp=0xc00023fbe0 pc=0x555d5c55508a
    main.(*cmdRun).Execute(0xc00023feb8, 0xc000032190, 0x2, 0x3, 0x0, 0x0)
    	/build/snapd/parts/snapd-deb/build/cmd/snap/cmd_run.go:240 +0x172 fp=0xc00023fd38 sp=0xc00023fc50 pc=0x555d5c555322
    main.main()
    	/build/snapd/parts/snapd-deb/build/cmd/snap/main.go:482 +0x581 fp=0xc00023ff60 sp=0xc00023fd38 pc=0x555d5c587861
    runtime.main()
    	/usr/lib/go-1.13/src/runtime/proc.go:203 +0x226 fp=0xc00023ffe0 sp=0xc00023ff60 pc=0x555d5be169e6
    runtime.goexit()
    	/usr/lib/go-1.13/src/runtime/asm_amd64.s:1357 +0x1 fp=0xc00023ffe8 sp=0xc00023ffe0 pc=0x555d5be42c21
    
    goroutine 6 [syscall]:
    os/signal.signal_recv(0x0)
    	/usr/lib/go-1.13/src/runtime/sigqueue.go:147 +0x9e
    os/signal.loop()
    	/usr/lib/go-1.13/src/os/signal/signal_unix.go:23 +0x24
    created by os/signal.init.0
    	/usr/lib/go-1.13/src/os/signal/signal_unix.go:29 +0x43
    
    goroutine 10 [chan send]:
    net/http.(*persistConn).readLoop(0xc0003778c0)
    	/usr/lib/go-1.13/src/net/http/transport.go:2041 +0xb23
    created by net/http.(*Transport).dialConn
    	/usr/lib/go-1.13/src/net/http/transport.go:1580 +0xb0f
    
    goroutine 11 [select]:
    net/http.(*persistConn).writeLoop(0xc0003778c0)
    	/usr/lib/go-1.13/src/net/http/transport.go:2210 +0x125
    created by net/http.(*Transport).dialConn
    	/usr/lib/go-1.13/src/net/http/transport.go:1581 +0xb34
    
    rax    0x0
    rbx    0x7fe4e12e1840
    rcx    0x7fe4e0f33f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffc90b355d0
    rbp    0x555d5c767e7c
    rsp    0x7ffc90b355d0
    r8     0x0
    r9     0x7ffc90b355d0
    r10    0x8
    r11    0x246
    r12    0x555d5ea66fc0
    r13    0x0
    r14    0x555d5c74dd10
    r15    0x0
    rip    0x7fe4e0f33f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 6 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062c00)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062c00)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc00004b000, 0x5)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000099f01)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.resetspinning()
    	/usr/local/go/src/runtime/proc.go:2533 +0x59
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2684 +0x2b9
    runtime.park_m(0xc00008a300)
    	/usr/local/go/src/runtime/proc.go:2845 +0x9d
    runtime.mcall(0x0)
    	/usr/local/go/src/runtime/asm_amd64.s:318 +0x5b
    
    goroutine 1 [syscall, locked to thread]:
    reflect.MakeSlice(0x1d4e220, 0x181c100, 0x0, 0x4, 0x181c100, 0x0, 0x0)
    	/usr/local/go/src/reflect/value.go:2299 +0x85
    encoding/json.(*decodeState).array(0xc000447600, 0x181c100, 0xc000454348, 0x197, 0xc000447628, 0x5b)
    	/usr/local/go/src/encoding/json/decode.go:547 +0x716
    encoding/json.(*decodeState).value(0xc000447600, 0x181c100, 0xc000454348, 0x197, 0x181c100, 0xc000454348)
    	/usr/local/go/src/encoding/json/decode.go:360 +0x105
    encoding/json.(*decodeState).object(0xc000447600, 0x1815520, 0xc000454240, 0x16, 0xc000447628, 0x7b)
    	/usr/local/go/src/encoding/json/decode.go:765 +0x12fe
    encoding/json.(*decodeState).value(0xc000447600, 0x1815520, 0xc000454240, 0x16, 0xc0003cdbc8, 0x6fa34b)
    	/usr/local/go/src/encoding/json/decode.go:370 +0x6d
    encoding/json.(*decodeState).unmarshal(0xc000447600, 0x1815520, 0xc000454240, 0xc000447628, 0x0)
    	/usr/local/go/src/encoding/json/decode.go:180 +0x1ea
    encoding/json.Unmarshal(0xc00036cbd6, 0xc9, 0xb22a, 0x1815520, 0xc000454240, 0x26, 0x0)
    	/usr/local/go/src/encoding/json/decode.go:107 +0x112
    k8s.io/kubernetes/vendor/github.com/go-openapi/spec.(*Schema).UnmarshalJSON(0xc00044dd40, 0xc00036cbd6, 0xc9, 0xb22a, 0x7f337c8276c0, 0xc00044dd40)
    	/workspace/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/vendor/github.com/go-openapi/spec/schema.go:555 +0x8b
    encoding/json.(*decodeState).object(0xc0004469a0, 0x19ce1a0, 0xc00044dd40, 0x199, 0xc0004469c8, 0x7b)
    	/usr/local/go/src/encoding/json/decode.go:609 +0x207c
    encoding/json.(*decodeState).value(0xc0004469a0, 0x19ce1a0, 0xc00044dd40, 0x199, 0xc000454000, 0x99)
    	/usr/local/go/src/encoding/json/decode.go:370 +0x6d
    encoding/json.(*decodeState).object(0xc0004469a0, 0x18bc100, 0xc00044d5e0, 0x195, 0xc0004469c8, 0x7b)
    	/usr/local/go/src/encoding/json/decode.go:765 +0x12fe
    encoding/json.(*decodeState).value(0xc0004469a0, 0x18bc100, 0xc00044d5e0, 0x195, 0x18bc100, 0xc00044d5e0)
    	/usr/local/go/src/encoding/json/decode.go:370 +0x6d
    encoding/json.(*decodeState).object(0xc0004469a0, 0x1815520, 0xc00044d440, 0x16, 0xc0004469c8, 0x7b)
    	/usr/local/go/src/encoding/json/decode.go:765 +0x12fe
    encoding/json.(*decodeState).value(0xc0004469a0, 0x1815520, 0xc00044d440, 0x16, 0xc0003ce888, 0x6fa8ab)
    	/usr/local/go/src/encoding/json/decode.go:370 +0x6d
    encoding/json.(*decodeState).unmarshal(0xc0004469a0, 0x1815520, 0xc00044d440, 0xc0004469c8, 0x0)
    	/usr/local/go/src/encoding/json/decode.go:180 +0x1ea
    encoding/json.Unmarshal(0xc00036c7b5, 0x9e1, 0xb64b, 0x1815520, 0xc00044d440, 0x26, 0x0)
    	/usr/local/go/src/encoding/json/decode.go:107 +0x112
    k8s.io/kubernetes/vendor/github.com/go-openapi/spec.(*Schema).UnmarshalJSON(0xc00039d680, 0xc00036c7b5, 0x9e1, 0xb64b, 0x7f337c8276c0, 0xc00039d680)
    	/workspace/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/vendor/github.com/go-openapi/spec/schema.go:555 +0x8b
    encoding/json.(*decodeState).object(0xc0000e4a50, 0x19ce1a0, 0xc00039d680, 0x199, 0xc0000e4a78, 0x7b)
    	/usr/local/go/src/encoding/json/decode.go:609 +0x207c
    encoding/json.(*decodeState).value(0xc0000e4a50, 0x19ce1a0, 0xc00039d680, 0x199, 0xc00044d200, 0x99)
    	/usr/local/go/src/encoding/json/decode.go:370 +0x6d
    encoding/json.(*decodeState).object(0xc0000e4a50, 0x18e59a0, 0xc000329608, 0x195, 0xc0000e4a78, 0x7b)
    	/usr/local/go/src/encoding/json/decode.go:765 +0x12fe
    encoding/json.(*decodeState).value(0xc0000e4a50, 0x18e59a0, 0xc000329608, 0x195, 0x18e59a0, 0xc000329608)
    	/usr/local/go/src/encoding/json/decode.go:370 +0x6d
    encoding/json.(*decodeState).object(0xc0000e4a50, 0x1815520, 0xc000329440, 0x16, 0xc0000e4a78, 0x7b)
    	/usr/local/go/src/encoding/json/decode.go:765 +0x12fe
    encoding/json.(*decodeState).value(0xc0000e4a50, 0x1815520, 0xc000329440, 0x16, 0xc000123548, 0x6fa8ab)
    	/usr/local/go/src/encoding/json/decode.go:370 +0x6d
    encoding/json.(*decodeState).unmarshal(0xc0000e4a50, 0x1815520, 0xc000329440, 0xc0000e4a78, 0x0)
    	/usr/local/go/src/encoding/json/decode.go:180 +0x1ea
    encoding/json.Unmarshal(0xc000368000, 0x9d38, 0xfe00, 0x1815520, 0xc000329440, 0x2aa0130, 0x7f337c827540)
    	/usr/local/go/src/encoding/json/decode.go:107 +0x112
    k8s.io/kubernetes/vendor/github.com/go-openapi/spec.(*Schema).UnmarshalJSON(0xc000329200, 0xc000368000, 0x9d38, 0xfe00, 0x7f337c8276c0, 0xc000329200)
    	/workspace/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/vendor/github.com/go-openapi/spec/schema.go:555 +0x8b
    encoding/json.(*decodeState).object(0xc0000e49a0, 0x1a89300, 0xc000329200, 0x16, 0xc0000e49c8, 0x7b)
    	/usr/local/go/src/encoding/json/decode.go:609 +0x207c
    encoding/json.(*decodeState).value(0xc0000e49a0, 0x1a89300, 0xc000329200, 0x16, 0xc000123c18, 0x6fa8ab)
    	/usr/local/go/src/encoding/json/decode.go:370 +0x6d
    encoding/json.(*decodeState).unmarshal(0xc0000e49a0, 0x1a89300, 0xc000329200, 0xc0000e49c8, 0x0)
    	/usr/local/go/src/encoding/json/decode.go:180 +0x1ea
    encoding/json.Unmarshal(0xc000368000, 0x9d39, 0xfe00, 0x1a89300, 0xc000329200, 0x0, 0x0)
    	/usr/local/go/src/encoding/json/decode.go:107 +0x112
    k8s.io/kubernetes/vendor/github.com/go-openapi/spec.Swagger20Schema(0xc00031bb30, 0xc000123d68, 0x12e538a)
    	/workspace/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/vendor/github.com/go-openapi/spec/spec.go:82 +0xb8
    k8s.io/kubernetes/vendor/github.com/go-openapi/spec.MustLoadSwagger20Schema(...)
    	/workspace/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/vendor/github.com/go-openapi/spec/spec.go:66
    k8s.io/kubernetes/vendor/github.com/go-openapi/spec.initResolutionCache(0xc00031ba70, 0xc00031ba40)
    	/workspace/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/vendor/github.com/go-openapi/spec/cache.go:57 +0x35
    k8s.io/kubernetes/vendor/github.com/go-openapi/spec.init.0()
    	/workspace/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/vendor/github.com/go-openapi/spec/cache.go:51 +0x25
    
    goroutine 18 [chan receive]:
    k8s.io/kubernetes/vendor/k8s.io/klog/v2.(*loggingT).flushDaemon(0x2a6c040)
    	/workspace/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/vendor/k8s.io/klog/v2/klog.go:1169 +0x8b
    created by k8s.io/kubernetes/vendor/k8s.io/klog/v2.init.0
    	/workspace/src/k8s.io/kubernetes/_output/dockerized/go/src/k8s.io/kubernetes/vendor/k8s.io/klog/v2/klog.go:417 +0xdf
    system_key.go:147: cannot determine seccomp compiler version in generateSystemKey: fork/exec /snap/snapd/15534/usr/lib/snapd/snap-seccomp: resource temporarily unavailable
