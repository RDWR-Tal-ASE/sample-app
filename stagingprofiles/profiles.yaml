apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f5ad236ef47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f5ad236ef47
    stack: frame={sp:0x7ffed54da470, fp:0x0} stack=[0x7ffed4cdb970,0x7ffed54da9a0)
    00007ffed54da370:  0000000000000001  0000000000000000 
    00007ffed54da380:  0000000000000000  000000c420081fe0 
    00007ffed54da390:  0000000000000000  0000000000000000 
    00007ffed54da3a0:  0000000000000000  0000000000000000 
    00007ffed54da3b0:  0000000000000000  0000000000000000 
    00007ffed54da3c0:  000000c42006ffd0  000055c45a9433e0 <runtime.main+208> 
    00007ffed54da3d0:  000055c45b637970  0000000000000000 
    00007ffed54da3e0:  0000000000000000  0000000000000000 
    00007ffed54da3f0:  0000000000000000  0000000000000000 
    00007ffed54da400:  0000000000000000  0000000000000000 
    00007ffed54da410:  000000c420000180  0000000000000000 
    00007ffed54da420:  000055c45a9433e0 <runtime.main+208>  000055c45b637970 
    00007ffed54da430:  0000000000000000  0000000000000000 
    00007ffed54da440:  0000000000000000  0000000000000000 
    00007ffed54da450:  0000000000000000  0000000000000000 
    00007ffed54da460:  0000000000000000  000000c420000180 
    00007ffed54da470: <0000000000000000  000055c45a96ef31 <runtime.goexit+1> 
    00007ffed54da480:  0000000000000000  0000000000000000 
    00007ffed54da490:  0000000000000000  0000000000000000 
    00007ffed54da4a0:  000000000030da24  000000000030da24 
    00007ffed54da4b0:  0000029300000002  00000050d2728ec5 
    00007ffed54da4c0:  000000000030da24  00007ffed54da578 
    00007ffed54da4d0:  000055c45a95e936 <runtime.pcvalue+342>  000055c45b6d1828 
    00007ffed54da4e0:  00000000002f742e  00000000002f742e 
    00007ffed54da4f0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffed54da500:  ffffffffffffffff  ffffffffffffffff 
    00007ffed54da510:  ffffffffffffffff  ffffffffffffffff 
    00007ffed54da520:  ffffffffffffffff  ffffffffffffffff 
    00007ffed54da530:  ffffffffffffffff  ffffffffffffffff 
    00007ffed54da540:  ffffffffffffffff  ffffffffffffffff 
    00007ffed54da550:  ffffffffffffffff  ffffffffffffffff 
    00007ffed54da560:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f5ad236ef47
    stack: frame={sp:0x7ffed54da470, fp:0x0} stack=[0x7ffed4cdb970,0x7ffed54da9a0)
    00007ffed54da370:  0000000000000001  0000000000000000 
    00007ffed54da380:  0000000000000000  000000c420081fe0 
    00007ffed54da390:  0000000000000000  0000000000000000 
    00007ffed54da3a0:  0000000000000000  0000000000000000 
    00007ffed54da3b0:  0000000000000000  0000000000000000 
    00007ffed54da3c0:  000000c42006ffd0  000055c45a9433e0 <runtime.main+208> 
    00007ffed54da3d0:  000055c45b637970  0000000000000000 
    00007ffed54da3e0:  0000000000000000  0000000000000000 
    00007ffed54da3f0:  0000000000000000  0000000000000000 
    00007ffed54da400:  0000000000000000  0000000000000000 
    00007ffed54da410:  000000c420000180  0000000000000000 
    00007ffed54da420:  000055c45a9433e0 <runtime.main+208>  000055c45b637970 
    00007ffed54da430:  0000000000000000  0000000000000000 
    00007ffed54da440:  0000000000000000  0000000000000000 
    00007ffed54da450:  0000000000000000  0000000000000000 
    00007ffed54da460:  0000000000000000  000000c420000180 
    00007ffed54da470: <0000000000000000  000055c45a96ef31 <runtime.goexit+1> 
    00007ffed54da480:  0000000000000000  0000000000000000 
    00007ffed54da490:  0000000000000000  0000000000000000 
    00007ffed54da4a0:  000000000030da24  000000000030da24 
    00007ffed54da4b0:  0000029300000002  00000050d2728ec5 
    00007ffed54da4c0:  000000000030da24  00007ffed54da578 
    00007ffed54da4d0:  000055c45a95e936 <runtime.pcvalue+342>  000055c45b6d1828 
    00007ffed54da4e0:  00000000002f742e  00000000002f742e 
    00007ffed54da4f0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffed54da500:  ffffffffffffffff  ffffffffffffffff 
    00007ffed54da510:  ffffffffffffffff  ffffffffffffffff 
    00007ffed54da520:  ffffffffffffffff  ffffffffffffffff 
    00007ffed54da530:  ffffffffffffffff  ffffffffffffffff 
    00007ffed54da540:  ffffffffffffffff  ffffffffffffffff 
    00007ffed54da550:  ffffffffffffffff  ffffffffffffffff 
    00007ffed54da560:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x55c45b00ba30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x55c45a96dbcf
    runtime.newm1(0xc420061000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x55c45a9476b1
    runtime.newm(0x55c45b637b08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x55c45a94752f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x55c45a947791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x55c45a9434b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x55c45a96ef31
    
    rax    0x0
    rbx    0x7f5ad271c840
    rcx    0x7f5ad236ef47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffed54da470
    rbp    0x55c45b13d32a
    rsp    0x7ffed54da470
    r8     0x0
    r9     0x7ffed54da470
    r10    0x8
    r11    0x246
    r12    0x55c45d2c7690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f5ad236ef47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 4 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062800)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062800)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x0, 0xc000046000, 0x3)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0xc000046000, 0x2a6cc00)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.handoffp(0xc000046000)
    	/usr/local/go/src/runtime/proc.go:2001 +0x52
    runtime.stoplockedm()
    	/usr/local/go/src/runtime/proc.go:2075 +0xf7
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2611 +0x48c
    runtime.park_m(0xc000000180)
    	/usr/local/go/src/runtime/proc.go:2845 +0x9d
    runtime.mcall(0x0)
    	/usr/local/go/src/runtime/asm_amd64.s:318 +0x5b
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x1bb7a80, 0xc0000420c8, 0x170e, 0x2)
    	/usr/local/go/src/runtime/proc.go:306 +0xe5
    runtime.chanrecv(0xc000042070, 0x0, 0xc000000101, 0x41a55e)
    	/usr/local/go/src/runtime/chan.go:577 +0x36f
    runtime.chanrecv1(0xc000042070, 0x0)
    	/usr/local/go/src/runtime/chan.go:439 +0x2b
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:219 +0x95
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f18426b6f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f18426b6f47
    stack: frame={sp:0x7ffd72e4ffa0, fp:0x0} stack=[0x7ffd726514a0,0x7ffd72e504d0)
    00007ffd72e4fea0:  00007f1800000001  00007f1842a64420 
    00007ffd72e4feb0:  0000000000000000  000000c420081fe0 
    00007ffd72e4fec0:  0000000000000000  0000000000000000 
    00007ffd72e4fed0:  0000000000000000  0000000000000000 
    00007ffd72e4fee0:  0000000000000003  000000c420081fd8 
    00007ffd72e4fef0:  0000000000000000  0000000000000120 
    00007ffd72e4ff00:  0000001300000000  0000000000000007 
    00007ffd72e4ff10:  0000000000000130  0000561be144a098 
    00007ffd72e4ff20:  0000000000000150  ffffffffffffffa8 
    00007ffd72e4ff30:  0000000000000004  0000003400000013 
    00007ffd72e4ff40:  0000000000000000  0000000000000000 
    00007ffd72e4ff50:  0000000000000000  000000770000007c 
    00007ffd72e4ff60:  0000005b0000006e  0000000000000000 
    00007ffd72e4ff70:  0000000000000000  0000000000020ab0 
    00007ffd72e4ff80:  0000000000000120  00007f1842c9b307 
    00007ffd72e4ff90:  0000561be144a550  0000000000000001 
    00007ffd72e4ffa0: <0000000000000000  0000561be144a570 
    00007ffd72e4ffb0:  00007f1842ea80d0  00007ffd72e4fff8 
    00007ffd72e4ffc0:  0000561bde580582 <runtime.step+290>  0000561bdf2dc232 
    00007ffd72e4ffd0:  000000000030da24  000000000030da24 
    00007ffd72e4ffe0:  0000029300000002  0000005042a70ec5 
    00007ffd72e4fff0:  000000000030da24  00007ffd72e500a8 
    00007ffd72e50000:  0000561bde57f936 <runtime.pcvalue+342>  0000561bdf2f2828 
    00007ffd72e50010:  00000000002f742e  00000000002f742e 
    00007ffd72e50020:  fffffffe7fffffff  ffffffffffffffff 
    00007ffd72e50030:  ffffffffffffffff  ffffffffffffffff 
    00007ffd72e50040:  ffffffffffffffff  ffffffffffffffff 
    00007ffd72e50050:  ffffffffffffffff  ffffffffffffffff 
    00007ffd72e50060:  ffffffffffffffff  ffffffffffffffff 
    00007ffd72e50070:  ffffffffffffffff  ffffffffffffffff 
    00007ffd72e50080:  ffffffffffffffff  ffffffffffffffff 
    00007ffd72e50090:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f18426b6f47
    stack: frame={sp:0x7ffd72e4ffa0, fp:0x0} stack=[0x7ffd726514a0,0x7ffd72e504d0)
    00007ffd72e4fea0:  00007f1800000001  00007f1842a64420 
    00007ffd72e4feb0:  0000000000000000  000000c420081fe0 
    00007ffd72e4fec0:  0000000000000000  0000000000000000 
    00007ffd72e4fed0:  0000000000000000  0000000000000000 
    00007ffd72e4fee0:  0000000000000003  000000c420081fd8 
    00007ffd72e4fef0:  0000000000000000  0000000000000120 
    00007ffd72e4ff00:  0000001300000000  0000000000000007 
    00007ffd72e4ff10:  0000000000000130  0000561be144a098 
    00007ffd72e4ff20:  0000000000000150  ffffffffffffffa8 
    00007ffd72e4ff30:  0000000000000004  0000003400000013 
    00007ffd72e4ff40:  0000000000000000  0000000000000000 
    00007ffd72e4ff50:  0000000000000000  000000770000007c 
    00007ffd72e4ff60:  0000005b0000006e  0000000000000000 
    00007ffd72e4ff70:  0000000000000000  0000000000020ab0 
    00007ffd72e4ff80:  0000000000000120  00007f1842c9b307 
    00007ffd72e4ff90:  0000561be144a550  0000000000000001 
    00007ffd72e4ffa0: <0000000000000000  0000561be144a570 
    00007ffd72e4ffb0:  00007f1842ea80d0  00007ffd72e4fff8 
    00007ffd72e4ffc0:  0000561bde580582 <runtime.step+290>  0000561bdf2dc232 
    00007ffd72e4ffd0:  000000000030da24  000000000030da24 
    00007ffd72e4ffe0:  0000029300000002  0000005042a70ec5 
    00007ffd72e4fff0:  000000000030da24  00007ffd72e500a8 
    00007ffd72e50000:  0000561bde57f936 <runtime.pcvalue+342>  0000561bdf2f2828 
    00007ffd72e50010:  00000000002f742e  00000000002f742e 
    00007ffd72e50020:  fffffffe7fffffff  ffffffffffffffff 
    00007ffd72e50030:  ffffffffffffffff  ffffffffffffffff 
    00007ffd72e50040:  ffffffffffffffff  ffffffffffffffff 
    00007ffd72e50050:  ffffffffffffffff  ffffffffffffffff 
    00007ffd72e50060:  ffffffffffffffff  ffffffffffffffff 
    00007ffd72e50070:  ffffffffffffffff  ffffffffffffffff 
    00007ffd72e50080:  ffffffffffffffff  ffffffffffffffff 
    00007ffd72e50090:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x561bdec2ca30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x561bde58ebcf
    runtime.newm1(0xc420061000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x561bde5686b1
    runtime.newm(0x561bdf258b08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x561bde56852f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x561bde568791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x561bde5644b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x561bde58ff31
    
    rax    0x0
    rbx    0x7f1842a64840
    rcx    0x7f18426b6f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffd72e4ffa0
    rbp    0x561bded5e32a
    rsp    0x7ffd72e4ffa0
    r8     0x0
    r9     0x7ffd72e4ffa0
    r10    0x8
    r11    0x246
    r12    0x561be144a690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f18426b6f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
