apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fb202728f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fb202728f47
    stack: frame={sp:0x7ffcf785a400, fp:0x0} stack=[0x7ffcf705b900,0x7ffcf785a930)
    00007ffcf785a300:  0000000000000001  0000000000000000 
    00007ffcf785a310:  0000000000000000  000000c420081fe0 
    00007ffcf785a320:  0000000000000000  0000000000000000 
    00007ffcf785a330:  0000000000000000  0000000000000000 
    00007ffcf785a340:  000000c42006ffd0  0000556dbcb033e0 <runtime.main+208> 
    00007ffcf785a350:  0000556dbd7f7970  0000000000000000 
    00007ffcf785a360:  0000000000000000  0000000000000000 
    00007ffcf785a370:  0000000000000000  0000000000000000 
    00007ffcf785a380:  0000000000000000  0000000000000000 
    00007ffcf785a390:  000000c420000180  0000000000000000 
    00007ffcf785a3a0:  0000556dbcb033e0 <runtime.main+208>  0000556dbd7f7970 
    00007ffcf785a3b0:  0000000000000000  0000000000000000 
    00007ffcf785a3c0:  0000000000000000  0000000000000000 
    00007ffcf785a3d0:  0000000000000000  0000000000000000 
    00007ffcf785a3e0:  0000000000000000  000000c420000180 
    00007ffcf785a3f0:  0000000000000000  0000556dbcb2ef31 <runtime.goexit+1> 
    00007ffcf785a400: <0000000000000000  0000000000000000 
    00007ffcf785a410:  0000000000000000  0000000000000000 
    00007ffcf785a420:  0000556dbcb1f582 <runtime.step+290>  0000556dbd87b232 
    00007ffcf785a430:  000000000030da24  000000000030da24 
    00007ffcf785a440:  0000029300000002  0000005002ae2ec5 
    00007ffcf785a450:  000000000030da24  00007ffcf785a508 
    00007ffcf785a460:  0000556dbcb1e936 <runtime.pcvalue+342>  0000556dbd891828 
    00007ffcf785a470:  00000000002f742e  00000000002f742e 
    00007ffcf785a480:  fffffffe7fffffff  ffffffffffffffff 
    00007ffcf785a490:  ffffffffffffffff  ffffffffffffffff 
    00007ffcf785a4a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffcf785a4b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffcf785a4c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffcf785a4d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffcf785a4e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffcf785a4f0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fb202728f47
    stack: frame={sp:0x7ffcf785a400, fp:0x0} stack=[0x7ffcf705b900,0x7ffcf785a930)
    00007ffcf785a300:  0000000000000001  0000000000000000 
    00007ffcf785a310:  0000000000000000  000000c420081fe0 
    00007ffcf785a320:  0000000000000000  0000000000000000 
    00007ffcf785a330:  0000000000000000  0000000000000000 
    00007ffcf785a340:  000000c42006ffd0  0000556dbcb033e0 <runtime.main+208> 
    00007ffcf785a350:  0000556dbd7f7970  0000000000000000 
    00007ffcf785a360:  0000000000000000  0000000000000000 
    00007ffcf785a370:  0000000000000000  0000000000000000 
    00007ffcf785a380:  0000000000000000  0000000000000000 
    00007ffcf785a390:  000000c420000180  0000000000000000 
    00007ffcf785a3a0:  0000556dbcb033e0 <runtime.main+208>  0000556dbd7f7970 
    00007ffcf785a3b0:  0000000000000000  0000000000000000 
    00007ffcf785a3c0:  0000000000000000  0000000000000000 
    00007ffcf785a3d0:  0000000000000000  0000000000000000 
    00007ffcf785a3e0:  0000000000000000  000000c420000180 
    00007ffcf785a3f0:  0000000000000000  0000556dbcb2ef31 <runtime.goexit+1> 
    00007ffcf785a400: <0000000000000000  0000000000000000 
    00007ffcf785a410:  0000000000000000  0000000000000000 
    00007ffcf785a420:  0000556dbcb1f582 <runtime.step+290>  0000556dbd87b232 
    00007ffcf785a430:  000000000030da24  000000000030da24 
    00007ffcf785a440:  0000029300000002  0000005002ae2ec5 
    00007ffcf785a450:  000000000030da24  00007ffcf785a508 
    00007ffcf785a460:  0000556dbcb1e936 <runtime.pcvalue+342>  0000556dbd891828 
    00007ffcf785a470:  00000000002f742e  00000000002f742e 
    00007ffcf785a480:  fffffffe7fffffff  ffffffffffffffff 
    00007ffcf785a490:  ffffffffffffffff  ffffffffffffffff 
    00007ffcf785a4a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffcf785a4b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffcf785a4c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffcf785a4d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffcf785a4e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffcf785a4f0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x556dbd1cba30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x556dbcb2dbcf
    runtime.newm1(0xc420061000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x556dbcb076b1
    runtime.newm(0x556dbd7f7b08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x556dbcb0752f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x556dbcb07791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x556dbcb034b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x556dbcb2ef31
    
    rax    0x0
    rbx    0x7fb202ad6840
    rcx    0x7fb202728f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffcf785a400
    rbp    0x556dbd2fd32a
    rsp    0x7ffcf785a400
    r8     0x0
    r9     0x7ffcf785a400
    r10    0x8
    r11    0x246
    r12    0x556dbdf4c690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fb202728f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 4 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    runtime: failed to create new OS thread (have 5 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062800)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062800)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x0, 0xc000046000, 0x3)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0xc000046000, 0x2a6cc00)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.handoffp(0xc000046000)
    	/usr/local/go/src/runtime/proc.go:2001 +0x52
    runtime.stoplockedm()
    	/usr/local/go/src/runtime/proc.go:2075 +0xf7
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2611 +0x48c
    runtime.park_m(0xc000000180)
    	/usr/local/go/src/runtime/proc.go:2845 +0x9d
    runtime.mcall(0x0)
    	/usr/local/go/src/runtime/asm_amd64.s:318 +0x5b
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x1bb7a80, 0xc0000420c8, 0x170e, 0x2)
    	/usr/local/go/src/runtime/proc.go:306 +0xe5
    runtime.chanrecv(0xc000042070, 0x0, 0xc000000101, 0x41a55e)
    	/usr/local/go/src/runtime/chan.go:577 +0x36f
    runtime.chanrecv1(0xc000042070, 0x0)
    	/usr/local/go/src/runtime/chan.go:439 +0x2b
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:219 +0x95
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000088000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000088000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc00004b000, 0x4)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000073f01)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.resetspinning()
    	/usr/local/go/src/runtime/proc.go:2533 +0x59
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2684 +0x2b9
    runtime.mstart1()
    	/usr/local/go/src/runtime/proc.go:1179 +0x93
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1137 +0x6e
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f20d5474f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f20d5474f47
    stack: frame={sp:0x7ffe0bf64090, fp:0x0} stack=[0x7ffe0b7658d0,0x7ffe0bf64900)
    00007ffe0bf63f90:  00007ffe0bf64090  00007f20d5a466f0 
    00007ffe0bf63fa0:  00000000027f5ee7  00007f20d582a125 
    00007ffe0bf63fb0:  00007f20d5828710  00007f20d5a46338 
    00007ffe0bf63fc0:  00007f2000000005  00007f2000000000 
    00007ffe0bf63fd0:  00007ffe0bf640d0  0000000000000003 
    00007ffe0bf63fe0:  00007ffe0bf640c0  00007ffe00000000 
    00007ffe0bf63ff0:  00007f20d5c65a48  0000000000000000 
    00007ffe0bf64000:  0000000000000004  00007f20d5c6e9f0 
    00007ffe0bf64010:  0000000000000002  000000009fd7b9dd 
    00007ffe0bf64020:  00007f20d5c65358  00007ffe0bf64168 
    00007ffe0bf64030:  00007f20d5c65cf0  00007f20d5c65000 
    00007ffe0bf64040:  0000000000000000  00007f20d5a5123f 
    00007ffe0bf64050:  0000000000000003  00007f20d5c65cf0 
    00007ffe0bf64060:  0000000000000001  0000000000000000 
    00007ffe0bf64070:  0000000000000001  00007f20d5c65000 
    00007ffe0bf64080:  00007f20d582a125  00007ffe0bf640c8 
    00007ffe0bf64090: <0000000000000000  000056180c7c72d2 
    00007ffe0bf640a0:  000000000030d984  000000000030d984 
    00007ffe0bf640b0:  000002a800000002  ffffffff00000000 
    00007ffe0bf640c0:  000000000030d984  00007ffe0bf64178 
    00007ffe0bf640d0:  000056180ba6a936 <runtime.pcvalue+342>  000056180c7c72d2 
    00007ffe0bf640e0:  000000000030d984  000000000030d985 
    00007ffe0bf640f0:  00007ffe0bf64130  00007ffe0bf6412c 
    00007ffe0bf64100:  00007ffe0bf64600  000056180c7c72d4 
    00007ffe0bf64110:  fffffffe7fffffff  ffffffffffffffff 
    00007ffe0bf64120:  ffffffffffffffff  ffffffffffffffff 
    00007ffe0bf64130:  ffffffffffffffff  ffffffffffffffff 
    00007ffe0bf64140:  ffffffffffffffff  ffffffffffffffff 
    00007ffe0bf64150:  ffffffffffffffff  ffffffffffffffff 
    00007ffe0bf64160:  ffffffffffffffff  ffffffffffffffff 
    00007ffe0bf64170:  ffffffffffffffff  ffffffffffffffff 
    00007ffe0bf64180:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f20d5474f47
    stack: frame={sp:0x7ffe0bf64090, fp:0x0} stack=[0x7ffe0b7658d0,0x7ffe0bf64900)
    00007ffe0bf63f90:  00007ffe0bf64090  00007f20d5a466f0 
    00007ffe0bf63fa0:  00000000027f5ee7  00007f20d582a125 
    00007ffe0bf63fb0:  00007f20d5828710  00007f20d5a46338 
    00007ffe0bf63fc0:  00007f2000000005  00007f2000000000 
    00007ffe0bf63fd0:  00007ffe0bf640d0  0000000000000003 
    00007ffe0bf63fe0:  00007ffe0bf640c0  00007ffe00000000 
    00007ffe0bf63ff0:  00007f20d5c65a48  0000000000000000 
    00007ffe0bf64000:  0000000000000004  00007f20d5c6e9f0 
    00007ffe0bf64010:  0000000000000002  000000009fd7b9dd 
    00007ffe0bf64020:  00007f20d5c65358  00007ffe0bf64168 
    00007ffe0bf64030:  00007f20d5c65cf0  00007f20d5c65000 
    00007ffe0bf64040:  0000000000000000  00007f20d5a5123f 
    00007ffe0bf64050:  0000000000000003  00007f20d5c65cf0 
    00007ffe0bf64060:  0000000000000001  0000000000000000 
    00007ffe0bf64070:  0000000000000001  00007f20d5c65000 
    00007ffe0bf64080:  00007f20d582a125  00007ffe0bf640c8 
    00007ffe0bf64090: <0000000000000000  000056180c7c72d2 
    00007ffe0bf640a0:  000000000030d984  000000000030d984 
    00007ffe0bf640b0:  000002a800000002  ffffffff00000000 
    00007ffe0bf640c0:  000000000030d984  00007ffe0bf64178 
    00007ffe0bf640d0:  000056180ba6a936 <runtime.pcvalue+342>  000056180c7c72d2 
    00007ffe0bf640e0:  000000000030d984  000000000030d985 
    00007ffe0bf640f0:  00007ffe0bf64130  00007ffe0bf6412c 
    00007ffe0bf64100:  00007ffe0bf64600  000056180c7c72d4 
    00007ffe0bf64110:  fffffffe7fffffff  ffffffffffffffff 
    00007ffe0bf64120:  ffffffffffffffff  ffffffffffffffff 
    00007ffe0bf64130:  ffffffffffffffff  ffffffffffffffff 
    00007ffe0bf64140:  ffffffffffffffff  ffffffffffffffff 
    00007ffe0bf64150:  ffffffffffffffff  ffffffffffffffff 
    00007ffe0bf64160:  ffffffffffffffff  ffffffffffffffff 
    00007ffe0bf64170:  ffffffffffffffff  ffffffffffffffff 
    00007ffe0bf64180:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [runnable, locked to thread]:
    runtime.gcenable()
    	/usr/lib/go-1.10/src/runtime/mgc.go:214 +0x87
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:161 +0x126
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1
    
    rax    0x0
    rbx    0x7f20d5822840
    rcx    0x7f20d5474f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffe0bf64090
    rbp    0x56180c24932a
    rsp    0x7ffe0bf64090
    r8     0x0
    r9     0x7ffe0bf64090
    r10    0x8
    r11    0x246
    r12    0x56180cce5540
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f20d5474f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
