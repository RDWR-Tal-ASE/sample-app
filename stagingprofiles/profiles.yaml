apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    system_key.go:147: cannot determine seccomp compiler version in generateSystemKey: 
    -----
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fb6413c0f47 m=3 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fb6413c0f47
    stack: frame={sp:0x7fb63e96e840, fp:0x0} stack=[0x7fb63e16f288,0x7fb63e96ee88)
    00007fb63e96e740:  0000000000000000  0000000000000000 
    00007fb63e96e750:  0000000000000000  00000000008661c8 
    00007fb63e96e760:  00007fb63e96ec50  0000000001ad13f0 
    00007fb63e96e770:  0000000000000000  0000000000593e90 
    00007fb63e96e780:  0000000000000000  00007fb6419a1f13 
    00007fb63e96e790:  0000000000000005  0000000000000000 
    00007fb63e96e7a0:  2525252525252525  2525252525252525 
    00007fb63e96e7b0:  00000000ff00ff00  0000000000000000 
    00007fb63e96e7c0:  00000000ff000000  0000000000000000 
    00007fb63e96e7d0:  00007fb630000010  00007fb630000010 
    00007fb63e96e7e0:  000000000000000e  000000000000000e 
    00007fb63e96e7f0:  0000000000000000  0000000000000000 
    00007fb63e96e800:  ffffffffffffffff  ffffffffffffffff 
    00007fb63e96e810:  0000000400000004  0000000400000004 
    00007fb63e96e820:  6c6c616d00732520  656c69616620636f 
    00007fb63e96e830:  0000000000000000  0000000000000000 
    00007fb63e96e840: <0000000000000000  0000000000000000 
    00007fb63e96e850:  0000000000000000  0000000000000000 
    00007fb63e96e860:  0000000000000000  0000000000000000 
    00007fb63e96e870:  0000000000000000  0000000000000000 
    00007fb63e96e880:  0000000000000000  0000000000000000 
    00007fb63e96e890:  0000000000000000  0000000000000000 
    00007fb63e96e8a0:  0000000000000000  0000000000000000 
    00007fb63e96e8b0:  00007fb64176e560  00007fb641771bc0 
    00007fb63e96e8c0:  fffffffe7fffffff  ffffffffffffffff 
    00007fb63e96e8d0:  ffffffffffffffff  ffffffffffffffff 
    00007fb63e96e8e0:  ffffffffffffffff  ffffffffffffffff 
    00007fb63e96e8f0:  ffffffffffffffff  ffffffffffffffff 
    00007fb63e96e900:  ffffffffffffffff  ffffffffffffffff 
    00007fb63e96e910:  ffffffffffffffff  ffffffffffffffff 
    00007fb63e96e920:  ffffffffffffffff  ffffffffffffffff 
    00007fb63e96e930:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fb6413c0f47
    stack: frame={sp:0x7fb63e96e840, fp:0x0} stack=[0x7fb63e16f288,0x7fb63e96ee88)
    00007fb63e96e740:  0000000000000000  0000000000000000 
    00007fb63e96e750:  0000000000000000  00000000008661c8 
    00007fb63e96e760:  00007fb63e96ec50  0000000001ad13f0 
    00007fb63e96e770:  0000000000000000  0000000000593e90 
    00007fb63e96e780:  0000000000000000  00007fb6419a1f13 
    00007fb63e96e790:  0000000000000005  0000000000000000 
    00007fb63e96e7a0:  2525252525252525  2525252525252525 
    00007fb63e96e7b0:  00000000ff00ff00  0000000000000000 
    00007fb63e96e7c0:  00000000ff000000  0000000000000000 
    00007fb63e96e7d0:  00007fb630000010  00007fb630000010 
    00007fb63e96e7e0:  000000000000000e  000000000000000e 
    00007fb63e96e7f0:  0000000000000000  0000000000000000 
    00007fb63e96e800:  ffffffffffffffff  ffffffffffffffff 
    00007fb63e96e810:  0000000400000004  0000000400000004 
    00007fb63e96e820:  6c6c616d00732520  656c69616620636f 
    00007fb63e96e830:  0000000000000000  0000000000000000 
    00007fb63e96e840: <0000000000000000  0000000000000000 
    00007fb63e96e850:  0000000000000000  0000000000000000 
    00007fb63e96e860:  0000000000000000  0000000000000000 
    00007fb63e96e870:  0000000000000000  0000000000000000 
    00007fb63e96e880:  0000000000000000  0000000000000000 
    00007fb63e96e890:  0000000000000000  0000000000000000 
    00007fb63e96e8a0:  0000000000000000  0000000000000000 
    00007fb63e96e8b0:  00007fb64176e560  00007fb641771bc0 
    00007fb63e96e8c0:  fffffffe7fffffff  ffffffffffffffff 
    00007fb63e96e8d0:  ffffffffffffffff  ffffffffffffffff 
    00007fb63e96e8e0:  ffffffffffffffff  ffffffffffffffff 
    00007fb63e96e8f0:  ffffffffffffffff  ffffffffffffffff 
    00007fb63e96e900:  ffffffffffffffff  ffffffffffffffff 
    00007fb63e96e910:  ffffffffffffffff  ffffffffffffffff 
    00007fb63e96e920:  ffffffffffffffff  ffffffffffffffff 
    00007fb63e96e930:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x57a460, 0xc0000180c8, 0x170e, 0x3)
    	/usr/lib/go-1.13/src/runtime/proc.go:304 +0xe0
    runtime.goparkunlock(...)
    	/usr/lib/go-1.13/src/runtime/proc.go:310
    runtime.chanrecv(0xc000018070, 0x0, 0xc000000101, 0x41b36e)
    	/usr/lib/go-1.13/src/runtime/chan.go:524 +0x2e8
    runtime.chanrecv1(0xc000018070, 0x0)
    	/usr/lib/go-1.13/src/runtime/chan.go:406 +0x2b
    runtime.gcenable()
    	/usr/lib/go-1.13/src/runtime/mgc.go:212 +0x95
    runtime.main()
    	/usr/lib/go-1.13/src/runtime/proc.go:166 +0x121
    runtime.goexit()
    	/usr/lib/go-1.13/src/runtime/asm_amd64.s:1357 +0x1
    
    rax    0x0
    rbx    0x7fb64176e840
    rcx    0x7fb6413c0f47
    rdx    0x0
    rdi    0x2
    rsi    0x7fb63e96e840
    rbp    0x59f2ca
    rsp    0x7fb63e96e840
    r8     0x0
    r9     0x7fb63e96e840
    r10    0x8
    r11    0x246
    r12    0x1ad13f0
    r13    0x0
    r14    0x593e90
    r15    0x0
    rip    0x7fb6413c0f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    -----
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f466d825f47 m=12 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f466d825f47
    stack: frame={sp:0x7f4651bce820, fp:0x0} stack=[0x7f46513cf288,0x7f4651bcee88)
    00007f4651bce720:  00000000001ec4ef  0000012500000002 
    00007f4651bce730:  00000000001ec4ef  00007f4651bce7e0 
    00007f4651bce740:  0000560909289caa <runtime.pcvalue+346>  000056090a2459e7 
    00007f4651bce750:  00000000004833de  000056090a6c9148 
    00007f4651bce760:  00007f4651bcec30  000056090b2ea540 
    00007f4651bce770:  0000000000000000  0000560909ba5d10 
    00007f4651bce780:  0000000000000000  00007f466de06f13 
    00007f4651bce790:  0000000000000005  0000000000000000 
    00007f4651bce7a0:  2525252525252525  2525252525252525 
    00007f4651bce7b0:  00000000000000ff  0000000000000000 
    00007f4651bce7c0:  00000000000000ff  0000000000000000 
    00007f4651bce7d0:  0000000000000000  0000000000000000 
    00007f4651bce7e0:  000056090948c49a <net.unixSocket+314>  000056090a1a4300 
    00007f4651bce7f0:  0000000000000000  000056090a196cc0 
    00007f4651bce800:  000000c0004a2d80  000000c0004a2d90 
    00007f4651bce810:  0000560909275228 <runtime.goexit1+56>  000056090a1744d8 
    00007f4651bce820: <0000000000000000  203a64656c696166 
    00007f4651bce830:  0000000000000000  0000000000000000 
    00007f4651bce840:  000000c0003d97c0  000000c0000e7810 
    00007f4651bce850:  0000000000000000  0000000000000000 
    00007f4651bce860:  0000000000000000  0000000000000000 
    00007f4651bce870:  732f6e75722f2078  636f732e6470616e 
    00007f4651bce880:  6e6f63203a74656b  6f63203a7463656e 
    00007f4651bce890:  6e6f697463656e6e  6465737566657220 
    00007f4651bce8a0:  fffffffe7fffffff  ffffffffffffffff 
    00007f4651bce8b0:  ffffffffffffffff  ffffffffffffffff 
    00007f4651bce8c0:  ffffffffffffffff  ffffffffffffffff 
    00007f4651bce8d0:  ffffffffffffffff  ffffffffffffffff 
    00007f4651bce8e0:  ffffffffffffffff  ffffffffffffffff 
    00007f4651bce8f0:  ffffffffffffffff  ffffffffffffffff 
    00007f4651bce900:  ffffffffffffffff  ffffffffffffffff 
    00007f4651bce910:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f466d825f47
    stack: frame={sp:0x7f4651bce820, fp:0x0} stack=[0x7f46513cf288,0x7f4651bcee88)
    00007f4651bce720:  00000000001ec4ef  0000012500000002 
    00007f4651bce730:  00000000001ec4ef  00007f4651bce7e0 
    00007f4651bce740:  0000560909289caa <runtime.pcvalue+346>  000056090a2459e7 
    00007f4651bce750:  00000000004833de  000056090a6c9148 
    00007f4651bce760:  00007f4651bcec30  000056090b2ea540 
    00007f4651bce770:  0000000000000000  0000560909ba5d10 
    00007f4651bce780:  0000000000000000  00007f466de06f13 
    00007f4651bce790:  0000000000000005  0000000000000000 
    00007f4651bce7a0:  2525252525252525  2525252525252525 
    00007f4651bce7b0:  00000000000000ff  0000000000000000 
    00007f4651bce7c0:  00000000000000ff  0000000000000000 
    00007f4651bce7d0:  0000000000000000  0000000000000000 
    00007f4651bce7e0:  000056090948c49a <net.unixSocket+314>  000056090a1a4300 
    00007f4651bce7f0:  0000000000000000  000056090a196cc0 
    00007f4651bce800:  000000c0004a2d80  000000c0004a2d90 
    00007f4651bce810:  0000560909275228 <runtime.goexit1+56>  000056090a1744d8 
    00007f4651bce820: <0000000000000000  203a64656c696166 
    00007f4651bce830:  0000000000000000  0000000000000000 
    00007f4651bce840:  000000c0003d97c0  000000c0000e7810 
    00007f4651bce850:  0000000000000000  0000000000000000 
    00007f4651bce860:  0000000000000000  0000000000000000 
    00007f4651bce870:  732f6e75722f2078  636f732e6470616e 
    00007f4651bce880:  6e6f63203a74656b  6f63203a7463656e 
    00007f4651bce890:  6e6f697463656e6e  6465737566657220 
    00007f4651bce8a0:  fffffffe7fffffff  ffffffffffffffff 
    00007f4651bce8b0:  ffffffffffffffff  ffffffffffffffff 
    00007f4651bce8c0:  ffffffffffffffff  ffffffffffffffff 
    00007f4651bce8d0:  ffffffffffffffff  ffffffffffffffff 
    00007f4651bce8e0:  ffffffffffffffff  ffffffffffffffff 
    00007f4651bce8f0:  ffffffffffffffff  ffffffffffffffff 
    00007f4651bce900:  ffffffffffffffff  ffffffffffffffff 
    00007f4651bce910:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [sleep, 2 minutes]:
    runtime.goparkunlock(...)
    	/usr/lib/go-1.13/src/runtime/proc.go:310
    time.Sleep(0x3b9aca00)
    	/usr/lib/go-1.13/src/runtime/time.go:105 +0x15d
    main.maybeWaitForSecurityProfileRegeneration(0xc00039c1c0, 0xc0003d97c0, 0xd)
    	/build/snapd/parts/snapd-deb/build/cmd/snap/cmd_run.go:204 +0x185
    main.(*cmdRun).Execute(0xc000581eb8, 0xc000032190, 0x2, 0x3, 0x0, 0x0)
    	/build/snapd/parts/snapd-deb/build/cmd/snap/cmd_run.go:240 +0x172
    main.main()
    	/build/snapd/parts/snapd-deb/build/cmd/snap/main.go:482 +0x581
    
    goroutine 6 [syscall, 2 minutes]:
    os/signal.signal_recv(0x0)
    	/usr/lib/go-1.13/src/runtime/sigqueue.go:147 +0x9e
    os/signal.loop()
    	/usr/lib/go-1.13/src/os/signal/signal_unix.go:23 +0x24
    created by os/signal.init.0
    	/usr/lib/go-1.13/src/os/signal/signal_unix.go:29 +0x43
    
    rax    0x0
    rbx    0x7f466dbd3840
    rcx    0x7f466d825f47
    rdx    0x0
    rdi    0x2
    rsi    0x7f4651bce820
    rbp    0x560909bbfe7c
    rsp    0x7f4651bce820
    r8     0x0
    r9     0x7f4651bce820
    r10    0x8
    r11    0x246
    r12    0x56090b2ea540
    r13    0x0
    r14    0x560909ba5d10
    r15    0x0
    rip    0x7f466d825f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 2 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7d48, 0x0, 0xffffffffffffffff)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.main.func1()
    	/usr/local/go/src/runtime/proc.go:135 +0x3f
    runtime.systemstack(0x46c2f4)
    	/usr/local/go/src/runtime/asm_amd64.s:370 +0x66
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1116
    
    goroutine 1 [running]:
    runtime.systemstack_switch()
    	/usr/local/go/src/runtime/asm_amd64.s:330 fp=0xc00005e788 sp=0xc00005e780 pc=0x46c420
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:134 +0x70 fp=0xc00005e7e0 sp=0xc00005e788 pc=0x439ab0
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1 fp=0xc00005e7e8 sp=0xc00005e7e0 pc=0x46e061
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f04fea3bf47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f04fea3bf47
    stack: frame={sp:0x7ffe24d72bf0, fp:0x0} stack=[0x7ffe24574290,0x7ffe24d732c0)
    00007ffe24d72af0:  00005623d41b3683 <runtime.main+883>  000000000030da24 
    00007ffe24d72b00:  0000029300000002  00000050fe9fc700 
    00007ffe24d72b10:  000000000030da24  00007ffe24d72bc8 
    00007ffe24d72b20:  0000000000000000  0000000000000000 
    00007ffe24d72b30:  00007f04fede9560  00007f04fedecbc0 
    00007ffe24d72b40:  000000c42006ffd0  00005623d41b33e0 <runtime.main+208> 
    00007ffe24d72b50:  00005623d4ea7970  0000000000000000 
    00007ffe24d72b60:  0000000000000000  0000000000000000 
    00007ffe24d72b70:  0000000000000000  0000000000000000 
    00007ffe24d72b80:  0000000000000000  0000000000000000 
    00007ffe24d72b90:  000000c420000180  0000000000000000 
    00007ffe24d72ba0:  00005623d41b33e0 <runtime.main+208>  00005623d4ea7970 
    00007ffe24d72bb0:  0000000000000000  0000000000000000 
    00007ffe24d72bc0:  0000000000000000  0000000000000000 
    00007ffe24d72bd0:  0000000000000000  0000000000000000 
    00007ffe24d72be0:  0000000000000000  000000c420000180 
    00007ffe24d72bf0: <0000000000000000  00005623d41def31 <runtime.goexit+1> 
    00007ffe24d72c00:  0000000000000000  0000000000000000 
    00007ffe24d72c10:  0000000000000000  0000000000000000 
    00007ffe24d72c20:  0000000000000000  00005623d41def31 <runtime.goexit+1> 
    00007ffe24d72c30:  00005623d52553c0  00007ffe24d72f40 
    00007ffe24d72c40:  00005623d41d3962 <runtime.gentraceback+4850>  00007ffe24d72ee8 
    00007ffe24d72c50:  00007ffe24d72fd8  00005623d5255301 
    00007ffe24d72c60:  00007ffe24d72d01  0000000000000000 
    00007ffe24d72c70:  fffffffe7fffffff  ffffffffffffffff 
    00007ffe24d72c80:  ffffffffffffffff  ffffffffffffffff 
    00007ffe24d72c90:  ffffffffffffffff  ffffffffffffffff 
    00007ffe24d72ca0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe24d72cb0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe24d72cc0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe24d72cd0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe24d72ce0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f04fea3bf47
    stack: frame={sp:0x7ffe24d72bf0, fp:0x0} stack=[0x7ffe24574290,0x7ffe24d732c0)
    00007ffe24d72af0:  00005623d41b3683 <runtime.main+883>  000000000030da24 
    00007ffe24d72b00:  0000029300000002  00000050fe9fc700 
    00007ffe24d72b10:  000000000030da24  00007ffe24d72bc8 
    00007ffe24d72b20:  0000000000000000  0000000000000000 
    00007ffe24d72b30:  00007f04fede9560  00007f04fedecbc0 
    00007ffe24d72b40:  000000c42006ffd0  00005623d41b33e0 <runtime.main+208> 
    00007ffe24d72b50:  00005623d4ea7970  0000000000000000 
    00007ffe24d72b60:  0000000000000000  0000000000000000 
    00007ffe24d72b70:  0000000000000000  0000000000000000 
    00007ffe24d72b80:  0000000000000000  0000000000000000 
    00007ffe24d72b90:  000000c420000180  0000000000000000 
    00007ffe24d72ba0:  00005623d41b33e0 <runtime.main+208>  00005623d4ea7970 
    00007ffe24d72bb0:  0000000000000000  0000000000000000 
    00007ffe24d72bc0:  0000000000000000  0000000000000000 
    00007ffe24d72bd0:  0000000000000000  0000000000000000 
    00007ffe24d72be0:  0000000000000000  000000c420000180 
    00007ffe24d72bf0: <0000000000000000  00005623d41def31 <runtime.goexit+1> 
    00007ffe24d72c00:  0000000000000000  0000000000000000 
    00007ffe24d72c10:  0000000000000000  0000000000000000 
    00007ffe24d72c20:  0000000000000000  00005623d41def31 <runtime.goexit+1> 
    00007ffe24d72c30:  00005623d52553c0  00007ffe24d72f40 
    00007ffe24d72c40:  00005623d41d3962 <runtime.gentraceback+4850>  00007ffe24d72ee8 
    00007ffe24d72c50:  00007ffe24d72fd8  00005623d5255301 
    00007ffe24d72c60:  00007ffe24d72d01  0000000000000000 
    00007ffe24d72c70:  fffffffe7fffffff  ffffffffffffffff 
    00007ffe24d72c80:  ffffffffffffffff  ffffffffffffffff 
    00007ffe24d72c90:  ffffffffffffffff  ffffffffffffffff 
    00007ffe24d72ca0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe24d72cb0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe24d72cc0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe24d72cd0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe24d72ce0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.systemstack_switch()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:363 fp=0xc420081f00 sp=0xc420081ef8 pc=0x5623d41dc370
    runtime.newproc(0x562300000000, 0x5623d4ea78f8)
    	/usr/lib/go-1.10/src/runtime/proc.go:3243 +0x64 fp=0xc420081f40 sp=0xc420081f00 pc=0x5623d41bb264
    runtime.init.4()
    	/usr/lib/go-1.10/src/runtime/proc.go:237 +0x37 fp=0xc420081f60 sp=0xc420081f40 pc=0x5623d41b36d7
    runtime.init()
    	<autogenerated>:1 +0xe5 fp=0xc420081f88 sp=0xc420081f60 pc=0x5623d41dbf45
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:144 +0xd0 fp=0xc420081fe0 sp=0xc420081f88 pc=0x5623d41b33e0
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x5623d41def31
    
    rax    0x0
    rbx    0x7f04fede9840
    rcx    0x7f04fea3bf47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffe24d72bf0
    rbp    0x5623d49ad32a
    rsp    0x7ffe24d72bf0
    r8     0x0
    r9     0x7ffe24d72bf0
    r10    0x8
    r11    0x246
    r12    0x5623d6b913f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f04fea3bf47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
