apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fcd644b5f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fcd644b5f47
    stack: frame={sp:0x7ffc57cb4550, fp:0x0} stack=[0x7ffc574b5a50,0x7ffc57cb4a80)
    00007ffc57cb4450:  0000000000000001  0000000000000000 
    00007ffc57cb4460:  0000000000000000  0000000000000000 
    00007ffc57cb4470:  0000000000000000  0000000000000000 
    00007ffc57cb4480:  000000c42006ffd0  000055d20d9793e0 <runtime.main+208> 
    00007ffc57cb4490:  000055d20e66d970  0000000000000000 
    00007ffc57cb44a0:  0000000000000000  0000000000000000 
    00007ffc57cb44b0:  0000000000000000  0000000000000000 
    00007ffc57cb44c0:  0000000000000000  0000000000000000 
    00007ffc57cb44d0:  000000c420000180  0000000000000000 
    00007ffc57cb44e0: runtime/cgo:  000055d20d9793e0 <pthread_create failed: Resource temporarily unavailable
    runtime.main+208>  000055d20e66d970 
    00007ffc57cb44f0:  0000000000000000  0000000000000000 
    00007ffc57cb4500:  0000000000000000  0000000000000000 
    00007ffc57cb4510:  0000000000000000  0000000000000000 
    00007ffc57cb4520:  0000000000000000  000000c420000180 
    00007ffc57cb4530:  0000000000000000  000055d20d9a4f31 <runtime.goexit+1> 
    00007ffc57cb4540:  0000000000000000  0000000000000000 
    00007ffc57cb4550: <0000000000000000  0000000000000000 
    00007ffc57cb4560:  00007fcd64ca70d0  00007ffc57cb45a8 
    00007ffc57cb4570:  000055d20d995582 <runtime.step+290>  000055d20e6f1232 
    00007ffc57cb4580:  000000000030da24  000000000030da24 
    00007ffc57cb4590:  0000029300000002  000000506486fec5 
    00007ffc57cb45a0:  000000000030da24  00007ffc57cb4658 
    00007ffc57cb45b0:  000055d20d994936 <runtime.pcvalue+342>  000055d20e707828 
    00007ffc57cb45c0:  0000000000000002  0000000000000000 
    00007ffc57cb45d0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc57cb45e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc57cb45f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc57cb4600:  ffffffffffffffff  ffffffffffffffff 
    00007ffc57cb4610:  ffffffffffffffff  ffffffffffffffff 
    00007ffc57cb4620:  ffffffffffffffff  ffffffffffffffff 
    00007ffc57cb4630:  ffffffffffffffff  ffffffffffffffff 
    00007ffc57cb4640:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fcd644b5f47
    stack: frame={sp:0x7ffc57cb4550, fp:0x0} stack=[0x7ffc574b5a50,0x7ffc57cb4a80)
    00007ffc57cb4450:  0000000000000001  0000000000000000 
    00007ffc57cb4460:  0000000000000000  0000000000000000 
    00007ffc57cb4470:  0000000000000000  0000000000000000 
    00007ffc57cb4480:  000000c42006ffd0  000055d20d9793e0 <runtime.main+208> 
    00007ffc57cb4490:  000055d20e66d970  0000000000000000 
    00007ffc57cb44a0:  0000000000000000  0000000000000000 
    00007ffc57cb44b0:  0000000000000000  0000000000000000 
    00007ffc57cb44c0:  0000000000000000  0000000000000000 
    00007ffc57cb44d0:  000000c420000180  0000000000000000 
    00007ffc57cb44e0:  000055d20d9793e0 <runtime.main+208>  000055d20e66d970 
    00007ffc57cb44f0:  0000000000000000  0000000000000000 
    00007ffc57cb4500:  0000000000000000  0000000000000000 
    00007ffc57cb4510:  0000000000000000  0000000000000000 
    00007ffc57cb4520:  0000000000000000  000000c420000180 
    00007ffc57cb4530:  0000000000000000  000055d20d9a4f31 <runtime.goexit+1> 
    00007ffc57cb4540:  0000000000000000  0000000000000000 
    00007ffc57cb4550: <0000000000000000  0000000000000000 
    00007ffc57cb4560:  00007fcd64ca70d0  00007ffc57cb45a8 
    00007ffc57cb4570:  000055d20d995582 <runtime.step+290>  000055d20e6f1232 
    00007ffc57cb4580:  000000000030da24  000000000030da24 
    00007ffc57cb4590:  0000029300000002  000000506486fec5 
    00007ffc57cb45a0:  000000000030da24  00007ffc57cb4658 
    00007ffc57cb45b0:  000055d20d994936 <runtime.pcvalue+342>  000055d20e707828 
    00007ffc57cb45c0:  0000000000000002  0000000000000000 
    00007ffc57cb45d0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc57cb45e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc57cb45f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc57cb4600:  ffffffffffffffff  ffffffffffffffff 
    00007ffc57cb4610:  ffffffffffffffff  ffffffffffffffff 
    00007ffc57cb4620:  ffffffffffffffff  ffffffffffffffff 
    00007ffc57cb4630:  ffffffffffffffff  ffffffffffffffff 
    00007ffc57cb4640:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x55d20e041a30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x55d20d9a3bcf
    runtime.newm1(0xc420061000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x55d20d97d6b1
    runtime.newm(0x55d20e66db08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x55d20d97d52f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x55d20d97d791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x55d20d9794b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x55d20d9a4f31
    
    rax    0x0
    rbx    0x7fcd64863840
    rcx    0x7fcd644b5f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffc57cb4550
    rbp    0x55d20e17332a
    rsp    0x7ffc57cb4550
    r8     0x0
    r9     0x7ffc57cb4550
    r10    0x8
    r11    0x246
    r12    0x55d20f070690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fcd644b5f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 4 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062800)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062800)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x0, 0xc000046000, 0x3)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0xc000046000, 0x2a6cc00)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.handoffp(0xc000046000)
    	/usr/local/go/src/runtime/proc.go:2001 +0x52
    runtime.stoplockedm()
    	/usr/local/go/src/runtime/proc.go:2075 +0xf7
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2611 +0x48c
    runtime.park_m(0xc000000180)
    	/usr/local/go/src/runtime/proc.go:2845 +0x9d
    runtime.mcall(0x0)
    	/usr/local/go/src/runtime/asm_amd64.s:318 +0x5b
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x1bb7a80, 0xc0000420c8, 0x170e, 0x2)
    	/usr/local/go/src/runtime/proc.go:306 +0xe5
    runtime.chanrecv(0xc000042070, 0x0, 0xc000000101, 0x41a55e)
    	/usr/local/go/src/runtime/chan.go:577 +0x36f
    runtime.chanrecv1(0xc000042070, 0x0)
    	/usr/local/go/src/runtime/chan.go:439 +0x2b
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:219 +0x95
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fec1573ff47 m=3 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fec1573ff47
    stack: frame={sp:0x7fec0fffe810, fp:0x0} stack=[0x7fec0f7ff290,0x7fec0fffee90)
    00007fec0fffe710:  0000000000000000  0000000000000000 
    00007fec0fffe720:  0000000000000000  0000000000000000 
    00007fec0fffe730:  0000000000000000  0000000000000000 
    00007fec0fffe740:  0000000000000000  0000000000000000 
    00007fec0fffe750:  0000000000000000  0000000000000000 
    00007fec0fffe760:  0000000000000000  0000000000000000 
    00007fec0fffe770:  0000000000000000  0000000000000000 
    00007fec0fffe780:  0000000000000000  0000000000000000 
    00007fec0fffe790:  0000000000000000  0000000000000000 
    00007fec0fffe7a0:  0000000000000000  0000000000000000 
    00007fec0fffe7b0:  0000000000000000  0000000000000000 
    00007fec0fffe7c0:  0000000000000000  0000000000000000 
    00007fec0fffe7d0:  0000000000000000  0000000000000000 
    00007fec0fffe7e0:  0000000000000000  0000000000000000 
    00007fec0fffe7f0:  0000000000000000  0000000000000000 
    00007fec0fffe800:  0000000000000000  0000000000000000 
    00007fec0fffe810: <0000000000000000  0000000000000000 
    00007fec0fffe820:  0000000000000000  0000000000000000 
    00007fec0fffe830:  0000000000000000  0000000000000000 
    00007fec0fffe840:  0000000000000000  0000000000000000 
    00007fec0fffe850:  0000000000000000  0000000000000000 
    00007fec0fffe860:  0000000000000000  0000000000000000 
    00007fec0fffe870:  0000000000000000  0000000000000000 
    00007fec0fffe880:  0000000000000000  0000000000000000 
    00007fec0fffe890:  fffffffe7fffffff  ffffffffffffffff 
    00007fec0fffe8a0:  ffffffffffffffff  ffffffffffffffff 
    00007fec0fffe8b0:  ffffffffffffffff  ffffffffffffffff 
    00007fec0fffe8c0:  ffffffffffffffff  ffffffffffffffff 
    00007fec0fffe8d0:  ffffffffffffffff  ffffffffffffffff 
    00007fec0fffe8e0:  ffffffffffffffff  ffffffffffffffff 
    00007fec0fffe8f0:  ffffffffffffffff  ffffffffffffffff 
    00007fec0fffe900:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fec1573ff47
    stack: frame={sp:0x7fec0fffe810, fp:0x0} stack=[0x7fec0f7ff290,0x7fec0fffee90)
    00007fec0fffe710:  0000000000000000  0000000000000000 
    00007fec0fffe720:  0000000000000000  0000000000000000 
    00007fec0fffe730:  0000000000000000  0000000000000000 
    00007fec0fffe740:  0000000000000000  0000000000000000 
    00007fec0fffe750:  0000000000000000  0000000000000000 
    00007fec0fffe760:  0000000000000000  0000000000000000 
    00007fec0fffe770:  0000000000000000  0000000000000000 
    00007fec0fffe780:  0000000000000000  0000000000000000 
    00007fec0fffe790:  0000000000000000  0000000000000000 
    00007fec0fffe7a0:  0000000000000000  0000000000000000 
    00007fec0fffe7b0:  0000000000000000  0000000000000000 
    00007fec0fffe7c0:  0000000000000000  0000000000000000 
    00007fec0fffe7d0:  0000000000000000  0000000000000000 
    00007fec0fffe7e0:  0000000000000000  0000000000000000 
    00007fec0fffe7f0:  0000000000000000  0000000000000000 
    00007fec0fffe800:  0000000000000000  0000000000000000 
    00007fec0fffe810: <0000000000000000  0000000000000000 
    00007fec0fffe820:  0000000000000000  0000000000000000 
    00007fec0fffe830:  0000000000000000  0000000000000000 
    00007fec0fffe840:  0000000000000000  0000000000000000 
    00007fec0fffe850:  0000000000000000  0000000000000000 
    00007fec0fffe860:  0000000000000000  0000000000000000 
    00007fec0fffe870:  0000000000000000  0000000000000000 
    00007fec0fffe880:  0000000000000000  0000000000000000 
    00007fec0fffe890:  fffffffe7fffffff  ffffffffffffffff 
    00007fec0fffe8a0:  ffffffffffffffff  ffffffffffffffff 
    00007fec0fffe8b0:  ffffffffffffffff  ffffffffffffffff 
    00007fec0fffe8c0:  ffffffffffffffff  ffffffffffffffff 
    00007fec0fffe8d0:  ffffffffffffffff  ffffffffffffffff 
    00007fec0fffe8e0:  ffffffffffffffff  ffffffffffffffff 
    00007fec0fffe8f0:  ffffffffffffffff  ffffffffffffffff 
    00007fec0fffe900:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    	goroutine running on other thread; stack unavailable
    
    rax    0x0
    rbx    0x7fec15aed840
    rcx    0x7fec1573ff47
    rdx    0x0
    rdi    0x2
    rsi    0x7fec0fffe810
    rbp    0x559dd720832a
    rsp    0x7fec0fffe810
    r8     0x0
    r9     0x7fec0fffe810
    r10    0x8
    r11    0x246
    r12    0x559dd95933f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fec1573ff47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
