apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fde7db1cf47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fde7db1cf47
    stack: frame={sp:0x7ffc25143770, fp:0x0} stack=[0x7ffc24944c70,0x7ffc25143ca0)
    00007ffc25143670:  0000000000000001  0000000000000000 
    00007ffc25143680:  0000000000000000  000000c420081fe0 
    00007ffc25143690:  0000000000000000  0000000000000000 
    00007ffc251436a0:  0000000000000000  0000000000000000 
    00007ffc251436b0:  0000000000000000  0000000000000000 
    00007ffc251436c0:  000000c42006ffd0  0000565333c2b3e0 <runtime.main+208> 
    00007ffc251436d0:  000056533491f970  0000000000000000 
    00007ffc251436e0:  0000000000000000  0000000000000000 
    00007ffc251436f0:  0000000000000000  0000000000000000 
    00007ffc25143700:  0000000000000000  0000000000000000 
    00007ffc25143710:  000000c420000180  0000000000000000 
    00007ffc25143720:  0000565333c2b3e0 <runtime.main+208>  000056533491f970 
    00007ffc25143730:  0000000000000000  0000000000000000 
    00007ffc25143740:  0000000000000000  0000000000000000 
    00007ffc25143750:  0000000000000000  0000000000000000 
    00007ffc25143760:  0000000000000000  000000c420000180 
    00007ffc25143770: <0000000000000000  0000565333c56f31 <runtime.goexit+1> 
    00007ffc25143780:  0000000000000000  0000000000000000 
    00007ffc25143790:  0000000000000000  0000000000000000 
    00007ffc251437a0:  000000000030da24  000000000030da24 
    00007ffc251437b0:  0000029300000002  000000507ded6ec5 
    00007ffc251437c0:  000000000030da24  00007ffc25143878 
    00007ffc251437d0:  0000565333c46936 <runtime.pcvalue+342>  00005653349b9828 
    00007ffc251437e0:  00000000002f742e  00000000002f742e 
    00007ffc251437f0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc25143800:  ffffffffffffffff  ffffffffffffffff 
    00007ffc25143810:  ffffffffffffffff  ffffffffffffffff 
    00007ffc25143820:  ffffffffffffffff  ffffffffffffffff 
    00007ffc25143830:  ffffffffffffffff  ffffffffffffffff 
    00007ffc25143840:  ffffffffffffffff  ffffffffffffffff 
    00007ffc25143850:  ffffffffffffffff  ffffffffffffffff 
    00007ffc25143860:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fde7db1cf47
    stack: frame={sp:0x7ffc25143770, fp:0x0} stack=[0x7ffc24944c70,0x7ffc25143ca0)
    00007ffc25143670:  0000000000000001  0000000000000000 
    00007ffc25143680:  0000000000000000  000000c420081fe0 
    00007ffc25143690:  0000000000000000  0000000000000000 
    00007ffc251436a0:  0000000000000000  0000000000000000 
    00007ffc251436b0:  0000000000000000  0000000000000000 
    00007ffc251436c0:  000000c42006ffd0  0000565333c2b3e0 <runtime.main+208> 
    00007ffc251436d0:  000056533491f970  0000000000000000 
    00007ffc251436e0:  0000000000000000  0000000000000000 
    00007ffc251436f0:  0000000000000000  0000000000000000 
    00007ffc25143700:  0000000000000000  0000000000000000 
    00007ffc25143710:  000000c420000180  0000000000000000 
    00007ffc25143720:  0000565333c2b3e0 <runtime.main+208>  000056533491f970 
    00007ffc25143730:  0000000000000000  0000000000000000 
    00007ffc25143740:  0000000000000000  0000000000000000 
    00007ffc25143750:  0000000000000000  0000000000000000 
    00007ffc25143760:  0000000000000000  000000c420000180 
    00007ffc25143770: <0000000000000000  0000565333c56f31 <runtime.goexit+1> 
    00007ffc25143780:  0000000000000000  0000000000000000 
    00007ffc25143790:  0000000000000000  0000000000000000 
    00007ffc251437a0:  000000000030da24  000000000030da24 
    00007ffc251437b0:  0000029300000002  000000507ded6ec5 
    00007ffc251437c0:  000000000030da24  00007ffc25143878 
    00007ffc251437d0:  0000565333c46936 <runtime.pcvalue+342>  00005653349b9828 
    00007ffc251437e0:  00000000002f742e  00000000002f742e 
    00007ffc251437f0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc25143800:  ffffffffffffffff  ffffffffffffffff 
    00007ffc25143810:  ffffffffffffffff  ffffffffffffffff 
    00007ffc25143820:  ffffffffffffffff  ffffffffffffffff 
    00007ffc25143830:  ffffffffffffffff  ffffffffffffffff 
    00007ffc25143840:  ffffffffffffffff  ffffffffffffffff 
    00007ffc25143850:  ffffffffffffffff  ffffffffffffffff 
    00007ffc25143860:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x5653342f3a30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x565333c55bcf
    runtime.newm1(0xc420061000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x565333c2f6b1
    runtime.newm(0x56533491fb08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x565333c2f52f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x565333c2f791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x565333c2b4b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x565333c56f31
    
    rax    0x0
    rbx    0x7fde7deca840
    rcx    0x7fde7db1cf47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffc25143770
    rbp    0x56533442532a
    rsp    0x7ffc25143770
    r8     0x0
    r9     0x7ffc25143770
    r10    0x8
    r11    0x246
    r12    0x56533620f690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fde7db1cf47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 5 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    runtime: failed to create new OS thread (have 5 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062800)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062800)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x0, 0xc000046000, 0x3)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0xc000046000, 0x2a6cc00)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.handoffp(0xc000046000)
    	/usr/local/go/src/runtime/proc.go:2001 +0x52
    runtime.stoplockedm()
    	/usr/local/go/src/runtime/proc.go:2075 +0xf7
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2611 +0x48c
    runtime.park_m(0xc000000180)
    	/usr/local/go/src/runtime/proc.go:2845 +0x9d
    runtime.mcall(0x0)
    	/usr/local/go/src/runtime/asm_amd64.s:318 +0x5b
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x1bb7a80, 0xc0000420c8, 0x170e, 0x2)
    	/usr/local/go/src/runtime/proc.go:306 +0xe5
    runtime.chanrecv(0xc000042070, 0x0, 0xc000000101, 0x41a55e)
    	/usr/local/go/src/runtime/chan.go:577 +0x36f
    runtime.chanrecv1(0xc000042070, 0x0)
    	/usr/local/go/src/runtime/chan.go:439 +0x2b
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:219 +0x95
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000088000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000088000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc00004b000, 0x4)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000073f01)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.resetspinning()
    	/usr/local/go/src/runtime/proc.go:2533 +0x59
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2684 +0x2b9
    runtime.mstart1()
    	/usr/local/go/src/runtime/proc.go:1179 +0x93
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1137 +0x6e
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f4ddaacff47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f4ddaacff47
    stack: frame={sp:0x7ffc050bbb10, fp:0x0} stack=[0x7ffc048bd1b0,0x7ffc050bc1e0)
    00007ffc050bba10:  0000565077a84683 <runtime.main+883>  000000000030da24 
    00007ffc050bba20:  0000029300000002  00000050db0a1690 
    00007ffc050bba30:  000000000030da24  00007ffc050bbae8 
    00007ffc050bba40:  0000565077a9f936 <runtime.pcvalue+342>  0000565078812828 
    00007ffc050bba50:  00000000002f742e  00000000002f742e 
    00007ffc050bba60:  00007ffc050bbaa0  00007ffc050bba9c 
    00007ffc050bba70:  0000565078b26301  000056507881282a 
    00007ffc050bba80:  00000000002f742c  00000000002f742c 
    00007ffc050bba90:  0000000000000001  0000000040000000 
    00007ffc050bbaa0:  00007ffc050bbb58  0000565077a9a75f <runtime.adjustframe+175> 
    00007ffc050bbab0:  00005650788127f0  0000565078b263c0 
    00007ffc050bbac0:  00007ffc00000000  0000565077aaff30 <runtime.goexit+0> 
    00007ffc050bbad0:  00007ffc050bbf10  00000000ffffffff 
    00007ffc050bbae0:  00000000050bba70  0000565077aaff30 <runtime.goexit+0> 
    00007ffc050bbaf0:  0000565077aa01c1 <runtime.funcspdelta+97>  00005650788127f0 
    00007ffc050bbb00:  0000565078b263c0  00007ffc0006f548 
    00007ffc050bbb10: <0000000000000000  00007ffc050bbc70 
    00007ffc050bbb20:  000056507820c201  00005650788127f0 
    00007ffc050bbb30:  0000565078b263c0  0000000000000000 
    00007ffc050bbb40:  0000000000000000  0000565077aaff31 <runtime.goexit+1> 
    00007ffc050bbb50:  0000565078b263c0  00007ffc050bbe60 
    00007ffc050bbb60:  0000565077aa4962 <runtime.gentraceback+4850>  00007ffc050bbe08 
    00007ffc050bbb70:  00007ffc050bbef8  0000565078b26301 
    00007ffc050bbb80:  00007ffc050bbc01  0000000000000000 
    00007ffc050bbb90:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc050bbba0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc050bbbb0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc050bbbc0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc050bbbd0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc050bbbe0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc050bbbf0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc050bbc00:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f4ddaacff47
    stack: frame={sp:0x7ffc050bbb10, fp:0x0} stack=[0x7ffc048bd1b0,0x7ffc050bc1e0)
    00007ffc050bba10:  0000565077a84683 <runtime.main+883>  000000000030da24 
    00007ffc050bba20:  0000029300000002  00000050db0a1690 
    00007ffc050bba30:  000000000030da24  00007ffc050bbae8 
    00007ffc050bba40:  0000565077a9f936 <runtime.pcvalue+342>  0000565078812828 
    00007ffc050bba50:  00000000002f742e  00000000002f742e 
    00007ffc050bba60:  00007ffc050bbaa0  00007ffc050bba9c 
    00007ffc050bba70:  0000565078b26301  000056507881282a 
    00007ffc050bba80:  00000000002f742c  00000000002f742c 
    00007ffc050bba90:  0000000000000001  0000000040000000 
    00007ffc050bbaa0:  00007ffc050bbb58  0000565077a9a75f <runtime.adjustframe+175> 
    00007ffc050bbab0:  00005650788127f0  0000565078b263c0 
    00007ffc050bbac0:  00007ffc00000000  0000565077aaff30 <runtime.goexit+0> 
    00007ffc050bbad0:  00007ffc050bbf10  00000000ffffffff 
    00007ffc050bbae0:  00000000050bba70  0000565077aaff30 <runtime.goexit+0> 
    00007ffc050bbaf0:  0000565077aa01c1 <runtime.funcspdelta+97>  00005650788127f0 
    00007ffc050bbb00:  0000565078b263c0  00007ffc0006f548 
    00007ffc050bbb10: <0000000000000000  00007ffc050bbc70 
    00007ffc050bbb20:  000056507820c201  00005650788127f0 
    00007ffc050bbb30:  0000565078b263c0  0000000000000000 
    00007ffc050bbb40:  0000000000000000  0000565077aaff31 <runtime.goexit+1> 
    00007ffc050bbb50:  0000565078b263c0  00007ffc050bbe60 
    00007ffc050bbb60:  0000565077aa4962 <runtime.gentraceback+4850>  00007ffc050bbe08 
    00007ffc050bbb70:  00007ffc050bbef8  0000565078b26301 
    00007ffc050bbb80:  00007ffc050bbc01  0000000000000000 
    00007ffc050bbb90:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc050bbba0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc050bbbb0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc050bbbc0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc050bbbd0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc050bbbe0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc050bbbf0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc050bbc00:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [runnable, locked to thread]:
    runtime.gopark(0x565078778a60, 0xc4200380c8, 0x565078156704, 0xc, 0xc42003ce17, 0x3)
    	/usr/lib/go-1.10/src/runtime/proc.go:291 +0x120
    runtime.goparkunlock(0xc4200380c8, 0x565078156704, 0xc, 0x17, 0x3)
    	/usr/lib/go-1.10/src/runtime/proc.go:297 +0x60
    runtime.chanrecv(0xc420038070, 0x0, 0x1, 0x565077a6f8aa)
    	/usr/lib/go-1.10/src/runtime/chan.go:518 +0x2f6
    runtime.chanrecv1(0xc420038070, 0x0)
    	/usr/lib/go-1.10/src/runtime/chan.go:400 +0x2b
    runtime.gcenable()
    	/usr/lib/go-1.10/src/runtime/mgc.go:217 +0x71
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:161 +0x126
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1
    
    rax    0x0
    rbx    0x7f4ddae7d840
    rcx    0x7f4ddaacff47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffc050bbb10
    rbp    0x56507827e32a
    rsp    0x7ffc050bbb10
    r8     0x0
    r9     0x7ffc050bbb10
    r10    0x8
    r11    0x246
    r12    0x565079bca540
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f4ddaacff47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
