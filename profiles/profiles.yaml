apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f53ac244f47 m=3 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f53ac244f47
    stack: frame={sp:0x7f53aba03810, fp:0x0} stack=[0x7f53ab204290,0x7f53aba03e90)
    00007f53aba03710:  0000000000000000  0000000000000000 
    00007f53aba03720:  0000000000000000  0000000000000000 
    00007f53aba03730:  0000000000000000  0000000000000000 
    00007f53aba03740:  0000000000000000  0000000000000000 
    00007f53aba03750:  0000000000000000  0000000000000000 
    00007f53aba03760:  0000000000000000  0000000000000000 
    00007f53aba03770:  0000000000000000  0000000000000000 
    00007f53aba03780:  0000000000000000  0000000000000000 
    00007f53aba03790:  0000000000000000  0000000000000000 
    00007f53aba037a0:  0000000000000000  0000000000000000 
    00007f53aba037b0:  0000000000000000  0000000000000000 
    00007f53aba037c0:  0000000000000000  0000000000000000 
    00007f53aba037d0:  0000000000000000  0000000000000000 
    00007f53aba037e0:  0000000000000000  0000000000000000 
    00007f53aba037f0:  0000000000000000  0000000000000000 
    00007f53aba03800:  0000000000000000  0000000000000000 
    00007f53aba03810: <0000000000000000  0000000000000000 
    00007f53aba03820:  0000000000000000  0000000000000000 
    00007f53aba03830:  0000000000000000  0000000000000000 
    00007f53aba03840:  0000000000000000  0000000000000000 
    00007f53aba03850:  0000000000000000  0000000000000000 
    00007f53aba03860:  0000000000000000  0000000000000000 
    00007f53aba03870:  0000000000000000  0000000000000000 
    00007f53aba03880:  0000000000000000  0000000000000000 
    00007f53aba03890:  fffffffe7fffffff  ffffffffffffffff 
    00007f53aba038a0:  ffffffffffffffff  ffffffffffffffff 
    00007f53aba038b0:  ffffffffffffffff  ffffffffffffffff 
    00007f53aba038c0:  ffffffffffffffff  ffffffffffffffff 
    00007f53aba038d0:  ffffffffffffffff  ffffffffffffffff 
    00007f53aba038e0:  ffffffffffffffff  ffffffffffffffff 
    00007f53aba038f0:  ffffffffffffffff  ffffffffffffffff 
    00007f53aba03900:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f53ac244f47
    stack: frame={sp:0x7f53aba03810, fp:0x0} stack=[0x7f53ab204290,0x7f53aba03e90)
    00007f53aba03710:  0000000000000000  0000000000000000 
    00007f53aba03720:  0000000000000000  0000000000000000 
    00007f53aba03730:  0000000000000000  0000000000000000 
    00007f53aba03740:  0000000000000000  0000000000000000 
    00007f53aba03750:  0000000000000000  0000000000000000 
    00007f53aba03760:  0000000000000000  0000000000000000 
    00007f53aba03770:  0000000000000000  0000000000000000 
    00007f53aba03780:  0000000000000000  0000000000000000 
    00007f53aba03790:  0000000000000000  0000000000000000 
    00007f53aba037a0:  0000000000000000  0000000000000000 
    00007f53aba037b0:  0000000000000000  0000000000000000 
    00007f53aba037c0:  0000000000000000  0000000000000000 
    00007f53aba037d0:  0000000000000000  0000000000000000 
    00007f53aba037e0:  0000000000000000  0000000000000000 
    00007f53aba037f0:  0000000000000000  0000000000000000 
    00007f53aba03800:  0000000000000000  0000000000000000 
    00007f53aba03810: <0000000000000000  0000000000000000 
    00007f53aba03820:  0000000000000000  0000000000000000 
    00007f53aba03830:  0000000000000000  0000000000000000 
    00007f53aba03840:  0000000000000000  0000000000000000 
    00007f53aba03850:  0000000000000000  0000000000000000 
    00007f53aba03860:  0000000000000000  0000000000000000 
    00007f53aba03870:  0000000000000000  0000000000000000 
    00007f53aba03880:  0000000000000000  0000000000000000 
    00007f53aba03890:  fffffffe7fffffff  ffffffffffffffff 
    00007f53aba038a0:  ffffffffffffffff  ffffffffffffffff 
    00007f53aba038b0:  ffffffffffffffff  ffffffffffffffff 
    00007f53aba038c0:  ffffffffffffffff  ffffffffffffffff 
    00007f53aba038d0:  ffffffffffffffff  ffffffffffffffff 
    00007f53aba038e0:  ffffffffffffffff  ffffffffffffffff 
    00007f53aba038f0:  ffffffffffffffff  ffffffffffffffff 
    00007f53aba03900:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    	goroutine running on other thread; stack unavailable
    
    rax    0x0
    rbx    0x7f53ac5f2840
    rcx    0x7f53ac244f47
    rdx    0x0
    rdi    0x2
    rsi    0x7f53aba03810
    rbp    0x55fded3d632a
    rsp    0x7f53aba03810
    r8     0x0
    r9     0x7f53aba03810
    r10    0x8
    r11    0x246
    r12    0x55fdef2ff3f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f53ac244f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 4 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062800)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062800)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x0, 0xc000046000, 0x3)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0xc000046000, 0x2a6cc00)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.handoffp(0xc000046000)
    	/usr/local/go/src/runtime/proc.go:2001 +0x52
    runtime.stoplockedm()
    	/usr/local/go/src/runtime/proc.go:2075 +0xf7
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2611 +0x48c
    runtime.park_m(0xc000000180)
    	/usr/local/go/src/runtime/proc.go:2845 +0x9d
    runtime.mcall(0x0)
    	/usr/local/go/src/runtime/asm_amd64.s:318 +0x5b
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x1bb7a80, 0xc0000420c8, 0x170e, 0x2)
    	/usr/local/go/src/runtime/proc.go:306 +0xe5
    runtime.chanrecv(0xc000042070, 0x0, 0xc000000101, 0x41a55e)
    	/usr/local/go/src/runtime/chan.go:577 +0x36f
    runtime.chanrecv1(0xc000042070, 0x0)
    	/usr/local/go/src/runtime/chan.go:439 +0x2b
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:219 +0x95
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f746e32af47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f746e32af47
    stack: frame={sp:0x7ffe34c98dd0, fp:0x0} stack=[0x7ffe3449a470,0x7ffe34c994a0)
    00007ffe34c98cd0:  000055cb557aa683 <runtime.main+883>  000000000030da24 
    00007ffe34c98ce0:  0000029300000002  000000506e8fc690 
    00007ffe34c98cf0:  000000000030da24  00007ffe34c98da8 
    00007ffe34c98d00:  000055cb557c5936 <runtime.pcvalue+342>  000055cb56538828 
    00007ffe34c98d10:  00000000002f742e  00000000002f742e 
    00007ffe34c98d20:  00007ffe34c98d60  00007ffe34c98d5c 
    00007ffe34c98d30:  000055cb5684c301  000055cb5653882a 
    00007ffe34c98d40:  00000000002f742c  00000000002f742c 
    00007ffe34c98d50:  0000000000000001  0000000040000000 
    00007ffe34c98d60:  00007ffe34c98e18  000055cb557c075f <runtime.adjustframe+175> 
    00007ffe34c98d70:  000055cb565387f0  000055cb5684c3c0 
    00007ffe34c98d80:  00007ffe00000000  000055cb557d5f30 <runtime.goexit+0> 
    00007ffe34c98d90:  00007ffe34c991d0  00000000ffffffff 
    00007ffe34c98da0:  0000000034c98d30  000055cb557d5f30 <runtime.goexit+0> 
    00007ffe34c98db0:  000055cb557c61c1 <runtime.funcspdelta+97>  000055cb565387f0 
    00007ffe34c98dc0:  000055cb5684c3c0  00007ffe0006f548 
    00007ffe34c98dd0: <0000000000000000  00007ffe34c98f30 
    00007ffe34c98de0:  000055cb55f32201  000055cb565387f0 
    00007ffe34c98df0:  000055cb5684c3c0  0000000000000000 
    00007ffe34c98e00:  0000000000000000  000055cb557d5f31 <runtime.goexit+1> 
    00007ffe34c98e10:  000055cb5684c3c0  00007ffe34c99120 
    00007ffe34c98e20:  000055cb557ca962 <runtime.gentraceback+4850>  00007ffe34c990c8 
    00007ffe34c98e30:  00007ffe34c991b8  000055cb5684c301 
    00007ffe34c98e40:  00007ffe34c98f01  0000000000000000 
    00007ffe34c98e50:  fffffffe7fffffff  ffffffffffffffff 
    00007ffe34c98e60:  ffffffffffffffff  ffffffffffffffff 
    00007ffe34c98e70:  ffffffffffffffff  ffffffffffffffff 
    00007ffe34c98e80:  ffffffffffffffff  ffffffffffffffff 
    00007ffe34c98e90:  ffffffffffffffff  ffffffffffffffff 
    00007ffe34c98ea0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe34c98eb0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe34c98ec0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f746e32af47
    stack: frame={sp:0x7ffe34c98dd0, fp:0x0} stack=[0x7ffe3449a470,0x7ffe34c994a0)
    00007ffe34c98cd0:  000055cb557aa683 <runtime.main+883>  000000000030da24 
    00007ffe34c98ce0:  0000029300000002  000000506e8fc690 
    00007ffe34c98cf0:  000000000030da24  00007ffe34c98da8 
    00007ffe34c98d00:  000055cb557c5936 <runtime.pcvalue+342>  000055cb56538828 
    00007ffe34c98d10:  00000000002f742e  00000000002f742e 
    00007ffe34c98d20:  00007ffe34c98d60  00007ffe34c98d5c 
    00007ffe34c98d30:  000055cb5684c301  000055cb5653882a 
    00007ffe34c98d40:  00000000002f742c  00000000002f742c 
    00007ffe34c98d50:  0000000000000001  0000000040000000 
    00007ffe34c98d60:  00007ffe34c98e18  000055cb557c075f <runtime.adjustframe+175> 
    00007ffe34c98d70:  000055cb565387f0  000055cb5684c3c0 
    00007ffe34c98d80:  00007ffe00000000  000055cb557d5f30 <runtime.goexit+0> 
    00007ffe34c98d90:  00007ffe34c991d0  00000000ffffffff 
    00007ffe34c98da0:  0000000034c98d30  000055cb557d5f30 <runtime.goexit+0> 
    00007ffe34c98db0:  000055cb557c61c1 <runtime.funcspdelta+97>  000055cb565387f0 
    00007ffe34c98dc0:  000055cb5684c3c0  00007ffe0006f548 
    00007ffe34c98dd0: <0000000000000000  00007ffe34c98f30 
    00007ffe34c98de0:  000055cb55f32201  000055cb565387f0 
    00007ffe34c98df0:  000055cb5684c3c0  0000000000000000 
    00007ffe34c98e00:  0000000000000000  000055cb557d5f31 <runtime.goexit+1> 
    00007ffe34c98e10:  000055cb5684c3c0  00007ffe34c99120 
    00007ffe34c98e20:  000055cb557ca962 <runtime.gentraceback+4850>  00007ffe34c990c8 
    00007ffe34c98e30:  00007ffe34c991b8  000055cb5684c301 
    00007ffe34c98e40:  00007ffe34c98f01  0000000000000000 
    00007ffe34c98e50:  fffffffe7fffffff  ffffffffffffffff 
    00007ffe34c98e60:  ffffffffffffffff  ffffffffffffffff 
    00007ffe34c98e70:  ffffffffffffffff  ffffffffffffffff 
    00007ffe34c98e80:  ffffffffffffffff  ffffffffffffffff 
    00007ffe34c98e90:  ffffffffffffffff  ffffffffffffffff 
    00007ffe34c98ea0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe34c98eb0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe34c98ec0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [runnable, locked to thread]:
    runtime.gopark(0x55cb5649ea60, 0xc4200380c8, 0x55cb55e7c704, 0xc, 0xc42003ce17, 0x3)
    	/usr/lib/go-1.10/src/runtime/proc.go:291 +0x120
    runtime.goparkunlock(0xc4200380c8, 0x55cb55e7c704, 0xc, 0x17, 0x3)
    	/usr/lib/go-1.10/src/runtime/proc.go:297 +0x60
    runtime.chanrecv(0xc420038070, 0x0, 0x1, 0x55cb557958aa)
    	/usr/lib/go-1.10/src/runtime/chan.go:518 +0x2f6
    runtime.chanrecv1(0xc420038070, 0x0)
    	/usr/lib/go-1.10/src/runtime/chan.go:400 +0x2b
    runtime.gcenable()
    	/usr/lib/go-1.10/src/runtime/mgc.go:217 +0x71
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:161 +0x126
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1
    
    rax    0x0
    rbx    0x7f746e6d8840
    rcx    0x7f746e32af47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffe34c98dd0
    rbp    0x55cb55fa432a
    rsp    0x7ffe34c98dd0
    r8     0x0
    r9     0x7ffe34c98dd0
    r10    0x8
    r11    0x246
    r12    0x55cb57ec9540
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f746e32af47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
