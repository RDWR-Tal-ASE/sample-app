apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f30af756f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f30af756f47
    stack: frame={sp:0x7ffcfde50290, fp:0x0} stack=[0x7ffcfd651790,0x7ffcfde507c0)
    00007ffcfde50190:  0000000000000001  0000000000000000 
    00007ffcfde501a0:  0000000000000000  0000000000000000 
    00007ffcfde501b0:  00007f30afb04560  00007f30afb07bc0 
    00007ffcfde501c0:  000000c42006ffd0  00005562139e73e0 <runtime.main+208> 
    00007ffcfde501d0:  00005562146db970  0000000000000000 
    00007ffcfde501e0:  0000000000000000  0000000000000000 
    00007ffcfde501f0:  0000000000000000  0000000000000000 
    00007ffcfde50200:  0000000000000000  0000000000000000 
    00007ffcfde50210:  000000c420000180  0000000000000000 
    00007ffcfde50220:  00005562139e73e0 <runtime.main+208>  00005562146db970 
    00007ffcfde50230:  0000000000000000  0000000000000000 
    00007ffcfde50240:  0000000000000000  0000000000000000 
    00007ffcfde50250:  0000000000000000  0000000000000000 
    00007ffcfde50260:  0000000000000000  000000c420000180 
    00007ffcfde50270:  0000000000000000  0000556213a12f31 <runtime.goexit+1> 
    00007ffcfde50280:  0000000000000000  0000000000000000 
    00007ffcfde50290: <0000000000000000  0000000000000000 
    00007ffcfde502a0:  00007f30aff480d0  00007ffcfde502e8 
    00007ffcfde502b0:  0000556213a03582 <runtime.step+290>  000055621475f232 
    00007ffcfde502c0:  000000000030da24  000000000030da24 
    00007ffcfde502d0:  0000029300000002  00000050afb10ec5 
    00007ffcfde502e0:  000000000030da24  00007ffcfde50398 
    00007ffcfde502f0:  0000556213a02936 <runtime.pcvalue+342>  0000556214775828 
    00007ffcfde50300:  0000000000000002  0000000000000000 
    00007ffcfde50310:  fffffffe7fffffff  ffffffffffffffff 
    00007ffcfde50320:  ffffffffffffffff  ffffffffffffffff 
    00007ffcfde50330:  ffffffffffffffff  ffffffffffffffff 
    00007ffcfde50340:  ffffffffffffffff  ffffffffffffffff 
    00007ffcfde50350:  ffffffffffffffff  ffffffffffffffff 
    00007ffcfde50360:  ffffffffffffffff  ffffffffffffffff 
    00007ffcfde50370:  ffffffffffffffff  ffffffffffffffff 
    00007ffcfde50380:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f30af756f47
    stack: frame={sp:0x7ffcfde50290, fp:0x0} stack=[0x7ffcfd651790,0x7ffcfde507c0)
    00007ffcfde50190:  0000000000000001  0000000000000000 
    00007ffcfde501a0:  0000000000000000  0000000000000000 
    00007ffcfde501b0:  00007f30afb04560  00007f30afb07bc0 
    00007ffcfde501c0:  000000c42006ffd0  00005562139e73e0 <runtime.main+208> 
    00007ffcfde501d0:  00005562146db970  0000000000000000 
    00007ffcfde501e0:  0000000000000000  0000000000000000 
    00007ffcfde501f0:  0000000000000000  0000000000000000 
    00007ffcfde50200:  0000000000000000  0000000000000000 
    00007ffcfde50210:  000000c420000180  0000000000000000 
    00007ffcfde50220:  00005562139e73e0 <runtime.main+208>  00005562146db970 
    00007ffcfde50230:  0000000000000000  0000000000000000 
    00007ffcfde50240:  0000000000000000  0000000000000000 
    00007ffcfde50250:  0000000000000000  0000000000000000 
    00007ffcfde50260:  0000000000000000  000000c420000180 
    00007ffcfde50270:  0000000000000000  0000556213a12f31 <runtime.goexit+1> 
    00007ffcfde50280:  0000000000000000  0000000000000000 
    00007ffcfde50290: <0000000000000000  0000000000000000 
    00007ffcfde502a0:  00007f30aff480d0  00007ffcfde502e8 
    00007ffcfde502b0:  0000556213a03582 <runtime.step+290>  000055621475f232 
    00007ffcfde502c0:  000000000030da24  000000000030da24 
    00007ffcfde502d0:  0000029300000002  00000050afb10ec5 
    00007ffcfde502e0:  000000000030da24  00007ffcfde50398 
    00007ffcfde502f0:  0000556213a02936 <runtime.pcvalue+342>  0000556214775828 
    00007ffcfde50300:  0000000000000002  0000000000000000 
    00007ffcfde50310:  fffffffe7fffffff  ffffffffffffffff 
    00007ffcfde50320:  ffffffffffffffff  ffffffffffffffff 
    00007ffcfde50330:  ffffffffffffffff  ffffffffffffffff 
    00007ffcfde50340:  ffffffffffffffff  ffffffffffffffff 
    00007ffcfde50350:  ffffffffffffffff  ffffffffffffffff 
    00007ffcfde50360:  ffffffffffffffff  ffffffffffffffff 
    00007ffcfde50370:  ffffffffffffffff  ffffffffffffffff 
    00007ffcfde50380:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x5562140afa30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x556213a11bcf
    runtime.newm1(0xc420061000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x5562139eb6b1
    runtime.newm(0x5562146dbb08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x5562139eb52f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x5562139eb791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x5562139e74b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x556213a12f31
    
    rax    0x0
    rbx    0x7f30afb04840
    rcx    0x7f30af756f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffcfde50290
    rbp    0x5562141e132a
    rsp    0x7ffcfde50290
    r8     0x0
    r9     0x7ffcfde50290
    r10    0x8
    r11    0x246
    r12    0x5562167ab690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f30af756f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 5 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000088000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000088000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc00004b000, 0x4)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000073f01)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.resetspinning()
    	/usr/local/go/src/runtime/proc.go:2533 +0x59
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2684 +0x2b9
    runtime.mstart1()
    	/usr/local/go/src/runtime/proc.go:1179 +0x93
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1137 +0x6e
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x1bb7a80, 0xc0000420c8, 0x170e, 0x2)
    	/usr/local/go/src/runtime/proc.go:306 +0xe5
    runtime.chanrecv(0xc000042070, 0x0, 0xc000000101, 0x41a55e)
    	/usr/local/go/src/runtime/chan.go:577 +0x36f
    runtime.chanrecv1(0xc000042070, 0x0)
    	/usr/local/go/src/runtime/chan.go:439 +0x2b
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:219 +0x95
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f6b7fdf4f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f6b7fdf4f47
    stack: frame={sp:0x7ffcd7b116b0, fp:0x0} stack=[0x7ffcd7312bb0,0x7ffcd7b11be0)
    00007ffcd7b115b0:  0000000000000003  0000561ab7e375c0 
    00007ffcd7b115c0:  0000000000000000  000000c420081fe0 
    00007ffcd7b115d0:  0000000000000000  0000000000000000 
    00007ffcd7b115e0:  0000000000000000  0000000000000000 
    00007ffcd7b115f0:  0000000000000003  d1e4b1e1c4b4e600 
    00007ffcd7b11600:  0000000000000000  00000000000f4240 
    00007ffcd7b11610:  0000561ab8adb540  0000561ab7e375c0 
    00007ffcd7b11620:  00007ffcd7b116c0  0000000000000000 
    00007ffcd7b11630:  00007ffcd7b116b0  0000561ab7e37520 
    00007ffcd7b11640:  0000000000000004  00007ffcd7b11650 
    00007ffcd7b11650:  0000000000000000  0000000000000000 
    00007ffcd7b11660:  0000000000000000  d1e4b1e1c4b4e600 
    00007ffcd7b11670:  0000000000000000  00007ffcd7b116c0 
    00007ffcd7b11680:  00007ffcd7b11780  0000561ab8adb540 
    00007ffcd7b11690:  00000000000000f1  d1e4b1e1c4b4e600 
    00007ffcd7b116a0:  0000000000000000  0000561ab7e37753 
    00007ffcd7b116b0: <0000000000000000  0000000000800000 
    00007ffcd7b116c0:  0000000000000000  00007ffcd7b11708 
    00007ffcd7b116d0:  0000561ab778b582 <runtime.step+290>  0000561ab84e7232 
    00007ffcd7b116e0:  000000000030da24  000000000030da24 
    00007ffcd7b116f0:  0000029300000002  00000050805a6da8 
    00007ffcd7b11700:  000000000030da24  00007ffcd7b117b8 
    00007ffcd7b11710:  0000561ab778a936 <runtime.pcvalue+342>  0000561ab84fd828 
    00007ffcd7b11720:  00000000002f742e  00000000002f742e 
    00007ffcd7b11730:  fffffffe7fffffff  ffffffffffffffff 
    00007ffcd7b11740:  ffffffffffffffff  ffffffffffffffff 
    00007ffcd7b11750:  ffffffffffffffff  ffffffffffffffff 
    00007ffcd7b11760:  ffffffffffffffff  ffffffffffffffff 
    00007ffcd7b11770:  ffffffffffffffff  ffffffffffffffff 
    00007ffcd7b11780:  ffffffffffffffff  ffffffffffffffff 
    00007ffcd7b11790:  ffffffffffffffff  ffffffffffffffff 
    00007ffcd7b117a0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f6b7fdf4f47
    stack: frame={sp:0x7ffcd7b116b0, fp:0x0} stack=[0x7ffcd7312bb0,0x7ffcd7b11be0)
    00007ffcd7b115b0:  0000000000000003  0000561ab7e375c0 
    00007ffcd7b115c0:  0000000000000000  000000c420081fe0 
    00007ffcd7b115d0:  0000000000000000  0000000000000000 
    00007ffcd7b115e0:  0000000000000000  0000000000000000 
    00007ffcd7b115f0:  0000000000000003  d1e4b1e1c4b4e600 
    00007ffcd7b11600:  0000000000000000  00000000000f4240 
    00007ffcd7b11610:  0000561ab8adb540  0000561ab7e375c0 
    00007ffcd7b11620:  00007ffcd7b116c0  0000000000000000 
    00007ffcd7b11630:  00007ffcd7b116b0  0000561ab7e37520 
    00007ffcd7b11640:  0000000000000004  00007ffcd7b11650 
    00007ffcd7b11650:  0000000000000000  0000000000000000 
    00007ffcd7b11660:  0000000000000000  d1e4b1e1c4b4e600 
    00007ffcd7b11670:  0000000000000000  00007ffcd7b116c0 
    00007ffcd7b11680:  00007ffcd7b11780  0000561ab8adb540 
    00007ffcd7b11690:  00000000000000f1  d1e4b1e1c4b4e600 
    00007ffcd7b116a0:  0000000000000000  0000561ab7e37753 
    00007ffcd7b116b0: <0000000000000000  0000000000800000 
    00007ffcd7b116c0:  0000000000000000  00007ffcd7b11708 
    00007ffcd7b116d0:  0000561ab778b582 <runtime.step+290>  0000561ab84e7232 
    00007ffcd7b116e0:  000000000030da24  000000000030da24 
    00007ffcd7b116f0:  0000029300000002  00000050805a6da8 
    00007ffcd7b11700:  000000000030da24  00007ffcd7b117b8 
    00007ffcd7b11710:  0000561ab778a936 <runtime.pcvalue+342>  0000561ab84fd828 
    00007ffcd7b11720:  00000000002f742e  00000000002f742e 
    00007ffcd7b11730:  fffffffe7fffffff  ffffffffffffffff 
    00007ffcd7b11740:  ffffffffffffffff  ffffffffffffffff 
    00007ffcd7b11750:  ffffffffffffffff  ffffffffffffffff 
    00007ffcd7b11760:  ffffffffffffffff  ffffffffffffffff 
    00007ffcd7b11770:  ffffffffffffffff  ffffffffffffffff 
    00007ffcd7b11780:  ffffffffffffffff  ffffffffffffffff 
    00007ffcd7b11790:  ffffffffffffffff  ffffffffffffffff 
    00007ffcd7b117a0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x561ab7e37a30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x561ab7799bcf
    runtime.newm1(0xc4200a8000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x561ab77736b1
    runtime.newm(0x561ab8463b08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x561ab777352f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x561ab7773791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x561ab776f4b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x561ab779af31
    
    rax    0x0
    rbx    0x7f6b801a2840
    rcx    0x7f6b7fdf4f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffcd7b116b0
    rbp    0x561ab7f6932a
    rsp    0x7ffcd7b116b0
    r8     0x0
    r9     0x7ffcd7b116b0
    r10    0x8
    r11    0x246
    r12    0x561ab8adb690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f6b7fdf4f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
