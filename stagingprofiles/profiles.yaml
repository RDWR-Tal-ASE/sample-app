apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f7c87bcdf47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f7c87bcdf47
    stack: frame={sp:0x7ffe85b29080runtime/cgo: , fp:0x0} stack=[0x7ffe8532a720,pthread_create failed: Resource temporarily unavailable
    0x7ffe85b29750)
    00007ffe85b28f80:  0000564131b23683 <runtime.main+883>  000000000030da24 
    00007ffe85b28f90:  0000029300000002  0000005000000000 
    00007ffe85b28fa0:  000000000030da24  00007ffe85b29058 
    00007ffe85b28fb0:  0000564131b3e936 <runtime.pcvalue+342>  00005641328b1828 
    00007ffe85b28fc0:  00000000002f742e  00000000002f742e 
    00007ffe85b28fd0:  00007ffe85b29010  00007ffe85b2900c 
    00007ffe85b28fe0:  0000564132bc5301  00005641328b182a 
    00007ffe85b28ff0:  00000000002f742c  00000000002f742c 
    00007ffe85b29000:  0000000000000001  0000000040000000 
    00007ffe85b29010:  00007ffe85b290c8  0000564131b3975f <runtime.adjustframe+175> 
    00007ffe85b29020:  00005641328b17f0  0000564132bc53c0 
    00007ffe85b29030:  00007ffe00000000  0000564131b4ef30 <runtime.goexit+0> 
    00007ffe85b29040:  00007ffe85b29480  00000000ffffffff 
    00007ffe85b29050:  0000000085b28fe0  0000564131b4ef30 <runtime.goexit+0> 
    00007ffe85b29060:  0000564131b3f1c1 <runtime.funcspdelta+97>  00005641328b17f0 
    00007ffe85b29070:  0000564132bc53c0  00007ffe0006f548 
    00007ffe85b29080: <0000000000000000  00007ffe85b291e0 
    00007ffe85b29090:  00005641322ab201  00005641328b17f0 
    00007ffe85b290a0:  0000564132bc53c0  0000000000000000 
    00007ffe85b290b0:  0000000000000000  0000564131b4ef31 <runtime.goexit+1> 
    00007ffe85b290c0:  0000564132bc53c0  00007ffe85b293d0 
    00007ffe85b290d0:  0000564131b43962 <runtime.gentraceback+4850>  00007ffe85b29378 
    00007ffe85b290e0:  00007ffe85b29468  0000564132bc5301 
    00007ffe85b290f0:  00007ffe85b29101  0000000000000000 
    00007ffe85b29100:  fffffffe7fffffff  ffffffffffffffff 
    00007ffe85b29110:  ffffffffffffffff  ffffffffffffffff 
    00007ffe85b29120:  ffffffffffffffff  ffffffffffffffff 
    00007ffe85b29130:  ffffffffffffffff  ffffffffffffffff 
    00007ffe85b29140:  ffffffffffffffff  ffffffffffffffff 
    00007ffe85b29150:  ffffffffffffffff  ffffffffffffffff 
    00007ffe85b29160:  ffffffffffffffff  ffffffffffffffff 
    00007ffe85b29170:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f7c87bcdf47
    stack: frame={sp:0x7ffe85b29080, fp:0x0} stack=[0x7ffe8532a720,0x7ffe85b29750)
    00007ffe85b28f80:  0000564131b23683 <runtime.main+883>  000000000030da24 
    00007ffe85b28f90:  0000029300000002  0000005000000000 
    00007ffe85b28fa0:  000000000030da24  00007ffe85b29058 
    00007ffe85b28fb0:  0000564131b3e936 <runtime.pcvalue+342>  00005641328b1828 
    00007ffe85b28fc0:  00000000002f742e  00000000002f742e 
    00007ffe85b28fd0:  00007ffe85b29010  00007ffe85b2900c 
    00007ffe85b28fe0:  0000564132bc5301  00005641328b182a 
    00007ffe85b28ff0:  00000000002f742c  00000000002f742c 
    00007ffe85b29000:  0000000000000001  0000000040000000 
    00007ffe85b29010:  00007ffe85b290c8  0000564131b3975f <runtime.adjustframe+175> 
    00007ffe85b29020:  00005641328b17f0  0000564132bc53c0 
    00007ffe85b29030:  00007ffe00000000  0000564131b4ef30 <runtime.goexit+0> 
    00007ffe85b29040:  00007ffe85b29480  00000000ffffffff 
    00007ffe85b29050:  0000000085b28fe0  0000564131b4ef30 <runtime.goexit+0> 
    00007ffe85b29060:  0000564131b3f1c1 <runtime.funcspdelta+97>  00005641328b17f0 
    00007ffe85b29070:  0000564132bc53c0  00007ffe0006f548 
    00007ffe85b29080: <0000000000000000  00007ffe85b291e0 
    00007ffe85b29090:  00005641322ab201  00005641328b17f0 
    00007ffe85b290a0:  0000564132bc53c0  0000000000000000 
    00007ffe85b290b0:  0000000000000000  0000564131b4ef31 <runtime.goexit+1> 
    00007ffe85b290c0:  0000564132bc53c0  00007ffe85b293d0 
    00007ffe85b290d0:  0000564131b43962 <runtime.gentraceback+4850>  00007ffe85b29378 
    00007ffe85b290e0:  00007ffe85b29468  0000564132bc5301 
    00007ffe85b290f0:  00007ffe85b29101  0000000000000000 
    00007ffe85b29100:  fffffffe7fffffff  ffffffffffffffff 
    00007ffe85b29110:  ffffffffffffffff  ffffffffffffffff 
    00007ffe85b29120:  ffffffffffffffff  ffffffffffffffff 
    00007ffe85b29130:  ffffffffffffffff  ffffffffffffffff 
    00007ffe85b29140:  ffffffffffffffff  ffffffffffffffff 
    00007ffe85b29150:  ffffffffffffffff  ffffffffffffffff 
    00007ffe85b29160:  ffffffffffffffff  ffffffffffffffff 
    00007ffe85b29170:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x564132817a60, 0xc4200380c8, 0x5641321f5704, 0xc, 0xc42003ce17, 0x3)
    	/usr/lib/go-1.10/src/runtime/proc.go:291 +0x120
    runtime.goparkunlock(0xc4200380c8, 0x5641321f5704, 0xc, 0x17, 0x3)
    	/usr/lib/go-1.10/src/runtime/proc.go:297 +0x60
    runtime.chanrecv(0xc420038070, 0x0, 0x1, 0x564131b0e8aa)
    	/usr/lib/go-1.10/src/runtime/chan.go:518 +0x2f6
    runtime.chanrecv1(0xc420038070, 0x0)
    	/usr/lib/go-1.10/src/runtime/chan.go:400 +0x2b
    runtime.gcenable()
    	/usr/lib/go-1.10/src/runtime/mgc.go:217 +0x71
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:161 +0x126
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1
    
    rax    0x0
    rbx    0x7f7c87f7b840
    rcx    0x7f7c87bcdf47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffe85b29080
    rbp    0x56413231d32a
    rsp    0x7ffe85b29080
    r8     0x0
    r9     0x7ffe85b29080
    r10    0x8
    r11    0x246
    r12    0x5641343b5540
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f7c87bcdf47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 3 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062400)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062400)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc000048800, 0x2)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000046001)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.newproc.func1()
    	/usr/local/go/src/runtime/proc.go:3555 +0x97
    runtime.systemstack(0x46c2f4)
    	/usr/local/go/src/runtime/asm_amd64.s:370 +0x66
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1116
    
    goroutine 1 [running, locked to thread]:
    runtime.systemstack_switch()
    	/usr/local/go/src/runtime/asm_amd64.s:330 fp=0xc00005e6f0 sp=0xc00005e6e8 pc=0x46c420
    runtime.newproc(0x0, 0x1bb7b08)
    	/usr/local/go/src/runtime/proc.go:3548 +0x6e fp=0xc00005e738 sp=0xc00005e6f0 pc=0x44210e
    runtime.init.6()
    	/usr/local/go/src/runtime/proc.go:243 +0x35 fp=0xc00005e758 sp=0xc00005e738 pc=0x439df5
    runtime.doInit(0x2881120)
    	/usr/local/go/src/runtime/proc.go:5646 +0x8a fp=0xc00005e788 sp=0xc00005e758 pc=0x446f8a
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:151 +0xd9 fp=0xc00005e7e0 sp=0xc00005e788 pc=0x439b19
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1 fp=0xc00005e7e8 sp=0xc00005e7e0 pc=0x46e061
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fcfd67baf47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fcfd67baf47
    stack: frame={sp:0x7ffedcbf7590, fp:0x0} stack=[0x7ffedc3f8c30,0x7ffedcbf7c60)
    00007ffedcbf7490:  0000556c8d474683 <runtime.main+883>  000000000030da24 
    00007ffedcbf74a0:  0000029300000002  00000050d6d8c690 
    00007ffedcbf74b0:  000000000030da24  00007ffedcbf7568 
    00007ffedcbf74c0:  0000556c8d48f936 <runtime.pcvalue+342>  0000556c8e202828 
    00007ffedcbf74d0:  00000000002f742e  00000000002f742e 
    00007ffedcbf74e0:  00007ffedcbf7520  00007ffedcbf751c 
    00007ffedcbf74f0:  0000556c8e516301  0000556c8e20282a 
    00007ffedcbf7500:  00000000002f742c  00000000002f742c 
    00007ffedcbf7510:  0000000000000001  0000000040000000 
    00007ffedcbf7520:  00007ffedcbf75d8  0000556c8d48a75f <runtime.adjustframe+175> 
    00007ffedcbf7530:  0000556c8e2027f0  0000556c8e5163c0 
    00007ffedcbf7540:  00007ffe00000000  0000556c8d49ff30 <runtime.goexit+0> 
    00007ffedcbf7550:  00007ffedcbf7990  00000000ffffffff 
    00007ffedcbf7560:  00000000dcbf74f0  0000556c8d49ff30 <runtime.goexit+0> 
    00007ffedcbf7570:  0000556c8d4901c1 <runtime.funcspdelta+97>  0000556c8e2027f0 
    00007ffedcbf7580:  0000556c8e5163c0  00007ffe0006f548 
    00007ffedcbf7590: <0000000000000000  00007ffedcbf76f0 
    00007ffedcbf75a0:  0000556c8dbfc201  0000556c8e2027f0 
    00007ffedcbf75b0:  0000556c8e5163c0  0000000000000000 
    00007ffedcbf75c0:  0000000000000000  0000556c8d49ff31 <runtime.goexit+1> 
    00007ffedcbf75d0:  0000556c8e5163c0  00007ffedcbf78e0 
    00007ffedcbf75e0:  0000556c8d494962 <runtime.gentraceback+4850>  00007ffedcbf7888 
    00007ffedcbf75f0:  00007ffedcbf7978  0000556c8e516301 
    00007ffedcbf7600:  00007ffedcbf7601  0000000000000000 
    00007ffedcbf7610:  fffffffe7fffffff  ffffffffffffffff 
    00007ffedcbf7620:  ffffffffffffffff  ffffffffffffffff 
    00007ffedcbf7630:  ffffffffffffffff  ffffffffffffffff 
    00007ffedcbf7640:  ffffffffffffffff  ffffffffffffffff 
    00007ffedcbf7650:  ffffffffffffffff  ffffffffffffffff 
    00007ffedcbf7660:  ffffffffffffffff  ffffffffffffffff 
    00007ffedcbf7670:  ffffffffffffffff  ffffffffffffffff 
    00007ffedcbf7680:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fcfd67baf47
    stack: frame={sp:0x7ffedcbf7590, fp:0x0} stack=[0x7ffedc3f8c30,0x7ffedcbf7c60)
    00007ffedcbf7490:  0000556c8d474683 <runtime.main+883>  000000000030da24 
    00007ffedcbf74a0:  0000029300000002  00000050d6d8c690 
    00007ffedcbf74b0:  000000000030da24  00007ffedcbf7568 
    00007ffedcbf74c0:  0000556c8d48f936 <runtime.pcvalue+342>  0000556c8e202828 
    00007ffedcbf74d0:  00000000002f742e  00000000002f742e 
    00007ffedcbf74e0:  00007ffedcbf7520  00007ffedcbf751c 
    00007ffedcbf74f0:  0000556c8e516301  0000556c8e20282a 
    00007ffedcbf7500:  00000000002f742c  00000000002f742c 
    00007ffedcbf7510:  0000000000000001  0000000040000000 
    00007ffedcbf7520:  00007ffedcbf75d8  0000556c8d48a75f <runtime.adjustframe+175> 
    00007ffedcbf7530:  0000556c8e2027f0  0000556c8e5163c0 
    00007ffedcbf7540:  00007ffe00000000  0000556c8d49ff30 <runtime.goexit+0> 
    00007ffedcbf7550:  00007ffedcbf7990  00000000ffffffff 
    00007ffedcbf7560:  00000000dcbf74f0  0000556c8d49ff30 <runtime.goexit+0> 
    00007ffedcbf7570:  0000556c8d4901c1 <runtime.funcspdelta+97>  0000556c8e2027f0 
    00007ffedcbf7580:  0000556c8e5163c0  00007ffe0006f548 
    00007ffedcbf7590: <0000000000000000  00007ffedcbf76f0 
    00007ffedcbf75a0:  0000556c8dbfc201  0000556c8e2027f0 
    00007ffedcbf75b0:  0000556c8e5163c0  0000000000000000 
    00007ffedcbf75c0:  0000000000000000  0000556c8d49ff31 <runtime.goexit+1> 
    00007ffedcbf75d0:  0000556c8e5163c0  00007ffedcbf78e0 
    00007ffedcbf75e0:  0000556c8d494962 <runtime.gentraceback+4850>  00007ffedcbf7888 
    00007ffedcbf75f0:  00007ffedcbf7978  0000556c8e516301 
    00007ffedcbf7600:  00007ffedcbf7601  0000000000000000 
    00007ffedcbf7610:  fffffffe7fffffff  ffffffffffffffff 
    00007ffedcbf7620:  ffffffffffffffff  ffffffffffffffff 
    00007ffedcbf7630:  ffffffffffffffff  ffffffffffffffff 
    00007ffedcbf7640:  ffffffffffffffff  ffffffffffffffff 
    00007ffedcbf7650:  ffffffffffffffff  ffffffffffffffff 
    00007ffedcbf7660:  ffffffffffffffff  ffffffffffffffff 
    00007ffedcbf7670:  ffffffffffffffff  ffffffffffffffff 
    00007ffedcbf7680:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x556c8e168a60, 0xc4200380c8, 0x556c8db46704, 0xc, 0xc42003ce17, 0x3)
    	/usr/lib/go-1.10/src/runtime/proc.go:291 +0x120
    runtime.goparkunlock(0xc4200380c8, 0x556c8db46704, 0xc, 0x17, 0x3)
    	/usr/lib/go-1.10/src/runtime/proc.go:297 +0x60
    runtime.chanrecv(0xc420038070, 0x0, 0x1, 0x556c8d45f8aa)
    	/usr/lib/go-1.10/src/runtime/chan.go:518 +0x2f6
    runtime.chanrecv1(0xc420038070, 0x0)
    	/usr/lib/go-1.10/src/runtime/chan.go:400 +0x2b
    runtime.gcenable()
    	/usr/lib/go-1.10/src/runtime/mgc.go:217 +0x71
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:161 +0x126
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1
    
    rax    0x0
    rbx    0x7fcfd6b68840
    rcx    0x7fcfd67baf47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffedcbf7590
    rbp    0x556c8dc6e32a
    rsp    0x7ffedcbf7590
    r8     0x0
    r9     0x7ffedcbf7590
    r10    0x8
    r11    0x246
    r12    0x556c8e89b540
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fcfd67baf47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
