apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f4673407f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f4673407f47
    stack: frame={sp:0x7ffe365bac60, fp:0x0} stack=[0x7ffe35dbc300,0x7ffe365bb330)
    00007ffe365bab60:  0000559853f2b683 <runtime.main+883>  000000000030da24 
    00007ffe365bab70:  0000029300000002  00000050739f075a 
    00007ffe365bab80:  000000000030da24  00007ffe365bac38 
    00007ffe365bab90:  0000559853f46936 <runtime.pcvalue+342>  0000559854cb9828 
    00007ffe365baba0:  0000000000000000  0000000000000000 
    00007ffe365babb0:  00007f46737b5560  00007f46737b8bc0 
    00007ffe365babc0:  000000c42006ffd0  0000559853f2b3e0 <runtime.main+208> 
    00007ffe365babd0:  0000559854c1f970  0000000000000000 
    00007ffe365babe0:  0000000000000000  0000000000000000 
    00007ffe365babf0:  0000000000000000  0000000000000000 
    00007ffe365bac00:  0000000000000000  0000000000000000 
    00007ffe365bac10:  000000c420000180  0000000000000000 
    00007ffe365bac20:  0000559853f2b3e0 <runtime.main+208>  0000559854c1f970 
    00007ffe365bac30:  0000000000000000  0000000000000000 
    00007ffe365bac40:  0000000000000000  0000000000000000 
    00007ffe365bac50:  0000000000000000  0000000000000000 
    00007ffe365bac60: <0000000000000000  000000c420000180 
    00007ffe365bac70:  0000000000000000  0000559853f56f31 <runtime.goexit+1> 
    00007ffe365bac80:  0000000000000000  0000000000000000 
    00007ffe365bac90:  0000000000000000  0000000000000000 
    00007ffe365baca0:  0000559854fcd3c0  00007ffe365bafb0 
    00007ffe365bacb0:  0000559853f4b962 <runtime.gentraceback+4850>  00007ffe365baf58 
    00007ffe365bacc0:  00007ffe365bb048  0000559854fcd301 
    00007ffe365bacd0:  00007ffe365bad01  0000000000000000 
    00007ffe365bace0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffe365bacf0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe365bad00:  ffffffffffffffff  ffffffffffffffff 
    00007ffe365bad10:  ffffffffffffffff  ffffffffffffffff 
    00007ffe365bad20:  ffffffffffffffff  ffffffffffffffff 
    00007ffe365bad30:  ffffffffffffffff  ffffffffffffffff 
    00007ffe365bad40:  ffffffffffffffff  ffffffffffffffff 
    00007ffe365bad50:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f4673407f47
    stack: frame={sp:0x7ffe365bac60, fp:0x0} stack=[0x7ffe35dbc300,0x7ffe365bb330)
    00007ffe365bab60:  0000559853f2b683 <runtime.main+883>  000000000030da24 
    00007ffe365bab70:  0000029300000002  00000050739f075a 
    00007ffe365bab80:  000000000030da24  00007ffe365bac38 
    00007ffe365bab90:  0000559853f46936 <runtime.pcvalue+342>  0000559854cb9828 
    00007ffe365baba0:  0000000000000000  0000000000000000 
    00007ffe365babb0:  00007f46737b5560  00007f46737b8bc0 
    00007ffe365babc0:  000000c42006ffd0  0000559853f2b3e0 <runtime.main+208> 
    00007ffe365babd0:  0000559854c1f970  0000000000000000 
    00007ffe365babe0:  0000000000000000  0000000000000000 
    00007ffe365babf0:  0000000000000000  0000000000000000 
    00007ffe365bac00:  0000000000000000  0000000000000000 
    00007ffe365bac10:  000000c420000180  0000000000000000 
    00007ffe365bac20:  0000559853f2b3e0 <runtime.main+208>  0000559854c1f970 
    00007ffe365bac30:  0000000000000000  0000000000000000 
    00007ffe365bac40:  0000000000000000  0000000000000000 
    00007ffe365bac50:  0000000000000000  0000000000000000 
    00007ffe365bac60: <0000000000000000  000000c420000180 
    00007ffe365bac70:  0000000000000000  0000559853f56f31 <runtime.goexit+1> 
    00007ffe365bac80:  0000000000000000  0000000000000000 
    00007ffe365bac90:  0000000000000000  0000000000000000 
    00007ffe365baca0:  0000559854fcd3c0  00007ffe365bafb0 
    00007ffe365bacb0:  0000559853f4b962 <runtime.gentraceback+4850>  00007ffe365baf58 
    00007ffe365bacc0:  00007ffe365bb048  0000559854fcd301 
    00007ffe365bacd0:  00007ffe365bad01  0000000000000000 
    00007ffe365bace0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffe365bacf0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe365bad00:  ffffffffffffffff  ffffffffffffffff 
    00007ffe365bad10:  ffffffffffffffff  ffffffffffffffff 
    00007ffe365bad20:  ffffffffffffffff  ffffffffffffffff 
    00007ffe365bad30:  ffffffffffffffff  ffffffffffffffff 
    00007ffe365bad40:  ffffffffffffffff  ffffffffffffffff 
    00007ffe365bad50:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x559854c1fa60, 0xc4200380c8, 0x5598545fd704, 0xc, 0xc42003ce17, 0x3)
    	/usr/lib/go-1.10/src/runtime/proc.go:291 +0x120
    runtime.goparkunlock(0xc4200380c8, 0x5598545fd704, 0xc, 0x17, 0x3)
    	/usr/lib/go-1.10/src/runtime/proc.go:297 +0x60
    runtime.chanrecv(0xc420038070, 0x0, 0x1, 0x559853f168aa)
    	/usr/lib/go-1.10/src/runtime/chan.go:518 +0x2f6
    runtime.chanrecv1(0xc420038070, 0x0)
    	/usr/lib/go-1.10/src/runtime/chan.go:400 +0x2b
    runtime.gcenable()
    	/usr/lib/go-1.10/src/runtime/mgc.go:217 +0x71
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:161 +0x126
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1
    
    rax    0x0
    rbx    0x7f46737b5840
    rcx    0x7f4673407f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffe365bac60
    rbp    0x55985472532a
    rsp    0x7ffe365bac60
    r8     0x0
    r9     0x7ffe365bac60
    r10    0x8
    r11    0x246
    r12    0x55985672f540
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f4673407f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 2 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7d48, 0x0, 0xffffffffffffffff)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.main.func1()
    	/usr/local/go/src/runtime/proc.go:135 +0x3f
    runtime.systemstack(0x46c2f4)
    	/usr/local/go/src/runtime/asm_amd64.s:370 +0x66
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1116
    
    goroutine 1 [running]:
    runtime.systemstack_switch()
    	/usr/local/go/src/runtime/asm_amd64.s:330 fp=0xc00005e788 sp=0xc00005e780 pc=0x46c420
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:134 +0x70 fp=0xc00005e7e0 sp=0xc00005e788 pc=0x439ab0
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1 fp=0xc00005e7e8 sp=0xc00005e7e0 pc=0x46e061
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f04fea3bf47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f04fea3bf47
    stack: frame={sp:0x7ffe24d72bf0, fp:0x0} stack=[0x7ffe24574290,0x7ffe24d732c0)
    00007ffe24d72af0:  00005623d41b3683 <runtime.main+883>  000000000030da24 
    00007ffe24d72b00:  0000029300000002  00000050fe9fc700 
    00007ffe24d72b10:  000000000030da24  00007ffe24d72bc8 
    00007ffe24d72b20:  0000000000000000  0000000000000000 
    00007ffe24d72b30:  00007f04fede9560  00007f04fedecbc0 
    00007ffe24d72b40:  000000c42006ffd0  00005623d41b33e0 <runtime.main+208> 
    00007ffe24d72b50:  00005623d4ea7970  0000000000000000 
    00007ffe24d72b60:  0000000000000000  0000000000000000 
    00007ffe24d72b70:  0000000000000000  0000000000000000 
    00007ffe24d72b80:  0000000000000000  0000000000000000 
    00007ffe24d72b90:  000000c420000180  0000000000000000 
    00007ffe24d72ba0:  00005623d41b33e0 <runtime.main+208>  00005623d4ea7970 
    00007ffe24d72bb0:  0000000000000000  0000000000000000 
    00007ffe24d72bc0:  0000000000000000  0000000000000000 
    00007ffe24d72bd0:  0000000000000000  0000000000000000 
    00007ffe24d72be0:  0000000000000000  000000c420000180 
    00007ffe24d72bf0: <0000000000000000  00005623d41def31 <runtime.goexit+1> 
    00007ffe24d72c00:  0000000000000000  0000000000000000 
    00007ffe24d72c10:  0000000000000000  0000000000000000 
    00007ffe24d72c20:  0000000000000000  00005623d41def31 <runtime.goexit+1> 
    00007ffe24d72c30:  00005623d52553c0  00007ffe24d72f40 
    00007ffe24d72c40:  00005623d41d3962 <runtime.gentraceback+4850>  00007ffe24d72ee8 
    00007ffe24d72c50:  00007ffe24d72fd8  00005623d5255301 
    00007ffe24d72c60:  00007ffe24d72d01  0000000000000000 
    00007ffe24d72c70:  fffffffe7fffffff  ffffffffffffffff 
    00007ffe24d72c80:  ffffffffffffffff  ffffffffffffffff 
    00007ffe24d72c90:  ffffffffffffffff  ffffffffffffffff 
    00007ffe24d72ca0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe24d72cb0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe24d72cc0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe24d72cd0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe24d72ce0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f04fea3bf47
    stack: frame={sp:0x7ffe24d72bf0, fp:0x0} stack=[0x7ffe24574290,0x7ffe24d732c0)
    00007ffe24d72af0:  00005623d41b3683 <runtime.main+883>  000000000030da24 
    00007ffe24d72b00:  0000029300000002  00000050fe9fc700 
    00007ffe24d72b10:  000000000030da24  00007ffe24d72bc8 
    00007ffe24d72b20:  0000000000000000  0000000000000000 
    00007ffe24d72b30:  00007f04fede9560  00007f04fedecbc0 
    00007ffe24d72b40:  000000c42006ffd0  00005623d41b33e0 <runtime.main+208> 
    00007ffe24d72b50:  00005623d4ea7970  0000000000000000 
    00007ffe24d72b60:  0000000000000000  0000000000000000 
    00007ffe24d72b70:  0000000000000000  0000000000000000 
    00007ffe24d72b80:  0000000000000000  0000000000000000 
    00007ffe24d72b90:  000000c420000180  0000000000000000 
    00007ffe24d72ba0:  00005623d41b33e0 <runtime.main+208>  00005623d4ea7970 
    00007ffe24d72bb0:  0000000000000000  0000000000000000 
    00007ffe24d72bc0:  0000000000000000  0000000000000000 
    00007ffe24d72bd0:  0000000000000000  0000000000000000 
    00007ffe24d72be0:  0000000000000000  000000c420000180 
    00007ffe24d72bf0: <0000000000000000  00005623d41def31 <runtime.goexit+1> 
    00007ffe24d72c00:  0000000000000000  0000000000000000 
    00007ffe24d72c10:  0000000000000000  0000000000000000 
    00007ffe24d72c20:  0000000000000000  00005623d41def31 <runtime.goexit+1> 
    00007ffe24d72c30:  00005623d52553c0  00007ffe24d72f40 
    00007ffe24d72c40:  00005623d41d3962 <runtime.gentraceback+4850>  00007ffe24d72ee8 
    00007ffe24d72c50:  00007ffe24d72fd8  00005623d5255301 
    00007ffe24d72c60:  00007ffe24d72d01  0000000000000000 
    00007ffe24d72c70:  fffffffe7fffffff  ffffffffffffffff 
    00007ffe24d72c80:  ffffffffffffffff  ffffffffffffffff 
    00007ffe24d72c90:  ffffffffffffffff  ffffffffffffffff 
    00007ffe24d72ca0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe24d72cb0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe24d72cc0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe24d72cd0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe24d72ce0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.systemstack_switch()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:363 fp=0xc420081f00 sp=0xc420081ef8 pc=0x5623d41dc370
    runtime.newproc(0x562300000000, 0x5623d4ea78f8)
    	/usr/lib/go-1.10/src/runtime/proc.go:3243 +0x64 fp=0xc420081f40 sp=0xc420081f00 pc=0x5623d41bb264
    runtime.init.4()
    	/usr/lib/go-1.10/src/runtime/proc.go:237 +0x37 fp=0xc420081f60 sp=0xc420081f40 pc=0x5623d41b36d7
    runtime.init()
    	<autogenerated>:1 +0xe5 fp=0xc420081f88 sp=0xc420081f60 pc=0x5623d41dbf45
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:144 +0xd0 fp=0xc420081fe0 sp=0xc420081f88 pc=0x5623d41b33e0
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x5623d41def31
    
    rax    0x0
    rbx    0x7f04fede9840
    rcx    0x7f04fea3bf47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffe24d72bf0
    rbp    0x5623d49ad32a
    rsp    0x7ffe24d72bf0
    r8     0x0
    r9     0x7ffe24d72bf0
    r10    0x8
    r11    0x246
    r12    0x5623d6b913f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f04fea3bf47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
