apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f4e8abebf47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f4e8abebf47
    stack: frame={sp:0x7ffea83a2fe0, fp:0x0} stack=[0x7ffea7ba4680,0x7ffea83a36b0)
    00007ffea83a2ee0:  0000556374e81683 <runtime.main+883>  000000000030da24 
    00007ffea83a2ef0:  0000029300000002  000000508b1d475a 
    00007ffea83a2f00:  000000000030da24  00007ffea83a2fb8 
    00007ffea83a2f10:  0000556374e9c936 <runtime.pcvalue+342>  0000556375c0f828 
    00007ffea83a2f20:  0000000000000000  0000000000000000 
    00007ffea83a2f30:  00007f4e8af99560  00007f4e8af9cbc0 
    00007ffea83a2f40:  000000c42006ffd0  0000556374e813e0 <runtime.main+208> 
    00007ffea83a2f50:  0000556375b75970  0000000000000000 
    00007ffea83a2f60:  0000000000000000  0000000000000000 
    00007ffea83a2f70:  0000000000000000  0000000000000000 
    00007ffea83a2f80:  0000000000000000  0000000000000000 
    00007ffea83a2f90:  000000c420000180  0000000000000000 
    00007ffea83a2fa0:  0000556374e813e0 <runtime.main+208>  0000556375b75970 
    00007ffea83a2fb0:  0000000000000000  0000000000000000 
    00007ffea83a2fc0:  0000000000000000  0000000000000000 
    00007ffea83a2fd0:  0000000000000000  0000000000000000 
    00007ffea83a2fe0: <0000000000000000  000000c420000180 
    00007ffea83a2ff0:  0000000000000000  0000556374eacf31 <runtime.goexit+1> 
    00007ffea83a3000:  0000000000000000  0000000000000000 
    00007ffea83a3010:  0000000000000000  0000000000000000 
    00007ffea83a3020:  0000556375f233c0  00007ffea83a3330 
    00007ffea83a3030:  0000556374ea1962 <runtime.gentraceback+4850>  00007ffea83a32d8 
    00007ffea83a3040:  00007ffea83a33c8  0000556375f23301 
    00007ffea83a3050:  00007ffea83a3101  0000000000000000 
    00007ffea83a3060:  fffffffe7fffffff  ffffffffffffffff 
    00007ffea83a3070:  ffffffffffffffff  ffffffffffffffff 
    00007ffea83a3080:  ffffffffffffffff  ffffffffffffffff 
    00007ffea83a3090:  ffffffffffffffff  ffffffffffffffff 
    00007ffea83a30a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffea83a30b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffea83a30c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffea83a30d0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f4e8abebf47
    stack: frame={sp:0x7ffea83a2fe0, fp:0x0} stack=[0x7ffea7ba4680,0x7ffea83a36b0)
    00007ffea83a2ee0:  0000556374e81683 <runtime.main+883>  000000000030da24 
    00007ffea83a2ef0:  0000029300000002  000000508b1d475a 
    00007ffea83a2f00:  000000000030da24  00007ffea83a2fb8 
    00007ffea83a2f10:  0000556374e9c936 <runtime.pcvalue+342>  0000556375c0f828 
    00007ffea83a2f20:  0000000000000000  0000000000000000 
    00007ffea83a2f30:  00007f4e8af99560  00007f4e8af9cbc0 
    00007ffea83a2f40:  000000c42006ffd0  0000556374e813e0 <runtime.main+208> 
    00007ffea83a2f50:  0000556375b75970  0000000000000000 
    00007ffea83a2f60:  0000000000000000  0000000000000000 
    00007ffea83a2f70:  0000000000000000  0000000000000000 
    00007ffea83a2f80:  0000000000000000  0000000000000000 
    00007ffea83a2f90:  000000c420000180  0000000000000000 
    00007ffea83a2fa0:  0000556374e813e0 <runtime.main+208>  0000556375b75970 
    00007ffea83a2fb0:  0000000000000000  0000000000000000 
    00007ffea83a2fc0:  0000000000000000  0000000000000000 
    00007ffea83a2fd0:  0000000000000000  0000000000000000 
    00007ffea83a2fe0: <0000000000000000  000000c420000180 
    00007ffea83a2ff0:  0000000000000000  0000556374eacf31 <runtime.goexit+1> 
    00007ffea83a3000:  0000000000000000  0000000000000000 
    00007ffea83a3010:  0000000000000000  0000000000000000 
    00007ffea83a3020:  0000556375f233c0  00007ffea83a3330 
    00007ffea83a3030:  0000556374ea1962 <runtime.gentraceback+4850>  00007ffea83a32d8 
    00007ffea83a3040:  00007ffea83a33c8  0000556375f23301 
    00007ffea83a3050:  00007ffea83a3101  0000000000000000 
    00007ffea83a3060:  fffffffe7fffffff  ffffffffffffffff 
    00007ffea83a3070:  ffffffffffffffff  ffffffffffffffff 
    00007ffea83a3080:  ffffffffffffffff  ffffffffffffffff 
    00007ffea83a3090:  ffffffffffffffff  ffffffffffffffff 
    00007ffea83a30a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffea83a30b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffea83a30c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffea83a30d0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.systemstack_switch()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:363 fp=0xc420081f00 sp=0xc420081ef8 pc=0x556374eaa370
    runtime.newproc(0x556300000000, 0x556375b758f8)
    	/usr/lib/go-1.10/src/runtime/proc.go:3243 +0x64 fp=0xc420081f40 sp=0xc420081f00 pc=0x556374e89264
    runtime.init.4()
    	/usr/lib/go-1.10/src/runtime/proc.go:237 +0x37 fp=0xc420081f60 sp=0xc420081f40 pc=0x556374e816d7
    runtime.init()
    	<autogenerated>:1 +0xe5 fp=0xc420081f88 sp=0xc420081f60 pc=0x556374ea9f45
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:144 +0xd0 fp=0xc420081fe0 sp=0xc420081f88 pc=0x556374e813e0
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x556374eacf31
    
    rax    0x0
    rbx    0x7f4e8af99840
    rcx    0x7f4e8abebf47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffea83a2fe0
    rbp    0x55637567b32a
    rsp    0x7ffea83a2fe0
    r8     0x0
    r9     0x7ffea83a2fe0
    r10    0x8
    r11    0x246
    r12    0x5563760293f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f4e8abebf47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 2 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7d48, 0x0, 0xffffffffffffffff)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.main.func1()
    	/usr/local/go/src/runtime/proc.go:135 +0x3f
    runtime.systemstack(0x46c2f4)
    	/usr/local/go/src/runtime/asm_amd64.s:370 +0x66
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1116
    
    goroutine 1 [running]:
    runtime.systemstack_switch()
    	/usr/local/go/src/runtime/asm_amd64.s:330 fp=0xc00005e788 sp=0xc00005e780 pc=0x46c420
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:134 +0x70 fp=0xc00005e7e0 sp=0xc00005e788 pc=0x439ab0
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1 fp=0xc00005e7e8 sp=0xc00005e7e0 pc=0x46e061
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f201e594f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f201e594f47
    stack: frame={sp:0x7fff8a812990, fp:0x0} stack=[0x7fff8a014030,0x7fff8a813060)
    00007fff8a812890:  000055a253447683 <runtime.main+883>  000000000030da24 
    00007fff8a8128a0:  0000000000000000  0000000000000000 
    00007fff8a8128b0:  00007f201e942560  00007f201e945bc0 
    00007fff8a8128c0:  000000c42006ffd0  000055a2534473e0 <runtime.main+208> 
    00007fff8a8128d0:  000055a25413b970  0000000000000000 
    00007fff8a8128e0:  0000000000000000  0000000000000000 
    00007fff8a8128f0:  0000000000000000  0000000000000000 
    00007fff8a812900:  0000000000000000  0000000000000000 
    00007fff8a812910:  000000c420000180  0000000000000000 
    00007fff8a812920:  000055a2534473e0 <runtime.main+208>  000055a25413b970 
    00007fff8a812930:  0000000000000000  0000000000000000 
    00007fff8a812940:  0000000000000000  0000000000000000 
    00007fff8a812950:  0000000000000000  0000000000000000 
    00007fff8a812960:  0000000000000000  000000c420000180 
    00007fff8a812970:  0000000000000000  000055a253472f31 <runtime.goexit+1> 
    00007fff8a812980:  0000000000000000  0000000000000000 
    00007fff8a812990: <0000000000000000  0000000000000000 
    00007fff8a8129a0:  000055a253bcf201  000055a2541d57f0 
    00007fff8a8129b0:  000055a2544e93c0  0000000000000000 
    00007fff8a8129c0:  0000000000000000  000055a253472f31 <runtime.goexit+1> 
    00007fff8a8129d0:  000055a2544e93c0  00007fff8a812ce0 
    00007fff8a8129e0:  000055a253467962 <runtime.gentraceback+4850>  00007fff8a812c88 
    00007fff8a8129f0:  00007fff8a812d78  000055a2544e9301 
    00007fff8a812a00:  0000000000000002  0000000000000000 
    00007fff8a812a10:  fffffffe7fffffff  ffffffffffffffff 
    00007fff8a812a20:  ffffffffffffffff  ffffffffffffffff 
    00007fff8a812a30:  ffffffffffffffff  ffffffffffffffff 
    00007fff8a812a40:  ffffffffffffffff  ffffffffffffffff 
    00007fff8a812a50:  ffffffffffffffff  ffffffffffffffff 
    00007fff8a812a60:  ffffffffffffffff  ffffffffffffffff 
    00007fff8a812a70:  ffffffffffffffff  ffffffffffffffff 
    00007fff8a812a80:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f201e594f47
    stack: frame={sp:0x7fff8a812990, fp:0x0} stack=[0x7fff8a014030,0x7fff8a813060)
    00007fff8a812890:  000055a253447683 <runtime.main+883>  000000000030da24 
    00007fff8a8128a0:  0000000000000000  0000000000000000 
    00007fff8a8128b0:  00007f201e942560  00007f201e945bc0 
    00007fff8a8128c0:  000000c42006ffd0  000055a2534473e0 <runtime.main+208> 
    00007fff8a8128d0:  000055a25413b970  0000000000000000 
    00007fff8a8128e0:  0000000000000000  0000000000000000 
    00007fff8a8128f0:  0000000000000000  0000000000000000 
    00007fff8a812900:  0000000000000000  0000000000000000 
    00007fff8a812910:  000000c420000180  0000000000000000 
    00007fff8a812920:  000055a2534473e0 <runtime.main+208>  000055a25413b970 
    00007fff8a812930:  0000000000000000  0000000000000000 
    00007fff8a812940:  0000000000000000  0000000000000000 
    00007fff8a812950:  0000000000000000  0000000000000000 
    00007fff8a812960:  0000000000000000  000000c420000180 
    00007fff8a812970:  0000000000000000  000055a253472f31 <runtime.goexit+1> 
    00007fff8a812980:  0000000000000000  0000000000000000 
    00007fff8a812990: <0000000000000000  0000000000000000 
    00007fff8a8129a0:  000055a253bcf201  000055a2541d57f0 
    00007fff8a8129b0:  000055a2544e93c0  0000000000000000 
    00007fff8a8129c0:  0000000000000000  000055a253472f31 <runtime.goexit+1> 
    00007fff8a8129d0:  000055a2544e93c0  00007fff8a812ce0 
    00007fff8a8129e0:  000055a253467962 <runtime.gentraceback+4850>  00007fff8a812c88 
    00007fff8a8129f0:  00007fff8a812d78  000055a2544e9301 
    00007fff8a812a00:  0000000000000002  0000000000000000 
    00007fff8a812a10:  fffffffe7fffffff  ffffffffffffffff 
    00007fff8a812a20:  ffffffffffffffff  ffffffffffffffff 
    00007fff8a812a30:  ffffffffffffffff  ffffffffffffffff 
    00007fff8a812a40:  ffffffffffffffff  ffffffffffffffff 
    00007fff8a812a50:  ffffffffffffffff  ffffffffffffffff 
    00007fff8a812a60:  ffffffffffffffff  ffffffffffffffff 
    00007fff8a812a70:  ffffffffffffffff  ffffffffffffffff 
    00007fff8a812a80:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.systemstack_switch()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:363 fp=0xc420081f00 sp=0xc420081ef8 pc=0x55a253470370
    runtime.newproc(0x55a200000000, 0x55a25413b8f8)
    	/usr/lib/go-1.10/src/runtime/proc.go:3243 +0x64 fp=0xc420081f40 sp=0xc420081f00 pc=0x55a25344f264
    runtime.init.4()
    	/usr/lib/go-1.10/src/runtime/proc.go:237 +0x37 fp=0xc420081f60 sp=0xc420081f40 pc=0x55a2534476d7
    runtime.init()
    	<autogenerated>:1 +0xe5 fp=0xc420081f88 sp=0xc420081f60 pc=0x55a25346ff45
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:144 +0xd0 fp=0xc420081fe0 sp=0xc420081f88 pc=0x55a2534473e0
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x55a253472f31
    
    rax    0x0
    rbx    0x7f201e942840
    rcx    0x7f201e594f47
    rdx    0x0
    rdi    0x2
    rsi    0x7fff8a812990
    rbp    0x55a253c4132a
    rsp    0x7fff8a812990
    r8     0x0
    r9     0x7fff8a812990
    r10    0x8
    r11    0x246
    r12    0x55a254f633f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f201e594f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
