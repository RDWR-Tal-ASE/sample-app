apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fc7341a8f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fc7341a8f47
    stack: frame={sp:0x7ffcee8594f0, fp:0x0} stack=[0x7ffcee05a9f0,0x7ffcee859a20)
    00007ffcee8593f0:  0000000000000001  0000000000000000 
    00007ffcee859400:  0000000000000000  000000c420081fe0 
    00007ffcee859410:  0000000000000000  0000000000000000 
    00007ffcee859420:  0000000000000000  0000000000000000 
    00007ffcee859430:  00007fc734556560  00007fc734559bc0 
    00007ffcee859440:  000000c42006ffd0  00005579c34293e0 <runtime.main+208> 
    00007ffcee859450:  00005579c411d970  0000000000000000 
    00007ffcee859460:  0000000000000000  0000000000000000 
    00007ffcee859470:  0000000000000000  0000000000000000 
    00007ffcee859480:  0000000000000000  0000000000000000 
    00007ffcee859490:  000000c420000180  0000000000000000 
    00007ffcee8594a0:  00005579c34293e0 <runtime.main+208>  00005579c411d970 
    00007ffcee8594b0:  0000000000000000  0000000000000000 
    00007ffcee8594c0:  0000000000000000  0000000000000000 
    00007ffcee8594d0:  0000000000000000  0000000000000000 
    00007ffcee8594e0:  0000000000000000  000000c420000180 
    00007ffcee8594f0: <0000000000000000  00005579c3454f31 <runtime.goexit+1> 
    00007ffcee859500:  0000000000000000  0000000000000000 
    00007ffcee859510:  0000000000000000  0000000000000000 
    00007ffcee859520:  000000000030da24  000000000030da24 
    00007ffcee859530:  0000029300000002  0000005034562ec5 
    00007ffcee859540:  000000000030da24  00007ffcee8595f8 
    00007ffcee859550:  00005579c3444936 <runtime.pcvalue+342>  00005579c41b7828 
    00007ffcee859560:  00000000002f742e  00000000002f742e 
    00007ffcee859570:  fffffffe7fffffff  ffffffffffffffff 
    00007ffcee859580:  ffffffffffffffff  ffffffffffffffff 
    00007ffcee859590:  ffffffffffffffff  ffffffffffffffff 
    00007ffcee8595a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffcee8595b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffcee8595c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffcee8595d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffcee8595e0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fc7341a8f47
    stack: frame={sp:0x7ffcee8594f0, fp:0x0} stack=[0x7ffcee05a9f0,0x7ffcee859a20)
    00007ffcee8593f0:  0000000000000001  0000000000000000 
    00007ffcee859400:  0000000000000000  000000c420081fe0 
    00007ffcee859410:  0000000000000000  0000000000000000 
    00007ffcee859420:  0000000000000000  0000000000000000 
    00007ffcee859430:  00007fc734556560  00007fc734559bc0 
    00007ffcee859440:  000000c42006ffd0  00005579c34293e0 <runtime.main+208> 
    00007ffcee859450:  00005579c411d970  0000000000000000 
    00007ffcee859460:  0000000000000000  0000000000000000 
    00007ffcee859470:  0000000000000000  0000000000000000 
    00007ffcee859480:  0000000000000000  0000000000000000 
    00007ffcee859490:  000000c420000180  0000000000000000 
    00007ffcee8594a0:  00005579c34293e0 <runtime.main+208>  00005579c411d970 
    00007ffcee8594b0:  0000000000000000  0000000000000000 
    00007ffcee8594c0:  0000000000000000  0000000000000000 
    00007ffcee8594d0:  0000000000000000  0000000000000000 
    00007ffcee8594e0:  0000000000000000  000000c420000180 
    00007ffcee8594f0: <0000000000000000  00005579c3454f31 <runtime.goexit+1> 
    00007ffcee859500:  0000000000000000  0000000000000000 
    00007ffcee859510:  0000000000000000  0000000000000000 
    00007ffcee859520:  000000000030da24  000000000030da24 
    00007ffcee859530:  0000029300000002  0000005034562ec5 
    00007ffcee859540:  000000000030da24  00007ffcee8595f8 
    00007ffcee859550:  00005579c3444936 <runtime.pcvalue+342>  00005579c41b7828 
    00007ffcee859560:  00000000002f742e  00000000002f742e 
    00007ffcee859570:  fffffffe7fffffff  ffffffffffffffff 
    00007ffcee859580:  ffffffffffffffff  ffffffffffffffff 
    00007ffcee859590:  ffffffffffffffff  ffffffffffffffff 
    00007ffcee8595a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffcee8595b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffcee8595c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffcee8595d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffcee8595e0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x5579c3af1a30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x5579c3453bcf
    runtime.newm1(0xc420061000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x5579c342d6b1
    runtime.newm(0x5579c411db08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x5579c342d52f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x5579c342d791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x5579c34294b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x5579c3454f31
    
    rax    0x0
    rbx    0x7fc734556840
    rcx    0x7fc7341a8f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffcee8594f0
    rbp    0x5579c3c2332a
    rsp    0x7ffcee8594f0
    r8     0x0
    r9     0x7ffcee8594f0
    r10    0x8
    r11    0x246
    r12    0x5579c5644690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fc7341a8f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 5 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000088000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000088000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc00004b000, 0x4)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000073f01)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.resetspinning()
    	/usr/local/go/src/runtime/proc.go:2533 +0x59
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2684 +0x2b9
    runtime.mstart1()
    	/usr/local/go/src/runtime/proc.go:1179 +0x93
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1137 +0x6e
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x1bb7a80, 0xc0000420c8, 0x170e, 0x2)
    	/usr/local/go/src/runtime/proc.go:306 +0xe5
    runtime.chanrecv(0xc000042070, 0x0, 0xc000000101, 0x41a55e)
    	/usr/local/go/src/runtime/chan.go:577 +0x36f
    runtime.chanrecv1(0xc000042070, 0x0)
    	/usr/local/go/src/runtime/chan.go:439 +0x2b
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:219 +0x95
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7feb91f6ff47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7feb91f6ff47
    stack: frame={sp:0x7fff25ab0870, fp:0x0} stack=[0x7fff252b1d70,0x7fff25ab0da0)
    00007fff25ab0770:  0000000000000001  0000000000000000 
    00007fff25ab0780:  0000000000000000  000000c420081fe0 
    00007fff25ab0790:  0000000000000000  0000000000000000 
    00007fff25ab07a0:  0000000000000000  0000000000000000 
    00007fff25ab07b0:  00007feb9231d560  00007feb92320bc0 
    00007fff25ab07c0:  000000c42006ffd0  0000555c28a033e0 <runtime.main+208> 
    00007fff25ab07d0:  0000555c296f7970  0000000000000000 
    00007fff25ab07e0:  0000000000000000  0000000000000000 
    00007fff25ab07f0:  0000000000000000  0000000000000000 
    00007fff25ab0800:  0000000000000000  0000000000000000 
    00007fff25ab0810:  000000c420000180  0000000000000000 
    00007fff25ab0820:  0000555c28a033e0 <runtime.main+208>  0000555c296f7970 
    00007fff25ab0830:  0000000000000000  0000000000000000 
    00007fff25ab0840:  0000000000000000  0000000000000000 
    00007fff25ab0850:  0000000000000000  0000000000000000 
    00007fff25ab0860:  0000000000000000  000000c420000180 
    00007fff25ab0870: <0000000000000000  0000555c28a2ef31 <runtime.goexit+1> 
    00007fff25ab0880:  0000000000000000  0000000000000000 
    00007fff25ab0890:  0000000000000000  0000000000000000 
    00007fff25ab08a0:  000000000030da24  000000000030da24 
    00007fff25ab08b0:  0000029300000002  0000005092329ec5 
    00007fff25ab08c0:  000000000030da24  00007fff25ab0978 
    00007fff25ab08d0:  0000555c28a1e936 <runtime.pcvalue+342>  0000555c29791828 
    00007fff25ab08e0:  00000000002f742e  00000000002f742e 
    00007fff25ab08f0:  fffffffe7fffffff  ffffffffffffffff 
    00007fff25ab0900:  ffffffffffffffff  ffffffffffffffff 
    00007fff25ab0910:  ffffffffffffffff  ffffffffffffffff 
    00007fff25ab0920:  ffffffffffffffff  ffffffffffffffff 
    00007fff25ab0930:  ffffffffffffffff  ffffffffffffffff 
    00007fff25ab0940:  ffffffffffffffff  ffffffffffffffff 
    00007fff25ab0950:  ffffffffffffffff  ffffffffffffffff 
    00007fff25ab0960:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7feb91f6ff47
    stack: frame={sp:0x7fff25ab0870, fp:0x0} stack=[0x7fff252b1d70,0x7fff25ab0da0)
    00007fff25ab0770:  0000000000000001  0000000000000000 
    00007fff25ab0780:  0000000000000000  000000c420081fe0 
    00007fff25ab0790:  0000000000000000  0000000000000000 
    00007fff25ab07a0:  0000000000000000  0000000000000000 
    00007fff25ab07b0:  00007feb9231d560  00007feb92320bc0 
    00007fff25ab07c0:  000000c42006ffd0  0000555c28a033e0 <runtime.main+208> 
    00007fff25ab07d0:  0000555c296f7970  0000000000000000 
    00007fff25ab07e0:  0000000000000000  0000000000000000 
    00007fff25ab07f0:  0000000000000000  0000000000000000 
    00007fff25ab0800:  0000000000000000  0000000000000000 
    00007fff25ab0810:  000000c420000180  0000000000000000 
    00007fff25ab0820:  0000555c28a033e0 <runtime.main+208>  0000555c296f7970 
    00007fff25ab0830:  0000000000000000  0000000000000000 
    00007fff25ab0840:  0000000000000000  0000000000000000 
    00007fff25ab0850:  0000000000000000  0000000000000000 
    00007fff25ab0860:  0000000000000000  000000c420000180 
    00007fff25ab0870: <0000000000000000  0000555c28a2ef31 <runtime.goexit+1> 
    00007fff25ab0880:  0000000000000000  0000000000000000 
    00007fff25ab0890:  0000000000000000  0000000000000000 
    00007fff25ab08a0:  000000000030da24  000000000030da24 
    00007fff25ab08b0:  0000029300000002  0000005092329ec5 
    00007fff25ab08c0:  000000000030da24  00007fff25ab0978 
    00007fff25ab08d0:  0000555c28a1e936 <runtime.pcvalue+342>  0000555c29791828 
    00007fff25ab08e0:  00000000002f742e  00000000002f742e 
    00007fff25ab08f0:  fffffffe7fffffff  ffffffffffffffff 
    00007fff25ab0900:  ffffffffffffffff  ffffffffffffffff 
    00007fff25ab0910:  ffffffffffffffff  ffffffffffffffff 
    00007fff25ab0920:  ffffffffffffffff  ffffffffffffffff 
    00007fff25ab0930:  ffffffffffffffff  ffffffffffffffff 
    00007fff25ab0940:  ffffffffffffffff  ffffffffffffffff 
    00007fff25ab0950:  ffffffffffffffff  ffffffffffffffff 
    00007fff25ab0960:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x555c290cba30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x555c28a2dbcf
    runtime.newm1(0xc420094400)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x555c28a076b1
    runtime.newm(0x555c296f7b08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x555c28a0752f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x555c28a07791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x555c28a034b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x555c28a2ef31
    
    rax    0x0
    rbx    0x7feb9231d840
    rcx    0x7feb91f6ff47
    rdx    0x0
    rdi    0x2
    rsi    0x7fff25ab0870
    rbp    0x555c291fd32a
    rsp    0x7fff25ab0870
    r8     0x0
    r9     0x7fff25ab0870
    r10    0x8
    r11    0x246
    r12    0x555c29f81690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7feb91f6ff47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
