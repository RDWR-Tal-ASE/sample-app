apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fd87a10df47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fd87a10df47
    stack: frame={sp:0x7ffc1ec2cce0, fp:0x0} stack=[0x7ffc1e42e1e0,0x7ffc1ec2d210)
    00007ffc1ec2cbe0:  00007fd800000001  00007fd87a4bb420 
    00007ffc1ec2cbf0:  0000000000000000  000000c420081fe0 
    00007ffc1ec2cc00:  0000000000000000  0000000000000000 
    00007ffc1ec2cc10:  0000000000000000  0000000000000000 
    00007ffc1ec2cc20:  0000000000000000  0000000000000000 
    00007ffc1ec2cc30:  00007fd87a4bb560  00007fd87a4bebc0 
    00007ffc1ec2cc40:  000000c42006ffd0  00005627ffc413e0 <runtime.main+208> 
    00007ffc1ec2cc50:  0000562800935970  0000000000000000 
    00007ffc1ec2cc60:  0000000000000000  0000000000000000 
    00007ffc1ec2cc70:  0000000000000000  0000000000000000 
    00007ffc1ec2cc80:  0000000000000000  0000000000000000 
    00007ffc1ec2cc90:  000000c420000180  0000000000000000 
    00007ffc1ec2cca0:  00005627ffc413e0 <runtime.main+208>  0000562800935970 
    00007ffc1ec2ccb0:  0000000000000000  0000000000000000 
    00007ffc1ec2ccc0:  0000000000000000  0000000000000000 
    00007ffc1ec2ccd0:  0000000000000000  0000000000000000 
    00007ffc1ec2cce0: <0000000000000000  000000c420000180 
    00007ffc1ec2ccf0:  0000000000000000  00005627ffc6cf31 <runtime.goexit+1> 
    00007ffc1ec2cd00:  0000000000000000  0000000000000000 
    00007ffc1ec2cd10:  0000000000000000  0000000000000000 
    00007ffc1ec2cd20:  0000029300000002  000000507a4c7ec5 
    00007ffc1ec2cd30:  000000000030da24  00007ffc1ec2cde8 
    00007ffc1ec2cd40:  00005627ffc5c936 <runtime.pcvalue+342>  00005628009cf828 
    00007ffc1ec2cd50:  00000000002f742e  00000000002f742e 
    00007ffc1ec2cd60:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc1ec2cd70:  ffffffffffffffff  ffffffffffffffff 
    00007ffc1ec2cd80:  ffffffffffffffff  ffffffffffffffff 
    00007ffc1ec2cd90:  ffffffffffffffff  ffffffffffffffff 
    00007ffc1ec2cda0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc1ec2cdb0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc1ec2cdc0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc1ec2cdd0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fd87a10df47
    stack: frame={sp:0x7ffc1ec2cce0, fp:0x0} stack=[0x7ffc1e42e1e0,0x7ffc1ec2d210)
    00007ffc1ec2cbe0:  00007fd800000001  00007fd87a4bb420 
    00007ffc1ec2cbf0:  0000000000000000  000000c420081fe0 
    00007ffc1ec2cc00:  0000000000000000  0000000000000000 
    00007ffc1ec2cc10:  0000000000000000  0000000000000000 
    00007ffc1ec2cc20:  0000000000000000  0000000000000000 
    00007ffc1ec2cc30:  00007fd87a4bb560  00007fd87a4bebc0 
    00007ffc1ec2cc40:  000000c42006ffd0  00005627ffc413e0 <runtime.main+208> 
    00007ffc1ec2cc50:  0000562800935970  0000000000000000 
    00007ffc1ec2cc60:  0000000000000000  0000000000000000 
    00007ffc1ec2cc70:  0000000000000000  0000000000000000 
    00007ffc1ec2cc80:  0000000000000000  0000000000000000 
    00007ffc1ec2cc90:  000000c420000180  0000000000000000 
    00007ffc1ec2cca0:  00005627ffc413e0 <runtime.main+208>  0000562800935970 
    00007ffc1ec2ccb0:  0000000000000000  0000000000000000 
    00007ffc1ec2ccc0:  0000000000000000  0000000000000000 
    00007ffc1ec2ccd0:  0000000000000000  0000000000000000 
    00007ffc1ec2cce0: <0000000000000000  000000c420000180 
    00007ffc1ec2ccf0:  0000000000000000  00005627ffc6cf31 <runtime.goexit+1> 
    00007ffc1ec2cd00:  0000000000000000  0000000000000000 
    00007ffc1ec2cd10:  0000000000000000  0000000000000000 
    00007ffc1ec2cd20:  0000029300000002  000000507a4c7ec5 
    00007ffc1ec2cd30:  000000000030da24  00007ffc1ec2cde8 
    00007ffc1ec2cd40:  00005627ffc5c936 <runtime.pcvalue+342>  00005628009cf828 
    00007ffc1ec2cd50:  00000000002f742e  00000000002f742e 
    00007ffc1ec2cd60:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc1ec2cd70:  ffffffffffffffff  ffffffffffffffff 
    00007ffc1ec2cd80:  ffffffffffffffff  ffffffffffffffff 
    00007ffc1ec2cd90:  ffffffffffffffff  ffffffffffffffff 
    00007ffc1ec2cda0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc1ec2cdb0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc1ec2cdc0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc1ec2cdd0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x562800309a30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x5627ffc6bbcf
    runtime.newm1(0xc420061000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x5627ffc456b1
    runtime.newm(0x562800935b08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x5627ffc4552f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x5627ffc45791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x5627ffc414b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x5627ffc6cf31
    
    rax    0x0
    rbx    0x7fd87a4bb840
    rcx    0x7fd87a10df47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffc1ec2cce0
    rbp    0x56280043b32a
    rsp    0x7ffc1ec2cce0
    r8     0x0
    r9     0x7ffc1ec2cce0
    r10    0x8
    r11    0x246
    r12    0x562802781690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fd87a10df47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 2 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7d48, 0x0, 0xffffffffffffffff)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.main.func1()
    	/usr/local/go/src/runtime/proc.go:135 +0x3f
    runtime.systemstack(0x46c2f4)
    	/usr/local/go/src/runtime/asm_amd64.s:370 +0x66
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1116
    
    goroutine 1 [running]:
    runtime.systemstack_switch()
    	/usr/local/go/src/runtime/asm_amd64.s:330 fp=0xc00005e788 sp=0xc00005e780 pc=0x46c420
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:134 +0x70 fp=0xc00005e7e0 sp=0xc00005e788 pc=0x439ab0
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1 fp=0xc00005e7e8 sp=0xc00005e7e0 pc=0x46e061
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f1ea295ef47 m=3 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f1ea295ef47
    stack: frame={sp:0x7f1e9bffe810, fp:0x0} stack=[0x7f1e9b7ff290,0x7f1e9bffee90)
    00007f1e9bffe710:  0000000000000000  0000000000000000 
    00007f1e9bffe720:  0000000000000000  0000000000000000 
    00007f1e9bffe730:  0000000000000000  0000000000000000 
    00007f1e9bffe740:  0000000000000000  0000000000000000 
    00007f1e9bffe750:  0000000000000000  0000000000000000 
    00007f1e9bffe760:  0000000000000000  0000000000000000 
    00007f1e9bffe770:  0000000000000000  0000000000000000 
    00007f1e9bffe780:  0000000000000000  0000000000000000 
    00007f1e9bffe790:  0000000000000000  0000000000000000 
    00007f1e9bffe7a0:  0000000000000000  0000000000000000 
    00007f1e9bffe7b0:  0000000000000000  0000000000000000 
    00007f1e9bffe7c0:  0000000000000000  0000000000000000 
    00007f1e9bffe7d0:  0000000000000000  0000000000000000 
    00007f1e9bffe7e0:  0000000000000000  0000000000000000 
    00007f1e9bffe7f0:  0000000000000000  0000000000000000 
    00007f1e9bffe800:  0000000000000000  0000000000000000 
    00007f1e9bffe810: <0000000000000000  0000000000000000 
    00007f1e9bffe820:  0000000000000000  0000000000000000 
    00007f1e9bffe830:  0000000000000000  0000000000000000 
    00007f1e9bffe840:  0000000000000000  0000000000000000 
    00007f1e9bffe850:  0000000000000000  0000000000000000 
    00007f1e9bffe860:  0000000000000000  0000000000000000 
    00007f1e9bffe870:  0000000000000000  0000000000000000 
    00007f1e9bffe880:  0000000000000000  0000000000000000 
    00007f1e9bffe890:  fffffffe7fffffff  ffffffffffffffff 
    00007f1e9bffe8a0:  ffffffffffffffff  ffffffffffffffff 
    00007f1e9bffe8b0:  ffffffffffffffff  ffffffffffffffff 
    00007f1e9bffe8c0:  ffffffffffffffff  ffffffffffffffff 
    00007f1e9bffe8d0:  ffffffffffffffff  ffffffffffffffff 
    00007f1e9bffe8e0:  ffffffffffffffff  ffffffffffffffff 
    00007f1e9bffe8f0:  ffffffffffffffff  ffffffffffffffff 
    00007f1e9bffe900:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f1ea295ef47
    stack: frame={sp:0x7f1e9bffe810, fp:0x0} stack=[0x7f1e9b7ff290,0x7f1e9bffee90)
    00007f1e9bffe710:  0000000000000000  0000000000000000 
    00007f1e9bffe720:  0000000000000000  0000000000000000 
    00007f1e9bffe730:  0000000000000000  0000000000000000 
    00007f1e9bffe740:  0000000000000000  0000000000000000 
    00007f1e9bffe750:  0000000000000000  0000000000000000 
    00007f1e9bffe760:  0000000000000000  0000000000000000 
    00007f1e9bffe770:  0000000000000000  0000000000000000 
    00007f1e9bffe780:  0000000000000000  0000000000000000 
    00007f1e9bffe790:  0000000000000000  0000000000000000 
    00007f1e9bffe7a0:  0000000000000000  0000000000000000 
    00007f1e9bffe7b0:  0000000000000000  0000000000000000 
    00007f1e9bffe7c0:  0000000000000000  0000000000000000 
    00007f1e9bffe7d0:  0000000000000000  0000000000000000 
    00007f1e9bffe7e0:  0000000000000000  0000000000000000 
    00007f1e9bffe7f0:  0000000000000000  0000000000000000 
    00007f1e9bffe800:  0000000000000000  0000000000000000 
    00007f1e9bffe810: <0000000000000000  0000000000000000 
    00007f1e9bffe820:  0000000000000000  0000000000000000 
    00007f1e9bffe830:  0000000000000000  0000000000000000 
    00007f1e9bffe840:  0000000000000000  0000000000000000 
    00007f1e9bffe850:  0000000000000000  0000000000000000 
    00007f1e9bffe860:  0000000000000000  0000000000000000 
    00007f1e9bffe870:  0000000000000000  0000000000000000 
    00007f1e9bffe880:  0000000000000000  0000000000000000 
    00007f1e9bffe890:  fffffffe7fffffff  ffffffffffffffff 
    00007f1e9bffe8a0:  ffffffffffffffff  ffffffffffffffff 
    00007f1e9bffe8b0:  ffffffffffffffff  ffffffffffffffff 
    00007f1e9bffe8c0:  ffffffffffffffff  ffffffffffffffff 
    00007f1e9bffe8d0:  ffffffffffffffff  ffffffffffffffff 
    00007f1e9bffe8e0:  ffffffffffffffff  ffffffffffffffff 
    00007f1e9bffe8f0:  ffffffffffffffff  ffffffffffffffff 
    00007f1e9bffe900:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running]:
    	goroutine running on other thread; stack unavailable
    
    goroutine 5 [runnable]:
    os/signal.loop()
    	/usr/lib/go-1.10/src/os/signal/signal_unix.go:20
    created by os/signal.init.0
    	/usr/lib/go-1.10/src/os/signal/signal_unix.go:28 +0x43
    
    rax    0x0
    rbx    0x7f1ea2d0c840
    rcx    0x7f1ea295ef47
    rdx    0x0
    rdi    0x2
    rsi    0x7f1e9bffe810
    rbp    0x5613310f932a
    rsp    0x7f1e9bffe810
    r8     0x0
    r9     0x7f1e9bffe810
    r10    0x8
    r11    0x246
    r12    0x561332feb3f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f1ea295ef47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
