apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fc72b8b6f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fc72b8b6f47
    stack: frame={sp:0x7ffd03e303f0, fp:0x0} stack=[0x7ffd036318f0,0x7ffd03e30920)
    00007ffd03e302f0:  0000000000000001  0000000000000000 
    00007ffd03e30300:  0000000000000000  000000c420081fe0 
    00007ffd03e30310:  0000000000000000  0000000000000000 
    00007ffd03e30320:  0000000000000000  0000000000000000 
    00007ffd03e30330:  00007fc72bc64560  00007fc72bc67bc0 
    00007ffd03e30340:  000000c42006ffd0  0000556b42ca13e0 <runtime.main+208> 
    00007ffd03e30350:  0000556b43995970  0000000000000000 
    00007ffd03e30360:  0000000000000000  0000000000000000 
    00007ffd03e30370:  0000000000000000  0000000000000000 
    00007ffd03e30380:  0000000000000000  0000000000000000 
    00007ffd03e30390:  000000c420000180  0000000000000000 
    00007ffd03e303a0:  0000556b42ca13e0 <runtime.main+208>  0000556b43995970 
    00007ffd03e303b0:  0000000000000000  0000000000000000 
    00007ffd03e303c0:  0000000000000000  0000000000000000 
    00007ffd03e303d0:  0000000000000000  0000000000000000 
    00007ffd03e303e0:  0000000000000000  000000c420000180 
    00007ffd03e303f0: <0000000000000000  0000556b42cccf31 <runtime.goexit+1> 
    00007ffd03e30400:  0000000000000000  0000000000000000 
    00007ffd03e30410:  0000000000000000  0000000000000000 
    00007ffd03e30420:  000000000030da24  000000000030da24 
    00007ffd03e30430:  0000029300000002  000000502bc70ec5 
    00007ffd03e30440:  000000000030da24  00007ffd03e304f8 
    00007ffd03e30450:  0000556b42cbc936 <runtime.pcvalue+342>  0000556b43a2f828 
    00007ffd03e30460:  00000000002f742e  00000000002f742e 
    00007ffd03e30470:  fffffffe7fffffff  ffffffffffffffff 
    00007ffd03e30480:  ffffffffffffffff  ffffffffffffffff 
    00007ffd03e30490:  ffffffffffffffff  ffffffffffffffff 
    00007ffd03e304a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd03e304b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd03e304c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd03e304d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd03e304e0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fc72b8b6f47
    stack: frame={sp:0x7ffd03e303f0, fp:0x0} stack=[0x7ffd036318f0,0x7ffd03e30920)
    00007ffd03e302f0:  0000000000000001  0000000000000000 
    00007ffd03e30300:  0000000000000000  000000c420081fe0 
    00007ffd03e30310:  0000000000000000  0000000000000000 
    00007ffd03e30320:  0000000000000000  0000000000000000 
    00007ffd03e30330:  00007fc72bc64560  00007fc72bc67bc0 
    00007ffd03e30340:  000000c42006ffd0  0000556b42ca13e0 <runtime.main+208> 
    00007ffd03e30350:  0000556b43995970  0000000000000000 
    00007ffd03e30360:  0000000000000000  0000000000000000 
    00007ffd03e30370:  0000000000000000  0000000000000000 
    00007ffd03e30380:  0000000000000000  0000000000000000 
    00007ffd03e30390:  000000c420000180  0000000000000000 
    00007ffd03e303a0:  0000556b42ca13e0 <runtime.main+208>  0000556b43995970 
    00007ffd03e303b0:  0000000000000000  0000000000000000 
    00007ffd03e303c0:  0000000000000000  0000000000000000 
    00007ffd03e303d0:  0000000000000000  0000000000000000 
    00007ffd03e303e0:  0000000000000000  000000c420000180 
    00007ffd03e303f0: <0000000000000000  0000556b42cccf31 <runtime.goexit+1> 
    00007ffd03e30400:  0000000000000000  0000000000000000 
    00007ffd03e30410:  0000000000000000  0000000000000000 
    00007ffd03e30420:  000000000030da24  000000000030da24 
    00007ffd03e30430:  0000029300000002  000000502bc70ec5 
    00007ffd03e30440:  000000000030da24  00007ffd03e304f8 
    00007ffd03e30450:  0000556b42cbc936 <runtime.pcvalue+342>  0000556b43a2f828 
    00007ffd03e30460:  00000000002f742e  00000000002f742e 
    00007ffd03e30470:  fffffffe7fffffff  ffffffffffffffff 
    00007ffd03e30480:  ffffffffffffffff  ffffffffffffffff 
    00007ffd03e30490:  ffffffffffffffff  ffffffffffffffff 
    00007ffd03e304a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd03e304b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd03e304c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd03e304d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd03e304e0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x556b43369a30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x556b42ccbbcf
    runtime.newm1(0xc420094400)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x556b42ca56b1
    runtime.newm(0x556b43995b08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x556b42ca552f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x556b42ca5791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x556b42ca14b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x556b42cccf31
    
    rax    0x0
    rbx    0x7fc72bc64840
    rcx    0x7fc72b8b6f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffd03e303f0
    rbp    0x556b4349b32a
    rsp    0x7ffd03e303f0
    r8     0x0
    r9     0x7ffd03e303f0
    r10    0x8
    r11    0x246
    r12    0x556b44300690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fc72b8b6f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 5 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000088000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000088000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc00004b000, 0x4)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000073f01)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.resetspinning()
    	/usr/local/go/src/runtime/proc.go:2533 +0x59
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2684 +0x2b9
    runtime.mstart1()
    	/usr/local/go/src/runtime/proc.go:1179 +0x93
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1137 +0x6e
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x1bb7a80, 0xc0000420c8, 0x170e, 0x2)
    	/usr/local/go/src/runtime/proc.go:306 +0xe5
    runtime.chanrecv(0xc000042070, 0x0, 0xc000000101, 0x41a55e)
    	/usr/local/go/src/runtime/chan.go:577 +0x36f
    runtime.chanrecv1(0xc000042070, 0x0)
    	/usr/local/go/src/runtime/chan.go:439 +0x2b
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:219 +0x95
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f40bf1d3f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f40bf1d3f47
    stack: frame={sp:0x7ffe5ecc6020, fp:0x0} stack=[0x7ffe5e4c7520,0x7ffe5ecc6550)
    00007ffe5ecc5f20:  00007f4000000001  00007f40bf581420 
    00007ffe5ecc5f30:  0000000000000000  000000c420081fe0 
    00007ffe5ecc5f40:  0000000000000000  0000000000000000 
    00007ffe5ecc5f50:  0000000000000000  0000000000000000 
    00007ffe5ecc5f60:  0000000000000000  0000000000000000 
    00007ffe5ecc5f70:  00007f40bf581560  00007f40bf584bc0 
    00007ffe5ecc5f80:  000000c42006ffd0  000055d8de21d3e0 <runtime.main+208> 
    00007ffe5ecc5f90:  000055d8def11970  0000000000000000 
    00007ffe5ecc5fa0:  0000000000000000  0000000000000000 
    00007ffe5ecc5fb0:  0000000000000000  0000000000000000 
    00007ffe5ecc5fc0:  0000000000000000  0000000000000000 
    00007ffe5ecc5fd0:  000000c420000180  0000000000000000 
    00007ffe5ecc5fe0:  000055d8de21d3e0 <runtime.main+208>  000055d8def11970 
    00007ffe5ecc5ff0:  0000000000000000  0000000000000000 
    00007ffe5ecc6000:  0000000000000000  0000000000000000 
    00007ffe5ecc6010:  0000000000000000  0000000000000000 
    00007ffe5ecc6020: <0000000000000000  000000c420000180 
    00007ffe5ecc6030:  0000000000000000  000055d8de248f31 <runtime.goexit+1> 
    00007ffe5ecc6040:  0000000000000000  0000000000000000 
    00007ffe5ecc6050:  0000000000000000  0000000000000000 
    00007ffe5ecc6060:  0000029300000002  00000050bf58dec5 
    00007ffe5ecc6070:  000000000030da24  00007ffe5ecc6128 
    00007ffe5ecc6080:  000055d8de238936 <runtime.pcvalue+342>  000055d8defab828 
    00007ffe5ecc6090:  00000000002f742e  00000000002f742e 
    00007ffe5ecc60a0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffe5ecc60b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe5ecc60c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe5ecc60d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe5ecc60e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe5ecc60f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe5ecc6100:  ffffffffffffffff  ffffffffffffffff 
    00007ffe5ecc6110:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f40bf1d3f47
    stack: frame={sp:0x7ffe5ecc6020, fp:0x0} stack=[0x7ffe5e4c7520,0x7ffe5ecc6550)
    00007ffe5ecc5f20:  00007f4000000001  00007f40bf581420 
    00007ffe5ecc5f30:  0000000000000000  000000c420081fe0 
    00007ffe5ecc5f40:  0000000000000000  0000000000000000 
    00007ffe5ecc5f50:  0000000000000000  0000000000000000 
    00007ffe5ecc5f60:  0000000000000000  0000000000000000 
    00007ffe5ecc5f70:  00007f40bf581560  00007f40bf584bc0 
    00007ffe5ecc5f80:  000000c42006ffd0  000055d8de21d3e0 <runtime.main+208> 
    00007ffe5ecc5f90:  000055d8def11970  0000000000000000 
    00007ffe5ecc5fa0:  0000000000000000  0000000000000000 
    00007ffe5ecc5fb0:  0000000000000000  0000000000000000 
    00007ffe5ecc5fc0:  0000000000000000  0000000000000000 
    00007ffe5ecc5fd0:  000000c420000180  0000000000000000 
    00007ffe5ecc5fe0:  000055d8de21d3e0 <runtime.main+208>  000055d8def11970 
    00007ffe5ecc5ff0:  0000000000000000  0000000000000000 
    00007ffe5ecc6000:  0000000000000000  0000000000000000 
    00007ffe5ecc6010:  0000000000000000  0000000000000000 
    00007ffe5ecc6020: <0000000000000000  000000c420000180 
    00007ffe5ecc6030:  0000000000000000  000055d8de248f31 <runtime.goexit+1> 
    00007ffe5ecc6040:  0000000000000000  0000000000000000 
    00007ffe5ecc6050:  0000000000000000  0000000000000000 
    00007ffe5ecc6060:  0000029300000002  00000050bf58dec5 
    00007ffe5ecc6070:  000000000030da24  00007ffe5ecc6128 
    00007ffe5ecc6080:  000055d8de238936 <runtime.pcvalue+342>  000055d8defab828 
    00007ffe5ecc6090:  00000000002f742e  00000000002f742e 
    00007ffe5ecc60a0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffe5ecc60b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe5ecc60c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe5ecc60d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe5ecc60e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe5ecc60f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe5ecc6100:  ffffffffffffffff  ffffffffffffffff 
    00007ffe5ecc6110:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x55d8de8e5a30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x55d8de247bcf
    runtime.newm1(0xc420094400)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x55d8de2216b1
    runtime.newm(0x55d8def11b08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x55d8de22152f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x55d8de221791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x55d8de21d4b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x55d8de248f31
    
    rax    0x0
    rbx    0x7f40bf581840
    rcx    0x7f40bf1d3f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffe5ecc6020
    rbp    0x55d8dea1732a
    rsp    0x7ffe5ecc6020
    r8     0x0
    r9     0x7ffe5ecc6020
    r10    0x8
    r11    0x246
    r12    0x55d8df3e2690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f40bf1d3f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
