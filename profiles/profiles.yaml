apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7ff38882ef47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7ff38882ef47
    stack: frame={sp:0x7fffbba67750, fp:0x0} stack=[0x7fffbb268c50,0x7fffbba67c80)
    00007fffbba67650:  0000000000000001  0000000000000000 
    00007fffbba67660:  0000000000000000  0000000000000000 
    00007fffbba67670:  00007ff388bdc560  00007ff388bdfbc0 
    00007fffbba67680:  000000c42006ffd0  0000561fc910b3e0 <runtime.main+208> 
    00007fffbba67690:  0000561fc9dff970  0000000000000000 
    00007fffbba676a0:  0000000000000000  0000000000000000 
    00007fffbba676b0:  0000000000000000  0000000000000000 
    00007fffbba676c0:  0000000000000000  0000000000000000 
    00007fffbba676d0:  000000c420000180  0000000000000000 
    00007fffbba676e0:  0000561fc910b3e0 <runtime.main+208>  0000561fc9dff970 
    00007fffbba676f0:  0000000000000000  0000000000000000 
    00007fffbba67700:  0000000000000000  0000000000000000 
    00007fffbba67710:  0000000000000000  0000000000000000 
    00007fffbba67720:  0000000000000000  000000c420000180 
    00007fffbba67730:  0000000000000000  0000561fc9136f31 <runtime.goexit+1> 
    00007fffbba67740:  0000000000000000  0000000000000000 
    00007fffbba67750: <0000000000000000  0000000000000000 
    00007fffbba67760:  00007ff3890200d0  00007fffbba677a8 
    00007fffbba67770:  0000561fc9127582 <runtime.step+290>  0000561fc9e83232 
    00007fffbba67780:  000000000030da24  000000000030da24 
    00007fffbba67790:  0000029300000002  0000005088be8ec5 
    00007fffbba677a0:  000000000030da24  00007fffbba67858 
    00007fffbba677b0:  0000561fc9126936 <runtime.pcvalue+342>  0000561fc9e99828 
    00007fffbba677c0:  0000000000000002  0000000000000000 
    00007fffbba677d0:  fffffffe7fffffff  ffffffffffffffff 
    00007fffbba677e0:  ffffffffffffffff  ffffffffffffffff 
    00007fffbba677f0:  ffffffffffffffff  ffffffffffffffff 
    00007fffbba67800:  ffffffffffffffff  ffffffffffffffff 
    00007fffbba67810:  ffffffffffffffff  ffffffffffffffff 
    00007fffbba67820:  ffffffffffffffff  ffffffffffffffff 
    00007fffbba67830:  ffffffffffffffff  ffffffffffffffff 
    00007fffbba67840:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7ff38882ef47
    stack: frame={sp:0x7fffbba67750, fp:0x0} stack=[0x7fffbb268c50,0x7fffbba67c80)
    00007fffbba67650:  0000000000000001  0000000000000000 
    00007fffbba67660:  0000000000000000  0000000000000000 
    00007fffbba67670:  00007ff388bdc560  00007ff388bdfbc0 
    00007fffbba67680:  000000c42006ffd0  0000561fc910b3e0 <runtime.main+208> 
    00007fffbba67690:  0000561fc9dff970  0000000000000000 
    00007fffbba676a0:  0000000000000000  0000000000000000 
    00007fffbba676b0:  0000000000000000  0000000000000000 
    00007fffbba676c0:  0000000000000000  0000000000000000 
    00007fffbba676d0:  000000c420000180  0000000000000000 
    00007fffbba676e0:  0000561fc910b3e0 <runtime.main+208>  0000561fc9dff970 
    00007fffbba676f0:  0000000000000000  0000000000000000 
    00007fffbba67700:  0000000000000000  0000000000000000 
    00007fffbba67710:  0000000000000000  0000000000000000 
    00007fffbba67720:  0000000000000000  000000c420000180 
    00007fffbba67730:  0000000000000000  0000561fc9136f31 <runtime.goexit+1> 
    00007fffbba67740:  0000000000000000  0000000000000000 
    00007fffbba67750: <0000000000000000  0000000000000000 
    00007fffbba67760:  00007ff3890200d0  00007fffbba677a8 
    00007fffbba67770:  0000561fc9127582 <runtime.step+290>  0000561fc9e83232 
    00007fffbba67780:  000000000030da24  000000000030da24 
    00007fffbba67790:  0000029300000002  0000005088be8ec5 
    00007fffbba677a0:  000000000030da24  00007fffbba67858 
    00007fffbba677b0:  0000561fc9126936 <runtime.pcvalue+342>  0000561fc9e99828 
    00007fffbba677c0:  0000000000000002  0000000000000000 
    00007fffbba677d0:  fffffffe7fffffff  ffffffffffffffff 
    00007fffbba677e0:  ffffffffffffffff  ffffffffffffffff 
    00007fffbba677f0:  ffffffffffffffff  ffffffffffffffff 
    00007fffbba67800:  ffffffffffffffff  ffffffffffffffff 
    00007fffbba67810:  ffffffffffffffff  ffffffffffffffff 
    00007fffbba67820:  ffffffffffffffff  ffffffffffffffff 
    00007fffbba67830:  ffffffffffffffff  ffffffffffffffff 
    00007fffbba67840:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x561fc97d3a30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x561fc9135bcf
    runtime.newm1(0xc420061000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x561fc910f6b1
    runtime.newm(0x561fc9dffb08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x561fc910f52f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x561fc910f791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x561fc910b4b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x561fc9136f31
    
    rax    0x0
    rbx    0x7ff388bdc840
    rcx    0x7ff38882ef47
    rdx    0x0
    rdi    0x2
    rsi    0x7fffbba67750
    rbp    0x561fc990532a
    rsp    0x7fffbba67750
    r8     0x0
    r9     0x7fffbba67750
    r10    0x8
    r11    0x246
    r12    0x561fcc0dc690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7ff38882ef47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 5 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc0000ae000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc0000ae000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc000046000, 0x4)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc00006df01)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.resetspinning()
    	/usr/local/go/src/runtime/proc.go:2533 +0x59
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2684 +0x2b9
    runtime.park_m(0xc000000c00)
    	/usr/local/go/src/runtime/proc.go:2845 +0x9d
    runtime.mcall(0x0)
    	/usr/local/go/src/runtime/asm_amd64.s:318 +0x5b
    
    goroutine 1 [runnable, locked to thread]:
    context.init.0()
    	/usr/local/go/src/context/context.go:338 +0x3c
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7faf77dd3f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7faf77dd3f47
    stack: frame={sp:0x7ffca0d11850, fp:0x0} stack=[0x7ffca0512d50,0x7ffca0d11d80)
    00007ffca0d11750:  0000000000000001  0000000000000000 
    00007ffca0d11760:  0000000000000000  0000000000000000 
    00007ffca0d11770:  00007faf78181560  00007faf78184bc0 
    00007ffca0d11780:  000000c42006ffd0  000055658e6953e0 <runtime.main+208> 
    00007ffca0d11790:  000055658f389970  0000000000000000 
    00007ffca0d117a0:  0000000000000000  0000000000000000 
    00007ffca0d117b0:  0000000000000000  0000000000000000 
    00007ffca0d117c0:  0000000000000000  0000000000000000 
    00007ffca0d117d0:  000000c420000180  0000000000000000 
    00007ffca0d117e0:  000055658e6953e0 <runtime.main+208>  000055658f389970 
    00007ffca0d117f0:  0000000000000000  0000000000000000 
    00007ffca0d11800:  0000000000000000  0000000000000000 
    00007ffca0d11810:  0000000000000000  0000000000000000 
    00007ffca0d11820:  0000000000000000  000000c420000180 
    00007ffca0d11830:  0000000000000000  000055658e6c0f31 <runtime.goexit+1> 
    00007ffca0d11840:  0000000000000000  0000000000000000 
    00007ffca0d11850: <0000000000000000  0000000000000000 
    00007ffca0d11860:  00007faf785c50d0  00007ffca0d118a8 
    00007ffca0d11870:  000055658e6b1582 <runtime.step+290>  000055658f40d232 
    00007ffca0d11880:  000000000030da24  000000000030da24 
    00007ffca0d11890:  0000029300000002  000000507818dec5 
    00007ffca0d118a0:  000000000030da24  00007ffca0d11958 
    00007ffca0d118b0:  000055658e6b0936 <runtime.pcvalue+342>  000055658f423828 
    00007ffca0d118c0:  0000000000000002  0000000000000000 
    00007ffca0d118d0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffca0d118e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffca0d118f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffca0d11900:  ffffffffffffffff  ffffffffffffffff 
    00007ffca0d11910:  ffffffffffffffff  ffffffffffffffff 
    00007ffca0d11920:  ffffffffffffffff  ffffffffffffffff 
    00007ffca0d11930:  ffffffffffffffff  ffffffffffffffff 
    00007ffca0d11940:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7faf77dd3f47
    stack: frame={sp:0x7ffca0d11850, fp:0x0} stack=[0x7ffca0512d50,0x7ffca0d11d80)
    00007ffca0d11750:  0000000000000001  0000000000000000 
    00007ffca0d11760:  0000000000000000  0000000000000000 
    00007ffca0d11770:  00007faf78181560  00007faf78184bc0 
    00007ffca0d11780:  000000c42006ffd0  000055658e6953e0 <runtime.main+208> 
    00007ffca0d11790:  000055658f389970  0000000000000000 
    00007ffca0d117a0:  0000000000000000  0000000000000000 
    00007ffca0d117b0:  0000000000000000  0000000000000000 
    00007ffca0d117c0:  0000000000000000  0000000000000000 
    00007ffca0d117d0:  000000c420000180  0000000000000000 
    00007ffca0d117e0:  000055658e6953e0 <runtime.main+208>  000055658f389970 
    00007ffca0d117f0:  0000000000000000  0000000000000000 
    00007ffca0d11800:  0000000000000000  0000000000000000 
    00007ffca0d11810:  0000000000000000  0000000000000000 
    00007ffca0d11820:  0000000000000000  000000c420000180 
    00007ffca0d11830:  0000000000000000  000055658e6c0f31 <runtime.goexit+1> 
    00007ffca0d11840:  0000000000000000  0000000000000000 
    00007ffca0d11850: <0000000000000000  0000000000000000 
    00007ffca0d11860:  00007faf785c50d0  00007ffca0d118a8 
    00007ffca0d11870:  000055658e6b1582 <runtime.step+290>  000055658f40d232 
    00007ffca0d11880:  000000000030da24  000000000030da24 
    00007ffca0d11890:  0000029300000002  000000507818dec5 
    00007ffca0d118a0:  000000000030da24  00007ffca0d11958 
    00007ffca0d118b0:  000055658e6b0936 <runtime.pcvalue+342>  000055658f423828 
    00007ffca0d118c0:  0000000000000002  0000000000000000 
    00007ffca0d118d0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffca0d118e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffca0d118f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffca0d11900:  ffffffffffffffff  ffffffffffffffff 
    00007ffca0d11910:  ffffffffffffffff  ffffffffffffffff 
    00007ffca0d11920:  ffffffffffffffff  ffffffffffffffff 
    00007ffca0d11930:  ffffffffffffffff  ffffffffffffffff 
    00007ffca0d11940:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x55658ed5da30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x55658e6bfbcf
    runtime.newm1(0xc420094400)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x55658e6996b1
    runtime.newm(0x55658f389b08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x55658e69952f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x55658e699791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x55658e6954b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x55658e6c0f31
    
    rax    0x0
    rbx    0x7faf78181840
    rcx    0x7faf77dd3f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffca0d11850
    rbp    0x55658ee8f32a
    rsp    0x7ffca0d11850
    r8     0x0
    r9     0x7ffca0d11850
    r10    0x8
    r11    0x246
    r12    0x55658ffad690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7faf77dd3f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
