apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fdb89a2cf47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fdb89a2cf47
    stack: frame={sp:0x7ffe73298120, fp:0x0} stack=[0x7ffe72a99620,0x7ffe73298650)
    00007ffe73298020:  00007fdb00000001  00007fdb89dda420 
    00007ffe73298030:  0000000000000000  000000c420081fe0 
    00007ffe73298040:  0000000000000000  0000000000000000 
    00007ffe73298050:  0000000000000000  0000000000000000 
    00007ffe73298060:  0000000000000000  0000000000000000 
    00007ffe73298070:  00007fdb89dda560  00007fdb89dddbc0 
    00007ffe73298080:  000000c42006ffd0  000055c2540be3e0 <runtime.main+208> 
    00007ffe73298090:  000055c254db2970  0000000000000000 
    00007ffe732980a0:  0000000000000000  0000000000000000 
    00007ffe732980b0:  0000000000000000  0000000000000000 
    00007ffe732980c0:  0000000000000000  0000000000000000 
    00007ffe732980d0:  000000c420000180  0000000000000000 
    00007ffe732980e0:  000055c2540be3e0 <runtime.main+208>  000055c254db2970 
    00007ffe732980f0:  0000000000000000  0000000000000000 
    00007ffe73298100:  0000000000000000  0000000000000000 
    00007ffe73298110:  0000000000000000  0000000000000000 
    00007ffe73298120: <0000000000000000  000000c420000180 
    00007ffe73298130:  0000000000000000  000055c2540e9f31 <runtime.goexit+1> 
    00007ffe73298140:  0000000000000000  0000000000000000 
    00007ffe73298150:  0000000000000000  0000000000000000 
    00007ffe73298160:  0000029300000002  0000005089de6ec5 
    00007ffe73298170:  000000000030da24  00007ffe73298228 
    00007ffe73298180:  000055c2540d9936 <runtime.pcvalue+342>  000055c254e4c828 
    00007ffe73298190:  00000000002f742e  00000000002f742e 
    00007ffe732981a0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffe732981b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe732981c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe732981d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe732981e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe732981f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe73298200:  ffffffffffffffff  ffffffffffffffff 
    00007ffe73298210:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fdb89a2cf47
    stack: frame={sp:0x7ffe73298120, fp:0x0} stack=[0x7ffe72a99620,0x7ffe73298650)
    00007ffe73298020:  00007fdb00000001  00007fdb89dda420 
    00007ffe73298030:  0000000000000000  000000c420081fe0 
    00007ffe73298040:  0000000000000000  0000000000000000 
    00007ffe73298050:  0000000000000000  0000000000000000 
    00007ffe73298060:  0000000000000000  0000000000000000 
    00007ffe73298070:  00007fdb89dda560  00007fdb89dddbc0 
    00007ffe73298080:  000000c42006ffd0  000055c2540be3e0 <runtime.main+208> 
    00007ffe73298090:  000055c254db2970  0000000000000000 
    00007ffe732980a0:  0000000000000000  0000000000000000 
    00007ffe732980b0:  0000000000000000  0000000000000000 
    00007ffe732980c0:  0000000000000000  0000000000000000 
    00007ffe732980d0:  000000c420000180  0000000000000000 
    00007ffe732980e0:  000055c2540be3e0 <runtime.main+208>  000055c254db2970 
    00007ffe732980f0:  0000000000000000  0000000000000000 
    00007ffe73298100:  0000000000000000  0000000000000000 
    00007ffe73298110:  0000000000000000  0000000000000000 
    00007ffe73298120: <0000000000000000  000000c420000180 
    00007ffe73298130:  0000000000000000  000055c2540e9f31 <runtime.goexit+1> 
    00007ffe73298140:  0000000000000000  0000000000000000 
    00007ffe73298150:  0000000000000000  0000000000000000 
    00007ffe73298160:  0000029300000002  0000005089de6ec5 
    00007ffe73298170:  000000000030da24  00007ffe73298228 
    00007ffe73298180:  000055c2540d9936 <runtime.pcvalue+342>  000055c254e4c828 
    00007ffe73298190:  00000000002f742e  00000000002f742e 
    00007ffe732981a0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffe732981b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe732981c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe732981d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe732981e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe732981f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe73298200:  ffffffffffffffff  ffffffffffffffff 
    00007ffe73298210:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x55c254786a30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x55c2540e8bcf
    runtime.newm1(0xc420094400)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x55c2540c26b1
    runtime.newm(0x55c254db2b08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x55c2540c252f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x55c2540c2791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x55c2540be4b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x55c2540e9f31
    
    rax    0x0
    rbx    0x7fdb89dda840
    rcx    0x7fdb89a2cf47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffe73298120
    rbp    0x55c2548b832a
    rsp    0x7ffe73298120
    r8     0x0
    r9     0x7ffe73298120
    r10    0x8
    r11    0x246
    r12    0x55c255a63690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fdb89a2cf47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 5 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000088000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000088000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc00004b000, 0x4)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000073f01)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.resetspinning()
    	/usr/local/go/src/runtime/proc.go:2533 +0x59
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2684 +0x2b9
    runtime.mstart1()
    	/usr/local/go/src/runtime/proc.go:1179 +0x93
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1137 +0x6e
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x1bb7a80, 0xc0000420c8, 0x170e, 0x2)
    	/usr/local/go/src/runtime/proc.go:306 +0xe5
    runtime.chanrecv(0xc000042070, 0x0, 0xc000000101, 0x410101)
    	/usr/local/go/src/runtime/chan.go:577 +0x36f
    runtime.chanrecv1(0xc000042070, 0x0)
    	/usr/local/go/src/runtime/chan.go:439 +0x2b
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:220 +0xac
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f7241eccf47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f7241eccf47
    stack: frame={sp:0x7ffed7e58680, fp:0x0} stack=[0x7ffed7659b80,0x7ffed7e58bb0)
    00007ffed7e58580:  0000000000000001  0000000000000000 
    00007ffed7e58590:  0000000000000000  000000c420081fe0 
    00007ffed7e585a0:  0000000000000000  0000000000000000 
    00007ffed7e585b0:  00007f724227a560  00007f724227dbc0 
    00007ffed7e585c0:  000000c42006ffd0  00005646b66cf3e0 <runtime.main+208> 
    00007ffed7e585d0:  00005646b73c3970  0000000000000000 
    00007ffed7e585e0:  0000000000000000  0000000000000000 
    00007ffed7e585f0:  0000000000000000  0000000000000000 
    00007ffed7e58600:  0000000000000000  0000000000000000 
    00007ffed7e58610:  000000c420000180  0000000000000000 
    00007ffed7e58620:  00005646b66cf3e0 <runtime.main+208>  00005646b73c3970 
    00007ffed7e58630:  0000000000000000  0000000000000000 
    00007ffed7e58640:  0000000000000000  0000000000000000 
    00007ffed7e58650:  0000000000000000  0000000000000000 
    00007ffed7e58660:  0000000000000000  000000c420000180 
    00007ffed7e58670:  0000000000000000  00005646b66faf31 <runtime.goexit+1> 
    00007ffed7e58680: <0000000000000000  0000000000000000 
    00007ffed7e58690:  0000000000000000  0000000000000000 
    00007ffed7e586a0:  00005646b66eb582 <runtime.step+290>  00005646b7447232 
    00007ffed7e586b0:  000000000030da24  000000000030da24 
    00007ffed7e586c0:  0000029300000002  0000005042286ec5 
    00007ffed7e586d0:  000000000030da24  00007ffed7e58788 
    00007ffed7e586e0:  00005646b66ea936 <runtime.pcvalue+342>  00005646b745d828 
    00007ffed7e586f0:  00000000002f742e  00000000002f742e 
    00007ffed7e58700:  fffffffe7fffffff  ffffffffffffffff 
    00007ffed7e58710:  ffffffffffffffff  ffffffffffffffff 
    00007ffed7e58720:  ffffffffffffffff  ffffffffffffffff 
    00007ffed7e58730:  ffffffffffffffff  ffffffffffffffff 
    00007ffed7e58740:  ffffffffffffffff  ffffffffffffffff 
    00007ffed7e58750:  ffffffffffffffff  ffffffffffffffff 
    00007ffed7e58760:  ffffffffffffffff  ffffffffffffffff 
    00007ffed7e58770:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f7241eccf47
    stack: frame={sp:0x7ffed7e58680, fp:0x0} stack=[0x7ffed7659b80,0x7ffed7e58bb0)
    00007ffed7e58580:  0000000000000001  0000000000000000 
    00007ffed7e58590:  0000000000000000  000000c420081fe0 
    00007ffed7e585a0:  0000000000000000  0000000000000000 
    00007ffed7e585b0:  00007f724227a560  00007f724227dbc0 
    00007ffed7e585c0:  000000c42006ffd0  00005646b66cf3e0 <runtime.main+208> 
    00007ffed7e585d0:  00005646b73c3970  0000000000000000 
    00007ffed7e585e0:  0000000000000000  0000000000000000 
    00007ffed7e585f0:  0000000000000000  0000000000000000 
    00007ffed7e58600:  0000000000000000  0000000000000000 
    00007ffed7e58610:  000000c420000180  0000000000000000 
    00007ffed7e58620:  00005646b66cf3e0 <runtime.main+208>  00005646b73c3970 
    00007ffed7e58630:  0000000000000000  0000000000000000 
    00007ffed7e58640:  0000000000000000  0000000000000000 
    00007ffed7e58650:  0000000000000000  0000000000000000 
    00007ffed7e58660:  0000000000000000  000000c420000180 
    00007ffed7e58670:  0000000000000000  00005646b66faf31 <runtime.goexit+1> 
    00007ffed7e58680: <0000000000000000  0000000000000000 
    00007ffed7e58690:  0000000000000000  0000000000000000 
    00007ffed7e586a0:  00005646b66eb582 <runtime.step+290>  00005646b7447232 
    00007ffed7e586b0:  000000000030da24  000000000030da24 
    00007ffed7e586c0:  0000029300000002  0000005042286ec5 
    00007ffed7e586d0:  000000000030da24  00007ffed7e58788 
    00007ffed7e586e0:  00005646b66ea936 <runtime.pcvalue+342>  00005646b745d828 
    00007ffed7e586f0:  00000000002f742e  00000000002f742e 
    00007ffed7e58700:  fffffffe7fffffff  ffffffffffffffff 
    00007ffed7e58710:  ffffffffffffffff  ffffffffffffffff 
    00007ffed7e58720:  ffffffffffffffff  ffffffffffffffff 
    00007ffed7e58730:  ffffffffffffffff  ffffffffffffffff 
    00007ffed7e58740:  ffffffffffffffff  ffffffffffffffff 
    00007ffed7e58750:  ffffffffffffffff  ffffffffffffffff 
    00007ffed7e58760:  ffffffffffffffff  ffffffffffffffff 
    00007ffed7e58770:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x5646b6d97a30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x5646b66f9bcf
    runtime.newm1(0xc420094400)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x5646b66d36b1
    runtime.newm(0x5646b73c3b08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x5646b66d352f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x5646b66d3791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x5646b66cf4b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x5646b66faf31
    
    rax    0x0
    rbx    0x7f724227a840
    rcx    0x7f7241eccf47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffed7e58680
    rbp    0x5646b6ec932a
    rsp    0x7ffed7e58680
    r8     0x0
    r9     0x7ffed7e58680
    r10    0x8
    r11    0x246
    r12    0x5646b9776690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f7241eccf47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
