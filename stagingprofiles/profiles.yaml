apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f2edbfbbf47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f2edbfbbf47
    stack: frame={sp:0x7ffc0421ecd0, fp:0x0} stack=[0x7ffc03a201d0,0x7ffc0421f200)
    00007ffc0421ebd0:  0000000000000003  0000562c473c85c0 
    00007ffc0421ebe0:  0000000000000000  0000000000000000 
    00007ffc0421ebf0:  0000000000000000  0000000000000000 
    00007ffc0421ec00:  000000c42006ffd0  0000562c46d003e0 <runtime.main+208> 
    00007ffc0421ec10:  0000562c479f4970  0000000000000000 
    00007ffc0421ec20:  0000000000000000  0000000000000000 
    00007ffc0421ec30:  0000000000000000  0000000000000000 
    00007ffc0421ec40:  0000000000000000  0000000000000000 
    00007ffc0421ec50:  000000c420000180  0000000000000000 
    00007ffc0421ec60:  0000562c46d003e0 <runtime.main+208>  0000562c479f4970 
    00007ffc0421ec70:  0000000000000000  0000000000000000 
    00007ffc0421ec80:  0000000000000000  0000000000000000 
    00007ffc0421ec90:  0000000000000000  0000000000000000 
    00007ffc0421eca0:  0000000000000000  000000c420000180 
    00007ffc0421ecb0:  0000000000000000  0000562c46d2bf31 <runtime.goexit+1> 
    00007ffc0421ecc0:  0000000000000000  0000000000000000 
    00007ffc0421ecd0: <0000000000000000  0000000000000000 
    00007ffc0421ece0:  00007f2edc7ad0d0  00007ffc0421ed28 
    00007ffc0421ecf0:  0000562c46d1c582 <runtime.step+290>  0000562c47a78232 
    00007ffc0421ed00:  000000000030da24  000000000030da24 
    00007ffc0421ed10:  0000029300000002  00000050dc375ec5 
    00007ffc0421ed20:  000000000030da24  00007ffc0421edd8 
    00007ffc0421ed30:  0000562c46d1b936 <runtime.pcvalue+342>  0000562c47a8e828 
    00007ffc0421ed40:  0000000000000002  0000000000000000 
    00007ffc0421ed50:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc0421ed60:  ffffffffffffffff  ffffffffffffffff 
    00007ffc0421ed70:  ffffffffffffffff  ffffffffffffffff 
    00007ffc0421ed80:  ffffffffffffffff  ffffffffffffffff 
    00007ffc0421ed90:  ffffffffffffffff  ffffffffffffffff 
    00007ffc0421eda0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc0421edb0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc0421edc0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f2edbfbbf47
    stack: frame={sp:0x7ffc0421ecd0, fp:0x0} stack=[0x7ffc03a201d0,0x7ffc0421f200)
    00007ffc0421ebd0:  0000000000000003  0000562c473c85c0 
    00007ffc0421ebe0:  0000000000000000  0000000000000000 
    00007ffc0421ebf0:  0000000000000000  0000000000000000 
    00007ffc0421ec00:  000000c42006ffd0  0000562c46d003e0 <runtime.main+208> 
    00007ffc0421ec10:  0000562c479f4970  0000000000000000 
    00007ffc0421ec20:  0000000000000000  0000000000000000 
    00007ffc0421ec30:  0000000000000000  0000000000000000 
    00007ffc0421ec40:  0000000000000000  0000000000000000 
    00007ffc0421ec50:  000000c420000180  0000000000000000 
    00007ffc0421ec60:  0000562c46d003e0 <runtime.main+208>  0000562c479f4970 
    00007ffc0421ec70:  0000000000000000  0000000000000000 
    00007ffc0421ec80:  0000000000000000  0000000000000000 
    00007ffc0421ec90:  0000000000000000  0000000000000000 
    00007ffc0421eca0:  0000000000000000  000000c420000180 
    00007ffc0421ecb0:  0000000000000000  0000562c46d2bf31 <runtime.goexit+1> 
    00007ffc0421ecc0:  0000000000000000  0000000000000000 
    00007ffc0421ecd0: <0000000000000000  0000000000000000 
    00007ffc0421ece0:  00007f2edc7ad0d0  00007ffc0421ed28 
    00007ffc0421ecf0:  0000562c46d1c582 <runtime.step+290>  0000562c47a78232 
    00007ffc0421ed00:  000000000030da24  000000000030da24 
    00007ffc0421ed10:  0000029300000002  00000050dc375ec5 
    00007ffc0421ed20:  000000000030da24  00007ffc0421edd8 
    00007ffc0421ed30:  0000562c46d1b936 <runtime.pcvalue+342>  0000562c47a8e828 
    00007ffc0421ed40:  0000000000000002  0000000000000000 
    00007ffc0421ed50:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc0421ed60:  ffffffffffffffff  ffffffffffffffff 
    00007ffc0421ed70:  ffffffffffffffff  ffffffffffffffff 
    00007ffc0421ed80:  ffffffffffffffff  ffffffffffffffff 
    00007ffc0421ed90:  ffffffffffffffff  ffffffffffffffff 
    00007ffc0421eda0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc0421edb0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc0421edc0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x562c473c8a30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x562c46d2abcf
    runtime.newm1(0xc420061000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x562c46d046b1
    runtime.newm(0x562c479f4b08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x562c46d0452f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x562c46d04791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x562c46d004b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x562c46d2bf31
    
    rax    0x0
    rbx    0x7f2edc369840
    rcx    0x7f2edbfbbf47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffc0421ecd0
    rbp    0x562c474fa32a
    rsp    0x7ffc0421ecd0
    r8     0x0
    r9     0x7ffc0421ecd0
    r10    0x8
    r11    0x246
    r12    0x562c48bc8690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f2edbfbbf47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 5 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    runtime: failed to create new OS thread (have 5 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062800)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062800)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x0, 0xc000046000, 0x3)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0xc000046000, 0x2a6cc00)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.handoffp(0xc000046000)
    	/usr/local/go/src/runtime/proc.go:2001 +0x52
    runtime.stoplockedm()
    	/usr/local/go/src/runtime/proc.go:2075 +0xf7
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2611 +0x48c
    runtime.park_m(0xc000000180)
    	/usr/local/go/src/runtime/proc.go:2845 +0x9d
    runtime.mcall(0x0)
    	/usr/local/go/src/runtime/asm_amd64.s:318 +0x5b
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x1bb7a80, 0xc0000420c8, 0x170e, 0x2)
    	/usr/local/go/src/runtime/proc.go:306 +0xe5
    runtime.chanrecv(0xc000042070, 0x0, 0xc000000101, 0x41a55e)
    	/usr/local/go/src/runtime/chan.go:577 +0x36f
    runtime.chanrecv1(0xc000042070, 0x0)
    	/usr/local/go/src/runtime/chan.go:439 +0x2b
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:219 +0x95
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000088000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000088000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc00004b000, 0x4)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000073f01)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.resetspinning()
    	/usr/local/go/src/runtime/proc.go:2533 +0x59
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2684 +0x2b9
    runtime.mstart1()
    	/usr/local/go/src/runtime/proc.go:1179 +0x93
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1137 +0x6e
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7ff6a7a8ef47 m=3 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7ff6a7a8ef47
    stack: frame={sp:0x7ff6a724d810, fp:0x0} stack=[0x7ff6a6a4e290,0x7ff6a724de90)
    00007ff6a724d710:  0000000000000000  0000000000000000 
    00007ff6a724d720:  0000000000000000  0000000000000000 
    00007ff6a724d730:  0000000000000000  0000000000000000 
    00007ff6a724d740:  0000000000000000  0000000000000000 
    00007ff6a724d750:  0000000000000000  0000000000000000 
    00007ff6a724d760:  0000000000000000  0000000000000000 
    00007ff6a724d770:  0000000000000000  0000000000000000 
    00007ff6a724d780:  0000000000000000  0000000000000000 
    00007ff6a724d790:  0000000000000000  0000000000000000 
    00007ff6a724d7a0:  0000000000000000  0000000000000000 
    00007ff6a724d7b0:  0000000000000000  0000000000000000 
    00007ff6a724d7c0:  0000000000000000  0000000000000000 
    00007ff6a724d7d0:  0000000000000000  0000000000000000 
    00007ff6a724d7e0:  0000000000000000  0000000000000000 
    00007ff6a724d7f0:  0000000000000000  0000000000000000 
    00007ff6a724d800:  0000000000000000  0000000000000000 
    00007ff6a724d810: <0000000000000000  0000000000000000 
    00007ff6a724d820:  0000000000000000  0000000000000000 
    00007ff6a724d830:  0000000000000000  0000000000000000 
    00007ff6a724d840:  0000000000000000  0000000000000000 
    00007ff6a724d850:  0000000000000000  0000000000000000 
    00007ff6a724d860:  0000000000000000  0000000000000000 
    00007ff6a724d870:  0000000000000000  0000000000000000 
    00007ff6a724d880:  0000000000000000  0000000000000000 
    00007ff6a724d890:  fffffffe7fffffff  ffffffffffffffff 
    00007ff6a724d8a0:  ffffffffffffffff  ffffffffffffffff 
    00007ff6a724d8b0:  ffffffffffffffff  ffffffffffffffff 
    00007ff6a724d8c0:  ffffffffffffffff  ffffffffffffffff 
    00007ff6a724d8d0:  ffffffffffffffff  ffffffffffffffff 
    00007ff6a724d8e0:  ffffffffffffffff  ffffffffffffffff 
    00007ff6a724d8f0:  ffffffffffffffff  ffffffffffffffff 
    00007ff6a724d900:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7ff6a7a8ef47
    stack: frame={sp:0x7ff6a724d810, fp:0x0} stack=[0x7ff6a6a4e290,0x7ff6a724de90)
    00007ff6a724d710:  0000000000000000  0000000000000000 
    00007ff6a724d720:  0000000000000000  0000000000000000 
    00007ff6a724d730:  0000000000000000  0000000000000000 
    00007ff6a724d740:  0000000000000000  0000000000000000 
    00007ff6a724d750:  0000000000000000  0000000000000000 
    00007ff6a724d760:  0000000000000000  0000000000000000 
    00007ff6a724d770:  0000000000000000  0000000000000000 
    00007ff6a724d780:  0000000000000000  0000000000000000 
    00007ff6a724d790:  0000000000000000  0000000000000000 
    00007ff6a724d7a0:  0000000000000000  0000000000000000 
    00007ff6a724d7b0:  0000000000000000  0000000000000000 
    00007ff6a724d7c0:  0000000000000000  0000000000000000 
    00007ff6a724d7d0:  0000000000000000  0000000000000000 
    00007ff6a724d7e0:  0000000000000000  0000000000000000 
    00007ff6a724d7f0:  0000000000000000  0000000000000000 
    00007ff6a724d800:  0000000000000000  0000000000000000 
    00007ff6a724d810: <0000000000000000  0000000000000000 
    00007ff6a724d820:  0000000000000000  0000000000000000 
    00007ff6a724d830:  0000000000000000  0000000000000000 
    00007ff6a724d840:  0000000000000000  0000000000000000 
    00007ff6a724d850:  0000000000000000  0000000000000000 
    00007ff6a724d860:  0000000000000000  0000000000000000 
    00007ff6a724d870:  0000000000000000  0000000000000000 
    00007ff6a724d880:  0000000000000000  0000000000000000 
    00007ff6a724d890:  fffffffe7fffffff  ffffffffffffffff 
    00007ff6a724d8a0:  ffffffffffffffff  ffffffffffffffff 
    00007ff6a724d8b0:  ffffffffffffffff  ffffffffffffffff 
    00007ff6a724d8c0:  ffffffffffffffff  ffffffffffffffff 
    00007ff6a724d8d0:  ffffffffffffffff  ffffffffffffffff 
    00007ff6a724d8e0:  ffffffffffffffff  ffffffffffffffff 
    00007ff6a724d8f0:  ffffffffffffffff  ffffffffffffffff 
    00007ff6a724d900:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    	goroutine running on other thread; stack unavailable
    
    rax    0x0
    rbx    0x7ff6a7e3c840
    rcx    0x7ff6a7a8ef47
    rdx    0x0
    rdi    0x2
    rsi    0x7ff6a724d810
    rbp    0x55c7636d632a
    rsp    0x7ff6a724d810
    r8     0x0
    r9     0x7ff6a724d810
    r10    0x8
    r11    0x246
    r12    0x55c76466d3f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7ff6a7a8ef47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
