apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f1f20f7cf47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f1f20f7cf47
    stack: frame={sp:0x7ffe054554a0, fp:0x0} stack=[0x7ffe04c569a0,0x7ffe054559d0)
    00007ffe054553a0:  00007f1f00000003  0000563f39b265c0 
    00007ffe054553b0:  0000000000000000  000000c420081fe0 
    00007ffe054553c0:  0000000000000000  0000000000000000 
    00007ffe054553d0:  0000000000000000  0000000000000000 
    00007ffe054553e0:  0000000000000000  0000000000000000 
    00007ffe054553f0:  00007f1f2132a560  00007f1f2132dbc0 
    00007ffe05455400:  000000c42006ffd0  0000563f3945e3e0 <runtime.main+208> 
    00007ffe05455410:  0000563f3a152970  0000000000000000 
    00007ffe05455420:  0000000000000000  0000000000000000 
    00007ffe05455430:  0000000000000000  0000000000000000 
    00007ffe05455440:  0000000000000000  0000000000000000 
    00007ffe05455450:  000000c420000180  0000000000000000 
    00007ffe05455460:  0000563f3945e3e0 <runtime.main+208>  0000563f3a152970 
    00007ffe05455470:  0000000000000000  0000000000000000 
    00007ffe05455480:  0000000000000000  0000000000000000 
    00007ffe05455490:  0000000000000000  0000000000000000 
    00007ffe054554a0: <0000000000000000  000000c420000180 
    00007ffe054554b0:  0000000000000000  0000563f39489f31 <runtime.goexit+1> 
    00007ffe054554c0:  0000000000000000  0000000000000000 
    00007ffe054554d0:  0000000000000000  0000000000000000 
    00007ffe054554e0:  0000029300000002  000000502172eda8 
    00007ffe054554f0:  000000000030da24  00007ffe054555a8 
    00007ffe05455500:  0000563f39479936 <runtime.pcvalue+342>  0000563f3a1ec828 
    00007ffe05455510:  00000000002f742e  00000000002f742e 
    00007ffe05455520:  fffffffe7fffffff  ffffffffffffffff 
    00007ffe05455530:  ffffffffffffffff  ffffffffffffffff 
    00007ffe05455540:  ffffffffffffffff  ffffffffffffffff 
    00007ffe05455550:  ffffffffffffffff  ffffffffffffffff 
    00007ffe05455560:  ffffffffffffffff  ffffffffffffffff 
    00007ffe05455570:  ffffffffffffffff  ffffffffffffffff 
    00007ffe05455580:  ffffffffffffffff  ffffffffffffffff 
    00007ffe05455590:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f1f20f7cf47
    stack: frame={sp:0x7ffe054554a0, fp:0x0} stack=[0x7ffe04c569a0,0x7ffe054559d0)
    00007ffe054553a0:  00007f1f00000003  0000563f39b265c0 
    00007ffe054553b0:  0000000000000000  000000c420081fe0 
    00007ffe054553c0:  0000000000000000  0000000000000000 
    00007ffe054553d0:  0000000000000000  0000000000000000 
    00007ffe054553e0:  0000000000000000  0000000000000000 
    00007ffe054553f0:  00007f1f2132a560  00007f1f2132dbc0 
    00007ffe05455400:  000000c42006ffd0  0000563f3945e3e0 <runtime.main+208> 
    00007ffe05455410:  0000563f3a152970  0000000000000000 
    00007ffe05455420:  0000000000000000  0000000000000000 
    00007ffe05455430:  0000000000000000  0000000000000000 
    00007ffe05455440:  0000000000000000  0000000000000000 
    00007ffe05455450:  000000c420000180  0000000000000000 
    00007ffe05455460:  0000563f3945e3e0 <runtime.main+208>  0000563f3a152970 
    00007ffe05455470:  0000000000000000  0000000000000000 
    00007ffe05455480:  0000000000000000  0000000000000000 
    00007ffe05455490:  0000000000000000  0000000000000000 
    00007ffe054554a0: <0000000000000000  000000c420000180 
    00007ffe054554b0:  0000000000000000  0000563f39489f31 <runtime.goexit+1> 
    00007ffe054554c0:  0000000000000000  0000000000000000 
    00007ffe054554d0:  0000000000000000  0000000000000000 
    00007ffe054554e0:  0000029300000002  000000502172eda8 
    00007ffe054554f0:  000000000030da24  00007ffe054555a8 
    00007ffe05455500:  0000563f39479936 <runtime.pcvalue+342>  0000563f3a1ec828 
    00007ffe05455510:  00000000002f742e  00000000002f742e 
    00007ffe05455520:  fffffffe7fffffff  ffffffffffffffff 
    00007ffe05455530:  ffffffffffffffff  ffffffffffffffff 
    00007ffe05455540:  ffffffffffffffff  ffffffffffffffff 
    00007ffe05455550:  ffffffffffffffff  ffffffffffffffff 
    00007ffe05455560:  ffffffffffffffff  ffffffffffffffff 
    00007ffe05455570:  ffffffffffffffff  ffffffffffffffff 
    00007ffe05455580:  ffffffffffffffff  ffffffffffffffff 
    00007ffe05455590:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x563f39b26a30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x563f39488bcf
    runtime.newm1(0xc4200a8000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x563f394626b1
    runtime.newm(0x563f3a152b08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x563f3946252f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x563f39462791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x563f3945e4b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x563f39489f31
    
    rax    0x0
    rbx    0x7f1f2132a840
    rcx    0x7f1f20f7cf47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffe054554a0
    rbp    0x563f39c5832a
    rsp    0x7ffe054554a0
    r8     0x0
    r9     0x7ffe054554a0
    r10    0x8
    r11    0x246
    r12    0x563f3aa0d690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f1f20f7cf47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 5 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000088000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000088000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc00004b000, 0x4)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000073f01)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.resetspinning()
    	/usr/local/go/src/runtime/proc.go:2533 +0x59
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2684 +0x2b9
    runtime.mstart1()
    	/usr/local/go/src/runtime/proc.go:1179 +0x93
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1137 +0x6e
    
    goroutine 1 [runnable, locked to thread]:
    runtime.gopark(0x1bb7a80, 0xc0000420c8, 0x170e, 0x2)
    	/usr/local/go/src/runtime/proc.go:306 +0xe5
    runtime.chanrecv(0xc000042070, 0x0, 0xc000000101, 0x41a55e)
    	/usr/local/go/src/runtime/chan.go:577 +0x36f
    runtime.chanrecv1(0xc000042070, 0x0)
    	/usr/local/go/src/runtime/chan.go:439 +0x2b
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:219 +0x95
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f744c5f1f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f744c5f1f47
    stack: frame={sp:0x7ffeb17c0bb0, fp:0x0} stack=[0x7ffeb0fc20b0,0x7ffeb17c10e0)
    00007ffeb17c0ab0:  0000000000000001  0000000000000000 
    00007ffeb17c0ac0:  0000000000000000  000000c420081fe0 
    00007ffeb17c0ad0:  0000000000000000  0000000000000000 
    00007ffeb17c0ae0:  0000000000000000  0000000000000000 
    00007ffeb17c0af0:  0000000000000003  000000c420081fd8 
    00007ffeb17c0b00:  0000000000000000  0000000000000120 
    00007ffeb17c0b10:  0000001300000000  0000000000000007 
    00007ffeb17c0b20:  0000000000000130  000055dddde8c098 
    00007ffeb17c0b30:  0000000000000150  ffffffffffffffa8 
    00007ffeb17c0b40:  0000000000000004  0000003400000013 
    00007ffeb17c0b50:  0000000000000000  0000000000000000 
    00007ffeb17c0b60:  0000000000000000  000000770000007c 
    00007ffeb17c0b70:  0000005b0000006e  0000000000055728 
    00007ffeb17c0b80:  0000000000000000  0000000000020ab0 
    00007ffeb17c0b90:  0000000000000120  00007f744cbd6307 
    00007ffeb17c0ba0:  000055dddde8c550  0000000000000001 
    00007ffeb17c0bb0: <0000000000000000  000055dddde8c570 
    00007ffeb17c0bc0:  00007f744cde30d0  00007ffeb17c0c08 
    00007ffeb17c0bd0:  000055dddc1f3582 <runtime.step+290>  000055dddcf4f232 
    00007ffeb17c0be0:  000000000030da24  000000000030da24 
    00007ffeb17c0bf0:  0000029300000002  000000504c9abec5 
    00007ffeb17c0c00:  000000000030da24  00007ffeb17c0cb8 
    00007ffeb17c0c10:  000055dddc1f2936 <runtime.pcvalue+342>  000055dddcf65828 
    00007ffeb17c0c20:  00000000002f742e  00000000002f742e 
    00007ffeb17c0c30:  fffffffe7fffffff  ffffffffffffffff 
    00007ffeb17c0c40:  ffffffffffffffff  ffffffffffffffff 
    00007ffeb17c0c50:  ffffffffffffffff  ffffffffffffffff 
    00007ffeb17c0c60:  ffffffffffffffff  ffffffffffffffff 
    00007ffeb17c0c70:  ffffffffffffffff  ffffffffffffffff 
    00007ffeb17c0c80:  ffffffffffffffff  ffffffffffffffff 
    00007ffeb17c0c90:  ffffffffffffffff  ffffffffffffffff 
    00007ffeb17c0ca0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f744c5f1f47
    stack: frame={sp:0x7ffeb17c0bb0, fp:0x0} stack=[0x7ffeb0fc20b0,0x7ffeb17c10e0)
    00007ffeb17c0ab0:  0000000000000001  0000000000000000 
    00007ffeb17c0ac0:  0000000000000000  000000c420081fe0 
    00007ffeb17c0ad0:  0000000000000000  0000000000000000 
    00007ffeb17c0ae0:  0000000000000000  0000000000000000 
    00007ffeb17c0af0:  0000000000000003  000000c420081fd8 
    00007ffeb17c0b00:  0000000000000000  0000000000000120 
    00007ffeb17c0b10:  0000001300000000  0000000000000007 
    00007ffeb17c0b20:  0000000000000130  000055dddde8c098 
    00007ffeb17c0b30:  0000000000000150  ffffffffffffffa8 
    00007ffeb17c0b40:  0000000000000004  0000003400000013 
    00007ffeb17c0b50:  0000000000000000  0000000000000000 
    00007ffeb17c0b60:  0000000000000000  000000770000007c 
    00007ffeb17c0b70:  0000005b0000006e  0000000000055728 
    00007ffeb17c0b80:  0000000000000000  0000000000020ab0 
    00007ffeb17c0b90:  0000000000000120  00007f744cbd6307 
    00007ffeb17c0ba0:  000055dddde8c550  0000000000000001 
    00007ffeb17c0bb0: <0000000000000000  000055dddde8c570 
    00007ffeb17c0bc0:  00007f744cde30d0  00007ffeb17c0c08 
    00007ffeb17c0bd0:  000055dddc1f3582 <runtime.step+290>  000055dddcf4f232 
    00007ffeb17c0be0:  000000000030da24  000000000030da24 
    00007ffeb17c0bf0:  0000029300000002  000000504c9abec5 
    00007ffeb17c0c00:  000000000030da24  00007ffeb17c0cb8 
    00007ffeb17c0c10:  000055dddc1f2936 <runtime.pcvalue+342>  000055dddcf65828 
    00007ffeb17c0c20:  00000000002f742e  00000000002f742e 
    00007ffeb17c0c30:  fffffffe7fffffff  ffffffffffffffff 
    00007ffeb17c0c40:  ffffffffffffffff  ffffffffffffffff 
    00007ffeb17c0c50:  ffffffffffffffff  ffffffffffffffff 
    00007ffeb17c0c60:  ffffffffffffffff  ffffffffffffffff 
    00007ffeb17c0c70:  ffffffffffffffff  ffffffffffffffff 
    00007ffeb17c0c80:  ffffffffffffffff  ffffffffffffffff 
    00007ffeb17c0c90:  ffffffffffffffff  ffffffffffffffff 
    00007ffeb17c0ca0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x55dddc89fa30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x55dddc201bcf
    runtime.newm1(0xc420094400)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x55dddc1db6b1
    runtime.newm(0x55dddcecbb08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x55dddc1db52f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x55dddc1db791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x55dddc1d74b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x55dddc202f31
    
    rax    0x0
    rbx    0x7f744c99f840
    rcx    0x7f744c5f1f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffeb17c0bb0
    rbp    0x55dddc9d132a
    rsp    0x7ffeb17c0bb0
    r8     0x0
    r9     0x7ffeb17c0bb0
    r10    0x8
    r11    0x246
    r12    0x55dddde8c690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f744c5f1f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
