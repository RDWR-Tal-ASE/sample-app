apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7faaf7753f47 m=3 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7faaf7753f47
    stack: frame={sp:0x7faaf6f12810, fp:0x0} stack=[0x7faaf6713290,0x7faaf6f12e90)
    00007faaf6f12710:  0000000000000000  0000000000000000 
    00007faaf6f12720:  0000000000000000  0000000000000000 
    00007faaf6f12730:  0000000000000000  0000000000000000 
    00007faaf6f12740:  0000000000000000  0000000000000000 
    00007faaf6f12750:  0000000000000000  0000000000000000 
    00007faaf6f12760:  0000000000000000  0000000000000000 
    00007faaf6f12770:  0000000000000000  0000000000000000 
    00007faaf6f12780:  0000000000000000  0000000000000000 
    00007faaf6f12790:  0000000000000000  0000000000000000 
    00007faaf6f127a0:  0000000000000000  0000000000000000 
    00007faaf6f127b0:  0000000000000000  0000000000000000 
    00007faaf6f127c0:  0000000000000000  0000000000000000 
    00007faaf6f127d0:  0000000000000000  0000000000000000 
    00007faaf6f127e0:  0000000000000000  0000000000000000 
    00007faaf6f127f0:  0000000000000000  0000000000000000 
    00007faaf6f12800:  0000000000000000  0000000000000000 
    00007faaf6f12810: <0000000000000000  0000000000000000 
    00007faaf6f12820:  0000000000000000  0000000000000000 
    00007faaf6f12830:  0000000000000000  0000000000000000 
    00007faaf6f12840:  0000000000000000  0000000000000000 
    00007faaf6f12850:  0000000000000000  0000000000000000 
    00007faaf6f12860:  0000000000000000  0000000000000000 
    00007faaf6f12870:  0000000000000000  0000000000000000 
    00007faaf6f12880:  0000000000000000  0000000000000000 
    00007faaf6f12890:  fffffffe7fffffff  ffffffffffffffff 
    00007faaf6f128a0:  ffffffffffffffff  ffffffffffffffff 
    00007faaf6f128b0:  ffffffffffffffff  ffffffffffffffff 
    00007faaf6f128c0:  ffffffffffffffff  ffffffffffffffff 
    00007faaf6f128d0:  ffffffffffffffff  ffffffffffffffff 
    00007faaf6f128e0:  ffffffffffffffff  ffffffffffffffff 
    00007faaf6f128f0:  ffffffffffffffff  ffffffffffffffff 
    00007faaf6f12900:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7faaf7753f47
    stack: frame={sp:0x7faaf6f12810, fp:0x0} stack=[0x7faaf6713290,0x7faaf6f12e90)
    00007faaf6f12710:  0000000000000000  0000000000000000 
    00007faaf6f12720:  0000000000000000  0000000000000000 
    00007faaf6f12730:  0000000000000000  0000000000000000 
    00007faaf6f12740:  0000000000000000  0000000000000000 
    00007faaf6f12750:  0000000000000000  0000000000000000 
    00007faaf6f12760:  0000000000000000  0000000000000000 
    00007faaf6f12770:  0000000000000000  0000000000000000 
    00007faaf6f12780:  0000000000000000  0000000000000000 
    00007faaf6f12790:  0000000000000000  0000000000000000 
    00007faaf6f127a0:  0000000000000000  0000000000000000 
    00007faaf6f127b0:  0000000000000000  0000000000000000 
    00007faaf6f127c0:  0000000000000000  0000000000000000 
    00007faaf6f127d0:  0000000000000000  0000000000000000 
    00007faaf6f127e0:  0000000000000000  0000000000000000 
    00007faaf6f127f0:  0000000000000000  0000000000000000 
    00007faaf6f12800:  0000000000000000  0000000000000000 
    00007faaf6f12810: <0000000000000000  0000000000000000 
    00007faaf6f12820:  0000000000000000  0000000000000000 
    00007faaf6f12830:  0000000000000000  0000000000000000 
    00007faaf6f12840:  0000000000000000  0000000000000000 
    00007faaf6f12850:  0000000000000000  0000000000000000 
    00007faaf6f12860:  0000000000000000  0000000000000000 
    00007faaf6f12870:  0000000000000000  0000000000000000 
    00007faaf6f12880:  0000000000000000  0000000000000000 
    00007faaf6f12890:  fffffffe7fffffff  ffffffffffffffff 
    00007faaf6f128a0:  ffffffffffffffff  ffffffffffffffff 
    00007faaf6f128b0:  ffffffffffffffff  ffffffffffffffff 
    00007faaf6f128c0:  ffffffffffffffff  ffffffffffffffff 
    00007faaf6f128d0:  ffffffffffffffff  ffffffffffffffff 
    00007faaf6f128e0:  ffffffffffffffff  ffffffffffffffff 
    00007faaf6f128f0:  ffffffffffffffff  ffffffffffffffff 
    00007faaf6f12900:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    	goroutine running on other thread; stack unavailable
    
    rax    0x0
    rbx    0x7faaf7b01840
    rcx    0x7faaf7753f47
    rdx    0x0
    rdi    0x2
    rsi    0x7faaf6f12810
    rbp    0x56507b74032a
    rsp    0x7faaf6f12810
    r8     0x0
    r9     0x7faaf6f12810
    r10    0x8
    r11    0x246
    r12    0x56507cff53f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7faaf7753f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 4 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    runtime: failed to create new OS thread (have 5 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062800)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062800)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x0, 0xc000046000, 0x3)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0xc000046000, 0x2a6cc00)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.handoffp(0xc000046000)
    	/usr/local/go/src/runtime/proc.go:2001 +0x52
    runtime.stoplockedm()
    	/usr/local/go/src/runtime/proc.go:2075 +0xf7
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2611 +0x48c
    runtime.park_m(0xc000000180)
    	/usr/local/go/src/runtime/proc.go:2845 +0x9d
    runtime.mcall(0x0)
    	/usr/local/go/src/runtime/asm_amd64.s:318 +0x5b
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x1bb7a80, 0xc0000420c8, 0x170e, 0x2)
    	/usr/local/go/src/runtime/proc.go:306 +0xe5
    runtime.chanrecv(0xc000042070, 0x0, 0xc000000101, 0x41a55e)
    	/usr/local/go/src/runtime/chan.go:577 +0x36f
    runtime.chanrecv1(0xc000042070, 0x0)
    	/usr/local/go/src/runtime/chan.go:439 +0x2b
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:219 +0x95
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000088000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000088000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc00004b000, 0x4)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000073f01)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.resetspinning()
    	/usr/local/go/src/runtime/proc.go:2533 +0x59
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2684 +0x2b9
    runtime.mstart1()
    	/usr/local/go/src/runtime/proc.go:1179 +0x93
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1137 +0x6e
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fa9db096f47 m=3 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fa9db096f47
    stack: frame={sp:0x7fa9da855810, fp:0x0} stack=[0x7fa9da056290,0x7fa9da855e90)
    00007fa9da855710:  0000000000000000  0000000000000000 
    00007fa9da855720:  0000000000000000  0000000000000000 
    00007fa9da855730:  0000000000000000  0000000000000000 
    00007fa9da855740:  0000000000000000  0000000000000000 
    00007fa9da855750:  0000000000000000  0000000000000000 
    00007fa9da855760:  0000000000000000  0000000000000000 
    00007fa9da855770:  0000000000000000  0000000000000000 
    00007fa9da855780:  0000000000000000  0000000000000000 
    00007fa9da855790:  0000000000000000  0000000000000000 
    00007fa9da8557a0:  0000000000000000  0000000000000000 
    00007fa9da8557b0:  0000000000000000  0000000000000000 
    00007fa9da8557c0:  0000000000000000  0000000000000000 
    00007fa9da8557d0:  0000000000000000  0000000000000000 
    00007fa9da8557e0:  0000000000000000  0000000000000000 
    00007fa9da8557f0:  0000000000000000  0000000000000000 
    00007fa9da855800:  0000000000000000  0000000000000000 
    00007fa9da855810: <0000000000000000  0000000000000000 
    00007fa9da855820:  0000000000000000  0000000000000000 
    00007fa9da855830:  0000000000000000  0000000000000000 
    00007fa9da855840:  0000000000000000  0000000000000000 
    00007fa9da855850:  0000000000000000  0000000000000000 
    00007fa9da855860:  0000000000000000  0000000000000000 
    00007fa9da855870:  0000000000000000  0000000000000000 
    00007fa9da855880:  0000000000000000  0000000000000000 
    00007fa9da855890:  fffffffe7fffffff  ffffffffffffffff 
    00007fa9da8558a0:  ffffffffffffffff  ffffffffffffffff 
    00007fa9da8558b0:  ffffffffffffffff  ffffffffffffffff 
    00007fa9da8558c0:  ffffffffffffffff  ffffffffffffffff 
    00007fa9da8558d0:  ffffffffffffffff  ffffffffffffffff 
    00007fa9da8558e0:  ffffffffffffffff  ffffffffffffffff 
    00007fa9da8558f0:  ffffffffffffffff  ffffffffffffffff 
    00007fa9da855900:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fa9db096f47
    stack: frame={sp:0x7fa9da855810, fp:0x0} stack=[0x7fa9da056290,0x7fa9da855e90)
    00007fa9da855710:  0000000000000000  0000000000000000 
    00007fa9da855720:  0000000000000000  0000000000000000 
    00007fa9da855730:  0000000000000000  0000000000000000 
    00007fa9da855740:  0000000000000000  0000000000000000 
    00007fa9da855750:  0000000000000000  0000000000000000 
    00007fa9da855760:  0000000000000000  0000000000000000 
    00007fa9da855770:  0000000000000000  0000000000000000 
    00007fa9da855780:  0000000000000000  0000000000000000 
    00007fa9da855790:  0000000000000000  0000000000000000 
    00007fa9da8557a0:  0000000000000000  0000000000000000 
    00007fa9da8557b0:  0000000000000000  0000000000000000 
    00007fa9da8557c0:  0000000000000000  0000000000000000 
    00007fa9da8557d0:  0000000000000000  0000000000000000 
    00007fa9da8557e0:  0000000000000000  0000000000000000 
    00007fa9da8557f0:  0000000000000000  0000000000000000 
    00007fa9da855800:  0000000000000000  0000000000000000 
    00007fa9da855810: <0000000000000000  0000000000000000 
    00007fa9da855820:  0000000000000000  0000000000000000 
    00007fa9da855830:  0000000000000000  0000000000000000 
    00007fa9da855840:  0000000000000000  0000000000000000 
    00007fa9da855850:  0000000000000000  0000000000000000 
    00007fa9da855860:  0000000000000000  0000000000000000 
    00007fa9da855870:  0000000000000000  0000000000000000 
    00007fa9da855880:  0000000000000000  0000000000000000 
    00007fa9da855890:  fffffffe7fffffff  ffffffffffffffff 
    00007fa9da8558a0:  ffffffffffffffff  ffffffffffffffff 
    00007fa9da8558b0:  ffffffffffffffff  ffffffffffffffff 
    00007fa9da8558c0:  ffffffffffffffff  ffffffffffffffff 
    00007fa9da8558d0:  ffffffffffffffff  ffffffffffffffff 
    00007fa9da8558e0:  ffffffffffffffff  ffffffffffffffff 
    00007fa9da8558f0:  ffffffffffffffff  ffffffffffffffff 
    00007fa9da855900:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    	goroutine running on other thread; stack unavailable
    
    rax    0x0
    rbx    0x7fa9db444840
    rcx    0x7fa9db096f47
    rdx    0x0
    rdi    0x2
    rsi    0x7fa9da855810
    rbp    0x55a3966de32a
    rsp    0x7fa9da855810
    r8     0x0
    r9     0x7fa9da855810
    r10    0x8
    r11    0x246
    r12    0x55a3989433f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fa9db096f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
