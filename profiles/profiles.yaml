apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f267e00bf47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f267e00bf47
    stack: frame={sp:0x7fff485b4dd0, fp:0x0} stack=[0x7fff47db62d0,0x7fff485b5300)
    00007fff485b4cd0:  0000000000000001  0000000000000000 
    00007fff485b4ce0:  0000000000000000  0000000000000000 
    00007fff485b4cf0:  00007f267e3b9560  00007f267e3bcbc0 
    00007fff485b4d00:  000000c42006ffd0  00005630d43263e0 <runtime.main+208> 
    00007fff485b4d10:  00005630d501a970  0000000000000000 
    00007fff485b4d20:  0000000000000000  0000000000000000 
    00007fff485b4d30:  0000000000000000  0000000000000000 
    00007fff485b4d40:  0000000000000000  0000000000000000 
    00007fff485b4d50:  000000c420000180  0000000000000000 
    00007fff485b4d60:  00005630d43263e0 <runtime.main+208>  00005630d501a970 
    00007fff485b4d70:  0000000000000000  0000000000000000 
    00007fff485b4d80:  0000000000000000  0000000000000000 
    00007fff485b4d90:  0000000000000000  0000000000000000 
    00007fff485b4da0:  0000000000000000  000000c420000180 
    00007fff485b4db0:  0000000000000000  00005630d4351f31 <runtime.goexit+1> 
    00007fff485b4dc0:  0000000000000000  0000000000000000 
    00007fff485b4dd0: <0000000000000000  0000000000000000 
    00007fff485b4de0:  00007f267e7fd0d0  00007fff485b4e28 
    00007fff485b4df0:  00005630d4342582 <runtime.step+290>  00005630d509e232 
    00007fff485b4e00:  000000000030da24  000000000030da24 
    00007fff485b4e10:  0000029300000002  000000507e3c5ec5 
    00007fff485b4e20:  000000000030da24  00007fff485b4ed8 
    00007fff485b4e30:  00005630d4341936 <runtime.pcvalue+342>  00005630d50b4828 
    00007fff485b4e40:  0000000000000002  0000000000000000 
    00007fff485b4e50:  fffffffe7fffffff  ffffffffffffffff 
    00007fff485b4e60:  ffffffffffffffff  ffffffffffffffff 
    00007fff485b4e70:  ffffffffffffffff  ffffffffffffffff 
    00007fff485b4e80:  ffffffffffffffff  ffffffffffffffff 
    00007fff485b4e90:  ffffffffffffffff  ffffffffffffffff 
    00007fff485b4ea0:  ffffffffffffffff  ffffffffffffffff 
    00007fff485b4eb0:  ffffffffffffffff  ffffffffffffffff 
    00007fff485b4ec0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f267e00bf47
    stack: frame={sp:0x7fff485b4dd0, fp:0x0} stack=[0x7fff47db62d0,0x7fff485b5300)
    00007fff485b4cd0:  0000000000000001  0000000000000000 
    00007fff485b4ce0:  0000000000000000  0000000000000000 
    00007fff485b4cf0:  00007f267e3b9560  00007f267e3bcbc0 
    00007fff485b4d00:  000000c42006ffd0  00005630d43263e0 <runtime.main+208> 
    00007fff485b4d10:  00005630d501a970  0000000000000000 
    00007fff485b4d20:  0000000000000000  0000000000000000 
    00007fff485b4d30:  0000000000000000  0000000000000000 
    00007fff485b4d40:  0000000000000000  0000000000000000 
    00007fff485b4d50:  000000c420000180  0000000000000000 
    00007fff485b4d60:  00005630d43263e0 <runtime.main+208>  00005630d501a970 
    00007fff485b4d70:  0000000000000000  0000000000000000 
    00007fff485b4d80:  0000000000000000  0000000000000000 
    00007fff485b4d90:  0000000000000000  0000000000000000 
    00007fff485b4da0:  0000000000000000  000000c420000180 
    00007fff485b4db0:  0000000000000000  00005630d4351f31 <runtime.goexit+1> 
    00007fff485b4dc0:  0000000000000000  0000000000000000 
    00007fff485b4dd0: <0000000000000000  0000000000000000 
    00007fff485b4de0:  00007f267e7fd0d0  00007fff485b4e28 
    00007fff485b4df0:  00005630d4342582 <runtime.step+290>  00005630d509e232 
    00007fff485b4e00:  000000000030da24  000000000030da24 
    00007fff485b4e10:  0000029300000002  000000507e3c5ec5 
    00007fff485b4e20:  000000000030da24  00007fff485b4ed8 
    00007fff485b4e30:  00005630d4341936 <runtime.pcvalue+342>  00005630d50b4828 
    00007fff485b4e40:  0000000000000002  0000000000000000 
    00007fff485b4e50:  fffffffe7fffffff  ffffffffffffffff 
    00007fff485b4e60:  ffffffffffffffff  ffffffffffffffff 
    00007fff485b4e70:  ffffffffffffffff  ffffffffffffffff 
    00007fff485b4e80:  ffffffffffffffff  ffffffffffffffff 
    00007fff485b4e90:  ffffffffffffffff  ffffffffffffffff 
    00007fff485b4ea0:  ffffffffffffffff  ffffffffffffffff 
    00007fff485b4eb0:  ffffffffffffffff  ffffffffffffffff 
    00007fff485b4ec0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x5630d49eea30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x5630d4350bcf
    runtime.newm1(0xc420061000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x5630d432a6b1
    runtime.newm(0x5630d501ab08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x5630d432a52f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x5630d432a791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x5630d43264b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x5630d4351f31
    
    rax    0x0
    rbx    0x7f267e3b9840
    rcx    0x7f267e00bf47
    rdx    0x0
    rdi    0x2
    rsi    0x7fff485b4dd0
    rbp    0x5630d4b2032a
    rsp    0x7fff485b4dd0
    r8     0x0
    r9     0x7fff485b4dd0
    r10    0x8
    r11    0x246
    r12    0x5630d5617690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f267e00bf47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 5 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000088000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000088000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc00004b000, 0x4)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000073f01)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.resetspinning()
    	/usr/local/go/src/runtime/proc.go:2533 +0x59
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2684 +0x2b9
    runtime.mstart1()
    	/usr/local/go/src/runtime/proc.go:1179 +0x93
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1137 +0x6e
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x1bb7a80, 0xc0000420c8, 0x170e, 0x2)
    	/usr/local/go/src/runtime/proc.go:306 +0xe5
    runtime.chanrecv(0xc000042070, 0x0, 0xc000000101, 0x410101)
    	/usr/local/go/src/runtime/chan.go:577 +0x36f
    runtime.chanrecv1(0xc000042070, 0x0)
    	/usr/local/go/src/runtime/chan.go:439 +0x2b
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:220 +0xac
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fd2cbc28f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fd2cbc28f47
    stack: frame={sp:0x7ffef1600b30, fp:0x0} stack=[0x7ffef0e02030,0x7ffef1601060)
    00007ffef1600a30:  0000000000000003  00005570f91165c0 
    00007ffef1600a40:  0000000000000000  000000c420081fe0 
    00007ffef1600a50:  0000000000000000  0000000000000000 
    00007ffef1600a60:  0000000000000000  0000000000000000 
    00007ffef1600a70:  0000000000000003  800d9a8f425d0d00 
    00007ffef1600a80:  0000000000000000  00000000000f4240 
    00007ffef1600a90:  00005570fab9e540  00005570f91165c0 
    00007ffef1600aa0:  00007ffef1600b40  0000000000000000 
    00007ffef1600ab0:  00007ffef1600b30  00005570f9116520 
    00007ffef1600ac0:  0000000000000004  00007ffef1600ad0 
    00007ffef1600ad0:  0000000000000000  0000000000000000 
    00007ffef1600ae0:  0000000000000000  800d9a8f425d0d00 
    00007ffef1600af0:  0000000000000000  00007ffef1600b40 
    00007ffef1600b00:  00007ffef1600c00  00005570fab9e540 
    00007ffef1600b10:  00000000000000f1  800d9a8f425d0d00 
    00007ffef1600b20:  0000000000000000  00005570f9116753 
    00007ffef1600b30: <0000000000000000  0000000000800000 
    00007ffef1600b40:  0000000000000000  00007ffef1600b88 
    00007ffef1600b50:  00005570f8a6a582 <runtime.step+290>  00005570f97c6232 
    00007ffef1600b60:  000000000030da24  000000000030da24 
    00007ffef1600b70:  0000029300000002  00000050cc3dada8 
    00007ffef1600b80:  000000000030da24  00007ffef1600c38 
    00007ffef1600b90:  00005570f8a69936 <runtime.pcvalue+342>  00005570f97dc828 
    00007ffef1600ba0:  00000000002f742e  00000000002f742e 
    00007ffef1600bb0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffef1600bc0:  ffffffffffffffff  ffffffffffffffff 
    00007ffef1600bd0:  ffffffffffffffff  ffffffffffffffff 
    00007ffef1600be0:  ffffffffffffffff  ffffffffffffffff 
    00007ffef1600bf0:  ffffffffffffffff  ffffffffffffffff 
    00007ffef1600c00:  ffffffffffffffff  ffffffffffffffff 
    00007ffef1600c10:  ffffffffffffffff  ffffffffffffffff 
    00007ffef1600c20:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fd2cbc28f47
    stack: frame={sp:0x7ffef1600b30, fp:0x0} stack=[0x7ffef0e02030,0x7ffef1601060)
    00007ffef1600a30:  0000000000000003  00005570f91165c0 
    00007ffef1600a40:  0000000000000000  000000c420081fe0 
    00007ffef1600a50:  0000000000000000  0000000000000000 
    00007ffef1600a60:  0000000000000000  0000000000000000 
    00007ffef1600a70:  0000000000000003  800d9a8f425d0d00 
    00007ffef1600a80:  0000000000000000  00000000000f4240 
    00007ffef1600a90:  00005570fab9e540  00005570f91165c0 
    00007ffef1600aa0:  00007ffef1600b40  0000000000000000 
    00007ffef1600ab0:  00007ffef1600b30  00005570f9116520 
    00007ffef1600ac0:  0000000000000004  00007ffef1600ad0 
    00007ffef1600ad0:  0000000000000000  0000000000000000 
    00007ffef1600ae0:  0000000000000000  800d9a8f425d0d00 
    00007ffef1600af0:  0000000000000000  00007ffef1600b40 
    00007ffef1600b00:  00007ffef1600c00  00005570fab9e540 
    00007ffef1600b10:  00000000000000f1  800d9a8f425d0d00 
    00007ffef1600b20:  0000000000000000  00005570f9116753 
    00007ffef1600b30: <0000000000000000  0000000000800000 
    00007ffef1600b40:  0000000000000000  00007ffef1600b88 
    00007ffef1600b50:  00005570f8a6a582 <runtime.step+290>  00005570f97c6232 
    00007ffef1600b60:  000000000030da24  000000000030da24 
    00007ffef1600b70:  0000029300000002  00000050cc3dada8 
    00007ffef1600b80:  000000000030da24  00007ffef1600c38 
    00007ffef1600b90:  00005570f8a69936 <runtime.pcvalue+342>  00005570f97dc828 
    00007ffef1600ba0:  00000000002f742e  00000000002f742e 
    00007ffef1600bb0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffef1600bc0:  ffffffffffffffff  ffffffffffffffff 
    00007ffef1600bd0:  ffffffffffffffff  ffffffffffffffff 
    00007ffef1600be0:  ffffffffffffffff  ffffffffffffffff 
    00007ffef1600bf0:  ffffffffffffffff  ffffffffffffffff 
    00007ffef1600c00:  ffffffffffffffff  ffffffffffffffff 
    00007ffef1600c10:  ffffffffffffffff  ffffffffffffffff 
    00007ffef1600c20:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x5570f9116a30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x5570f8a78bcf
    runtime.newm1(0xc420094400)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x5570f8a526b1
    runtime.newm(0x5570f9742b08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x5570f8a5252f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x5570f8a52791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x5570f8a4e4b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x5570f8a79f31
    
    rax    0x0
    rbx    0x7fd2cbfd6840
    rcx    0x7fd2cbc28f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffef1600b30
    rbp    0x5570f924832a
    rsp    0x7ffef1600b30
    r8     0x0
    r9     0x7ffef1600b30
    r10    0x8
    r11    0x246
    r12    0x5570fab9e690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fd2cbc28f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
