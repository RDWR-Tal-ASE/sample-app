apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fe0d6a3ef47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fe0d6a3ef47
    stack: frame={sp:0x7ffc579cd3e0, fp:0x0} stack=[0x7ffc571cea80,0x7ffc579cdab0)
    00007ffc579cd2e0:  000055e934949683 <runtime.main+883>  000000000030da24 
    00007ffc579cd2f0:  0000029300000002  00000050d702775a 
    00007ffc579cd300:  000000000030da24  00007ffc579cd3b8 
    00007ffc579cd310:  000055e934964936 <runtime.pcvalue+342>  000055e9356d7828 
    00007ffc579cd320:  00000000002f742e  00000000002f742e 
    00007ffc579cd330:  00007ffc579cd370  00007ffc579cd36c 
    00007ffc579cd340:  000055e9359eb301  000055e9356d782a 
    00007ffc579cd350:  00000000002f742c  00000000002f742c 
    00007ffc579cd360:  0000000000000001  0000000040000000 
    00007ffc579cd370:  00007ffc579cd428  000055e93495f75f <runtime.adjustframe+175> 
    00007ffc579cd380:  000055e9356d77f0  000055e9359eb3c0 
    00007ffc579cd390:  00007ffc00000000  000055e934974f30 <runtime.goexit+0> 
    00007ffc579cd3a0:  00007ffc579cd7e0  00000000ffffffff 
    00007ffc579cd3b0:  00000000579cd340  000055e934974f30 <runtime.goexit+0> 
    00007ffc579cd3c0:  000055e9349651c1 <runtime.funcspdelta+97>  000055e9356d77f0 
    00007ffc579cd3d0:  000055e9359eb3c0  00007ffc0006f548 
    00007ffc579cd3e0: <0000000000000000  00007ffc579cd540 
    00007ffc579cd3f0:  000055e9350d1201  000055e9356d77f0 
    00007ffc579cd400:  000055e9359eb3c0  0000000000000000 
    00007ffc579cd410:  0000000000000000  000055e934974f31 <runtime.goexit+1> 
    00007ffc579cd420:  000055e9359eb3c0  00007ffc579cd730 
    00007ffc579cd430:  000055e934969962 <runtime.gentraceback+4850>  00007ffc579cd6d8 
    00007ffc579cd440:  00007ffc579cd7c8  000055e9359eb301 
    00007ffc579cd450:  00007ffc579cd501  0000000000000000 
    00007ffc579cd460:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc579cd470:  ffffffffffffffff  ffffffffffffffff 
    00007ffc579cd480:  ffffffffffffffff  ffffffffffffffff 
    00007ffc579cd490:  ffffffffffffffff  ffffffffffffffff 
    00007ffc579cd4a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc579cd4b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc579cd4c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc579cd4d0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fe0d6a3ef47
    stack: frame={sp:0x7ffc579cd3e0, fp:0x0} stack=[0x7ffc571cea80,0x7ffc579cdab0)
    00007ffc579cd2e0:  000055e934949683 <runtime.main+883>  000000000030da24 
    00007ffc579cd2f0:  0000029300000002  00000050d702775a 
    00007ffc579cd300:  000000000030da24  00007ffc579cd3b8 
    00007ffc579cd310:  000055e934964936 <runtime.pcvalue+342>  000055e9356d7828 
    00007ffc579cd320:  00000000002f742e  00000000002f742e 
    00007ffc579cd330:  00007ffc579cd370  00007ffc579cd36c 
    00007ffc579cd340:  000055e9359eb301  000055e9356d782a 
    00007ffc579cd350:  00000000002f742c  00000000002f742c 
    00007ffc579cd360:  0000000000000001  0000000040000000 
    00007ffc579cd370:  00007ffc579cd428  000055e93495f75f <runtime.adjustframe+175> 
    00007ffc579cd380:  000055e9356d77f0  000055e9359eb3c0 
    00007ffc579cd390:  00007ffc00000000  000055e934974f30 <runtime.goexit+0> 
    00007ffc579cd3a0:  00007ffc579cd7e0  00000000ffffffff 
    00007ffc579cd3b0:  00000000579cd340  000055e934974f30 <runtime.goexit+0> 
    00007ffc579cd3c0:  000055e9349651c1 <runtime.funcspdelta+97>  000055e9356d77f0 
    00007ffc579cd3d0:  000055e9359eb3c0  00007ffc0006f548 
    00007ffc579cd3e0: <0000000000000000  00007ffc579cd540 
    00007ffc579cd3f0:  000055e9350d1201  000055e9356d77f0 
    00007ffc579cd400:  000055e9359eb3c0  0000000000000000 
    00007ffc579cd410:  0000000000000000  000055e934974f31 <runtime.goexit+1> 
    00007ffc579cd420:  000055e9359eb3c0  00007ffc579cd730 
    00007ffc579cd430:  000055e934969962 <runtime.gentraceback+4850>  00007ffc579cd6d8 
    00007ffc579cd440:  00007ffc579cd7c8  000055e9359eb301 
    00007ffc579cd450:  00007ffc579cd501  0000000000000000 
    00007ffc579cd460:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc579cd470:  ffffffffffffffff  ffffffffffffffff 
    00007ffc579cd480:  ffffffffffffffff  ffffffffffffffff 
    00007ffc579cd490:  ffffffffffffffff  ffffffffffffffff 
    00007ffc579cd4a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc579cd4b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc579cd4c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc579cd4d0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x55e93563da60, 0xc4200380c8, 0x55e93501b704, 0xc, 0xc42003ce17, 0x3)
    	/usr/lib/go-1.10/src/runtime/proc.go:291 +0x120
    runtime.goparkunlock(0xc4200380c8, 0x55e93501b704, 0xc, 0x17, 0x3)
    	/usr/lib/go-1.10/src/runtime/proc.go:297 +0x60
    runtime.chanrecv(0xc420038070, 0x0, 0x1, 0x55e9349348aa)
    	/usr/lib/go-1.10/src/runtime/chan.go:518 +runtime/cgo: 0x2f6
    runtime.chanrecv1(0xc420038070, 0x0)
    	/usr/lib/go-1.10/src/runtime/chan.go:400pthread_create failed: Resource temporarily unavailable +0x2b
    
    runtime.gcenable()
    	/usr/lib/go-1.10/src/runtime/mgc.go:217 +0x71
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:161 +0x126
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1
    
    rax    0x0
    rbx    0x7fe0d6dec840
    rcx    0x7fe0d6a3ef47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffc579cd3e0
    rbp    0x55e93514332a
    rsp    0x7ffc579cd3e0
    r8     0x0
    r9     0x7ffc579cd3e0
    r10    0x8
    r11    0x246
    r12    0x55e936d2c540
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fe0d6a3ef47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 2 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7d48, 0x0, 0xffffffffffffffff)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.main.func1()
    	/usr/local/go/src/runtime/proc.go:135 +0x3f
    runtime.systemstack(0x46c2f4)
    	/usr/local/go/src/runtime/asm_amd64.s:370 +0x66
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1116
    
    goroutine 1 [running]:
    runtime.systemstack_switch()
    	/usr/local/go/src/runtime/asm_amd64.s:330 fp=0xc00005e788 sp=0xc00005e780 pc=0x46c420
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:134 +0x70 fp=0xc00005e7e0 sp=0xc00005e788 pc=0x439ab0
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1 fp=0xc00005e7e8 sp=0xc00005e7e0 pc=0x46e061
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7eff25e62f47 m=3 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7eff25e62f47
    stack: frame={sp:0x7eff25621810, fp:0x0} stack=[0x7eff24e22290,0x7eff25621e90)
    00007eff25621710:  0000000000000000  0000000000000000 
    00007eff25621720:  0000000000000000  0000000000000000 
    00007eff25621730:  0000000000000000  0000000000000000 
    00007eff25621740:  0000000000000000  0000000000000000 
    00007eff25621750:  0000000000000000  0000000000000000 
    00007eff25621760:  0000000000000000  0000000000000000 
    00007eff25621770:  0000000000000000  0000000000000000 
    00007eff25621780:  0000000000000000  0000000000000000 
    00007eff25621790:  0000000000000000  0000000000000000 
    00007eff256217a0:  0000000000000000  0000000000000000 
    00007eff256217b0:  0000000000000000  0000000000000000 
    00007eff256217c0:  0000000000000000  0000000000000000 
    00007eff256217d0:  0000000000000000  0000000000000000 
    00007eff256217e0:  0000000000000000  0000000000000000 
    00007eff256217f0:  0000000000000000  0000000000000000 
    00007eff25621800:  0000000000000000  0000000000000000 
    00007eff25621810: <0000000000000000  0000000000000000 
    00007eff25621820:  0000000000000000  0000000000000000 
    00007eff25621830:  0000000000000000  0000000000000000 
    00007eff25621840:  0000000000000000  0000000000000000 
    00007eff25621850:  0000000000000000  0000000000000000 
    00007eff25621860:  0000000000000000  0000000000000000 
    00007eff25621870:  0000000000000000  0000000000000000 
    00007eff25621880:  0000000000000000  0000000000000000 
    00007eff25621890:  fffffffe7fffffff  ffffffffffffffff 
    00007eff256218a0:  ffffffffffffffff  ffffffffffffffff 
    00007eff256218b0:  ffffffffffffffff  ffffffffffffffff 
    00007eff256218c0:  ffffffffffffffff  ffffffffffffffff 
    00007eff256218d0:  ffffffffffffffff  ffffffffffffffff 
    00007eff256218e0:  ffffffffffffffff  ffffffffffffffff 
    00007eff256218f0:  ffffffffffffffff  ffffffffffffffff 
    00007eff25621900:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7eff25e62f47
    stack: frame={sp:0x7eff25621810, fp:0x0} stack=[0x7eff24e22290,0x7eff25621e90)
    00007eff25621710:  0000000000000000  0000000000000000 
    00007eff25621720:  0000000000000000  0000000000000000 
    00007eff25621730:  0000000000000000  0000000000000000 
    00007eff25621740:  0000000000000000  0000000000000000 
    00007eff25621750:  0000000000000000  0000000000000000 
    00007eff25621760:  0000000000000000  0000000000000000 
    00007eff25621770:  0000000000000000  0000000000000000 
    00007eff25621780:  0000000000000000  0000000000000000 
    00007eff25621790:  0000000000000000  0000000000000000 
    00007eff256217a0:  0000000000000000  0000000000000000 
    00007eff256217b0:  0000000000000000  0000000000000000 
    00007eff256217c0:  0000000000000000  0000000000000000 
    00007eff256217d0:  0000000000000000  0000000000000000 
    00007eff256217e0:  0000000000000000  0000000000000000 
    00007eff256217f0:  0000000000000000  0000000000000000 
    00007eff25621800:  0000000000000000  0000000000000000 
    00007eff25621810: <0000000000000000  0000000000000000 
    00007eff25621820:  0000000000000000  0000000000000000 
    00007eff25621830:  0000000000000000  0000000000000000 
    00007eff25621840:  0000000000000000  0000000000000000 
    00007eff25621850:  0000000000000000  0000000000000000 
    00007eff25621860:  0000000000000000  0000000000000000 
    00007eff25621870:  0000000000000000  0000000000000000 
    00007eff25621880:  0000000000000000  0000000000000000 
    00007eff25621890:  fffffffe7fffffff  ffffffffffffffff 
    00007eff256218a0:  ffffffffffffffff  ffffffffffffffff 
    00007eff256218b0:  ffffffffffffffff  ffffffffffffffff 
    00007eff256218c0:  ffffffffffffffff  ffffffffffffffff 
    00007eff256218d0:  ffffffffffffffff  ffffffffffffffff 
    00007eff256218e0:  ffffffffffffffff  ffffffffffffffff 
    00007eff256218f0:  ffffffffffffffff  ffffffffffffffff 
    00007eff25621900:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [runnable, locked to thread]:
    runtime.gcenable()
    	/usr/lib/go-1.10/src/runtime/mgc.go:214 +0x87
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:161 +0x126
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1
    
    rax    0x0
    rbx    0x7eff26210840
    rcx    0x7eff25e62f47
    rdx    0x0
    rdi    0x2
    rsi    0x7eff25621810
    rbp    0x55717319a32a
    rsp    0x7eff25621810
    r8     0x0
    r9     0x7eff25621810
    r10    0x8
    r11    0x246
    r12    0x5571744b93f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7eff25e62f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
