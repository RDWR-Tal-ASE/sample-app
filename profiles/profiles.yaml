apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f3e9f1e5f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f3e9f1e5f47
    stack: frame={sp:0x7fff1f70e340, fp:0x0} stack=[0x7fff1ef0f840,0x7fff1f70e870)
    00007fff1f70e240:  0000000000000001  0000000000000000 
    00007fff1f70e250:  0000000000000000  000000c420081fe0 
    00007fff1f70e260:  0000000000000000  0000000000000000 
    00007fff1f70e270:  0000000000000000  0000000000000000 
    00007fff1f70e280:  000000c42006ffd0  0000559b5c98b3e0 <runtime.main+208> 
    00007fff1f70e290:  0000559b5d67f970  0000000000000000 
    00007fff1f70e2a0:  0000000000000000  0000000000000000 
    00007fff1f70e2b0:  0000000000000000  0000000000000000 
    00007fff1f70e2c0:  0000000000000000  0000000000000000 
    00007fff1f70e2d0:  000000c420000180  0000000000000000 
    00007fff1f70e2e0:  0000559b5c98b3e0 <runtime.main+208>  0000559b5d67f970 
    00007fff1f70e2f0:  0000000000000000  0000000000000000 
    00007fff1f70e300:  0000000000000000  0000000000000000 
    00007fff1f70e310:  0000000000000000  0000000000000000 
    00007fff1f70e320:  0000000000000000  000000c420000180 
    00007fff1f70e330:  0000000000000000  0000559b5c9b6f31 <runtime.goexit+1> 
    00007fff1f70e340: <0000000000000000  0000000000000000 
    00007fff1f70e350:  0000000000000000  0000000000000000 
    00007fff1f70e360:  0000559b5c9a7582 <runtime.step+290>  0000559b5d703232 
    00007fff1f70e370:  000000000030da24  000000000030da24 
    00007fff1f70e380:  0000029300000002  000000509f59fec5 
    00007fff1f70e390:  000000000030da24  00007fff1f70e448 
    00007fff1f70e3a0:  0000559b5c9a6936 <runtime.pcvalue+342>  0000559b5d719828 
    00007fff1f70e3b0:  00000000002f742e  00000000002f742e 
    00007fff1f70e3c0:  fffffffe7fffffff  ffffffffffffffff 
    00007fff1f70e3d0:  ffffffffffffffff  ffffffffffffffff 
    00007fff1f70e3e0:  ffffffffffffffff  ffffffffffffffff 
    00007fff1f70e3f0:  ffffffffffffffff  ffffffffffffffff 
    00007fff1f70e400:  ffffffffffffffff  ffffffffffffffff 
    00007fff1f70e410:  ffffffffffffffff  ffffffffffffffff 
    00007fff1f70e420:  ffffffffffffffff  ffffffffffffffff 
    00007fff1f70e430:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f3e9f1e5f47
    stack: frame={sp:0x7fff1f70e340, fp:0x0} stack=[0x7fff1ef0f840,0x7fff1f70e870)
    00007fff1f70e240:  0000000000000001  0000000000000000 
    00007fff1f70e250:  0000000000000000  000000c420081fe0 
    00007fff1f70e260:  0000000000000000  0000000000000000 
    00007fff1f70e270:  0000000000000000  0000000000000000 
    00007fff1f70e280:  000000c42006ffd0  0000559b5c98b3e0 <runtime.main+208> 
    00007fff1f70e290:  0000559b5d67f970  0000000000000000 
    00007fff1f70e2a0:  0000000000000000  0000000000000000 
    00007fff1f70e2b0:  0000000000000000  0000000000000000 
    00007fff1f70e2c0:  0000000000000000  0000000000000000 
    00007fff1f70e2d0:  000000c420000180  0000000000000000 
    00007fff1f70e2e0:  0000559b5c98b3e0 <runtime.main+208>  0000559b5d67f970 
    00007fff1f70e2f0:  0000000000000000  0000000000000000 
    00007fff1f70e300:  0000000000000000  0000000000000000 
    00007fff1f70e310:  0000000000000000  0000000000000000 
    00007fff1f70e320:  0000000000000000  000000c420000180 
    00007fff1f70e330:  0000000000000000  0000559b5c9b6f31 <runtime.goexit+1> 
    00007fff1f70e340: <0000000000000000  0000000000000000 
    00007fff1f70e350:  0000000000000000  0000000000000000 
    00007fff1f70e360:  0000559b5c9a7582 <runtime.step+290>  0000559b5d703232 
    00007fff1f70e370:  000000000030da24  000000000030da24 
    00007fff1f70e380:  0000029300000002  000000509f59fec5 
    00007fff1f70e390:  000000000030da24  00007fff1f70e448 
    00007fff1f70e3a0:  0000559b5c9a6936 <runtime.pcvalue+342>  0000559b5d719828 
    00007fff1f70e3b0:  00000000002f742e  00000000002f742e 
    00007fff1f70e3c0:  fffffffe7fffffff  ffffffffffffffff 
    00007fff1f70e3d0:  ffffffffffffffff  ffffffffffffffff 
    00007fff1f70e3e0:  ffffffffffffffff  ffffffffffffffff 
    00007fff1f70e3f0:  ffffffffffffffff  ffffffffffffffff 
    00007fff1f70e400:  ffffffffffffffff  ffffffffffffffff 
    00007fff1f70e410:  ffffffffffffffff  ffffffffffffffff 
    00007fff1f70e420:  ffffffffffffffff  ffffffffffffffff 
    00007fff1f70e430:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x559b5d053a30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x559b5c9b5bcf
    runtime.newm1(0xc420061000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x559b5c98f6b1
    runtime.newm(0x559b5d67fb08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x559b5c98f52f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x559b5c98f791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x559b5c98b4b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x559b5c9b6f31
    
    rax    0x0
    rbx    0x7f3e9f593840
    rcx    0x7f3e9f1e5f47
    rdx    0x0
    rdi    0x2
    rsi    0x7fff1f70e340
    rbp    0x559b5d18532a
    rsp    0x7fff1f70e340
    r8     0x0
    r9     0x7fff1f70e340
    r10    0x8
    r11    0x246
    r12    0x559b5ee03690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f3e9f1e5f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 4 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    runtime: failed to create new OS thread (have 5 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062800)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062800)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x0, 0xc000046000, 0x3)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0xc000046000, 0x2a6cc00)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.handoffp(0xc000046000)
    	/usr/local/go/src/runtime/proc.go:2001 +0x52
    runtime.stoplockedm()
    	/usr/local/go/src/runtime/proc.go:2075 +0xf7
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2611 +0x48c
    runtime.park_m(0xc000000180)
    	/usr/local/go/src/runtime/proc.go:2845 +0x9d
    runtime.mcall(0x0)
    	/usr/local/go/src/runtime/asm_amd64.s:318 +0x5b
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x1bb7a80, 0xc0000420c8, 0x170e, 0x2)
    	/usr/local/go/src/runtime/proc.go:306 +0xe5
    runtime.chanrecv(0xc000042070, 0x0, 0xc000000101, 0x41a55e)
    	/usr/local/go/src/runtime/chan.go:577 +0x36f
    runtime.chanrecv1(0xc000042070, 0x0)
    	/usr/local/go/src/runtime/chan.go:439 +0x2b
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:219 +0x95
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000088000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000088000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc00004b000, 0x4)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000073f01)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.resetspinning()
    	/usr/local/go/src/runtime/proc.go:2533 +0x59
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2684 +0x2b9
    runtime.mstart1()
    	/usr/local/go/src/runtime/proc.go:1179 +0x93
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1137 +0x6e
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f90634bcf47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f90634bcf47
    stack: frame={sp:0x7ffd351ab000, fp:0x0} stack=[0x7ffd349ac840,0x7ffd351ab870)
    00007ffd351aaf00:  00007f9000000005  0000000000000000 
    00007ffd351aaf10:  00007ffd351ab010  0000000000000003 
    00007ffd351aaf20:  00007ffd351ab000  0000000000000000 
    00007ffd351aaf30:  00007f9063cada48  0000000000000000 
    00007ffd351aaf40:  0000000000000004  00007f9063cb69f0 
    00007ffd351aaf50:  0000000000000000  000000009fd7b9dd 
    00007ffd351aaf60:  00007f9063cad358  00007ffd351ab0a8 
    00007ffd351aaf70:  00007f9063cadcf0  00007f9063cad000 
    00007ffd351aaf80:  0000000000000000  00007f9063a9923f 
    00007ffd351aaf90:  0000000000000003  00007f9063cadcf0 
    00007ffd351aafa0:  0000000000000001  0000000000000000 
    00007ffd351aafb0:  0000000000000001  00007f9063cad000 
    00007ffd351aafc0:  00007f9063872125  0000000100000000 
    00007ffd351aafd0:  00007ffd351ab000  00007ffd351ab010 
    00007ffd351aafe0:  00007f9063cad358  0000000000000000 
    00007ffd351aaff0:  0000000000000000  00007ffd351ab038 
    00007ffd351ab000: <0000000000000000  00005598300722d2 
    00007ffd351ab010:  000000000030d984  000000000030d984 
    00007ffd351ab020:  000002a800000002  ffffffff00000000 
    00007ffd351ab030:  000000000030d984  00007ffd351ab0e8 
    00007ffd351ab040:  000055982f315936 <runtime.pcvalue+342>  00005598300722d2 
    00007ffd351ab050:  000000000030d984  000000000030d985 
    00007ffd351ab060:  00007ffd351ab0a0  00007ffd351ab09c 
    00007ffd351ab070:  00007ffd351ab500  00005598300722d4 
    00007ffd351ab080:  fffffffe7fffffff  ffffffffffffffff 
    00007ffd351ab090:  ffffffffffffffff  ffffffffffffffff 
    00007ffd351ab0a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd351ab0b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd351ab0c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd351ab0d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd351ab0e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd351ab0f0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f90634bcf47
    stack: frame={sp:0x7ffd351ab000, fp:0x0} stack=[0x7ffd349ac840,0x7ffd351ab870)
    00007ffd351aaf00:  00007f9000000005  0000000000000000 
    00007ffd351aaf10:  00007ffd351ab010  0000000000000003 
    00007ffd351aaf20:  00007ffd351ab000  0000000000000000 
    00007ffd351aaf30:  00007f9063cada48  0000000000000000 
    00007ffd351aaf40:  0000000000000004  00007f9063cb69f0 
    00007ffd351aaf50:  0000000000000000  000000009fd7b9dd 
    00007ffd351aaf60:  00007f9063cad358  00007ffd351ab0a8 
    00007ffd351aaf70:  00007f9063cadcf0  00007f9063cad000 
    00007ffd351aaf80:  0000000000000000  00007f9063a9923f 
    00007ffd351aaf90:  0000000000000003  00007f9063cadcf0 
    00007ffd351aafa0:  0000000000000001  0000000000000000 
    00007ffd351aafb0:  0000000000000001  00007f9063cad000 
    00007ffd351aafc0:  00007f9063872125  0000000100000000 
    00007ffd351aafd0:  00007ffd351ab000  00007ffd351ab010 
    00007ffd351aafe0:  00007f9063cad358  0000000000000000 
    00007ffd351aaff0:  0000000000000000  00007ffd351ab038 
    00007ffd351ab000: <0000000000000000  00005598300722d2 
    00007ffd351ab010:  000000000030d984  000000000030d984 
    00007ffd351ab020:  000002a800000002  ffffffff00000000 
    00007ffd351ab030:  000000000030d984  00007ffd351ab0e8 
    00007ffd351ab040:  000055982f315936 <runtime.pcvalue+342>  00005598300722d2 
    00007ffd351ab050:  000000000030d984  000000000030d985 
    00007ffd351ab060:  00007ffd351ab0a0  00007ffd351ab09c 
    00007ffd351ab070:  00007ffd351ab500  00005598300722d4 
    00007ffd351ab080:  fffffffe7fffffff  ffffffffffffffff 
    00007ffd351ab090:  ffffffffffffffff  ffffffffffffffff 
    00007ffd351ab0a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd351ab0b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd351ab0c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd351ab0d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd351ab0e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd351ab0f0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [runnable, locked to thread]:
    runtime.chanrecv(0xc420038070, 0x0, 0x1, 0x55982f2e58aa)
    	/usr/lib/go-1.10/src/runtime/chan.go:415 +0x6a0
    runtime.chanrecv1(0xc420038070, 0x0)
    	/usr/lib/go-1.10/src/runtime/chan.go:400 +0x2b
    runtime.gcenable()
    	/usr/lib/go-1.10/src/runtime/mgc.go:217 +0x71
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:161 +0x126
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1
    
    rax    0x0
    rbx    0x7f906386a840
    rcx    0x7f90634bcf47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffd351ab000
    rbp    0x55982faf432a
    rsp    0x7ffd351ab000
    r8     0x0
    r9     0x7ffd351ab000
    r10    0x8
    r11    0x246
    r12    0x55983233d540
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f90634bcf47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
