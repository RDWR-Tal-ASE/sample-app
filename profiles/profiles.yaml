apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fe89b525f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fe89b525f47
    stack: frame={sp:0x7ffda7dda480, fp:0x0} stack=[0x7ffda75db980,0x7ffda7dda9b0)
    00007ffda7dda380:  0000000000000001  0000000000000000 
    00007ffda7dda390:  0000000000000000  000000c420081fe0 
    00007ffda7dda3a0:  0000000000000000  0000000000000000 
    00007ffda7dda3b0:  00007fe89b8d3560  00007fe89b8d6bc0 
    00007ffda7dda3c0:  000000c42006ffd0  000055e6e5aa43e0 <runtime.main+208> 
    00007ffda7dda3d0:  000055e6e6798970  0000000000000000 
    00007ffda7dda3e0:  0000000000000000  0000000000000000 
    00007ffda7dda3f0:  0000000000000000  0000000000000000 
    00007ffda7dda400:  0000000000000000  0000000000000000 
    00007ffda7dda410:  000000c420000180  0000000000000000 
    00007ffda7dda420:  000055e6e5aa43e0 <runtime.main+208>  000055e6e6798970 
    00007ffda7dda430:  0000000000000000  0000000000000000 
    00007ffda7dda440:  0000000000000000  0000000000000000 
    00007ffda7dda450:  0000000000000000  0000000000000000 
    00007ffda7dda460:  0000000000000000  000000c420000180 
    00007ffda7dda470:  0000000000000000  000055e6e5acff31 <runtime.goexit+1> 
    00007ffda7dda480: <0000000000000000  0000000000000000 
    00007ffda7dda490:  0000000000000000  0000000000000000 
    00007ffda7dda4a0:  000055e6e5ac0582 <runtime.step+290>  000055e6e681c232 
    00007ffda7dda4b0:  000000000030da24  000000000030da24 
    00007ffda7dda4c0:  0000029300000002  000000509b8dfec5 
    00007ffda7dda4d0:  000000000030da24  00007ffda7dda588 
    00007ffda7dda4e0:  000055e6e5abf936 <runtime.pcvalue+342>  000055e6e6832828 
    00007ffda7dda4f0:  00000000002f742e  00000000002f742e 
    00007ffda7dda500:  fffffffe7fffffff  ffffffffffffffff 
    00007ffda7dda510:  ffffffffffffffff  ffffffffffffffff 
    00007ffda7dda520:  ffffffffffffffff  ffffffffffffffff 
    00007ffda7dda530:  ffffffffffffffff  ffffffffffffffff 
    00007ffda7dda540:  ffffffffffffffff  ffffffffffffffff 
    00007ffda7dda550:  ffffffffffffffff  ffffffffffffffff 
    00007ffda7dda560:  ffffffffffffffff  ffffffffffffffff 
    00007ffda7dda570:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fe89b525f47
    stack: frame={sp:0x7ffda7dda480, fp:0x0} stack=[0x7ffda75db980,0x7ffda7dda9b0)
    00007ffda7dda380:  0000000000000001  0000000000000000 
    00007ffda7dda390:  0000000000000000  000000c420081fe0 
    00007ffda7dda3a0:  0000000000000000  0000000000000000 
    00007ffda7dda3b0:  00007fe89b8d3560  00007fe89b8d6bc0 
    00007ffda7dda3c0:  000000c42006ffd0  000055e6e5aa43e0 <runtime.main+208> 
    00007ffda7dda3d0:  000055e6e6798970  0000000000000000 
    00007ffda7dda3e0:  0000000000000000  0000000000000000 
    00007ffda7dda3f0:  0000000000000000  0000000000000000 
    00007ffda7dda400:  0000000000000000  0000000000000000 
    00007ffda7dda410:  000000c420000180  0000000000000000 
    00007ffda7dda420:  000055e6e5aa43e0 <runtime.main+208>  000055e6e6798970 
    00007ffda7dda430:  0000000000000000  0000000000000000 
    00007ffda7dda440:  0000000000000000  0000000000000000 
    00007ffda7dda450:  0000000000000000  0000000000000000 
    00007ffda7dda460:  0000000000000000  000000c420000180 
    00007ffda7dda470:  0000000000000000  000055e6e5acff31 <runtime.goexit+1> 
    00007ffda7dda480: <0000000000000000  0000000000000000 
    00007ffda7dda490:  0000000000000000  0000000000000000 
    00007ffda7dda4a0:  000055e6e5ac0582 <runtime.step+290>  000055e6e681c232 
    00007ffda7dda4b0:  000000000030da24  000000000030da24 
    00007ffda7dda4c0:  0000029300000002  000000509b8dfec5 
    00007ffda7dda4d0:  000000000030da24  00007ffda7dda588 
    00007ffda7dda4e0:  000055e6e5abf936 <runtime.pcvalue+342>  000055e6e6832828 
    00007ffda7dda4f0:  00000000002f742e  00000000002f742e 
    00007ffda7dda500:  fffffffe7fffffff  ffffffffffffffff 
    00007ffda7dda510:  ffffffffffffffff  ffffffffffffffff 
    00007ffda7dda520:  ffffffffffffffff  ffffffffffffffff 
    00007ffda7dda530:  ffffffffffffffff  ffffffffffffffff 
    00007ffda7dda540:  ffffffffffffffff  ffffffffffffffff 
    00007ffda7dda550:  ffffffffffffffff  ffffffffffffffff 
    00007ffda7dda560:  ffffffffffffffff  ffffffffffffffff 
    00007ffda7dda570:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x55e6e616ca30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x55e6e5acebcf
    runtime.newm1(0xc420061000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x55e6e5aa86b1
    runtime.newm(0x55e6e6798b08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x55e6e5aa852f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x55e6e5aa8791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x55e6e5aa44b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x55e6e5acff31
    
    rax    0x0
    rbx    0x7fe89b8d3840
    rcx    0x7fe89b525f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffda7dda480
    rbp    0x55e6e629e32a
    rsp    0x7ffda7dda480
    r8     0x0
    r9     0x7ffda7dda480
    r10    0x8
    r11    0x246
    r12    0x55e6e7cb4690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fe89b525f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 5 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    runtime: failed to create new OS thread (have 6 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000080000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000080000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc00004b000, 0x3)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000073f01)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.resetspinning()
    	/usr/local/go/src/runtime/proc.go:2533 +0x59
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2684 +0x2b9
    runtime.mstart1()
    	/usr/local/go/src/runtime/proc.go:1179 +0x93
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1137 +0x6e
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x1bb7a80, 0xc0000420c8, 0x170e, 0x2)
    	/usr/local/go/src/runtime/proc.go:306 +0xe5
    runtime.chanrecv(0xc000042070, 0x0, 0xc000000101, 0x410101)
    	/usr/local/go/src/runtime/chan.go:577 +0x36f
    runtime.chanrecv1(0xc000042070, 0x0)
    	/usr/local/go/src/runtime/chan.go:439 +0x2b
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:220 +0xac
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062c00)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062c00)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x0, 0xc000046000, 0x5)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0xc000046000, 0x2a6cc00)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.handoffp(0xc000046000)
    	/usr/local/go/src/runtime/proc.go:2001 +0x52
    runtime.stoplockedm()
    	/usr/local/go/src/runtime/proc.go:2075 +0xf7
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2611 +0x48c
    runtime.park_m(0xc000000180)
    	/usr/local/go/src/runtime/proc.go:2845 +0x9d
    runtime.mcall(0x0)
    	/usr/local/go/src/runtime/asm_amd64.s:318 +0x5b
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f51d649ff47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f51d649ff47
    stack: frame={sp:0x7ffd8439d220, fp:0x0} stack=[0x7ffd83b9e720,0x7ffd8439d750)
    00007ffd8439d120:  00007f5100000001  00007f51d684d420 
    00007ffd8439d130:  0000000000000000  000000c420081fe0 
    00007ffd8439d140:  0000000000000000  0000000000000000 
    00007ffd8439d150:  0000000000000000  0000000000000000 
    00007ffd8439d160:  0000000000000003  000000c420081fd8 
    00007ffd8439d170:  0000000000000000  0000000000000120 
    00007ffd8439d180:  0000001300000000  0000000000000007 
    00007ffd8439d190:  0000000000000130  0000557c4db6d098 
    00007ffd8439d1a0:  0000000000000150  ffffffffffffffa8 
    00007ffd8439d1b0:  0000000000000004  0000003400000013 
    00007ffd8439d1c0:  0000000000000000  0000000000000000 
    00007ffd8439d1d0:  0000000000000000  000000770000007c 
    00007ffd8439d1e0:  0000005b0000006e  0000000000000000 
    00007ffd8439d1f0:  0000000000000000  0000000000020ab0 
    00007ffd8439d200:  0000000000000120  00007f51d6a84307 
    00007ffd8439d210:  0000557c4db6d550  0000000000000001 
    00007ffd8439d220: <0000000000000000  0000557c4db6d570 
    00007ffd8439d230:  00007f51d6c910d0  00007ffd8439d278 
    00007ffd8439d240:  0000557c4c938582 <runtime.step+290>  0000557c4d694232 
    00007ffd8439d250:  000000000030da24  000000000030da24 
    00007ffd8439d260:  0000029300000002  00000050d6859ec5 
    00007ffd8439d270:  000000000030da24  00007ffd8439d328 
    00007ffd8439d280:  0000557c4c937936 <runtime.pcvalue+342>  0000557c4d6aa828 
    00007ffd8439d290:  00000000002f742e  00000000002f742e 
    00007ffd8439d2a0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffd8439d2b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd8439d2c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd8439d2d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd8439d2e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd8439d2f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd8439d300:  ffffffffffffffff  ffffffffffffffff 
    00007ffd8439d310:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f51d649ff47
    stack: frame={sp:0x7ffd8439d220, fp:0x0} stack=[0x7ffd83b9e720,0x7ffd8439d750)
    00007ffd8439d120:  00007f5100000001  00007f51d684d420 
    00007ffd8439d130:  0000000000000000  000000c420081fe0 
    00007ffd8439d140:  0000000000000000  0000000000000000 
    00007ffd8439d150:  0000000000000000  0000000000000000 
    00007ffd8439d160:  0000000000000003  000000c420081fd8 
    00007ffd8439d170:  0000000000000000  0000000000000120 
    00007ffd8439d180:  0000001300000000  0000000000000007 
    00007ffd8439d190:  0000000000000130  0000557c4db6d098 
    00007ffd8439d1a0:  0000000000000150  ffffffffffffffa8 
    00007ffd8439d1b0:  0000000000000004  0000003400000013 
    00007ffd8439d1c0:  0000000000000000  0000000000000000 
    00007ffd8439d1d0:  0000000000000000  000000770000007c 
    00007ffd8439d1e0:  0000005b0000006e  0000000000000000 
    00007ffd8439d1f0:  0000000000000000  0000000000020ab0 
    00007ffd8439d200:  0000000000000120  00007f51d6a84307 
    00007ffd8439d210:  0000557c4db6d550  0000000000000001 
    00007ffd8439d220: <0000000000000000  0000557c4db6d570 
    00007ffd8439d230:  00007f51d6c910d0  00007ffd8439d278 
    00007ffd8439d240:  0000557c4c938582 <runtime.step+290>  0000557c4d694232 
    00007ffd8439d250:  000000000030da24  000000000030da24 
    00007ffd8439d260:  0000029300000002  00000050d6859ec5 
    00007ffd8439d270:  000000000030da24  00007ffd8439d328 
    00007ffd8439d280:  0000557c4c937936 <runtime.pcvalue+342>  0000557c4d6aa828 
    00007ffd8439d290:  00000000002f742e  00000000002f742e 
    00007ffd8439d2a0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffd8439d2b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd8439d2c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd8439d2d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd8439d2e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd8439d2f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd8439d300:  ffffffffffffffff  ffffffffffffffff 
    00007ffd8439d310:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x557c4cfe4a30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x557c4c946bcf
    runtime.newm1(0xc420061000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x557c4c9206b1
    runtime.newm(0x557c4d610b08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x557c4c92052f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x557c4c920791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x557c4c91c4b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x557c4c947f31
    
    rax    0x0
    rbx    0x7f51d684d840
    rcx    0x7f51d649ff47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffd8439d220
    rbp    0x557c4d11632a
    rsp    0x7ffd8439d220
    r8     0x0
    r9     0x7ffd8439d220
    r10    0x8
    r11    0x246
    r12    0x557c4db6d690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f51d649ff47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
