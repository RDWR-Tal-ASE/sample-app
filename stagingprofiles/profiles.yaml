apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f88230fef47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f88230fef47
    stack: frame={sp:0x7ffe3c6caff0, fp:0x0} stack=[0x7ffe3becc4f0,0x7ffe3c6cb520)
    00007ffe3c6caef0:  0000000000000001  0000000000000000 
    00007ffe3c6caf00:  0000000000000000  000000c420081fe0 
    00007ffe3c6caf10:  0000000000000000  0000000000000000 
    00007ffe3c6caf20:  0000000000000000  0000000000000000 
    00007ffe3c6caf30:  00007f88234ac560  00007f88234afbc0 
    00007ffe3c6caf40:  000000c42006ffd0  00005640056803e0 <runtime.main+208> 
    00007ffe3c6caf50:  0000564006374970  0000000000000000 
    00007ffe3c6caf60:  0000000000000000  0000000000000000 
    00007ffe3c6caf70:  0000000000000000  0000000000000000 
    00007ffe3c6caf80:  0000000000000000  0000000000000000 
    00007ffe3c6caf90:  000000c420000180  0000000000000000 
    00007ffe3c6cafa0:  00005640056803e0 <runtime.main+208>  0000564006374970 
    00007ffe3c6cafb0:  0000000000000000  0000000000000000 
    00007ffe3c6cafc0:  0000000000000000  0000000000000000 
    00007ffe3c6cafd0:  0000000000000000  0000000000000000 
    00007ffe3c6cafe0:  0000000000000000  000000c420000180 
    00007ffe3c6caff0: <0000000000000000  00005640056abf31 <runtime.goexit+1> 
    00007ffe3c6cb000:  0000000000000000  0000000000000000 
    00007ffe3c6cb010:  0000000000000000  0000000000000000 
    00007ffe3c6cb020:  000000000030da24  000000000030da24 
    00007ffe3c6cb030:  0000029300000002  00000050234b8ec5 
    00007ffe3c6cb040:  000000000030da24  00007ffe3c6cb0f8 
    00007ffe3c6cb050:  000056400569b936 <runtime.pcvalue+342>  000056400640e828 
    00007ffe3c6cb060:  00000000002f742e  00000000002f742e 
    00007ffe3c6cb070:  fffffffe7fffffff  ffffffffffffffff 
    00007ffe3c6cb080:  ffffffffffffffff  ffffffffffffffff 
    00007ffe3c6cb090:  ffffffffffffffff  ffffffffffffffff 
    00007ffe3c6cb0a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe3c6cb0b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe3c6cb0c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe3c6cb0d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe3c6cb0e0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f88230fef47
    stack: frame={sp:0x7ffe3c6caff0, fp:0x0} stack=[0x7ffe3becc4f0,0x7ffe3c6cb520)
    00007ffe3c6caef0:  0000000000000001  0000000000000000 
    00007ffe3c6caf00:  0000000000000000  000000c420081fe0 
    00007ffe3c6caf10:  0000000000000000  0000000000000000 
    00007ffe3c6caf20:  0000000000000000  0000000000000000 
    00007ffe3c6caf30:  00007f88234ac560  00007f88234afbc0 
    00007ffe3c6caf40:  000000c42006ffd0  00005640056803e0 <runtime.main+208> 
    00007ffe3c6caf50:  0000564006374970  0000000000000000 
    00007ffe3c6caf60:  0000000000000000  0000000000000000 
    00007ffe3c6caf70:  0000000000000000  0000000000000000 
    00007ffe3c6caf80:  0000000000000000  0000000000000000 
    00007ffe3c6caf90:  000000c420000180  0000000000000000 
    00007ffe3c6cafa0:  00005640056803e0 <runtime.main+208>  0000564006374970 
    00007ffe3c6cafb0:  0000000000000000  0000000000000000 
    00007ffe3c6cafc0:  0000000000000000  0000000000000000 
    00007ffe3c6cafd0:  0000000000000000  0000000000000000 
    00007ffe3c6cafe0:  0000000000000000  000000c420000180 
    00007ffe3c6caff0: <0000000000000000  00005640056abf31 <runtime.goexit+1> 
    00007ffe3c6cb000:  0000000000000000  0000000000000000 
    00007ffe3c6cb010:  0000000000000000  0000000000000000 
    00007ffe3c6cb020:  000000000030da24  000000000030da24 
    00007ffe3c6cb030:  0000029300000002  00000050234b8ec5 
    00007ffe3c6cb040:  000000000030da24  00007ffe3c6cb0f8 
    00007ffe3c6cb050:  000056400569b936 <runtime.pcvalue+342>  000056400640e828 
    00007ffe3c6cb060:  00000000002f742e  00000000002f742e 
    00007ffe3c6cb070:  fffffffe7fffffff  ffffffffffffffff 
    00007ffe3c6cb080:  ffffffffffffffff  ffffffffffffffff 
    00007ffe3c6cb090:  ffffffffffffffff  ffffffffffffffff 
    00007ffe3c6cb0a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe3c6cb0b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe3c6cb0c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe3c6cb0d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe3c6cb0e0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x564005d48a30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x5640056aabcf
    runtime.newm1(0xc420061000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x5640056846b1
    runtime.newm(0x564006374b08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x56400568452f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x564005684791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x5640056804b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x5640056abf31
    
    rax    0x0
    rbx    0x7f88234ac840
    rcx    0x7f88230fef47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffe3c6caff0
    rbp    0x564005e7a32a
    rsp    0x7ffe3c6caff0
    r8     0x0
    r9     0x7ffe3c6caff0
    r10    0x8
    r11    0x246
    r12    0x564007a13690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f88230fef47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 5 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000088000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000088000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc00004b000, 0x4)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000073f01)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.resetspinning()
    	/usr/local/go/src/runtime/proc.go:2533 +0x59
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2684 +0x2b9
    runtime.mstart1()
    	/usr/local/go/src/runtime/proc.go:1179 +0x93
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1137 +0x6e
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x1bb7a80, 0xc0000420c8, 0x170e, 0x2)
    	/usr/local/go/src/runtime/proc.go:306 +0xe5
    runtime.chanrecv(0xc000042070, 0x0, 0xc000000101, 0x41a55e)
    	/usr/local/go/src/runtime/chan.go:577 +0x36f
    runtime.chanrecv1(0xc000042070, 0x0)
    	/usr/local/go/src/runtime/chan.go:439 +0x2b
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:219 +0x95
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7ff4f117df47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7ff4f117df47
    stack: frame={sp:0x7ffc0187b7a0, fp:0x0} stack=[0x7ffc0107cca0,0x7ffc0187bcd0)
    00007ffc0187b6a0:  00007ff400000001  00007ff4f152b420 
    00007ffc0187b6b0:  0000000000000000  000000c420081fe0 
    00007ffc0187b6c0:  0000000000000000  0000000000000000 
    00007ffc0187b6d0:  0000000000000000  0000000000000000 
    00007ffc0187b6e0:  0000000000000000  0000000000000000 
    00007ffc0187b6f0:  00007ff4f152b560  00007ff4f152ebc0 
    00007ffc0187b700:  000000c42006ffd0  0000564b80c663e0 <runtime.main+208> 
    00007ffc0187b710:  0000564b8195a970  0000000000000000 
    00007ffc0187b720:  0000000000000000  0000000000000000 
    00007ffc0187b730:  0000000000000000  0000000000000000 
    00007ffc0187b740:  0000000000000000  0000000000000000 
    00007ffc0187b750:  000000c420000180  0000000000000000 
    00007ffc0187b760:  0000564b80c663e0 <runtime.main+208>  0000564b8195a970 
    00007ffc0187b770:  0000000000000000  0000000000000000 
    00007ffc0187b780:  0000000000000000  0000000000000000 
    00007ffc0187b790:  0000000000000000  0000000000000000 
    00007ffc0187b7a0: <0000000000000000  000000c420000180 
    00007ffc0187b7b0:  0000000000000000  0000564b80c91f31 <runtime.goexit+1> 
    00007ffc0187b7c0:  0000000000000000  0000000000000000 
    00007ffc0187b7d0:  0000000000000000  0000000000000000 
    00007ffc0187b7e0:  0000029300000002  00000050f1537ec5 
    00007ffc0187b7f0:  000000000030da24  00007ffc0187b8a8 
    00007ffc0187b800:  0000564b80c81936 <runtime.pcvalue+342>  0000564b819f4828 
    00007ffc0187b810:  00000000002f742e  00000000002f742e 
    00007ffc0187b820:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc0187b830:  ffffffffffffffff  ffffffffffffffff 
    00007ffc0187b840:  ffffffffffffffff  ffffffffffffffff 
    00007ffc0187b850:  ffffffffffffffff  ffffffffffffffff 
    00007ffc0187b860:  ffffffffffffffff  ffffffffffffffff 
    00007ffc0187b870:  ffffffffffffffff  ffffffffffffffff 
    00007ffc0187b880:  ffffffffffffffff  ffffffffffffffff 
    00007ffc0187b890:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7ff4f117df47
    stack: frame={sp:0x7ffc0187b7a0, fp:0x0} stack=[0x7ffc0107cca0,0x7ffc0187bcd0)
    00007ffc0187b6a0:  00007ff400000001  00007ff4f152b420 
    00007ffc0187b6b0:  0000000000000000  000000c420081fe0 
    00007ffc0187b6c0:  0000000000000000  0000000000000000 
    00007ffc0187b6d0:  0000000000000000  0000000000000000 
    00007ffc0187b6e0:  0000000000000000  0000000000000000 
    00007ffc0187b6f0:  00007ff4f152b560  00007ff4f152ebc0 
    00007ffc0187b700:  000000c42006ffd0  0000564b80c663e0 <runtime.main+208> 
    00007ffc0187b710:  0000564b8195a970  0000000000000000 
    00007ffc0187b720:  0000000000000000  0000000000000000 
    00007ffc0187b730:  0000000000000000  0000000000000000 
    00007ffc0187b740:  0000000000000000  0000000000000000 
    00007ffc0187b750:  000000c420000180  0000000000000000 
    00007ffc0187b760:  0000564b80c663e0 <runtime.main+208>  0000564b8195a970 
    00007ffc0187b770:  0000000000000000  0000000000000000 
    00007ffc0187b780:  0000000000000000  0000000000000000 
    00007ffc0187b790:  0000000000000000  0000000000000000 
    00007ffc0187b7a0: <0000000000000000  000000c420000180 
    00007ffc0187b7b0:  0000000000000000  0000564b80c91f31 <runtime.goexit+1> 
    00007ffc0187b7c0:  0000000000000000  0000000000000000 
    00007ffc0187b7d0:  0000000000000000  0000000000000000 
    00007ffc0187b7e0:  0000029300000002  00000050f1537ec5 
    00007ffc0187b7f0:  000000000030da24  00007ffc0187b8a8 
    00007ffc0187b800:  0000564b80c81936 <runtime.pcvalue+342>  0000564b819f4828 
    00007ffc0187b810:  00000000002f742e  00000000002f742e 
    00007ffc0187b820:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc0187b830:  ffffffffffffffff  ffffffffffffffff 
    00007ffc0187b840:  ffffffffffffffff  ffffffffffffffff 
    00007ffc0187b850:  ffffffffffffffff  ffffffffffffffff 
    00007ffc0187b860:  ffffffffffffffff  ffffffffffffffff 
    00007ffc0187b870:  ffffffffffffffff  ffffffffffffffff 
    00007ffc0187b880:  ffffffffffffffff  ffffffffffffffff 
    00007ffc0187b890:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x564b8132ea30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x564b80c90bcf
    runtime.newm1(0xc420061000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x564b80c6a6b1
    runtime.newm(0x564b8195ab08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x564b80c6a52f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x564b80c6a791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x564b80c664b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x564b80c91f31
    
    rax    0x0
    rbx    0x7ff4f152b840
    rcx    0x7ff4f117df47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffc0187b7a0
    rbp    0x564b8146032a
    rsp    0x7ffc0187b7a0
    r8     0x0
    r9     0x7ffc0187b7a0
    r10    0x8
    r11    0x246
    r12    0x564b81f45690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7ff4f117df47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
