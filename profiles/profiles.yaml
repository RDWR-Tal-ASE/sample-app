apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f26e114ff47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f26e114ff47
    stack: frame={sp:0x7fffe8aae4b0, fp:0x0} stack=[0x7fffe82afb50,0x7fffe8aaeb80)
    00007fffe8aae3b0:  000055fef81b5683 <runtime.main+883>  000000000030da24 
    00007fffe8aae3c0:  0000029300000002  00000050e1110700 
    00007fffe8aae3d0:  000000000030da24  00007fffe8aae488 
    00007fffe8aae3e0:  000055fef81d0936 <runtime.pcvalue+342>  000055fef8f43828 
    00007fffe8aae3f0:  00000000002f742e  00000000002f742e 
    00007fffe8aae400:  00007fffe8aae440  00007fffe8aae43c 
    00007fffe8aae410:  000055fef9257301  000055fef8f4382a 
    00007fffe8aae420:  00000000002f742c  00000000002f742c 
    00007fffe8aae430:  0000000000000001  0000000040000000 
    00007fffe8aae440:  00007fffe8aae4f8  000055fef81cb75f <runtime.adjustframe+175> 
    00007fffe8aae450:  000055fef8f437f0  000055fef92573c0 
    00007fffe8aae460:  00007fff00000000  000055fef81e0f30 <runtime.goexit+0> 
    00007fffe8aae470:  00007fffe8aae8b0  00000000ffffffff 
    00007fffe8aae480:  00000000e8aae410  000055fef81e0f30 <runtime.goexit+0> 
    00007fffe8aae490:  000055fef81d11c1 <runtime.funcspdelta+97>  000055fef8f437f0 
    00007fffe8aae4a0:  000055fef92573c0  000000000006f548 
    00007fffe8aae4b0: <0000000000000000  00007fffe8aae610 
    00007fffe8aae4c0:  000055fef893d201  000055fef8f437f0 
    00007fffe8aae4d0:  000055fef92573c0  0000000000000000 
    00007fffe8aae4e0:  0000000000000000  000055fef81e0f31 <runtime.goexit+1> 
    00007fffe8aae4f0:  000055fef92573c0  00007fffe8aae800 
    00007fffe8aae500:  000055fef81d5962 <runtime.gentraceback+4850>  00007fffe8aae7a8 
    00007fffe8aae510:  00007fffe8aae898  000055fef9257301 
    00007fffe8aae520:  00007fffe8aae601  0000000000000000 
    00007fffe8aae530:  fffffffe7fffffff  ffffffffffffffff 
    00007fffe8aae540:  ffffffffffffffff  ffffffffffffffff 
    00007fffe8aae550:  ffffffffffffffff  ffffffffffffffff 
    00007fffe8aae560:  ffffffffffffffff  ffffffffffffffff 
    00007fffe8aae570:  ffffffffffffffff  ffffffffffffffff 
    00007fffe8aae580:  ffffffffffffffff  ffffffffffffffff 
    00007fffe8aae590:  ffffffffffffffff  ffffffffffffffff 
    00007fffe8aae5a0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f26e114ff47
    stack: frame={sp:0x7fffe8aae4b0, fp:0x0} stack=[0x7fffe82afb50,0x7fffe8aaeb80)
    00007fffe8aae3b0:  000055fef81b5683 <runtime.main+883>  000000000030da24 
    00007fffe8aae3c0:  0000029300000002  00000050e1110700 
    00007fffe8aae3d0:  000000000030da24  00007fffe8aae488 
    00007fffe8aae3e0:  000055fef81d0936 <runtime.pcvalue+342>  000055fef8f43828 
    00007fffe8aae3f0:  00000000002f742e  00000000002f742e 
    00007fffe8aae400:  00007fffe8aae440  00007fffe8aae43c 
    00007fffe8aae410:  000055fef9257301  000055fef8f4382a 
    00007fffe8aae420:  00000000002f742c  00000000002f742c 
    00007fffe8aae430:  0000000000000001  0000000040000000 
    00007fffe8aae440:  00007fffe8aae4f8  000055fef81cb75f <runtime.adjustframe+175> 
    00007fffe8aae450:  000055fef8f437f0  000055fef92573c0 
    00007fffe8aae460:  00007fff00000000  000055fef81e0f30 <runtime.goexit+0> 
    00007fffe8aae470:  00007fffe8aae8b0  00000000ffffffff 
    00007fffe8aae480:  00000000e8aae410  000055fef81e0f30 <runtime.goexit+0> 
    00007fffe8aae490:  000055fef81d11c1 <runtime.funcspdelta+97>  000055fef8f437f0 
    00007fffe8aae4a0:  000055fef92573c0  000000000006f548 
    00007fffe8aae4b0: <0000000000000000  00007fffe8aae610 
    00007fffe8aae4c0:  000055fef893d201  000055fef8f437f0 
    00007fffe8aae4d0:  000055fef92573c0  0000000000000000 
    00007fffe8aae4e0:  0000000000000000  000055fef81e0f31 <runtime.goexit+1> 
    00007fffe8aae4f0:  000055fef92573c0  00007fffe8aae800 
    00007fffe8aae500:  000055fef81d5962 <runtime.gentraceback+4850>  00007fffe8aae7a8 
    00007fffe8aae510:  00007fffe8aae898  000055fef9257301 
    00007fffe8aae520:  00007fffe8aae601  0000000000000000 
    00007fffe8aae530:  fffffffe7fffffff  ffffffffffffffff 
    00007fffe8aae540:  ffffffffffffffff  ffffffffffffffff 
    00007fffe8aae550:  ffffffffffffffff  ffffffffffffffff 
    00007fffe8aae560:  ffffffffffffffff  ffffffffffffffff 
    00007fffe8aae570:  ffffffffffffffff  ffffffffffffffff 
    00007fffe8aae580:  ffffffffffffffff  ffffffffffffffff 
    00007fffe8aae590:  ffffffffffffffff  ffffffffffffffff 
    00007fffe8aae5a0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x55fef8ea9a60, 0xc4200380c8, 0x55fef8887704, 0xc, 0xc42003ce17, 0x3)
    	/usr/lib/go-1.10/src/runtime/proc.go:291 +0x120
    runtime.goparkunlock(0xc4200380c8, 0x55fef8887704, 0xc, 0x17, 0x3)
    	/usr/lib/go-1.10/src/runtime/proc.go:297 +0x60
    runtime.chanrecv(0xc420038070, 0x0, 0x1, 0x55fef81a08aa)
    	/usr/lib/go-1.10/src/runtime/chan.go:518 +0x2f6
    runtime.chanrecv1(0xc420038070, 0x0)
    	/usr/lib/go-1.10/src/runtime/chan.go:400 +0x2b
    runtime.gcenable()
    	/usr/lib/go-1.10/src/runtime/mgc.go:217 +0x71
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:161 +0x126
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1
    
    rax    0x0
    rbx    0x7f26e14fd840
    rcx    0x7f26e114ff47
    rdx    0x0
    rdi    0x2
    rsi    0x7fffe8aae4b0
    rbp    0x55fef89af32a
    rsp    0x7fffe8aae4b0
    r8     0x0
    r9     0x7fffe8aae4b0
    r10    0x8
    r11    0x246
    r12    0x55fefa0ff540
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f26e114ff47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 3 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062400)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062400)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc000048800, 0x2)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000046001)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.newproc.func1()
    	/usr/local/go/src/runtime/proc.go:3555 +0x97
    runtime.systemstack(0x46c2f4)
    	/usr/local/go/src/runtime/asm_amd64.s:370 +0x66
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1116
    
    goroutine 1 [running, locked to thread]:
    runtime.systemstack_switch()
    	/usr/local/go/src/runtime/asm_amd64.s:330 fp=0xc00005e6f0 sp=0xc00005e6e8 pc=0x46c420
    runtime.newproc(0x0, 0x1bb7b08)
    	/usr/local/go/src/runtime/proc.go:3548 +0x6e fp=0xc00005e738 sp=0xc00005e6f0 pc=0x44210e
    runtime.init.6()
    	/usr/local/go/src/runtime/proc.go:243 +0x35 fp=0xc00005e758 sp=0xc00005e738 pc=0x439df5
    runtime.doInit(0x2881120)
    	/usr/local/go/src/runtime/proc.go:5646 +0x8a fp=0xc00005e788 sp=0xc00005e758 pc=0x446f8a
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:151 +0xd9 fp=0xc00005e7e0 sp=0xc00005e788 pc=0x439b19
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1 fp=0xc00005e7e8 sp=0xc00005e7e0 pc=0x46e061
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fa419078f47 m=3 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fa419078f47
    stack: frame={sp:0x7fa413ffe810, fp:0x0} stack=[0x7fa4137ff290,0x7fa413ffee90)
    00007fa413ffe710:  0000000000000000  0000000000000000 
    00007fa413ffe720:  0000000000000000  0000000000000000 
    00007fa413ffe730:  00007fa419426560  00007fa419429bc0 
    00007fa413ffe740:  0000007e0000007d  000000800000007f 
    00007fa413ffe750:  00007fa40c000010  00007fa40c000010 
    00007fa413ffe760:  000000000000000e  000000000000000e 
    00007fa413ffe770:  0000000000000000  0000000000000000 
    00007fa413ffe780:  ffffffffffffffff  ffffffffffffffff 
    00007fa413ffe790:  0000000400000004  0000000400000004 
    00007fa413ffe7a0:  00007fa40c000800  00007fa40c000800 
    00007fa413ffe7b0:  0000000000000000  0000000000000000 
    00007fa413ffe7c0:  0000000000000000  0000000000000000 
    00007fa413ffe7d0:  0000000000000000  0000000000000000 
    00007fa413ffe7e0:  0000000000000000  000000c420000180 
    00007fa413ffe7f0:  0000000000000000  000055bf61c83f31 <runtime.goexit+1> 
    00007fa413ffe800:  0000000000000000  0000000000000000 
    00007fa413ffe810: <0000000000000000  0000000000000000 
    00007fa413ffe820:  0000000000000000  0000000000000000 
    00007fa413ffe830:  0000000000000000  0000000000000000 
    00007fa413ffe840:  0000000000000000  0000000000000000 
    00007fa413ffe850:  0000000000000000  0000000000000000 
    00007fa413ffe860:  0000000000000000  0000000000000000 
    00007fa413ffe870:  0000000000000000  0000000000000000 
    00007fa413ffe880:  0000000000000002  0000000000000000 
    00007fa413ffe890:  fffffffe7fffffff  ffffffffffffffff 
    00007fa413ffe8a0:  ffffffffffffffff  ffffffffffffffff 
    00007fa413ffe8b0:  ffffffffffffffff  ffffffffffffffff 
    00007fa413ffe8c0:  ffffffffffffffff  ffffffffffffffff 
    00007fa413ffe8d0:  ffffffffffffffff  ffffffffffffffff 
    00007fa413ffe8e0:  ffffffffffffffff  ffffffffffffffff 
    00007fa413ffe8f0:  ffffffffffffffff  ffffffffffffffff 
    00007fa413ffe900:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fa419078f47
    stack: frame={sp:0x7fa413ffe810, fp:0x0} stack=[0x7fa4137ff290,0x7fa413ffee90)
    00007fa413ffe710:  0000000000000000  0000000000000000 
    00007fa413ffe720:  0000000000000000  0000000000000000 
    00007fa413ffe730:  00007fa419426560  00007fa419429bc0 
    00007fa413ffe740:  0000007e0000007d  000000800000007f 
    00007fa413ffe750:  00007fa40c000010  00007fa40c000010 
    00007fa413ffe760:  000000000000000e  000000000000000e 
    00007fa413ffe770:  0000000000000000  0000000000000000 
    00007fa413ffe780:  ffffffffffffffff  ffffffffffffffff 
    00007fa413ffe790:  0000000400000004  0000000400000004 
    00007fa413ffe7a0:  00007fa40c000800  00007fa40c000800 
    00007fa413ffe7b0:  0000000000000000  0000000000000000 
    00007fa413ffe7c0:  0000000000000000  0000000000000000 
    00007fa413ffe7d0:  0000000000000000  0000000000000000 
    00007fa413ffe7e0:  0000000000000000  000000c420000180 
    00007fa413ffe7f0:  0000000000000000  000055bf61c83f31 <runtime.goexit+1> 
    00007fa413ffe800:  0000000000000000  0000000000000000 
    00007fa413ffe810: <0000000000000000  0000000000000000 
    00007fa413ffe820:  0000000000000000  0000000000000000 
    00007fa413ffe830:  0000000000000000  0000000000000000 
    00007fa413ffe840:  0000000000000000  0000000000000000 
    00007fa413ffe850:  0000000000000000  0000000000000000 
    00007fa413ffe860:  0000000000000000  0000000000000000 
    00007fa413ffe870:  0000000000000000  0000000000000000 
    00007fa413ffe880:  0000000000000002  0000000000000000 
    00007fa413ffe890:  fffffffe7fffffff  ffffffffffffffff 
    00007fa413ffe8a0:  ffffffffffffffff  ffffffffffffffff 
    00007fa413ffe8b0:  ffffffffffffffff  ffffffffffffffff 
    00007fa413ffe8c0:  ffffffffffffffff  ffffffffffffffff 
    00007fa413ffe8d0:  ffffffffffffffff  ffffffffffffffff 
    00007fa413ffe8e0:  ffffffffffffffff  ffffffffffffffff 
    00007fa413ffe8f0:  ffffffffffffffff  ffffffffffffffff 
    00007fa413ffe900:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [runnable, locked to thread]:
    runtime.gcenable()
    	/usr/lib/go-1.10/src/runtime/mgc.go:214 +0x87
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:161 +0x126
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1
    
    rax    0x0
    rbx    0x7fa419426840
    rcx    0x7fa419078f47
    rdx    0x0
    rdi    0x2
    rsi    0x7fa413ffe810
    rbp    0x55bf6245232a
    rsp    0x7fa413ffe810
    r8     0x0
    r9     0x7fa413ffe810
    r10    0x8
    r11    0x246
    r12    0x55bf63d113f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fa419078f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
