apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f53e387ff47 m=3 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f53e387ff47
    stack: frame={sp:0x7f53e303e810, fp:0x0} stack=[0x7f53e283f290,0x7f53e303ee90)
    00007f53e303e710:  0000000000000000  0000000000000000 
    00007f53e303e720:  0000000000000000  0000000000000000 
    00007f53e303e730:  0000000000000000  0000000000000000 
    00007f53e303e740:  0000007e0000007d  000000800000007f 
    00007f53e303e750:  00007f53d4000010  00007f53d4000010 
    00007f53e303e760:  000000000000000e  000000000000000e 
    00007f53e303e770:  0000000000000000  0000000000000000 
    00007f53e303e780:  ffffffffffffffff  ffffffffffffffff 
    00007f53e303e790:  0000000400000004  0000000400000004 
    00007f53e303e7a0:  00007f53d4000800  00007f53d4000800 
    00007f53e303e7b0:  0000000000000000  0000000000000000 
    00007f53e303e7c0:  0000000000000000  0000000000000000 
    00007f53e303e7d0:  0000000000000000  0000000000000000 
    00007f53e303e7e0:  0000000000000000  000000c420000180 
    00007f53e303e7f0:  0000000000000000  0000555b88136f31 <runtime.goexit+1> 
    00007f53e303e800:  0000000000000000  0000000000000000 
    00007f53e303e810: <0000000000000000  0000000000000000 
    00007f53e303e820:  0000000000000000  0000000000000000 
    00007f53e303e830:  0000000000000000  0000000000000000 
    00007f53e303e840:  0000000000000000  0000000000000000 
    00007f53e303e850:  0000000000000000  0000000000000000 
    00007f53e303e860:  0000000000000000  0000000000000000 
    00007f53e303e870:  0000000000000000  0000000000000000 
    00007f53e303e880:  0000000000000002  0000000000000000 
    00007f53e303e890:  fffffffe7fffffff  ffffffffffffffff 
    00007f53e303e8a0:  ffffffffffffffff  ffffffffffffffff 
    00007f53e303e8b0:  ffffffffffffffff  ffffffffffffffff 
    00007f53e303e8c0:  ffffffffffffffff  ffffffffffffffff 
    00007f53e303e8d0:  ffffffffffffffff  ffffffffffffffff 
    00007f53e303e8e0:  ffffffffffffffff  ffffffffffffffff 
    00007f53e303e8f0:  ffffffffffffffff  ffffffffffffffff 
    00007f53e303e900:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f53e387ff47
    stack: frame={sp:0x7f53e303e810, fp:0x0} stack=[0x7f53e283f290,0x7f53e303ee90)
    00007f53e303e710:  0000000000000000  0000000000000000 
    00007f53e303e720:  0000000000000000  0000000000000000 
    00007f53e303e730:  0000000000000000  0000000000000000 
    00007f53e303e740:  0000007e0000007d  000000800000007f 
    00007f53e303e750:  00007f53d4000010  00007f53d4000010 
    00007f53e303e760:  000000000000000e  000000000000000e 
    00007f53e303e770:  0000000000000000  0000000000000000 
    00007f53e303e780:  ffffffffffffffff  ffffffffffffffff 
    00007f53e303e790:  0000000400000004  0000000400000004 
    00007f53e303e7a0:  00007f53d4000800  00007f53d4000800 
    00007f53e303e7b0:  0000000000000000  0000000000000000 
    00007f53e303e7c0:  0000000000000000  0000000000000000 
    00007f53e303e7d0:  0000000000000000  0000000000000000 
    00007f53e303e7e0:  0000000000000000  000000c420000180 
    00007f53e303e7f0:  0000000000000000  0000555b88136f31 <runtime.goexit+1> 
    00007f53e303e800:  0000000000000000  0000000000000000 
    00007f53e303e810: <0000000000000000  0000000000000000 
    00007f53e303e820:  0000000000000000  0000000000000000 
    00007f53e303e830:  0000000000000000  0000000000000000 
    00007f53e303e840:  0000000000000000  0000000000000000 
    00007f53e303e850:  0000000000000000  0000000000000000 
    00007f53e303e860:  0000000000000000  0000000000000000 
    00007f53e303e870:  0000000000000000  0000000000000000 
    00007f53e303e880:  0000000000000002  0000000000000000 
    00007f53e303e890:  fffffffe7fffffff  ffffffffffffffff 
    00007f53e303e8a0:  ffffffffffffffff  ffffffffffffffff 
    00007f53e303e8b0:  ffffffffffffffff  ffffffffffffffff 
    00007f53e303e8c0:  ffffffffffffffff  ffffffffffffffff 
    00007f53e303e8d0:  ffffffffffffffff  ffffffffffffffff 
    00007f53e303e8e0:  ffffffffffffffff  ffffffffffffffff 
    00007f53e303e8f0:  ffffffffffffffff  ffffffffffffffff 
    00007f53e303e900:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x555b88dffa60, 0xc4200380c8, 0x555b887dd704, 0xc, 0xc42003ce17, 0x3)
    	/usr/lib/go-1.10/src/runtime/proc.go:291 +0x120
    runtime.goparkunlock(0xc4200380c8, 0x555b887dd704, 0xc, 0x17, 0x3)
    	/usr/lib/go-1.10/src/runtime/proc.go:297 +0x60
    runtime.chanrecv(0xc420038070, 0x0, 0x1, 0x555b880f68aa)
    	/usr/lib/go-1.10/src/runtime/chan.go:518 +0x2f6
    runtime.chanrecv1(0xc420038070, 0x0)
    	/usr/lib/go-1.10/src/runtime/chan.go:400 +0x2b
    runtime.gcenable()
    	/usr/lib/go-1.10/src/runtime/mgc.go:217 +0x71
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:161 +0x126
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1
    
    rax    0x0
    rbx    0x7f53e3c2d840
    rcx    0x7f53e387ff47
    rdx    0x0
    rdi    0x2
    rsi    0x7f53e303e810
    rbp    0x555b8890532a
    rsp    0x7f53e303e810
    r8     0x0
    r9     0x7f53e303e810
    r10    0x8
    r11    0x246
    r12    0x555b8a5c93f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f53e387ff47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 3 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062400)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062400)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc000048800, 0x2)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000046001)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.newproc.func1()
    	/usr/local/go/src/runtime/proc.go:3555 +0x97
    runtime.systemstack(0x46c2f4)
    	/usr/local/go/src/runtime/asm_amd64.s:370 +0x66
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1116
    
    goroutine 1 [running, locked to thread]:
    runtime.systemstack_switch()
    	/usr/local/go/src/runtime/asm_amd64.s:330 fp=0xc00005e6f0 sp=0xc00005e6e8 pc=0x46c420
    runtime.newproc(0x0, 0x1bb7b08)
    	/usr/local/go/src/runtime/proc.go:3548 +0x6e fp=0xc00005e738 sp=0xc00005e6f0 pc=0x44210e
    runtime.init.6()
    	/usr/local/go/src/runtime/proc.go:243 +0x35 fp=0xc00005e758 sp=0xc00005e738 pc=0x439df5
    runtime.doInit(0x2881120)
    	/usr/local/go/src/runtime/proc.go:5646 +0x8a fp=0xc00005e788 sp=0xc00005e758 pc=0x446f8a
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:151 +0xd9 fp=0xc00005e7e0 sp=0xc00005e788 pc=0x439b19
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1 fp=0xc00005e7e8 sp=0xc00005e7e0 pc=0x46e061
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f70c2bbdf47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f70c2bbdf47
    stack: frame={sp:0x7ffc8635ca60, fp:0x0} stack=[0x7ffc85b5e100,0x7ffc8635d130)
    00007ffc8635c960:  0000563abbe9a683 <runtime.main+883>  000000000030da24 
    00007ffc8635c970:  0000029300000002  00000050c31a675a 
    00007ffc8635c980:  000000000030da24  00007ffc8635ca38 
    00007ffc8635c990:  0000563abbeb5936 <runtime.pcvalue+342>  0000563abcc28828 
    00007ffc8635c9a0:  00000000002f742e  00000000002f742e 
    00007ffc8635c9b0:  00007ffc8635c9f0  00007ffc8635c9ec 
    00007ffc8635c9c0:  0000563abcf3c301  0000563abcc2882a 
    00007ffc8635c9d0:  00000000002f742c  00000000002f742c 
    00007ffc8635c9e0:  0000000000000001  0000000040000000 
    00007ffc8635c9f0:  00007ffc8635caa8  0000563abbeb075f <runtime.adjustframe+175> 
    00007ffc8635ca00:  0000563abcc287f0  0000563abcf3c3c0 
    00007ffc8635ca10:  00007ffc00000000  0000563abbec5f30 <runtime.goexit+0> 
    00007ffc8635ca20:  00007ffc8635ce60  00000000ffffffff 
    00007ffc8635ca30:  000000008635c9c0  0000563abbec5f30 <runtime.goexit+0> 
    00007ffc8635ca40:  0000563abbeb61c1 <runtime.funcspdelta+97>  0000563abcc287f0 
    00007ffc8635ca50:  0000563abcf3c3c0  00007ffc0006f548 
    00007ffc8635ca60: <0000000000000000  00007ffc8635cbc0 
    00007ffc8635ca70:  0000563abc622201  0000563abcc287f0 
    00007ffc8635ca80:  0000563abcf3c3c0  0000000000000000 
    00007ffc8635ca90:  0000000000000000  0000563abbec5f31 <runtime.goexit+1> 
    00007ffc8635caa0:  0000563abcf3c3c0  00007ffc8635cdb0 
    00007ffc8635cab0:  0000563abbeba962 <runtime.gentraceback+4850>  00007ffc8635cd58 
    00007ffc8635cac0:  00007ffc8635ce48  0000563abcf3c301 
    00007ffc8635cad0:  00007ffc8635cb01  0000000000000000 
    00007ffc8635cae0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc8635caf0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc8635cb00:  ffffffffffffffff  ffffffffffffffff 
    00007ffc8635cb10:  ffffffffffffffff  ffffffffffffffff 
    00007ffc8635cb20:  ffffffffffffffff  ffffffffffffffff 
    00007ffc8635cb30:  ffffffffffffffff  ffffffffffffffff 
    00007ffc8635cb40:  ffffffffffffffff  ffffffffffffffff 
    00007ffc8635cb50:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f70c2bbdf47
    stack: frame={sp:0x7ffc8635ca60, fp:0x0} stack=[0x7ffc85b5e100,0x7ffc8635d130)
    00007ffc8635c960:  0000563abbe9a683 <runtime.main+883>  000000000030da24 
    00007ffc8635c970:  0000029300000002  00000050c31a675a 
    00007ffc8635c980:  000000000030da24  00007ffc8635ca38 
    00007ffc8635c990:  0000563abbeb5936 <runtime.pcvalue+342>  0000563abcc28828 
    00007ffc8635c9a0:  00000000002f742e  00000000002f742e 
    00007ffc8635c9b0:  00007ffc8635c9f0  00007ffc8635c9ec 
    00007ffc8635c9c0:  0000563abcf3c301  0000563abcc2882a 
    00007ffc8635c9d0:  00000000002f742c  00000000002f742c 
    00007ffc8635c9e0:  0000000000000001  0000000040000000 
    00007ffc8635c9f0:  00007ffc8635caa8  0000563abbeb075f <runtime.adjustframe+175> 
    00007ffc8635ca00:  0000563abcc287f0  0000563abcf3c3c0 
    00007ffc8635ca10:  00007ffc00000000  0000563abbec5f30 <runtime.goexit+0> 
    00007ffc8635ca20:  00007ffc8635ce60  00000000ffffffff 
    00007ffc8635ca30:  000000008635c9c0  0000563abbec5f30 <runtime.goexit+0> 
    00007ffc8635ca40:  0000563abbeb61c1 <runtime.funcspdelta+97>  0000563abcc287f0 
    00007ffc8635ca50:  0000563abcf3c3c0  00007ffc0006f548 
    00007ffc8635ca60: <0000000000000000  00007ffc8635cbc0 
    00007ffc8635ca70:  0000563abc622201  0000563abcc287f0 
    00007ffc8635ca80:  0000563abcf3c3c0  0000000000000000 
    00007ffc8635ca90:  0000000000000000  0000563abbec5f31 <runtime.goexit+1> 
    00007ffc8635caa0:  0000563abcf3c3c0  00007ffc8635cdb0 
    00007ffc8635cab0:  0000563abbeba962 <runtime.gentraceback+4850>  00007ffc8635cd58 
    00007ffc8635cac0:  00007ffc8635ce48  0000563abcf3c301 
    00007ffc8635cad0:  00007ffc8635cb01  0000000000000000 
    00007ffc8635cae0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc8635caf0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc8635cb00:  ffffffffffffffff  ffffffffffffffff 
    00007ffc8635cb10:  ffffffffffffffff  ffffffffffffffff 
    00007ffc8635cb20:  ffffffffffffffff  ffffffffffffffff 
    00007ffc8635cb30:  ffffffffffffffff  ffffffffffffffff 
    00007ffc8635cb40:  ffffffffffffffff  ffffffffffffffff 
    00007ffc8635cb50:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x563abcb8ea60, 0xc4200380c8, 0x563abc56c704, 0xc, 0xc42003ce17, 0x3)
    	/usr/lib/go-1.10/src/runtime/proc.go:291 +0x120
    runtime.goparkunlock(0xc4200380c8, 0x563abc56c704, 0xc, 0x17, 0x3)
    	/usr/lib/go-1.10/src/runtime/proc.go:297 +0x60
    runtime.chanrecv(0xc420038070, 0x0, 0x1, 0x563abbe858aa)
    	/usr/lib/go-1.10/src/runtime/chan.go:518 +0x2f6
    runtime.chanrecv1(0xc420038070, 0x0)
    	/usr/lib/go-1.10/src/runtime/chan.go:400 +0x2b
    runtime.gcenable()
    	/usr/lib/go-1.10/src/runtime/mgc.go:217 +0x71
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:161 +0x126
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1
    
    rax    0x0
    rbx    0x7f70c2f6b840
    rcx    0x7f70c2bbdf47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffc8635ca60
    rbp    0x563abc69432a
    rsp    0x7ffc8635ca60
    r8     0x0
    r9     0x7ffc8635ca60
    r10    0x8
    r11    0x246
    r12    0x563abe135540
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f70c2bbdf47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
