apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f54c75e9f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f54c75e9f47
    stack: frame={sp:0x7ffddbf1b1a0, fp:0x0} stack=[0x7ffddb71c6a0,0x7ffddbf1b6d0)
    00007ffddbf1b0a0:  00007f5400000001  00007f54c7997420 
    00007ffddbf1b0b0:  0000000000000000  000000c420081fe0 
    00007ffddbf1b0c0:  0000000000000000  0000000000000000 
    00007ffddbf1b0d0:  0000000000000000  0000000000000000 
    00007ffddbf1b0e0:  0000000000000000  0000000000000000 
    00007ffddbf1b0f0:  0000000000000000  0000000000000000 
    00007ffddbf1b100:  000000c42006ffd0  000055d6f576f3e0 <runtime.main+208> 
    00007ffddbf1b110:  000055d6f6463970  0000000000000000 
    00007ffddbf1b120:  0000000000000000  0000000000000000 
    00007ffddbf1b130:  0000000000000000  0000000000000000 
    00007ffddbf1b140:  0000000000000000  0000000000000000 
    00007ffddbf1b150:  000000c420000180  0000000000000000 
    00007ffddbf1b160:  000055d6f576f3e0 <runtime.main+208>  000055d6f6463970 
    00007ffddbf1b170:  0000000000000000  0000000000000000 
    00007ffddbf1b180:  0000000000000000  0000000000000000 
    00007ffddbf1b190:  0000000000000000  0000000000000000 
    00007ffddbf1b1a0: <0000000000000000  000000c420000180 
    00007ffddbf1b1b0:  0000000000000000  000055d6f579af31 <runtime.goexit+1> 
    00007ffddbf1b1c0:  0000000000000000  0000000000000000 
    00007ffddbf1b1d0:  0000000000000000  0000000000000000 
    00007ffddbf1b1e0:  0000029300000002  00000050c79a3ec5 
    00007ffddbf1b1f0:  000000000030da24  00007ffddbf1b2a8 
    00007ffddbf1b200:  000055d6f578a936 <runtime.pcvalue+342>  000055d6f64fd828 
    00007ffddbf1b210:  00000000002f742e  00000000002f742e 
    00007ffddbf1b220:  fffffffe7fffffff  ffffffffffffffff 
    00007ffddbf1b230:  ffffffffffffffff  ffffffffffffffff 
    00007ffddbf1b240:  ffffffffffffffff  ffffffffffffffff 
    00007ffddbf1b250:  ffffffffffffffff  ffffffffffffffff 
    00007ffddbf1b260:  ffffffffffffffff  ffffffffffffffff 
    00007ffddbf1b270:  ffffffffffffffff  ffffffffffffffff 
    00007ffddbf1b280:  ffffffffffffffff  ffffffffffffffff 
    00007ffddbf1b290:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f54c75e9f47
    stack: frame={sp:0x7ffddbf1b1a0, fp:0x0} stack=[0x7ffddb71c6a0,0x7ffddbf1b6d0)
    00007ffddbf1b0a0:  00007f5400000001  00007f54c7997420 
    00007ffddbf1b0b0:  0000000000000000  000000c420081fe0 
    00007ffddbf1b0c0:  0000000000000000  0000000000000000 
    00007ffddbf1b0d0:  0000000000000000  0000000000000000 
    00007ffddbf1b0e0:  0000000000000000  0000000000000000 
    00007ffddbf1b0f0:  0000000000000000  0000000000000000 
    00007ffddbf1b100:  000000c42006ffd0  000055d6f576f3e0 <runtime.main+208> 
    00007ffddbf1b110:  000055d6f6463970  0000000000000000 
    00007ffddbf1b120:  0000000000000000  0000000000000000 
    00007ffddbf1b130:  0000000000000000  0000000000000000 
    00007ffddbf1b140:  0000000000000000  0000000000000000 
    00007ffddbf1b150:  000000c420000180  0000000000000000 
    00007ffddbf1b160:  000055d6f576f3e0 <runtime.main+208>  000055d6f6463970 
    00007ffddbf1b170:  0000000000000000  0000000000000000 
    00007ffddbf1b180:  0000000000000000  0000000000000000 
    00007ffddbf1b190:  0000000000000000  0000000000000000 
    00007ffddbf1b1a0: <0000000000000000  000000c420000180 
    00007ffddbf1b1b0:  0000000000000000  000055d6f579af31 <runtime.goexit+1> 
    00007ffddbf1b1c0:  0000000000000000  0000000000000000 
    00007ffddbf1b1d0:  0000000000000000  0000000000000000 
    00007ffddbf1b1e0:  0000029300000002  00000050c79a3ec5 
    00007ffddbf1b1f0:  000000000030da24  00007ffddbf1b2a8 
    00007ffddbf1b200:  000055d6f578a936 <runtime.pcvalue+342>  000055d6f64fd828 
    00007ffddbf1b210:  00000000002f742e  00000000002f742e 
    00007ffddbf1b220:  fffffffe7fffffff  ffffffffffffffff 
    00007ffddbf1b230:  ffffffffffffffff  ffffffffffffffff 
    00007ffddbf1b240:  ffffffffffffffff  ffffffffffffffff 
    00007ffddbf1b250:  ffffffffffffffff  ffffffffffffffff 
    00007ffddbf1b260:  ffffffffffffffffruntime/cgo:   ffffffffffffffffpthread_create failed: Resource temporarily unavailable 
    
    00007ffddbf1b270:  ffffffffffffffff  ffffffffffffffff 
    00007ffddbf1b280:  ffffffffffffffff  ffffffffffffffff 
    00007ffddbf1b290:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x55d6f5e37a30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x55d6f5799bcf
    runtime.newm1(0xc420061000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x55d6f57736b1
    runtime.newm(0x55d6f6463b08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x55d6f577352f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x55d6f5773791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x55d6f576f4b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x55d6f579af31
    
    rax    0x0
    rbx    0x7f54c7997840
    rcx    0x7f54c75e9f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffddbf1b1a0
    rbp    0x55d6f5f6932a
    rsp    0x7ffddbf1b1a0
    r8     0x0
    r9     0x7ffddbf1b1a0
    r10    0x8
    r11    0x246
    r12    0x55d6f7de1690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f54c75e9f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 4 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    runtime: failed to create new OS thread (have 5 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062800)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062800)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x0, 0xc000046000, 0x3)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0xc000046000, 0x2a6cc00)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.handoffp(0xc000046000)
    	/usr/local/go/src/runtime/proc.go:2001 +0x52
    runtime.stoplockedm()
    	/usr/local/go/src/runtime/proc.go:2075 +0xf7
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2611 +0x48c
    runtime.park_m(0xc000000180)
    	/usr/local/go/src/runtime/proc.go:2845 +0x9d
    runtime.mcall(0x0)
    	/usr/local/go/src/runtime/asm_amd64.s:318 +0x5b
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x1bb7a80, 0xc0000420c8, 0x170e, 0x2)
    	/usr/local/go/src/runtime/proc.go:306 +0xe5
    runtime.chanrecv(0xc000042070, 0x0, 0xc000000101, 0x41a55e)
    	/usr/local/go/src/runtime/chan.go:577 +0x36f
    runtime.chanrecv1(0xc000042070, 0x0)
    	/usr/local/go/src/runtime/chan.go:439 +0x2b
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:219 +0x95
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000088000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000088000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc00004b000, 0x4)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000073f01)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.resetspinning()
    	/usr/local/go/src/runtime/proc.go:2533 +0x59
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2684 +0x2b9
    runtime.mstart1()
    	/usr/local/go/src/runtime/proc.go:1179 +0x93
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1137 +0x6e
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f3b12d6af47 m=3 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f3b12d6af47
    stack: frame={sp:0x7f3b12529810, fp:0x0} stack=[0x7f3b11d2a290,0x7f3b12529e90)
    00007f3b12529710:  0000000000000000  0000000000000000 
    00007f3b12529720:  0000000000000000  0000000000000000 
    00007f3b12529730:  0000000000000000  0000000000000000 
    00007f3b12529740:  0000000000000000  0000000000000000 
    00007f3b12529750:  0000000000000000  0000000000000000 
    00007f3b12529760:  0000000000000000  0000000000000000 
    00007f3b12529770:  0000000000000000  0000000000000000 
    00007f3b12529780:  0000000000000000  0000000000000000 
    00007f3b12529790:  0000000000000000  0000000000000000 
    00007f3b125297a0:  0000000000000000  0000000000000000 
    00007f3b125297b0:  0000000000000000  0000000000000000 
    00007f3b125297c0:  0000000000000000  0000000000000000 
    00007f3b125297d0:  0000000000000000  0000000000000000 
    00007f3b125297e0:  0000000000000000  0000000000000000 
    00007f3b125297f0:  0000000000000000  0000000000000000 
    00007f3b12529800:  0000000000000000  0000000000000000 
    00007f3b12529810: <0000000000000000  0000000000000000 
    00007f3b12529820:  0000000000000000  0000000000000000 
    00007f3b12529830:  0000000000000000  0000000000000000 
    00007f3b12529840:  0000000000000000  0000000000000000 
    00007f3b12529850:  0000000000000000  0000000000000000 
    00007f3b12529860:  0000000000000000  0000000000000000 
    00007f3b12529870:  0000000000000000  0000000000000000 
    00007f3b12529880:  0000000000000000  0000000000000000 
    00007f3b12529890:  fffffffe7fffffff  ffffffffffffffff 
    00007f3b125298a0:  ffffffffffffffff  ffffffffffffffff 
    00007f3b125298b0:  ffffffffffffffff  ffffffffffffffff 
    00007f3b125298c0:  ffffffffffffffff  ffffffffffffffff 
    00007f3b125298d0:  ffffffffffffffff  ffffffffffffffff 
    00007f3b125298e0:  ffffffffffffffff  ffffffffffffffff 
    00007f3b125298f0:  ffffffffffffffff  ffffffffffffffff 
    00007f3b12529900:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f3b12d6af47
    stack: frame={sp:0x7f3b12529810, fp:0x0} stack=[0x7f3b11d2a290,0x7f3b12529e90)
    00007f3b12529710:  0000000000000000  0000000000000000 
    00007f3b12529720:  0000000000000000  0000000000000000 
    00007f3b12529730:  0000000000000000  0000000000000000 
    00007f3b12529740:  0000000000000000  0000000000000000 
    00007f3b12529750:  0000000000000000  0000000000000000 
    00007f3b12529760:  0000000000000000  0000000000000000 
    00007f3b12529770:  0000000000000000  0000000000000000 
    00007f3b12529780:  0000000000000000  0000000000000000 
    00007f3b12529790:  0000000000000000  0000000000000000 
    00007f3b125297a0:  0000000000000000  0000000000000000 
    00007f3b125297b0:  0000000000000000  0000000000000000 
    00007f3b125297c0:  0000000000000000  0000000000000000 
    00007f3b125297d0:  0000000000000000  0000000000000000 
    00007f3b125297e0:  0000000000000000  0000000000000000 
    00007f3b125297f0:  0000000000000000  0000000000000000 
    00007f3b12529800:  0000000000000000  0000000000000000 
    00007f3b12529810: <0000000000000000  0000000000000000 
    00007f3b12529820:  0000000000000000  0000000000000000 
    00007f3b12529830:  0000000000000000  0000000000000000 
    00007f3b12529840:  0000000000000000  0000000000000000 
    00007f3b12529850:  0000000000000000  0000000000000000 
    00007f3b12529860:  0000000000000000  0000000000000000 
    00007f3b12529870:  0000000000000000  0000000000000000 
    00007f3b12529880:  0000000000000000  0000000000000000 
    00007f3b12529890:  fffffffe7fffffff  ffffffffffffffff 
    00007f3b125298a0:  ffffffffffffffff  ffffffffffffffff 
    00007f3b125298b0:  ffffffffffffffff  ffffffffffffffff 
    00007f3b125298c0:  ffffffffffffffff  ffffffffffffffff 
    00007f3b125298d0:  ffffffffffffffff  ffffffffffffffff 
    00007f3b125298e0:  ffffffffffffffff  ffffffffffffffff 
    00007f3b125298f0:  ffffffffffffffff  ffffffffffffffff 
    00007f3b12529900:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [runnable, locked to thread]:
    runtime.gcenable()
    	/usr/lib/go-1.10/src/runtime/mgc.go:214 +0x87
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:161 +0x126
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1
    
    rax    0x0
    rbx    0x7f3b13118840
    rcx    0x7f3b12d6af47
    rdx    0x0
    rdi    0x2
    rsi    0x7f3b12529810
    rbp    0x55ea215b832a
    rsp    0x7f3b12529810
    r8     0x0
    r9     0x7f3b12529810
    r10    0x8
    r11    0x246
    r12    0x55ea229b23f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f3b12d6af47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
