apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f4a731aff47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f4a731aff47
    stack: frame={sp:0x7ffd76873d60, fp:0x0} stack=[0x7ffd76075400,0x7ffd76874430)
    00007ffd76873c60:  000055c22916f683 <runtime.main+883>  000000000030da24 
    00007ffd76873c70:  0000029300000002  000000507379875a 
    00007ffd76873c80:  000000000030da24  00007ffd76873d38 
    00007ffd76873c90:  000055c22918a936 <runtime.pcvalue+342>  000055c229efd828 
    00007ffd76873ca0:  0000000000000000  0000000000000000 
    00007ffd76873cb0:  00007f4a7355d560  00007f4a73560bc0 
    00007ffd76873cc0:  000000c42006ffd0  000055c22916f3e0 <runtime.main+208> 
    00007ffd76873cd0:  000055c229e63970  0000000000000000 
    00007ffd76873ce0:  0000000000000000  0000000000000000 
    00007ffd76873cf0:  0000000000000000  0000000000000000 
    00007ffd76873d00:  0000000000000000  0000000000000000 
    00007ffd76873d10:  000000c420000180  0000000000000000 
    00007ffd76873d20:  000055c22916f3e0 <runtime.main+208>  000055c229e63970 
    00007ffd76873d30:  0000000000000000  0000000000000000 
    00007ffd76873d40:  0000000000000000  0000000000000000 
    00007ffd76873d50:  0000000000000000  0000000000000000 
    00007ffd76873d60: <0000000000000000  000000c420000180 
    00007ffd76873d70:  0000000000000000  000055c22919af31 <runtime.goexit+1> 
    00007ffd76873d80:  0000000000000000  0000000000000000 
    00007ffd76873d90:  0000000000000000  0000000000000000 
    00007ffd76873da0:  000055c22a2113c0  00007ffd768740b0 
    00007ffd76873db0:  000055c22918f962 <runtime.gentraceback+4850>  00007ffd76874058 
    00007ffd76873dc0:  00007ffd76874148  000055c22a211301 
    00007ffd76873dd0:  00007ffd76873e01  0000000000000000 
    00007ffd76873de0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffd76873df0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd76873e00:  ffffffffffffffff  ffffffffffffffff 
    00007ffd76873e10:  ffffffffffffffff  ffffffffffffffff 
    00007ffd76873e20:  ffffffffffffffff  ffffffffffffffff 
    00007ffd76873e30:  ffffffffffffffff  ffffffffffffffff 
    00007ffd76873e40:  ffffffffffffffff  ffffffffffffffff 
    00007ffd76873e50:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f4a731aff47
    stack: frame={sp:0x7ffd76873d60, fp:0x0} stack=[0x7ffd76075400,0x7ffd76874430)
    00007ffd76873c60:  000055c22916f683 <runtime.main+883>  000000000030da24 
    00007ffd76873c70:  0000029300000002  000000507379875a 
    00007ffd76873c80:  000000000030da24  00007ffd76873d38 
    00007ffd76873c90:  000055c22918a936 <runtime.pcvalue+342>  000055c229efd828 
    00007ffd76873ca0:  0000000000000000  0000000000000000 
    00007ffd76873cb0:  00007f4a7355d560  00007f4a73560bc0 
    00007ffd76873cc0:  000000c42006ffd0  000055c22916f3e0 <runtime.main+208> 
    00007ffd76873cd0:  000055c229e63970  0000000000000000 
    00007ffd76873ce0:  0000000000000000  0000000000000000 
    00007ffd76873cf0:  0000000000000000  0000000000000000 
    00007ffd76873d00:  0000000000000000  0000000000000000 
    00007ffd76873d10:  000000c420000180  0000000000000000 
    00007ffd76873d20:  000055c22916f3e0 <runtime.main+208>  000055c229e63970 
    00007ffd76873d30:  0000000000000000  0000000000000000 
    00007ffd76873d40:  0000000000000000  0000000000000000 
    00007ffd76873d50:  0000000000000000  0000000000000000 
    00007ffd76873d60: <0000000000000000  000000c420000180 
    00007ffd76873d70:  0000000000000000  000055c22919af31 <runtime.goexit+1> 
    00007ffd76873d80:  0000000000000000  0000000000000000 
    00007ffd76873d90:  0000000000000000  0000000000000000 
    00007ffd76873da0:  000055c22a2113c0  00007ffd768740b0 
    00007ffd76873db0:  000055c22918f962 <runtime.gentraceback+4850>  00007ffd76874058 
    00007ffd76873dc0:  00007ffd76874148  000055c22a211301 
    00007ffd76873dd0:  00007ffd76873e01  0000000000000000 
    00007ffd76873de0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffd76873df0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd76873e00:  ffffffffffffffff  ffffffffffffffff 
    00007ffd76873e10:  ffffffffffffffff  ffffffffffffffff 
    00007ffd76873e20:  ffffffffffffffff  ffffffffffffffff 
    00007ffd76873e30:  ffffffffffffffff  ffffffffffffffff 
    00007ffd76873e40:  ffffffffffffffff  ffffffffffffffff 
    00007ffd76873e50:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x55c229e63a60, 0xc4200380c8, 0x55c229841704, 0xc, 0xc42003ce17, 0x3)
    	/usr/lib/go-1.10/src/runtime/proc.go:291 +0x120
    runtime.goparkunlock(0xc4200380c8, 0x55c229841704, 0xc, 0x17, 0x3)
    	/usr/lib/go-1.10/src/runtime/proc.go:297 +0x60
    runtime.chanrecv(0xc420038070, 0x0, 0x1, 0x55c22915a8aa)
    	/usr/lib/go-1.10/src/runtime/chan.go:518 +0x2f6
    runtime.chanrecv1(0xc420038070, 0x0)
    	/usr/lib/go-1.10/src/runtime/chan.go:400 +0x2b
    runtime.gcenable()
    	/usr/lib/go-1.10/src/runtime/mgc.go:217 +0x71
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:161 +0x126
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1
    
    rax    0x0
    rbx    0x7f4a7355d840
    rcx    0x7f4a731aff47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffd76873d60
    rbp    0x55c22996932a
    rsp    0x7ffd76873d60
    r8     0x0
    r9     0x7ffd76873d60
    r10    0x8
    r11    0x246
    r12    0x55c22b91b540
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f4a731aff47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 3 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062400)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062400)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc000048800, 0x2)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000046001)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.newproc.func1()
    	/usr/local/go/src/runtime/proc.go:3555 +0x97
    runtime.systemstack(0x46c2f4)
    	/usr/local/go/src/runtime/asm_amd64.s:370 +0x66
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1116
    
    goroutine 1 [running, locked to thread]:
    runtime.systemstack_switch()
    	/usr/local/go/src/runtime/asm_amd64.s:330 fp=0xc00005e6f0 sp=0xc00005e6e8 pc=0x46c420
    runtime.newproc(0x0, 0x1bb7b08)
    	/usr/local/go/src/runtime/proc.go:3548 +0x6e fp=0xc00005e738 sp=0xc00005e6f0 pc=0x44210e
    runtime.init.6()
    	/usr/local/go/src/runtime/proc.go:243 +0x35 fp=0xc00005e758 sp=0xc00005e738 pc=0x439df5
    runtime.doInit(0x2881120)
    	/usr/local/go/src/runtime/proc.go:5646 +0x8a fp=0xc00005e788 sp=0xc00005e758 pc=0x446f8a
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:151 +0xd9 fp=0xc00005e7e0 sp=0xc00005e788 pc=0x439b19
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1 fp=0xc00005e7e8 sp=0xc00005e7e0 pc=0x46e061
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f9dc5964f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f9dc5964f47
    stack: frame={sp:0x7ffde5f84420, fp:0x0} stack=[0x7ffde5785ac0,0x7ffde5f84af0)
    00007ffde5f84320:  000056513f63c683 <runtime.main+883>  000000000030da24 
    00007ffde5f84330:  0000029300000002  00000050c5f4d75a 
    00007ffde5f84340:  000000000030da24  00007ffde5f843f8 
    00007ffde5f84350:  000056513f657936 <runtime.pcvalue+342>  00005651403ca828 
    00007ffde5f84360:  0000000000000000  0000000000000000 
    00007ffde5f84370:  00007f9dc5d12560  00007f9dc5d15bc0 
    00007ffde5f84380:  000000c42006ffd0  000056513f63c3e0 <runtime.main+208> 
    00007ffde5f84390:  0000565140330970  0000000000000000 
    00007ffde5f843a0:  0000000000000000  0000000000000000 
    00007ffde5f843b0:  0000000000000000  0000000000000000 
    00007ffde5f843c0:  0000000000000000  0000000000000000 
    00007ffde5f843d0:  000000c420000180  0000000000000000 
    00007ffde5f843e0:  000056513f63c3e0 <runtime.main+208>  0000565140330970 
    00007ffde5f843f0:  0000000000000000  0000000000000000 
    00007ffde5f84400:  0000000000000000  0000000000000000 
    00007ffde5f84410:  0000000000000000  0000000000000000 
    00007ffde5f84420: <0000000000000000  000000c420000180 
    00007ffde5f84430:  0000000000000000  000056513f667f31 <runtime.goexit+1> 
    00007ffde5f84440:  0000000000000000  0000000000000000 
    00007ffde5f84450:  0000000000000000  0000000000000000 
    00007ffde5f84460:  00005651406de3c0  00007ffde5f84770 
    00007ffde5f84470:  000056513f65c962 <runtime.gentraceback+4850>  00007ffde5f84718 
    00007ffde5f84480:  00007ffde5f84808  00005651406de301 
    00007ffde5f84490:  00007ffde5f84501  0000000000000000 
    00007ffde5f844a0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffde5f844b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffde5f844c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffde5f844d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffde5f844e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffde5f844f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffde5f84500:  ffffffffffffffff  ffffffffffffffff 
    00007ffde5f84510:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f9dc5964f47
    stack: frame={sp:0x7ffde5f84420, fp:0x0} stack=[0x7ffde5785ac0,0x7ffde5f84af0)
    00007ffde5f84320:  000056513f63c683 <runtime.main+883>  000000000030da24 
    00007ffde5f84330:  0000029300000002  00000050c5f4d75a 
    00007ffde5f84340:  000000000030da24  00007ffde5f843f8 
    00007ffde5f84350:  000056513f657936 <runtime.pcvalue+342>  00005651403ca828 
    00007ffde5f84360:  0000000000000000  0000000000000000 
    00007ffde5f84370:  00007f9dc5d12560  00007f9dc5d15bc0 
    00007ffde5f84380:  000000c42006ffd0  000056513f63c3e0 <runtime.main+208> 
    00007ffde5f84390:  0000565140330970  0000000000000000 
    00007ffde5f843a0:  0000000000000000  0000000000000000 
    00007ffde5f843b0:  0000000000000000  0000000000000000 
    00007ffde5f843c0:  0000000000000000  0000000000000000 
    00007ffde5f843d0:  000000c420000180  0000000000000000 
    00007ffde5f843e0:  000056513f63c3e0 <runtime.main+208>  0000565140330970 
    00007ffde5f843f0:  0000000000000000  0000000000000000 
    00007ffde5f84400:  0000000000000000  0000000000000000 
    00007ffde5f84410:  0000000000000000  0000000000000000 
    00007ffde5f84420: <0000000000000000  000000c420000180 
    00007ffde5f84430:  0000000000000000  000056513f667f31 <runtime.goexit+1> 
    00007ffde5f84440:  0000000000000000  0000000000000000 
    00007ffde5f84450:  0000000000000000  0000000000000000 
    00007ffde5f84460:  00005651406de3c0  00007ffde5f84770 
    00007ffde5f84470:  000056513f65c962 <runtime.gentraceback+4850>  00007ffde5f84718 
    00007ffde5f84480:  00007ffde5f84808  00005651406de301 
    00007ffde5f84490:  00007ffde5f84501  0000000000000000 
    00007ffde5f844a0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffde5f844b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffde5f844c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffde5f844d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffde5f844e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffde5f844f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffde5f84500:  ffffffffffffffff  ffffffffffffffff 
    00007ffde5f84510:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x565140330a60, 0xc4200380c8, 0x56513fd0e704, 0xc, 0xc42003ce17, 0x3)
    	/usr/lib/go-1.10/src/runtime/proc.go:291 +0x120
    runtime.goparkunlock(0xc4200380c8, 0x56513fd0e704, 0xc, 0x17, 0x3)
    	/usr/lib/go-1.10/src/runtime/proc.go:297 +0x60
    runtime.chanrecv(0xc420038070, 0x0, 0x1, 0x56513f6278aa)
    	/usr/lib/go-1.10/src/runtime/chan.go:518 +0x2f6
    runtime.chanrecv1(0xc420038070, 0x0)
    	/usr/lib/go-1.10/src/runtime/chan.go:400 +0x2b
    runtime.gcenable()
    	/usr/lib/go-1.10/src/runtime/mgc.go:217 +0x71
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:161 +0x126
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1
    
    rax    0x0
    rbx    0x7f9dc5d12840
    rcx    0x7f9dc5964f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffde5f84420
    rbp    0x56513fe3632a
    rsp    0x7ffde5f84420
    r8     0x0
    r9     0x7ffde5f84420
    r10    0x8
    r11    0x246
    r12    0x565141e8b540
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f9dc5964f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
