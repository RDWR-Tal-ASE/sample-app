apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    system_key.go:147: cannot determine seccomp compiler version in generateSystemKey: 
    -----
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f2655ca2f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f2655ca2f47
    stack: frame={sp:0x7ffd915bcc00, fp:0x0} stack=[0x7ffd90dbe280,0x7ffd915bd2c0)
    00007ffd915bcb00:  00007ffd915bcee0  00007f2656283f13 
    00007ffd915bcb10:  0000000000000005  00000000008661c8 
    00007ffd915bcb20:  00007ffd915bd010  0000000000f36540 
    00007ffd915bcb30:  0000000000000000  0000000000593e90 
    00007ffd915bcb40:  0000000000000000  00007f2656283f13 
    00007ffd915bcb50:  0000000000000005  0000000000000000 
    00007ffd915bcb60:  2525252525252525  2525252525252525 
    00007ffd915bcb70:  00000000ff00ff00  0000000000000000 
    00007ffd915bcb80:  00000000ff000000  0000000000000000 
    00007ffd915bcb90:  0000000000000000  0000000000000000 
    00007ffd915bcba0:  2f7273752f3a6e69  73752f3a6e696273 
    00007ffd915bcbb0:  752f3a6e69622f72  6c61636f6c2f7273 
    00007ffd915bcbc0:  73752f3a6e69622f  732f6e6962732f72 
    00007ffd915bcbd0:  2f3a656369767265  6e69622f70616e73 
    00007ffd915bcbe0:  6c6c616d00732520  656c69616620636f 
    00007ffd915bcbf0:  0000000000000000  0000000000000000 
    00007ffd915bcc00: <0000000000000000  0000000000000000 
    00007ffd915bcc10:  0000000000000000  0000000000000000 
    00007ffd915bcc20:  0000000000000000  0000000000000000 
    00007ffd915bcc30:  0000000000000000  0000000000000000 
    00007ffd915bcc40:  0000000000000000  0000000000000000 
    00007ffd915bcc50:  0000000000000000  0000000000000000 
    00007ffd915bcc60:  0000000000000000  0000000000000000 
    00007ffd915bcc70:  00007f2656050560  00007f2656053bc0 
    00007ffd915bcc80:  fffffffe7fffffff  ffffffffffffffff 
    00007ffd915bcc90:  ffffffffffffffff  ffffffffffffffff 
    00007ffd915bcca0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd915bccb0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd915bccc0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd915bccd0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd915bcce0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd915bccf0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f2655ca2f47
    stack: frame={sp:0x7ffd915bcc00, fp:0x0} stack=[0x7ffd90dbe280,0x7ffd915bd2c0)
    00007ffd915bcb00:  00007ffd915bcee0  00007f2656283f13 
    00007ffd915bcb10:  0000000000000005  00000000008661c8 
    00007ffd915bcb20:  00007ffd915bd010  0000000000f36540 
    00007ffd915bcb30:  0000000000000000  0000000000593e90 
    00007ffd915bcb40:  0000000000000000  00007f2656283f13 
    00007ffd915bcb50:  0000000000000005  0000000000000000 
    00007ffd915bcb60:  2525252525252525  2525252525252525 
    00007ffd915bcb70:  00000000ff00ff00  0000000000000000 
    00007ffd915bcb80:  00000000ff000000  0000000000000000 
    00007ffd915bcb90:  0000000000000000  0000000000000000 
    00007ffd915bcba0:  2f7273752f3a6e69  73752f3a6e696273 
    00007ffd915bcbb0:  752f3a6e69622f72  6c61636f6c2f7273 
    00007ffd915bcbc0:  73752f3a6e69622f  732f6e6962732f72 
    00007ffd915bcbd0:  2f3a656369767265  6e69622f70616e73 
    00007ffd915bcbe0:  6c6c616d00732520  656c69616620636f 
    00007ffd915bcbf0:  0000000000000000  0000000000000000 
    00007ffd915bcc00: <0000000000000000  0000000000000000 
    00007ffd915bcc10:  0000000000000000  0000000000000000 
    00007ffd915bcc20:  0000000000000000  0000000000000000 
    00007ffd915bcc30:  0000000000000000  0000000000000000 
    00007ffd915bcc40:  0000000000000000  0000000000000000 
    00007ffd915bcc50:  0000000000000000  0000000000000000 
    00007ffd915bcc60:  0000000000000000  0000000000000000 
    00007ffd915bcc70:  00007f2656050560  00007f2656053bc0 
    00007ffd915bcc80:  fffffffe7fffffff  ffffffffffffffff 
    00007ffd915bcc90:  ffffffffffffffff  ffffffffffffffff 
    00007ffd915bcca0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd915bccb0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd915bccc0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd915bccd0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd915bcce0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd915bccf0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x57a460, 0xc0000180c8, 0x170e, 0x3)
    	/usr/lib/go-1.13/src/runtime/proc.go:304 +0xe0
    runtime.goparkunlock(...)
    	/usr/lib/go-1.13/src/runtime/proc.go:310
    runtime.chanrecv(0xc000018070, 0x0, 0xc000000101, 0x41b36e)
    	/usr/lib/go-1.13/src/runtime/chan.go:524 +0x2e8
    runtime.chanrecv1(0xc000018070, 0x0)
    	/usr/lib/go-1.13/src/runtime/chan.go:406 +0x2b
    runtime.gcenable()
    	/usr/lib/go-1.13/src/runtime/mgc.go:212 +0x95
    runtime.main()
    	/usr/lib/go-1.13/src/runtime/proc.go:166 +0x121
    runtime.goexit()
    	/usr/lib/go-1.13/src/runtime/asm_amd64.s:1357 +0x1
    
    rax    0x0
    rbx    0x7f2656050840
    rcx    0x7f2655ca2f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffd915bcc00
    rbp    0x59f2ca
    rsp    0x7ffd915bcc00
    r8     0x0
    r9     0x7ffd915bcc00
    r10    0x8
    r11    0x246
    r12    0xf36540
    r13    0x0
    r14    0x593e90
    r15    0x0
    rip    0x7f2655ca2f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    -----
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fb071787f47 m=14 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fb071787f47
    stack: frame={sp:0x7fb0549c0840, fp:0x0} stack=[0x7fb0541c1288,0x7fb0549c0e88)
    00007fb0549c0740:  00007fb0549c0b20  00007fb071d68f13 
    00007fb0549c0750:  0000000000000005  000055d231ef7148 
    00007fb0549c0760:  00007fb0549c0c50  000055d232841690 
    00007fb0549c0770:  0000000000000000  000055d2313d3d10 
    00007fb0549c0780:  0000000000000000  00007fb071d68f13 
    00007fb0549c0790:  0000000000000005  0000000000000000 
    00007fb0549c07a0:  2525252525252525  2525252525252525 
    00007fb0549c07b0:  00000000000000ff  0000000000000000 
    00007fb0549c07c0:  00000000000000ff  0000000000000000 
    00007fb0549c07d0:  00007fb030000010  00007fb030000010 
    00007fb0549c07e0:  000000000000000e  000000000000000e 
    00007fb0549c07f0:  0000000000000000  0000000000000000 
    00007fb0549c0800:  ffffffffffffffff  ffffffffffffffff 
    00007fb0549c0810:  0000000400000004  0000000400000004 
    00007fb0549c0820:  20636f6c6c616d00  203a64656c696166 
    00007fb0549c0830:  0000000000000000  0000000000000000 
    00007fb0549c0840: <0000000000000000  000000c000444a50 
    00007fb0549c0850:  0000000000000000  0000000000000000 
    00007fb0549c0860:  0000000000000000  0000000000000000 
    00007fb0549c0870:  732f6e75722f2078  636f732e6470616e 
    00007fb0549c0880:  6e6f63203a74656b  6f63203a7463656e 
    00007fb0549c0890:  6e6f697463656e6e  6465737566657220 
    00007fb0549c08a0:  0000000000000000  0000000000000000 
    00007fb0549c08b0:  00007fb071b35560  00007fb071b38bc0 
    00007fb0549c08c0:  fffffffe7fffffff  ffffffffffffffff 
    00007fb0549c08d0:  ffffffffffffffff  ffffffffffffffff 
    00007fb0549c08e0:  ffffffffffffffff  ffffffffffffffff 
    00007fb0549c08f0:  ffffffffffffffff  ffffffffffffffff 
    00007fb0549c0900:  ffffffffffffffff  ffffffffffffffff 
    00007fb0549c0910:  ffffffffffffffff  ffffffffffffffff 
    00007fb0549c0920:  ffffffffffffffff  ffffffffffffffff 
    00007fb0549c0930:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fb071787f47
    stack: frame={sp:0x7fb0549c0840, fp:0x0} stack=[0x7fb0541c1288,0x7fb0549c0e88)
    00007fb0549c0740:  00007fb0549c0b20  00007fb071d68f13 
    00007fb0549c0750:  0000000000000005  000055d231ef7148 
    00007fb0549c0760:  00007fb0549c0c50  000055d232841690 
    00007fb0549c0770:  0000000000000000  000055d2313d3d10 
    00007fb0549c0780:  0000000000000000  00007fb071d68f13 
    00007fb0549c0790:  0000000000000005  0000000000000000 
    00007fb0549c07a0:  2525252525252525  2525252525252525 
    00007fb0549c07b0:  00000000000000ff  0000000000000000 
    00007fb0549c07c0:  00000000000000ff  0000000000000000 
    00007fb0549c07d0:  00007fb030000010  00007fb030000010 
    00007fb0549c07e0:  000000000000000e  000000000000000e 
    00007fb0549c07f0:  0000000000000000  0000000000000000 
    00007fb0549c0800:  ffffffffffffffff  ffffffffffffffff 
    00007fb0549c0810:  0000000400000004  0000000400000004 
    00007fb0549c0820:  20636f6c6c616d00  203a64656c696166 
    00007fb0549c0830:  0000000000000000  0000000000000000 
    00007fb0549c0840: <0000000000000000  000000c000444a50 
    00007fb0549c0850:  0000000000000000  0000000000000000 
    00007fb0549c0860:  0000000000000000  0000000000000000 
    00007fb0549c0870:  732f6e75722f2078  636f732e6470616e 
    00007fb0549c0880:  6e6f63203a74656b  6f63203a7463656e 
    00007fb0549c0890:  6e6f697463656e6e  6465737566657220 
    00007fb0549c08a0:  0000000000000000  0000000000000000 
    00007fb0549c08b0:  00007fb071b35560  00007fb071b38bc0 
    00007fb0549c08c0:  fffffffe7fffffff  ffffffffffffffff 
    00007fb0549c08d0:  ffffffffffffffff  ffffffffffffffff 
    00007fb0549c08e0:  ffffffffffffffff  ffffffffffffffff 
    00007fb0549c08f0:  ffffffffffffffff  ffffffffffffffff 
    00007fb0549c0900:  ffffffffffffffff  ffffffffffffffff 
    00007fb0549c0910:  ffffffffffffffff  ffffffffffffffff 
    00007fb0549c0920:  ffffffffffffffff  ffffffffffffffff 
    00007fb0549c0930:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [select]:
    github.com/snapcore/snapd/client.(*Client).do(0xc0003b21c0, 0x55d231227ee7, 0x3, 0x55d231231d78, 0xf, 0x0, 0x0, 0x0, 0x0, 0x55d231881f40, ...)
    	/build/snapd/parts/snapd-deb/build/client/client.go:394 +0x2f9
    github.com/snapcore/snapd/client.(*Client).doSyncWithOpts(0xc0003b21c0, 0x55d231227ee7, 0x3, 0x55d231231d78, 0xf, 0x0, 0x0, 0x0, 0x0, 0x55d23181d9a0, ...)
    	/build/snapd/parts/snapd-deb/build/client/client.go:492 +0xf6
    github.com/snapcore/snapd/client.(*Client).SysInfo(0xc0003b21c0, 0x0, 0x55d2319b9820, 0xc000492d40)
    	/build/snapd/parts/snapd-deb/build/client/client.go:727 +0xd4
    main.maybeWaitForSecurityProfileRegeneration(0xc0003b21c0, 0xc0003f17c0, 0xd)
    	/build/snapd/parts/snapd-deb/build/cmd/snap/cmd_run.go:200 +0x1aa
    main.(*cmdRun).Execute(0xc00059beb8, 0xc000032190, 0x2, 0x3, 0x0, 0x0)
    	/build/snapd/parts/snapd-deb/build/cmd/snap/cmd_run.go:240 +0x172
    main.main()
    	/build/snapd/parts/snapd-deb/build/cmd/snap/main.go:482 +0x581
    
    goroutine 6 [syscall, 2 minutes]:
    os/signal.signal_recv(0x0)
    	/usr/lib/go-1.13/src/runtime/sigqueue.go:147 +0x9e
    os/signal.loop()
    	/usr/lib/go-1.13/src/os/signal/signal_unix.go:23 +0x24
    created by os/signal.init.0
    	/usr/lib/go-1.13/src/os/signal/signal_unix.go:29 +0x43
    
    rax    0x0
    rbx    0x7fb071b35840
    rcx    0x7fb071787f47
    rdx    0x0
    rdi    0x2
    rsi    0x7fb0549c0840
    rbp    0x55d2313ede7c
    rsp    0x7fb0549c0840
    r8     0x0
    r9     0x7fb0549c0840
    r10    0x8
    r11    0x246
    r12    0x55d232841690
    r13    0x0
    r14    0x55d2313d3d10
    r15    0x0
    rip    0x7fb071787f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 2 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7d48, 0x0, 0xffffffffffffffff)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.main.func1()
    	/usr/local/go/src/runtime/proc.go:135 +0x3f
    runtime.systemstack(0x46c2f4)
    	/usr/local/go/src/runtime/asm_amd64.s:370 +0x66
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1116
    
    goroutine 1 [running]:
    runtime.systemstack_switch()
    	/usr/local/go/src/runtime/asm_amd64.s:330 fp=0xc00005e788 sp=0xc00005e780 pc=0x46c420
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:134 +0x70 fp=0xc00005e7e0 sp=0xc00005e788 pc=0x439ab0
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1 fp=0xc00005e7e8 sp=0xc00005e7e0 pc=0x46e061
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f64ca5c3f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f64ca5c3f47
    stack: frame={sp:0x7ffd92d13590, fp:0x0} stack=[0x7ffd92514a80,0x7ffd92d13ac0)
    00007ffd92d13490:  0000000000000005  0000ffff00001fa0 
    00007ffd92d134a0:  00007ffd92d139a0  000055b9714f0690 
    00007ffd92d134b0:  0000000000000000  000055b9708c2d10 
    00007ffd92d134c0:  0000000000000000  00007f64caba4f13 
    00007ffd92d134d0:  0000000000000005  0000000000000000 
    00007ffd92d134e0:  0000000000000000  00007f64ca595ce0 
    00007ffd92d134f0:  00007ffd92d138b0  00007f64cabac75a 
    00007ffd92d13500:  0000000000000000  0000000000000000 
    00007ffd92d13510:  0000000000000000  00007ffd92d139a0 
    00007ffd92d13520:  2525252525252525  2525252525252525 
    00007ffd92d13530:  00000000000000ff  0000000000000000 
    00007ffd92d13540:  00000000000000ff  0000000000000000 
    00007ffd92d13550:  0000000000000000  0000000000000000 
    00007ffd92d13560:  2f7273752f3a6e69  73752f3a6e696273 
    00007ffd92d13570:  752f3a6e69622f72  6c61636f6c2f7273 
    00007ffd92d13580:  73752f3a6e69622f  732f6e6962732f72 
    00007ffd92d13590: <0000000000000000  6e69622f70616e73 
    00007ffd92d135a0:  20636f6c6c616d00  203a64656c696166 
    00007ffd92d135b0:  0000000000000000  0000000000000000 
    00007ffd92d135c0:  0000000000000000  0000000000000000 
    00007ffd92d135d0:  0000000000000000  0000000000000000 
    00007ffd92d135e0:  0000000000000000  0000000000000000 
    00007ffd92d135f0:  0000000000000000  0000000000000000 
    00007ffd92d13600:  0000000000000000  0000000000000000 
    00007ffd92d13610:  fffffffe7fffffff  ffffffffffffffff 
    00007ffd92d13620:  ffffffffffffffff  ffffffffffffffff 
    00007ffd92d13630:  ffffffffffffffff  ffffffffffffffff 
    00007ffd92d13640:  ffffffffffffffff  ffffffffffffffff 
    00007ffd92d13650:  ffffffffffffffff  ffffffffffffffff 
    00007ffd92d13660:  ffffffffffffffff  ffffffffffffffff 
    00007ffd92d13670:  ffffffffffffffff  ffffffffffffffff 
    00007ffd92d13680:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f64ca5c3f47
    stack: frame={sp:0x7ffd92d13590, fp:0x0} stack=[0x7ffd92514a80,0x7ffd92d13ac0)
    00007ffd92d13490:  0000000000000005  0000ffff00001fa0 
    00007ffd92d134a0:  00007ffd92d139a0  000055b9714f0690 
    00007ffd92d134b0:  0000000000000000  000055b9708c2d10 
    00007ffd92d134c0:  0000000000000000  00007f64caba4f13 
    00007ffd92d134d0:  0000000000000005  0000000000000000 
    00007ffd92d134e0:  0000000000000000  00007f64ca595ce0 
    00007ffd92d134f0:  00007ffd92d138b0  00007f64cabac75a 
    00007ffd92d13500:  0000000000000000  0000000000000000 
    00007ffd92d13510:  0000000000000000  00007ffd92d139a0 
    00007ffd92d13520:  2525252525252525  2525252525252525 
    00007ffd92d13530:  00000000000000ff  0000000000000000 
    00007ffd92d13540:  00000000000000ff  0000000000000000 
    00007ffd92d13550:  0000000000000000  0000000000000000 
    00007ffd92d13560:  2f7273752f3a6e69  73752f3a6e696273 
    00007ffd92d13570:  752f3a6e69622f72  6c61636f6c2f7273 
    00007ffd92d13580:  73752f3a6e69622f  732f6e6962732f72 
    00007ffd92d13590: <0000000000000000  6e69622f70616e73 
    00007ffd92d135a0:  20636f6c6c616d00  203a64656c696166 
    00007ffd92d135b0:  0000000000000000  0000000000000000 
    00007ffd92d135c0:  0000000000000000  0000000000000000 
    00007ffd92d135d0:  0000000000000000  0000000000000000 
    00007ffd92d135e0:  0000000000000000  0000000000000000 
    00007ffd92d135f0:  0000000000000000  0000000000000000 
    00007ffd92d13600:  0000000000000000  0000000000000000 
    00007ffd92d13610:  fffffffe7fffffff  ffffffffffffffff 
    00007ffd92d13620:  ffffffffffffffff  ffffffffffffffff 
    00007ffd92d13630:  ffffffffffffffff  ffffffffffffffff 
    00007ffd92d13640:  ffffffffffffffff  ffffffffffffffff 
    00007ffd92d13650:  ffffffffffffffff  ffffffffffffffff 
    00007ffd92d13660:  ffffffffffffffff  ffffffffffffffff 
    00007ffd92d13670:  ffffffffffffffff  ffffffffffffffff 
    00007ffd92d13680:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x55b970716930, 0xc00005e708)
    	/usr/lib/go-1.13/src/runtime/asm_amd64.s:640 +0x3f fp=0xc00005e6f0 sp=0xc00005e6e8 pc=0x55b96ffb735f
    runtime.newm1(0xc000062e00)
    	/usr/lib/go-1.13/src/runtime/proc.go:1848 +0xa6 fp=0xc00005e730 sp=0xc00005e6f0 pc=0x55b96ff8f9b6
    runtime.newm(0x55b970e91690, 0x0)
    	/usr/lib/go-1.13/src/runtime/proc.go:1832 +0x93 fp=0xc00005e760 sp=0xc00005e730 pc=0x55b96ff8f853
    runtime.startTemplateThread(...)
    	/usr/lib/go-1.13/src/runtime/proc.go:1868
    runtime.main()
    	/usr/lib/go-1.13/src/runtime/proc.go:186 +0x2cb fp=0xc00005e7e0 sp=0xc00005e760 pc=0x55b96ff8ba8b
    runtime.goexit()
    	/usr/lib/go-1.13/src/runtime/asm_amd64.s:1357 +0x1 fp=0xc00005e7e8 sp=0xc00005e7e0 pc=0x55b96ffb7c21
    
    rax    0x0
    rbx    0x7f64ca971840
    rcx    0x7f64ca5c3f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffd92d13590
    rbp    0x55b9708dce7c
    rsp    0x7ffd92d13590
    r8     0x0
    r9     0x7ffd92d13590
    r10    0x8
    r11    0x246
    r12    0x55b9714f0690
    r13    0x0
    r14    0x55b9708c2d10
    r15    0x0
    rip    0x7f64ca5c3f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
