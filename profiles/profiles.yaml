apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f25495c2f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f25495c2f47
    stack: frame={sp:0x7ffc7078b930, fp:0x0} stack=[0x7ffc6ff8cfd0,0x7ffc7078c000)
    00007ffc7078b830:  00005635464e1683 <runtime.main+883>  000000000030da24 
    00007ffc7078b840:  0000029300000002  0000005049583700 
    00007ffc7078b850:  000000000030da24  00007ffc7078b908 
    00007ffc7078b860:  00005635464fc936 <runtime.pcvalue+342>  000056354726f828 
    00007ffc7078b870:  00000000002f742e  00000000002f742e 
    00007ffc7078b880:  00007ffc7078b8c0  00007ffc7078b8bc 
    00007ffc7078b890:  0000563547583301  000056354726f82a 
    00007ffc7078b8a0:  00000000002f742c  00000000002f742c 
    00007ffc7078b8b0:  0000000000000001  0000000040000000 
    00007ffc7078b8c0:  00007ffc7078b978  00005635464f775f <runtime.adjustframe+175> 
    00007ffc7078b8d0:  000056354726f7f0  00005635475833c0 
    00007ffc7078b8e0:  00007ffc00000000  000056354650cf30 <runtime.goexit+0> 
    00007ffc7078b8f0:  00007ffc7078bd30  00000000ffffffff 
    00007ffc7078b900:  000000007078b890  000056354650cf30 <runtime.goexit+0> 
    00007ffc7078b910:  00005635464fd1c1 <runtime.funcspdelta+97>  000056354726f7f0 
    00007ffc7078b920:  00005635475833c0  000000000006f548 
    00007ffc7078b930: <0000000000000000  00007ffc7078ba90 
    00007ffc7078b940:  0000563546c69201  000056354726f7f0 
    00007ffc7078b950:  00005635475833c0  0000000000000000 
    00007ffc7078b960:  0000000000000000  000056354650cf31 <runtime.goexit+1> 
    00007ffc7078b970:  00005635475833c0  00007ffc7078bc80 
    00007ffc7078b980:  0000563546501962 <runtime.gentraceback+4850>  00007ffc7078bc28 
    00007ffc7078b990:  00007ffc7078bd18  0000563547583301 
    00007ffc7078b9a0:  00007ffc7078ba01  0000000000000000 
    00007ffc7078b9b0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc7078b9c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc7078b9d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc7078b9e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc7078b9f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc7078ba00:  ffffffffffffffff  ffffffffffffffff 
    00007ffc7078ba10:  ffffffffffffffff  ffffffffffffffff 
    00007ffc7078ba20:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f25495c2f47
    stack: frame={sp:0x7ffc7078b930, fp:0x0} stack=[0x7ffc6ff8cfd0,0x7ffc7078c000)
    00007ffc7078b830:  00005635464e1683 <runtime.main+883>  000000000030da24 
    00007ffc7078b840:  0000029300000002  0000005049583700 
    00007ffc7078b850:  000000000030da24  00007ffc7078b908 
    00007ffc7078b860:  00005635464fc936 <runtime.pcvalue+342>  000056354726f828 
    00007ffc7078b870:  00000000002f742e  00000000002f742e 
    00007ffc7078b880:  00007ffc7078b8c0  00007ffc7078b8bc 
    00007ffc7078b890:  0000563547583301  000056354726f82a 
    00007ffc7078b8a0:  00000000002f742c  00000000002f742c 
    00007ffc7078b8b0:  0000000000000001  0000000040000000 
    00007ffc7078b8c0:  00007ffc7078b978  00005635464f775f <runtime.adjustframe+175> 
    00007ffc7078b8d0:  000056354726f7f0  00005635475833c0 
    00007ffc7078b8e0:  00007ffc00000000  000056354650cf30 <runtime.goexit+0> 
    00007ffc7078b8f0:  00007ffc7078bd30  00000000ffffffff 
    00007ffc7078b900:  000000007078b890  000056354650cf30 <runtime.goexit+0> 
    00007ffc7078b910:  00005635464fd1c1 <runtime.funcspdelta+97>  000056354726f7f0 
    00007ffc7078b920:  00005635475833c0  000000000006f548 
    00007ffc7078b930: <0000000000000000  00007ffc7078ba90 
    00007ffc7078b940:  0000563546c69201  000056354726f7f0 
    00007ffc7078b950:  00005635475833c0  0000000000000000 
    00007ffc7078b960:  0000000000000000  000056354650cf31 <runtime.goexit+1> 
    00007ffc7078b970:  00005635475833c0  00007ffc7078bc80 
    00007ffc7078b980:  0000563546501962 <runtime.gentraceback+4850>  00007ffc7078bc28 
    00007ffc7078b990:  00007ffc7078bd18  0000563547583301 
    00007ffc7078b9a0:  00007ffc7078ba01  0000000000000000 
    00007ffc7078b9b0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc7078b9c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc7078b9d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc7078b9e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc7078b9f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc7078ba00:  ffffffffffffffff  ffffffffffffffff 
    00007ffc7078ba10:  ffffffffffffffff  ffffffffffffffff 
    00007ffc7078ba20:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x5635471d5a60, 0xc4200380c8, 0x563546bb3704, 0xc, 0xc42003ce17, 0x3)
    	/usr/lib/go-1.10/src/runtime/proc.go:291 +0x120
    runtime.goparkunlock(0xc4200380c8, 0x563546bb3704, 0xc, 0x17, 0x3)
    	/usr/lib/go-1.10/src/runtime/proc.go:297 +0x60
    runtime.chanrecv(0xc420038070, 0x0, 0x1, 0x5635464cc8aa)
    	/usr/lib/go-1.10/src/runtime/chan.go:518 +0x2f6
    runtime.chanrecv1(0xc420038070, 0x0)
    	/usr/lib/go-1.10/src/runtime/chan.go:400 +0x2b
    runtime.gcenable()
    	/usr/lib/go-1.10/src/runtime/mgc.go:217 +0x71
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:161 +0x126
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1
    
    rax    0x0
    rbx    0x7f2549970840
    rcx    0x7f25495c2f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffc7078b930
    rbp    0x563546cdb32a
    rsp    0x7ffc7078b930
    r8     0x0
    r9     0x7ffc7078b930
    r10    0x8
    r11    0x246
    r12    0x563548518540
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f25495c2f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 3 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062400)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062400)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc000048800, 0x2)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000046001)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.newproc.func1()
    	/usr/local/go/src/runtime/proc.go:3555 +0x97
    runtime.systemstack(0x46c2f4)
    	/usr/local/go/src/runtime/asm_amd64.s:370 +0x66
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1116
    
    goroutine 1 [running, locked to thread]:
    runtime.systemstack_switch()
    	/usr/local/go/src/runtime/asm_amd64.s:330 fp=0xc00005e6f0 sp=0xc00005e6e8 pc=0x46c420
    runtime.newproc(0x0, 0x1bb7b08)
    	/usr/local/go/src/runtime/proc.go:3548 +0x6e fp=0xc00005e738 sp=0xc00005e6f0 pc=0x44210e
    runtime.init.6()
    	/usr/local/go/src/runtime/proc.go:243 +0x35 fp=0xc00005e758 sp=0xc00005e738 pc=0x439df5
    runtime.doInit(0x2881120)
    	/usr/local/go/src/runtime/proc.go:5646 +0x8a fp=0xc00005e788 sp=0xc00005e758 pc=0x446f8a
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:151 +0xd9 fp=0xc00005e7e0 sp=0xc00005e788 pc=0x439b19
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1 fp=0xc00005e7e8 sp=0xc00005e7e0 pc=0x46e061
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fe3527a5f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fe3527a5f47
    stack: frame={sp:0x7ffd2d9f3840, fp:0x0} stack=[0x7ffd2d1f4ee0,0x7ffd2d9f3f10)
    00007ffd2d9f3740:  000056440037a683 <runtime.main+883>  000000000030da24 
    00007ffd2d9f3750:  0000029300000002  0000005000000000 
    00007ffd2d9f3760:  000000000030da24  00007ffd2d9f3818 
    00007ffd2d9f3770:  0000564400395936 <runtime.pcvalue+342>  0000564401108828 
    00007ffd2d9f3780:  00000000002f742e  00000000002f742e 
    00007ffd2d9f3790:  00007ffd2d9f37d0  00007ffd2d9f37cc 
    00007ffd2d9f37a0:  000056440141c301  000056440110882a 
    00007ffd2d9f37b0:  00000000002f742c  00000000002f742c 
    00007ffd2d9f37c0:  0000000000000001  0000000040000000 
    00007ffd2d9f37d0:  00007ffd2d9f3888  000056440039075f <runtime.adjustframe+175> 
    00007ffd2d9f37e0:  00005644011087f0  000056440141c3c0 
    00007ffd2d9f37f0:  00007ffd00000000  00005644003a5f30 <runtime.goexit+0> 
    00007ffd2d9f3800:  00007ffd2d9f3c40  00000000ffffffff 
    00007ffd2d9f3810:  000000002d9f37a0  00005644003a5f30 <runtime.goexit+0> 
    00007ffd2d9f3820:  00005644003961c1 <runtime.funcspdelta+97>  00005644011087f0 
    00007ffd2d9f3830:  000056440141c3c0  00007ffd0006f548 
    00007ffd2d9f3840: <0000000000000000  00007ffd2d9f39a0 
    00007ffd2d9f3850:  0000564400b02201  00005644011087f0 
    00007ffd2d9f3860:  000056440141c3c0  0000000000000000 
    00007ffd2d9f3870:  0000000000000000  00005644003a5f31 <runtime.goexit+1> 
    00007ffd2d9f3880:  000056440141c3c0  00007ffd2d9f3b90 
    00007ffd2d9f3890:  000056440039a962 <runtime.gentraceback+4850>  00007ffd2d9f3b38 
    00007ffd2d9f38a0:  00007ffd2d9f3c28  000056440141c301 
    00007ffd2d9f38b0:  00007ffd2d9f3901  0000000000000000 
    00007ffd2d9f38c0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffd2d9f38d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd2d9f38e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd2d9f38f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd2d9f3900:  ffffffffffffffff  ffffffffffffffff 
    00007ffd2d9f3910:  ffffffffffffffff  ffffffffffffffff 
    00007ffd2d9f3920:  ffffffffffffffff  ffffffffffffffff 
    00007ffd2d9f3930:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fe3527a5f47
    stack: frame={sp:0x7ffd2d9f3840, fp:0x0} stack=[0x7ffd2d1f4ee0,0x7ffd2d9f3f10)
    00007ffd2d9f3740:  000056440037a683 <runtime.main+883>  000000000030da24 
    00007ffd2d9f3750:  0000029300000002  0000005000000000 
    00007ffd2d9f3760:  000000000030da24  00007ffd2d9f3818 
    00007ffd2d9f3770:  0000564400395936 <runtime.pcvalue+342>  0000564401108828 
    00007ffd2d9f3780:  00000000002f742e  00000000002f742e 
    00007ffd2d9f3790:  00007ffd2d9f37d0  00007ffd2d9f37cc 
    00007ffd2d9f37a0:  000056440141c301  000056440110882a 
    00007ffd2d9f37b0:  00000000002f742c  00000000002f742c 
    00007ffd2d9f37c0:  0000000000000001  0000000040000000 
    00007ffd2d9f37d0:  00007ffd2d9f3888  000056440039075f <runtime.adjustframe+175> 
    00007ffd2d9f37e0:  00005644011087f0  000056440141c3c0 
    00007ffd2d9f37f0:  00007ffd00000000  00005644003a5f30 <runtime.goexit+0> 
    00007ffd2d9f3800:  00007ffd2d9f3c40  00000000ffffffff 
    00007ffd2d9f3810:  000000002d9f37a0  00005644003a5f30 <runtime.goexit+0> 
    00007ffd2d9f3820:  00005644003961c1 <runtime.funcspdelta+97>  00005644011087f0 
    00007ffd2d9f3830:  000056440141c3c0  00007ffd0006f548 
    00007ffd2d9f3840: <0000000000000000  00007ffd2d9f39a0 
    00007ffd2d9f3850:  0000564400b02201  00005644011087f0 
    00007ffd2d9f3860:  000056440141c3c0  0000000000000000 
    00007ffd2d9f3870:  0000000000000000  00005644003a5f31 <runtime.goexit+1> 
    00007ffd2d9f3880:  000056440141c3c0  00007ffd2d9f3b90 
    00007ffd2d9f3890:  000056440039a962 <runtime.gentraceback+4850>  00007ffd2d9f3b38 
    00007ffd2d9f38a0:  00007ffd2d9f3c28  000056440141c301 
    00007ffd2d9f38b0:  00007ffd2d9f3901  0000000000000000 
    00007ffd2d9f38c0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffd2d9f38d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd2d9f38e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd2d9f38f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd2d9f3900:  ffffffffffffffff  ffffffffffffffff 
    00007ffd2d9f3910:  ffffffffffffffff  ffffffffffffffff 
    00007ffd2d9f3920:  ffffffffffffffff  ffffffffffffffff 
    00007ffd2d9f3930:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x56440106ea60, 0xc4200380c8, 0x564400a4c704, 0xc, 0xc42003ce17, 0x3)
    	/usr/lib/go-1.10/src/runtime/proc.go:291 +0x120
    runtime.goparkunlock(0xc4200380c8, 0x564400a4c704, 0xc, 0x17, 0x3)
    	/usr/lib/go-1.10/src/runtime/proc.go:297 +0x60
    runtime.chanrecv(0xc420038070, 0x0, 0x1, 0x5644003658aa)
    	/usr/lib/go-1.10/src/runtime/chan.go:518 +0x2f6
    runtime.chanrecv1(0xc420038070, 0x0)
    	/usr/lib/go-1.10/src/runtime/chan.go:400 +0x2b
    runtime.gcenable()
    	/usr/lib/go-1.10/src/runtime/mgc.go:217 +0x71
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:161 +0x126
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1
    
    rax    0x0
    rbx    0x7fe352b53840
    rcx    0x7fe3527a5f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffd2d9f3840
    rbp    0x564400b7432a
    rsp    0x7ffd2d9f3840
    r8     0x0
    r9     0x7ffd2d9f3840
    r10    0x8
    r11    0x246
    r12    0x564402bfe540
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fe3527a5f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
