apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7eff3319ff47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7eff3319ff47
    stack: frame={sp:0x7ffd876f09d0, fp:0x0} stack=[0x7ffd86ef1ed0,0x7ffd876f0f00)
    00007ffd876f08d0:  0000000000000001  0000000000000000 
    00007ffd876f08e0:  0000000000000000  0000000000000000 
    00007ffd876f08f0:  00007eff3354d560  00007eff33550bc0 
    00007ffd876f0900:  000000c42006ffd0  0000558d77ece3e0 <runtime.main+208> 
    00007ffd876f0910:  0000558d78bc2970  0000000000000000 
    00007ffd876f0920:  0000000000000000  0000000000000000 
    00007ffd876f0930:  0000000000000000  0000000000000000 
    00007ffd876f0940:  0000000000000000  0000000000000000 
    00007ffd876f0950:  000000c420000180  0000000000000000 
    00007ffd876f0960:  0000558d77ece3e0 <runtime.main+208>  0000558d78bc2970 
    00007ffd876f0970:  0000000000000000  0000000000000000 
    00007ffd876f0980:  0000000000000000  0000000000000000 
    00007ffd876f0990:  0000000000000000  0000000000000000 
    00007ffd876f09a0:  0000000000000000  000000c420000180 
    00007ffd876f09b0:  0000000000000000  0000558d77ef9f31 <runtime.goexit+1> 
    00007ffd876f09c0:  0000000000000000  0000000000000000 
    00007ffd876f09d0: <0000000000000000  0000000000000000 
    00007ffd876f09e0:  00007eff339910d0  00007ffd876f0a28 
    00007ffd876f09f0:  0000558d77eea582 <runtime.step+290>  0000558d78c46232 
    00007ffd876f0a00:  000000000030da24  000000000030da24 
    00007ffd876f0a10:  0000029300000002  0000005033559ec5 
    00007ffd876f0a20:  000000000030da24  00007ffd876f0ad8 
    00007ffd876f0a30:  0000558d77ee9936 <runtime.pcvalue+342>  0000558d78c5c828 
    00007ffd876f0a40:  0000000000000002  0000000000000000 
    00007ffd876f0a50:  fffffffe7fffffff  ffffffffffffffff 
    00007ffd876f0a60:  ffffffffffffffff  ffffffffffffffff 
    00007ffd876f0a70:  ffffffffffffffff  ffffffffffffffff 
    00007ffd876f0a80:  ffffffffffffffff  ffffffffffffffff 
    00007ffd876f0a90:  ffffffffffffffff  ffffffffffffffff 
    00007ffd876f0aa0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd876f0ab0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd876f0ac0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7eff3319ff47
    stack: frame={sp:0x7ffd876f09d0, fp:0x0} stack=[0x7ffd86ef1ed0,0x7ffd876f0f00)
    00007ffd876f08d0:  0000000000000001  0000000000000000 
    00007ffd876f08e0:  0000000000000000  0000000000000000 
    00007ffd876f08f0:  00007eff3354d560  00007eff33550bc0 
    00007ffd876f0900:  000000c42006ffd0  0000558d77ece3e0 <runtime.main+208> 
    00007ffd876f0910:  0000558d78bc2970  0000000000000000 
    00007ffd876f0920:  0000000000000000  0000000000000000 
    00007ffd876f0930:  0000000000000000  0000000000000000 
    00007ffd876f0940:  0000000000000000  0000000000000000 
    00007ffd876f0950:  000000c420000180  0000000000000000 
    00007ffd876f0960:  0000558d77ece3e0 <runtime.main+208>  0000558d78bc2970 
    00007ffd876f0970:  0000000000000000  0000000000000000 
    00007ffd876f0980:  0000000000000000  0000000000000000 
    00007ffd876f0990:  0000000000000000  0000000000000000 
    00007ffd876f09a0:  0000000000000000  000000c420000180 
    00007ffd876f09b0:  0000000000000000  0000558d77ef9f31 <runtime.goexit+1> 
    00007ffd876f09c0:  0000000000000000  0000000000000000 
    00007ffd876f09d0: <0000000000000000  0000000000000000 
    00007ffd876f09e0:  00007eff339910d0  00007ffd876f0a28 
    00007ffd876f09f0:  0000558d77eea582 <runtime.step+290>  0000558d78c46232 
    00007ffd876f0a00:  000000000030da24  000000000030da24 
    00007ffd876f0a10:  0000029300000002  0000005033559ec5 
    00007ffd876f0a20:  000000000030da24  00007ffd876f0ad8 
    00007ffd876f0a30:  0000558d77ee9936 <runtime.pcvalue+342>  0000558d78c5c828 
    00007ffd876f0a40:  0000000000000002  0000000000000000 
    00007ffd876f0a50:  fffffffe7fffffff  ffffffffffffffff 
    00007ffd876f0a60:  ffffffffffffffff  ffffffffffffffff 
    00007ffd876f0a70:  ffffffffffffffff  ffffffffffffffff 
    00007ffd876f0a80:  ffffffffffffffff  ffffffffffffffff 
    00007ffd876f0a90:  ffffffffffffffff  ffffffffffffffff 
    00007ffd876f0aa0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd876f0ab0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd876f0ac0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x558d78596a30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x558d77ef8bcf
    runtime.newm1(0xc420061000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x558d77ed26b1
    runtime.newm(0x558d78bc2b08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x558d77ed252f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x558d77ed2791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x558d77ece4b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x558d77ef9f31
    
    rax    0x0
    rbx    0x7eff3354d840
    rcx    0x7eff3319ff47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffd876f09d0
    rbp    0x558d786c832a
    rsp    0x7ffd876f09d0
    r8     0x0
    r9     0x7ffd876f09d0
    r10    0x8
    r11    0x246
    r12    0x558d79a80690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7eff3319ff47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 5 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000088000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000088000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc00004b000, 0x4)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000073f01)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.resetspinning()
    	/usr/local/go/src/runtime/proc.go:2533 +0x59
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2684 +0x2b9
    runtime.mstart1()
    	/usr/local/go/src/runtime/proc.go:1179 +0x93
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1137 +0x6e
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x1bb7a80, 0xc0000420c8, 0x170e, 0x2)
    	/usr/local/go/src/runtime/proc.go:306 +0xe5
    runtime.chanrecv(0xc000042070, 0x0, 0xc000000101, 0x41a55e)
    	/usr/local/go/src/runtime/chan.go:577 +0x36f
    runtime.chanrecv1(0xc000042070, 0x0)
    	/usr/local/go/src/runtime/chan.go:439 +0x2b
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:219 +0x95
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fb61e799f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fb61e799f47
    stack: frame={sp:0x7ffc13ef0a70, fp:0x0} stack=[0x7ffc136f1f70,0x7ffc13ef0fa0)
    00007ffc13ef0970:  0000000000000001  0000000000000000 
    00007ffc13ef0980:  0000000000000000  000000c420081fe0 
    00007ffc13ef0990:  0000000000000000  0000000000000000 
    00007ffc13ef09a0:  0000000000000000  0000000000000000 
    00007ffc13ef09b0:  00007fb61eb47560  00007fb61eb4abc0 
    00007ffc13ef09c0:  000000c42006ffd0  0000558fe683a3e0 <runtime.main+208> 
    00007ffc13ef09d0:  0000558fe752e970  0000000000000000 
    00007ffc13ef09e0:  0000000000000000  0000000000000000 
    00007ffc13ef09f0:  0000000000000000  0000000000000000 
    00007ffc13ef0a00:  0000000000000000  0000000000000000 
    00007ffc13ef0a10:  000000c420000180  0000000000000000 
    00007ffc13ef0a20:  0000558fe683a3e0 <runtime.main+208>  0000558fe752e970 
    00007ffc13ef0a30:  0000000000000000  0000000000000000 
    00007ffc13ef0a40:  0000000000000000  0000000000000000 
    00007ffc13ef0a50:  0000000000000000  0000000000000000 
    00007ffc13ef0a60:  0000000000000000  000000c420000180 
    00007ffc13ef0a70: <0000000000000000  0000558fe6865f31 <runtime.goexit+1> 
    00007ffc13ef0a80:  0000000000000000  0000000000000000 
    00007ffc13ef0a90:  0000000000000000  0000000000000000 
    00007ffc13ef0aa0:  000000000030da24  000000000030da24 
    00007ffc13ef0ab0:  0000029300000002  000000501eb53ec5 
    00007ffc13ef0ac0:  000000000030da24  00007ffc13ef0b78 
    00007ffc13ef0ad0:  0000558fe6855936 <runtime.pcvalue+342>  0000558fe75c8828 
    00007ffc13ef0ae0:  00000000002f742e  00000000002f742e 
    00007ffc13ef0af0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc13ef0b00:  ffffffffffffffff  ffffffffffffffff 
    00007ffc13ef0b10:  ffffffffffffffff  ffffffffffffffff 
    00007ffc13ef0b20:  ffffffffffffffff  ffffffffffffffff 
    00007ffc13ef0b30:  ffffffffffffffff  ffffffffffffffff 
    00007ffc13ef0b40:  ffffffffffffffff  ffffffffffffffff 
    00007ffc13ef0b50:  ffffffffffffffff  ffffffffffffffff 
    00007ffc13ef0b60:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fb61e799f47
    stack: frame={sp:0x7ffc13ef0a70, fp:0x0} stack=[0x7ffc136f1f70,0x7ffc13ef0fa0)
    00007ffc13ef0970:  0000000000000001  0000000000000000 
    00007ffc13ef0980:  0000000000000000  000000c420081fe0 
    00007ffc13ef0990:  0000000000000000  0000000000000000 
    00007ffc13ef09a0:  0000000000000000  0000000000000000 
    00007ffc13ef09b0:  00007fb61eb47560  00007fb61eb4abc0 
    00007ffc13ef09c0:  000000c42006ffd0  0000558fe683a3e0 <runtime.main+208> 
    00007ffc13ef09d0:  0000558fe752e970  0000000000000000 
    00007ffc13ef09e0:  0000000000000000  0000000000000000 
    00007ffc13ef09f0:  0000000000000000  0000000000000000 
    00007ffc13ef0a00:  0000000000000000  0000000000000000 
    00007ffc13ef0a10:  000000c420000180  0000000000000000 
    00007ffc13ef0a20:  0000558fe683a3e0 <runtime.main+208>  0000558fe752e970 
    00007ffc13ef0a30:  0000000000000000  0000000000000000 
    00007ffc13ef0a40:  0000000000000000  0000000000000000 
    00007ffc13ef0a50:  0000000000000000  0000000000000000 
    00007ffc13ef0a60:  0000000000000000  000000c420000180 
    00007ffc13ef0a70: <0000000000000000  0000558fe6865f31 <runtime.goexit+1> 
    00007ffc13ef0a80:  0000000000000000  0000000000000000 
    00007ffc13ef0a90:  0000000000000000  0000000000000000 
    00007ffc13ef0aa0:  000000000030da24  000000000030da24 
    00007ffc13ef0ab0:  0000029300000002  000000501eb53ec5 
    00007ffc13ef0ac0:  000000000030da24  00007ffc13ef0b78 
    00007ffc13ef0ad0:  0000558fe6855936 <runtime.pcvalue+342>  0000558fe75c8828 
    00007ffc13ef0ae0:  00000000002f742e  00000000002f742e 
    00007ffc13ef0af0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc13ef0b00:  ffffffffffffffff  ffffffffffffffff 
    00007ffc13ef0b10:  ffffffffffffffff  ffffffffffffffff 
    00007ffc13ef0b20:  ffffffffffffffff  ffffffffffffffff 
    00007ffc13ef0b30:  ffffffffffffffff  ffffffffffffffff 
    00007ffc13ef0b40:  ffffffffffffffff  ffffffffffffffff 
    00007ffc13ef0b50:  ffffffffffffffff  ffffffffffffffff 
    00007ffc13ef0b60:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x558fe6f02a30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x558fe6864bcf
    runtime.newm1(0xc420094400)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x558fe683e6b1
    runtime.newm(0x558fe752eb08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x558fe683e52f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x558fe683e791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x558fe683a4b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x558fe6865f31
    
    rax    0x0
    rbx    0x7fb61eb47840
    rcx    0x7fb61e799f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffc13ef0a70
    rbp    0x558fe703432a
    rsp    0x7ffc13ef0a70
    r8     0x0
    r9     0x7ffc13ef0a70
    r10    0x8
    r11    0x246
    r12    0x558fe85bc690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fb61e799f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
