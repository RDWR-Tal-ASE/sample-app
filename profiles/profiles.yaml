apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f58efecef47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f58efecef47
    stack: frame={sp:0x7ffdd544ef90, fp:0x0} stack=[0x7ffdd4c50490,0x7ffdd544f4c0)
    00007ffdd544ee90:  0000000000000003  000055e077e395c0 
    00007ffdd544eea0:  0000000000000000  0000000000000000 
    00007ffdd544eeb0:  00007f58f027c560  00007f58f027fbc0 
    00007ffdd544eec0:  000000c42006ffd0  000055e0777713e0 <runtime.main+208> 
    00007ffdd544eed0:  000055e078465970  0000000000000000 
    00007ffdd544eee0:  0000000000000000  0000000000000000 
    00007ffdd544eef0:  0000000000000000  0000000000000000 
    00007ffdd544ef00:  0000000000000000  0000000000000000 
    00007ffdd544ef10:  000000c420000180  0000000000000000 
    00007ffdd544ef20:  000055e0777713e0 <runtime.main+208>  000055e078465970 
    00007ffdd544ef30:  0000000000000000  0000000000000000 
    00007ffdd544ef40:  0000000000000000  0000000000000000 
    00007ffdd544ef50:  0000000000000000  0000000000000000 
    00007ffdd544ef60:  0000000000000000  000000c420000180 
    00007ffdd544ef70:  0000000000000000  000055e07779cf31 <runtime.goexit+1> 
    00007ffdd544ef80:  0000000000000000  0000000000000000 
    00007ffdd544ef90: <0000000000000000  0000000000000000 
    00007ffdd544efa0:  00007f58f06c00d0  00007ffdd544efe8 
    00007ffdd544efb0:  000055e07778d582 <runtime.step+290>  000055e0784e9232 
    00007ffdd544efc0:  000000000030da24  000000000030da24 
    00007ffdd544efd0:  0000029300000002  00000050f0288ec5 
    00007ffdd544efe0:  000000000030da24  00007ffdd544f098 
    00007ffdd544eff0:  000055e07778c936 <runtime.pcvalue+342>  000055e0784ff828 
    00007ffdd544f000:  0000000000000002  0000000000000000 
    00007ffdd544f010:  fffffffe7fffffff  ffffffffffffffff 
    00007ffdd544f020:  ffffffffffffffff  ffffffffffffffff 
    00007ffdd544f030:  ffffffffffffffff  ffffffffffffffff 
    00007ffdd544f040:  ffffffffffffffff  ffffffffffffffff 
    00007ffdd544f050:  ffffffffffffffff  ffffffffffffffff 
    00007ffdd544f060:  ffffffffffffffff  ffffffffffffffff 
    00007ffdd544f070:  ffffffffffffffff  ffffffffffffffff 
    00007ffdd544f080:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f58efecef47
    stack: frame={sp:0x7ffdd544ef90, fp:0x0} stack=[0x7ffdd4c50490,0x7ffdd544f4c0)
    00007ffdd544ee90:  0000000000000003  000055e077e395c0 
    00007ffdd544eea0:  0000000000000000  0000000000000000 
    00007ffdd544eeb0:  00007f58f027c560  00007f58f027fbc0 
    00007ffdd544eec0:  000000c42006ffd0  000055e0777713e0 <runtime.main+208> 
    00007ffdd544eed0:  000055e078465970  0000000000000000 
    00007ffdd544eee0:  0000000000000000  0000000000000000 
    00007ffdd544eef0:  0000000000000000  0000000000000000 
    00007ffdd544ef00:  0000000000000000  0000000000000000 
    00007ffdd544ef10:  000000c420000180  0000000000000000 
    00007ffdd544ef20:  000055e0777713e0 <runtime.main+208>  000055e078465970 
    00007ffdd544ef30:  0000000000000000  0000000000000000 
    00007ffdd544ef40:  0000000000000000  0000000000000000 
    00007ffdd544ef50:  0000000000000000  0000000000000000 
    00007ffdd544ef60:  0000000000000000  000000c420000180 
    00007ffdd544ef70:  0000000000000000  000055e07779cf31 <runtime.goexit+1> 
    00007ffdd544ef80:  0000000000000000  0000000000000000 
    00007ffdd544ef90: <0000000000000000  0000000000000000 
    00007ffdd544efa0:  00007f58f06c00d0  00007ffdd544efe8 
    00007ffdd544efb0:  000055e07778d582 <runtime.step+290>  000055e0784e9232 
    00007ffdd544efc0:  000000000030da24  000000000030da24 
    00007ffdd544efd0:  0000029300000002  00000050f0288ec5 
    00007ffdd544efe0:  000000000030da24  00007ffdd544f098 
    00007ffdd544eff0:  000055e07778c936 <runtime.pcvalue+342>  000055e0784ff828 
    00007ffdd544f000:  0000000000000002  0000000000000000 
    00007ffdd544f010:  fffffffe7fffffff  ffffffffffffffff 
    00007ffdd544f020:  ffffffffffffffff  ffffffffffffffff 
    00007ffdd544f030:  ffffffffffffffff  ffffffffffffffff 
    00007ffdd544f040:  ffffffffffffffff  ffffffffffffffff 
    00007ffdd544f050:  ffffffffffffffff  ffffffffffffffff 
    00007ffdd544f060:  ffffffffffffffff  ffffffffffffffff 
    00007ffdd544f070:  ffffffffffffffff  ffffffffffffffff 
    00007ffdd544f080:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x55e077e39a30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x55e07779bbcf
    runtime.newm1(0xc42009e000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x55e0777756b1
    runtime.newm(0x55e078465b08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x55e07777552f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x55e077775791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x55e0777714b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x55e07779cf31
    
    rax    0x0
    rbx    0x7f58f027c840
    rcx    0x7f58efecef47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffdd544ef90
    rbp    0x55e077f6b32a
    rsp    0x7ffdd544ef90
    r8     0x0
    r9     0x7ffdd544ef90
    r10    0x8
    r11    0x246
    r12    0x55e0793687e0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f58efecef47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 5 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000088000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000088000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc00004b000, 0x4)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000073f01)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.resetspinning()
    	/usr/local/go/src/runtime/proc.go:2533 +0x59
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2684 +0x2b9
    runtime.mstart1()
    	/usr/local/go/src/runtime/proc.go:1179 +0x93
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1137 +0x6e
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x1bb7a80, 0xc0000420c8, 0x170e, 0x2)
    	/usr/local/go/src/runtime/proc.go:306 +0xe5
    runtime.chanrecv(0xc000042070, 0x0, 0xc000000101, 0x410101)
    	/usr/local/go/src/runtime/chan.go:577 +0x36f
    runtime.chanrecv1(0xc000042070, 0x0)
    	/usr/local/go/src/runtime/chan.go:439 +0x2b
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:220 +0xac
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f7c2e1aaf47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f7c2e1aaf47
    stack: frame={sp:0x7ffed19280a0, fp:0x0} stack=[0x7ffed11295a0,0x7ffed19285d0)
    00007ffed1927fa0:  0000000000000003  000055c6bc9ea5c0 
    00007ffed1927fb0:  0000000000000000  0000000000000000 
    00007ffed1927fc0:  0000000000000000  0000000000000000 
    00007ffed1927fd0:  0000000000000000  0000000000000000 
    00007ffed1927fe0:  0000000000000000  11fb2adfe2a10800 
    00007ffed1927ff0:  0000000000000000  00000000000f4240 
    00007ffed1928000:  000055c6bf362540  000055c6bc9ea5c0 
    00007ffed1928010:  00007ffed19280b0  0000000000000000 
    00007ffed1928020:  00007ffed19280a0  000055c6bc9ea520 
    00007ffed1928030:  0000000000000000  00007ffed1928040 
    00007ffed1928040:  0000000000000000  0000000000000000 
    00007ffed1928050:  0000000000000000  11fb2adfe2a10800 
    00007ffed1928060:  0000000000000000  00007ffed19280b0 
    00007ffed1928070:  00007ffed1928170  000055c6bf362540 
    00007ffed1928080:  00000000000000f1  11fb2adfe2a10800 
    00007ffed1928090:  0000000000000000  000055c6bc9ea753 
    00007ffed19280a0: <0000000000000000  0000000000800000 
    00007ffed19280b0:  0000000000000000  00007ffed19280f8 
    00007ffed19280c0:  000055c6bc33e582 <runtime.step+290>  000055c6bd09a232 
    00007ffed19280d0:  000000000030da24  000000000030da24 
    00007ffed19280e0:  0000029300000002  000000502e95cda8 
    00007ffed19280f0:  000000000030da24  00007ffed19281a8 
    00007ffed1928100:  000055c6bc33d936 <runtime.pcvalue+342>  000055c6bd0b0828 
    00007ffed1928110:  00000000002f742e  00000000002f742e 
    00007ffed1928120:  fffffffe7fffffff  ffffffffffffffff 
    00007ffed1928130:  ffffffffffffffff  ffffffffffffffff 
    00007ffed1928140:  ffffffffffffffff  ffffffffffffffff 
    00007ffed1928150:  ffffffffffffffff  ffffffffffffffff 
    00007ffed1928160:  ffffffffffffffff  ffffffffffffffff 
    00007ffed1928170:  ffffffffffffffff  ffffffffffffffff 
    00007ffed1928180:  ffffffffffffffff  ffffffffffffffff 
    00007ffed1928190:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f7c2e1aaf47
    stack: frame={sp:0x7ffed19280a0, fp:0x0} stack=[0x7ffed11295a0,0x7ffed19285d0)
    00007ffed1927fa0:  0000000000000003  000055c6bc9ea5c0 
    00007ffed1927fb0:  0000000000000000  0000000000000000 
    00007ffed1927fc0:  0000000000000000  0000000000000000 
    00007ffed1927fd0:  0000000000000000  0000000000000000 
    00007ffed1927fe0:  0000000000000000  11fb2adfe2a10800 
    00007ffed1927ff0:  0000000000000000  00000000000f4240 
    00007ffed1928000:  000055c6bf362540  000055c6bc9ea5c0 
    00007ffed1928010:  00007ffed19280b0  0000000000000000 
    00007ffed1928020:  00007ffed19280a0  000055c6bc9ea520 
    00007ffed1928030:  0000000000000000  00007ffed1928040 
    00007ffed1928040:  0000000000000000  0000000000000000 
    00007ffed1928050:  0000000000000000  11fb2adfe2a10800 
    00007ffed1928060:  0000000000000000  00007ffed19280b0 
    00007ffed1928070:  00007ffed1928170  000055c6bf362540 
    00007ffed1928080:  00000000000000f1  11fb2adfe2a10800 
    00007ffed1928090:  0000000000000000  000055c6bc9ea753 
    00007ffed19280a0: <0000000000000000  0000000000800000 
    00007ffed19280b0:  0000000000000000  00007ffed19280f8 
    00007ffed19280c0:  000055c6bc33e582 <runtime.step+290>  000055c6bd09a232 
    00007ffed19280d0:  000000000030da24  000000000030da24 
    00007ffed19280e0:  0000029300000002  000000502e95cda8 
    00007ffed19280f0:  000000000030da24  00007ffed19281a8 
    00007ffed1928100:  000055c6bc33d936 <runtime.pcvalue+342>  000055c6bd0b0828 
    00007ffed1928110:  00000000002f742e  00000000002f742e 
    00007ffed1928120:  fffffffe7fffffff  ffffffffffffffff 
    00007ffed1928130:  ffffffffffffffff  ffffffffffffffff 
    00007ffed1928140:  ffffffffffffffff  ffffffffffffffff 
    00007ffed1928150:  ffffffffffffffff  ffffffffffffffff 
    00007ffed1928160:  ffffffffffffffff  ffffffffffffffff 
    00007ffed1928170:  ffffffffffffffff  ffffffffffffffff 
    00007ffed1928180:  ffffffffffffffff  ffffffffffffffff 
    00007ffed1928190:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x55c6bc9eaa30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x55c6bc34cbcf
    runtime.newm1(0xc4200a8000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x55c6bc3266b1
    runtime.newm(0x55c6bd016b08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x55c6bc32652f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x55c6bc326791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x55c6bc3224b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x55c6bc34df31
    
    rax    0x0
    rbx    0x7f7c2e558840
    rcx    0x7f7c2e1aaf47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffed19280a0
    rbp    0x55c6bcb1c32a
    rsp    0x7ffed19280a0
    r8     0x0
    r9     0x7ffed19280a0
    r10    0x8
    r11    0x246
    r12    0x55c6bf362690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f7c2e1aaf47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
