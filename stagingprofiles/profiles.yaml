apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7ff2c666df47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7ff2c666df47
    stack: frame={sp:0x7ffc568d5a90, fp:0x0} stack=[0x7ffc560d6f90,0x7ffc568d5fc0)
    00007ffc568d5990:  0000000000000001  0000000000000000 
    00007ffc568d59a0:  0000000000000000  0000000000000000 
    00007ffc568d59b0:  00007ff2c6a1b560  00007ff2c6a1ebc0 
    00007ffc568d59c0:  000000c42006ffd0  0000558eb8d483e0 <runtime.main+208> 
    00007ffc568d59d0:  0000558eb9a3c970  0000000000000000 
    00007ffc568d59e0:  0000000000000000  0000000000000000 
    00007ffc568d59f0:  0000000000000000  0000000000000000 
    00007ffc568d5a00:  0000000000000000  0000000000000000 
    00007ffc568d5a10:  000000c420000180  0000000000000000 
    00007ffc568d5a20:  0000558eb8d483e0 <runtime.main+208>  0000558eb9a3c970 
    00007ffc568d5a30:  0000000000000000  0000000000000000 
    00007ffc568d5a40:  0000000000000000  0000000000000000 
    00007ffc568d5a50:  0000000000000000  0000000000000000 
    00007ffc568d5a60:  0000000000000000  000000c420000180 
    00007ffc568d5a70:  0000000000000000  0000558eb8d73f31 <runtime.goexit+1> 
    00007ffc568d5a80:  0000000000000000  0000000000000000 
    00007ffc568d5a90: <0000000000000000  0000000000000000 
    00007ffc568d5aa0:  00007ff2c6e5f0d0  00007ffc568d5ae8 
    00007ffc568d5ab0:  0000558eb8d64582 <runtime.step+290>  0000558eb9ac0232 
    00007ffc568d5ac0:  000000000030da24  000000000030da24 
    00007ffc568d5ad0:  0000029300000002  00000050c6a27ec5 
    00007ffc568d5ae0:  000000000030da24  00007ffc568d5b98 
    00007ffc568d5af0:  0000558eb8d63936 <runtime.pcvalue+342>  0000558eb9ad6828 
    00007ffc568d5b00:  0000000000000002  0000000000000000 
    00007ffc568d5b10:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc568d5b20:  ffffffffffffffff  ffffffffffffffff 
    00007ffc568d5b30:  ffffffffffffffff  ffffffffffffffff 
    00007ffc568d5b40:  ffffffffffffffff  ffffffffffffffff 
    00007ffc568d5b50:  ffffffffffffffff  ffffffffffffffff 
    00007ffc568d5b60:  ffffffffffffffff  ffffffffffffffff 
    00007ffc568d5b70:  ffffffffffffffff  ffffffffffffffff 
    00007ffc568d5b80:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7ff2c666df47
    stack: frame={sp:0x7ffc568d5a90, fp:0x0} stack=[0x7ffc560d6f90,0x7ffc568d5fc0)
    00007ffc568d5990:  0000000000000001  0000000000000000 
    00007ffc568d59a0:  0000000000000000  0000000000000000 
    00007ffc568d59b0:  00007ff2c6a1b560  00007ff2c6a1ebc0 
    00007ffc568d59c0:  000000c42006ffd0  0000558eb8d483e0 <runtime.main+208> 
    00007ffc568d59d0:  0000558eb9a3c970  0000000000000000 
    00007ffc568d59e0:  0000000000000000  0000000000000000 
    00007ffc568d59f0:  0000000000000000  0000000000000000 
    00007ffc568d5a00:  0000000000000000  0000000000000000 
    00007ffc568d5a10:  000000c420000180  0000000000000000 
    00007ffc568d5a20:  0000558eb8d483e0 <runtime.main+208>  0000558eb9a3c970 
    00007ffc568d5a30:  0000000000000000  0000000000000000 
    00007ffc568d5a40:  0000000000000000  0000000000000000 
    00007ffc568d5a50:  0000000000000000  0000000000000000 
    00007ffc568d5a60:  0000000000000000  000000c420000180 
    00007ffc568d5a70:  0000000000000000  0000558eb8d73f31 <runtime.goexit+1> 
    00007ffc568d5a80:  0000000000000000  0000000000000000 
    00007ffc568d5a90: <0000000000000000  0000000000000000 
    00007ffc568d5aa0:  00007ff2c6e5f0d0  00007ffc568d5ae8 
    00007ffc568d5ab0:  0000558eb8d64582 <runtime.step+290>  0000558eb9ac0232 
    00007ffc568d5ac0:  000000000030da24  000000000030da24 
    00007ffc568d5ad0:  0000029300000002  00000050c6a27ec5 
    00007ffc568d5ae0:  000000000030da24  00007ffc568d5b98 
    00007ffc568d5af0:  0000558eb8d63936 <runtime.pcvalue+342>  0000558eb9ad6828 
    00007ffc568d5b00:  0000000000000002  0000000000000000 
    00007ffc568d5b10:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc568d5b20:  ffffffffffffffff  ffffffffffffffff 
    00007ffc568d5b30:  ffffffffffffffff  ffffffffffffffff 
    00007ffc568d5b40:  ffffffffffffffff  ffffffffffffffff 
    00007ffc568d5b50:  ffffffffffffffff  ffffffffffffffff 
    00007ffc568d5b60:  ffffffffffffffff  ffffffffffffffff 
    00007ffc568d5b70:  ffffffffffffffff  ffffffffffffffff 
    00007ffc568d5b80:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x558eb9410a30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x558eb8d72bcf
    runtime.newm1(0xc420061000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x558eb8d4c6b1
    runtime.newm(0x558eb9a3cb08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x558eb8d4c52f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x558eb8d4c791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x558eb8d484b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x558eb8d73f31
    
    rax    0x0
    rbx    0x7ff2c6a1b840
    rcx    0x7ff2c666df47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffc568d5a90
    rbp    0x558eb954232a
    rsp    0x7ffc568d5a90
    r8     0x0
    r9     0x7ffc568d5a90
    r10    0x8
    r11    0x246
    r12    0x558eb9e83690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7ff2c666df47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 5 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000088000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000088000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc00004b000, 0x4)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000073f01)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.resetspinning()
    	/usr/local/go/src/runtime/proc.go:2533 +0x59
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2684 +0x2b9
    runtime.mstart1()
    	/usr/local/go/src/runtime/proc.go:1179 +0x93
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1137 +0x6e
    
    goroutine 1 [runnable, locked to thread]:
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:214 +0xc5
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f9c0861ff47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f9c0861ff47
    stack: frame={sp:0x7ffdc5474f60, fp:0x0} stack=[0x7ffdc4c76460,0x7ffdc5475490)
    00007ffdc5474e60:  00007f9c00000001  00007f9c089cd420 
    00007ffdc5474e70:  0000000000000000  000000c420081fe0 
    00007ffdc5474e80:  0000000000000000  0000000000000000 
    00007ffdc5474e90:  0000000000000000  0000000000000000 
    00007ffdc5474ea0:  0000000000000000  0000000000000000 
    00007ffdc5474eb0:  00007f9c089cd560  00007f9c089d0bc0 
    00007ffdc5474ec0:  000000c42006ffd0  00005628f86033e0 <runtime.main+208> 
    00007ffdc5474ed0:  00005628f92f7970  0000000000000000 
    00007ffdc5474ee0:  0000000000000000  0000000000000000 
    00007ffdc5474ef0:  0000000000000000  0000000000000000 
    00007ffdc5474f00:  0000000000000000  0000000000000000 
    00007ffdc5474f10:  000000c420000180  0000000000000000 
    00007ffdc5474f20:  00005628f86033e0 <runtime.main+208>  00005628f92f7970 
    00007ffdc5474f30:  0000000000000000  0000000000000000 
    00007ffdc5474f40:  0000000000000000  0000000000000000 
    00007ffdc5474f50:  0000000000000000  0000000000000000 
    00007ffdc5474f60: <0000000000000000  000000c420000180 
    00007ffdc5474f70:  0000000000000000  00005628f862ef31 <runtime.goexit+1> 
    00007ffdc5474f80:  0000000000000000  0000000000000000 
    00007ffdc5474f90:  0000000000000000  0000000000000000 
    00007ffdc5474fa0:  0000029300000002  00000050089d9ec5 
    00007ffdc5474fb0:  000000000030da24  00007ffdc5475068 
    00007ffdc5474fc0:  00005628f861e936 <runtime.pcvalue+342>  00005628f9391828 
    00007ffdc5474fd0:  00000000002f742e  00000000002f742e 
    00007ffdc5474fe0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffdc5474ff0:  ffffffffffffffff  ffffffffffffffff 
    00007ffdc5475000:  ffffffffffffffff  ffffffffffffffff 
    00007ffdc5475010:  ffffffffffffffff  ffffffffffffffff 
    00007ffdc5475020:  ffffffffffffffff  ffffffffffffffff 
    00007ffdc5475030:  ffffffffffffffff  ffffffffffffffff 
    00007ffdc5475040:  ffffffffffffffff  ffffffffffffffff 
    00007ffdc5475050:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f9c0861ff47
    stack: frame={sp:0x7ffdc5474f60, fp:0x0} stack=[0x7ffdc4c76460,0x7ffdc5475490)
    00007ffdc5474e60:  00007f9c00000001  00007f9c089cd420 
    00007ffdc5474e70:  0000000000000000  000000c420081fe0 
    00007ffdc5474e80:  0000000000000000  0000000000000000 
    00007ffdc5474e90:  0000000000000000  0000000000000000 
    00007ffdc5474ea0:  0000000000000000  0000000000000000 
    00007ffdc5474eb0:  00007f9c089cd560  00007f9c089d0bc0 
    00007ffdc5474ec0:  000000c42006ffd0  00005628f86033e0 <runtime.main+208> 
    00007ffdc5474ed0:  00005628f92f7970  0000000000000000 
    00007ffdc5474ee0:  0000000000000000  0000000000000000 
    00007ffdc5474ef0:  0000000000000000  0000000000000000 
    00007ffdc5474f00:  0000000000000000  0000000000000000 
    00007ffdc5474f10:  000000c420000180  0000000000000000 
    00007ffdc5474f20:  00005628f86033e0 <runtime.main+208>  00005628f92f7970 
    00007ffdc5474f30:  0000000000000000  0000000000000000 
    00007ffdc5474f40:  0000000000000000  0000000000000000 
    00007ffdc5474f50:  0000000000000000  0000000000000000 
    00007ffdc5474f60: <0000000000000000  000000c420000180 
    00007ffdc5474f70:  0000000000000000  00005628f862ef31 <runtime.goexit+1> 
    00007ffdc5474f80:  0000000000000000  0000000000000000 
    00007ffdc5474f90:  0000000000000000  0000000000000000 
    00007ffdc5474fa0:  0000029300000002  00000050089d9ec5 
    00007ffdc5474fb0:  000000000030da24  00007ffdc5475068 
    00007ffdc5474fc0:  00005628f861e936 <runtime.pcvalue+342>  00005628f9391828 
    00007ffdc5474fd0:  00000000002f742e  00000000002f742e 
    00007ffdc5474fe0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffdc5474ff0:  ffffffffffffffff  ffffffffffffffff 
    00007ffdc5475000:  ffffffffffffffff  ffffffffffffffff 
    00007ffdc5475010:  ffffffffffffffff  ffffffffffffffff 
    00007ffdc5475020:  ffffffffffffffff  ffffffffffffffff 
    00007ffdc5475030:  ffffffffffffffff  ffffffffffffffff 
    00007ffdc5475040:  ffffffffffffffff  ffffffffffffffff 
    00007ffdc5475050:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x5628f8ccba30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x5628f862dbcf
    runtime.newm1(0xc420094400)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x5628f86076b1
    runtime.newm(0x5628f92f7b08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x5628f860752f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x5628f8607791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x5628f86034b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x5628f862ef31
    
    rax    0x0
    rbx    0x7f9c089cd840
    rcx    0x7f9c0861ff47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffdc5474f60
    rbp    0x5628f8dfd32a
    rsp    0x7ffdc5474f60
    r8     0x0
    r9     0x7ffdc5474f60
    r10    0x8
    r11    0x246
    r12    0x5628fb670690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f9c0861ff47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
