apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f0a93899f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f0a93899f47
    stack: frame={sp:0x7fff4a906a00, fp:0x0} stack=[0x7fff4a1080a0,0x7fff4a9070d0)
    00007fff4a906900:  000056532a767683 <runtime.main+883>  000000000030da24 
    00007fff4a906910:  0000029300000002  0000005000000000 
    00007fff4a906920:  000000000030da24  00007fff4a9069d8 
    00007fff4a906930:  000056532a782936 <runtime.pcvalue+342>  000056532b4f5828 
    00007fff4a906940:  00000000002f742e  00000000002f742e 
    00007fff4a906950:  00007fff4a906990  00007fff4a90698c 
    00007fff4a906960:  000056532b809301  000056532b4f582a 
    00007fff4a906970:  00000000002f742c  00000000002f742c 
    00007fff4a906980:  0000000000000001  0000000040000000 
    00007fff4a906990:  00007fff4a906a48  000056532a77d75f <runtime.adjustframe+175> 
    00007fff4a9069a0:  000056532b4f57f0  000056532b8093c0 
    00007fff4a9069b0:  00007fff00000000  000056532a792f30 <runtime.goexit+0> 
    00007fff4a9069c0:  00007fff4a906e00  00000000ffffffff 
    00007fff4a9069d0:  000000004a906960  000056532a792f30 <runtime.goexit+0> 
    00007fff4a9069e0:  000056532a7831c1 <runtime.funcspdelta+97>  000056532b4f57f0 
    00007fff4a9069f0:  000056532b8093c0  00007fff0006f548 
    00007fff4a906a00: <0000000000000000  00007fff4a906b60 
    00007fff4a906a10:  000056532aeef201  000056532b4f57f0 
    00007fff4a906a20:  000056532b8093c0  0000000000000000 
    00007fff4a906a30:  0000000000000000  000056532a792f31 <runtime.goexit+1> 
    00007fff4a906a40:  000056532b8093c0  00007fff4a906d50 
    00007fff4a906a50:  000056532a787962 <runtime.gentraceback+4850>  00007fff4a906cf8 
    00007fff4a906a60:  00007fff4a906de8  000056532b809301 
    00007fff4a906a70:  00007fff4a906b01  0000000000000000 
    00007fff4a906a80:  fffffffe7fffffff  ffffffffffffffff 
    00007fff4a906a90:  ffffffffffffffff  ffffffffffffffff 
    00007fff4a906aa0:  ffffffffffffffff  ffffffffffffffff 
    00007fff4a906ab0:  ffffffffffffffff  ffffffffffffffff 
    00007fff4a906ac0:  ffffffffffffffff  ffffffffffffffff 
    00007fff4a906ad0:  ffffffffffffffff  ffffffffffffffff 
    00007fff4a906ae0:  ffffffffffffffff  ffffffffffffffff 
    00007fff4a906af0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f0a93899f47
    stack: frame={sp:0x7fff4a906a00, fp:0x0} stack=[0x7fff4a1080a0,0x7fff4a9070d0)
    00007fff4a906900:  000056532a767683 <runtime.main+883>  000000000030da24 
    00007fff4a906910:  0000029300000002  0000005000000000 
    00007fff4a906920:  000000000030da24  00007fff4a9069d8 
    00007fff4a906930:  000056532a782936 <runtime.pcvalue+342>  000056532b4f5828 
    00007fff4a906940:  00000000002f742e  00000000002f742e 
    00007fff4a906950:  00007fff4a906990  00007fff4a90698c 
    00007fff4a906960:  000056532b809301  000056532b4f582a 
    00007fff4a906970:  00000000002f742c  00000000002f742c 
    00007fff4a906980:  0000000000000001  0000000040000000 
    00007fff4a906990:  00007fff4a906a48  000056532a77d75f <runtime.adjustframe+175> 
    00007fff4a9069a0:  000056532b4f57f0  000056532b8093c0 
    00007fff4a9069b0:  00007fff00000000  000056532a792f30 <runtime.goexit+0> 
    00007fff4a9069c0:  00007fff4a906e00  00000000ffffffff 
    00007fff4a9069d0:  000000004a906960  000056532a792f30 <runtime.goexit+0> 
    00007fff4a9069e0:  000056532a7831c1 <runtime.funcspdelta+97>  000056532b4f57f0 
    00007fff4a9069f0:  000056532b8093c0  00007fff0006f548 
    00007fff4a906a00: <0000000000000000  00007fff4a906b60 
    00007fff4a906a10:  000056532aeef201  000056532b4f57f0 
    00007fff4a906a20:  000056532b8093c0  0000000000000000 
    00007fff4a906a30:  0000000000000000  000056532a792f31 <runtime.goexit+1> 
    00007fff4a906a40:  000056532b8093c0  00007fff4a906d50 
    00007fff4a906a50:  000056532a787962 <runtime.gentraceback+4850>  00007fff4a906cf8 
    00007fff4a906a60:  00007fff4a906de8  000056532b809301 
    00007fff4a906a70:  00007fff4a906b01  0000000000000000 
    00007fff4a906a80:  fffffffe7fffffff  ffffffffffffffff 
    00007fff4a906a90:  ffffffffffffffff  ffffffffffffffff 
    00007fff4a906aa0:  ffffffffffffffff  ffffffffffffffff 
    00007fff4a906ab0:  ffffffffffffffff  ffffffffffffffff 
    00007fff4a906ac0:  ffffffffffffffff  ffffffffffffffff 
    00007fff4a906ad0:  ffffffffffffffff  ffffffffffffffff 
    00007fff4a906ae0:  ffffffffffffffff  ffffffffffffffff 
    00007fff4a906af0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x56532b45ba60, 0xc4200380c8, 0x56532ae39704, 0xc, 0xc42003ce17, 0x3)
    	/usr/lib/go-1.10/src/runtime/proc.go:291 +0x120
    runtime.goparkunlock(0xc4200380c8, 0x56532ae39704, 0xc, 0x17, 0x3)
    	/usr/lib/go-1.10/src/runtime/proc.go:297 +0x60
    runtime.chanrecv(0xc420038070, 0x0, 0x1, 0x56532a7528aa)
    	/usr/lib/go-1.10/src/runtime/chan.go:518 +0x2f6
    runtime.chanrecv1(0xc420038070, 0x0)
    	/usr/lib/go-1.10/src/runtime/chan.go:400 +0x2b
    runtime.gcenable()
    	/usr/lib/go-1.10/src/runtime/mgc.go:217 +0x71
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:161 +0x126
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1
    
    rax    0x0
    rbx    0x7f0a93c47840
    rcx    0x7f0a93899f47
    rdx    0x0
    rdi    0x2
    rsi    0x7fff4a906a00
    rbp    0x56532af6132a
    rsp    0x7fff4a906a00
    r8     0x0
    r9     0x7fff4a906a00
    r10    0x8
    r11    0x246
    r12    0x56532bd07540
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f0a93899f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 3 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062400)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062400)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc000048800, 0x2)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000046001)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.newproc.func1()
    	/usr/local/go/src/runtime/proc.go:3555 +0x97
    runtime.systemstack(0x46c2f4)
    	/usr/local/go/src/runtime/asm_amd64.s:370 +0x66
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1116
    
    goroutine 1 [running, locked to thread]:
    runtime.systemstack_switch()
    	/usr/local/go/src/runtime/asm_amd64.s:330 fp=0xc00005e6f0 sp=0xc00005e6e8 pc=0x46c420
    runtime.newproc(0x0, 0x1bb7b08)
    	/usr/local/go/src/runtime/proc.go:3548 +0x6e fp=0xc00005e738 sp=0xc00005e6f0 pc=0x44210e
    runtime.init.6()
    	/usr/local/go/src/runtime/proc.go:243 +0x35 fp=0xc00005e758 sp=0xc00005e738 pc=0x439df5
    runtime.doInit(0x2881120)
    	/usr/local/go/src/runtime/proc.go:5646 +0x8a fp=0xc00005e788 sp=0xc00005e758 pc=0x446f8a
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:151 +0xd9 fp=0xc00005e7e0 sp=0xc00005e788 pc=0x439b19
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1 fp=0xc00005e7e8 sp=0xc00005e7e0 pc=0x46e061
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f3d16366f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f3d16366f47
    stack: frame={sp:0x7ffc34c8e720, fp:0x0} stack=[0x7ffc3448fdc0,0x7ffc34c8edf0)
    00007ffc34c8e620:  0000558712f61683 <runtime.main+883>  000000000030da24 
    00007ffc34c8e630:  0000029300000002  000000501694f75a 
    00007ffc34c8e640:  000000000030da24  00007ffc34c8e6f8 
    00007ffc34c8e650:  0000558712f7c936 <runtime.pcvalue+342>  0000558713cef828 
    00007ffc34c8e660:  00000000002f742e  00000000002f742e 
    00007ffc34c8e670:  00007ffc34c8e6b0  00007ffc34c8e6ac 
    00007ffc34c8e680:  0000558714003301  0000558713cef82a 
    00007ffc34c8e690:  00000000002f742c  00000000002f742c 
    00007ffc34c8e6a0:  0000000000000001  0000000040000000 
    00007ffc34c8e6b0:  00007ffc34c8e768  0000558712f7775f <runtime.adjustframe+175> 
    00007ffc34c8e6c0:  0000558713cef7f0  00005587140033c0 
    00007ffc34c8e6d0:  00007ffc00000000  0000558712f8cf30 <runtime.goexit+0> 
    00007ffc34c8e6e0:  00007ffc34c8eb20  00000000ffffffff 
    00007ffc34c8e6f0:  0000000034c8e680  0000558712f8cf30 <runtime.goexit+0> 
    00007ffc34c8e700:  0000558712f7d1c1 <runtime.funcspdelta+97>  0000558713cef7f0 
    00007ffc34c8e710:  00005587140033c0  00007ffc0006f548 
    00007ffc34c8e720: <0000000000000000  00007ffc34c8e880 
    00007ffc34c8e730:  00005587136e9201  0000558713cef7f0 
    00007ffc34c8e740:  00005587140033c0  0000000000000000 
    00007ffc34c8e750:  0000000000000000  0000558712f8cf31 <runtime.goexit+1> 
    00007ffc34c8e760:  00005587140033c0  00007ffc34c8ea70 
    00007ffc34c8e770:  0000558712f81962 <runtime.gentraceback+4850>  00007ffc34c8ea18 
    00007ffc34c8e780:  00007ffc34c8eb08  0000558714003301 
    00007ffc34c8e790:  00007ffc34c8e801  0000000000000000 
    00007ffc34c8e7a0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc34c8e7b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc34c8e7c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc34c8e7d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc34c8e7e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc34c8e7f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc34c8e800:  ffffffffffffffff  ffffffffffffffff 
    00007ffc34c8e810:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f3d16366f47
    stack: frame={sp:0x7ffc34c8e720, fp:0x0} stack=[0x7ffc3448fdc0,0x7ffc34c8edf0)
    00007ffc34c8e620:  0000558712f61683 <runtime.main+883>  000000000030da24 
    00007ffc34c8e630:  0000029300000002  000000501694f75a 
    00007ffc34c8e640:  000000000030da24  00007ffc34c8e6f8 
    00007ffc34c8e650:  0000558712f7c936 <runtime.pcvalue+342>  0000558713cef828 
    00007ffc34c8e660:  00000000002f742e  00000000002f742e 
    00007ffc34c8e670:  00007ffc34c8e6b0  00007ffc34c8e6ac 
    00007ffc34c8e680:  0000558714003301  0000558713cef82a 
    00007ffc34c8e690:  00000000002f742c  00000000002f742c 
    00007ffc34c8e6a0:  0000000000000001  0000000040000000 
    00007ffc34c8e6b0:  00007ffc34c8e768  0000558712f7775f <runtime.adjustframe+175> 
    00007ffc34c8e6c0:  0000558713cef7f0  00005587140033c0 
    00007ffc34c8e6d0:  00007ffc00000000  0000558712f8cf30 <runtime.goexit+0> 
    00007ffc34c8e6e0:  00007ffc34c8eb20  00000000ffffffff 
    00007ffc34c8e6f0:  0000000034c8e680  0000558712f8cf30 <runtime.goexit+0> 
    00007ffc34c8e700:  0000558712f7d1c1 <runtime.funcspdelta+97>  0000558713cef7f0 
    00007ffc34c8e710:  00005587140033c0  00007ffc0006f548 
    00007ffc34c8e720: <0000000000000000  00007ffc34c8e880 
    00007ffc34c8e730:  00005587136e9201  0000558713cef7f0 
    00007ffc34c8e740:  00005587140033c0  0000000000000000 
    00007ffc34c8e750:  0000000000000000  0000558712f8cf31 <runtime.goexit+1> 
    00007ffc34c8e760:  00005587140033c0  00007ffc34c8ea70 
    00007ffc34c8e770:  0000558712f81962 <runtime.gentraceback+4850>  00007ffc34c8ea18 
    00007ffc34c8e780:  00007ffc34c8eb08  0000558714003301 
    00007ffc34c8e790:  00007ffc34c8e801  0000000000000000 
    00007ffc34c8e7a0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc34c8e7b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc34c8e7c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc34c8e7d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc34c8e7e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc34c8e7f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc34c8e800:  ffffffffffffffff  ffffffffffffffff 
    00007ffc34c8e810:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x558713c55a60, 0xc4200380c8, 0x558713633704, 0xc, 0xc42003ce17, 0x3)
    	/usr/lib/go-1.10/src/runtime/proc.go:291 +0x120
    runtime.goparkunlock(0xc4200380c8, 0x558713633704, 0xc, 0x17, 0x3)
    	/usr/lib/go-1.10/src/runtime/proc.go:297 +0x60
    runtime.chanrecv(0xc420038070, 0x0, 0x1, 0x558712f4c8aa)
    	/usr/lib/go-1.10/src/runtime/chan.go:518 +0x2f6
    runtime.chanrecv1(0xc420038070, 0x0)
    	/usr/lib/go-1.10/src/runtime/chan.go:400 +0x2b
    runtime.gcenable()
    	/usr/lib/go-1.10/src/runtime/mgc.go:217 +0x71
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:161 +0x126
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1
    
    rax    0x0
    rbx    0x7f3d16714840
    rcx    0x7f3d16366f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffc34c8e720
    rbp    0x55871375b32a
    rsp    0x7ffc34c8e720
    r8     0x0
    r9     0x7ffc34c8e720
    r10    0x8
    r11    0x246
    r12    0x558715fda540
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f3d16366f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
