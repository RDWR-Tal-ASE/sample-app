apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f1109f72f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f1109f72f47
    stack: frame={sp:0x7ffc0f486a20, fp:0x0} stack=[0x7ffc0ec87f10,0x7ffc0f486f50)
    00007ffc0f486920:  00007f110a320420  00007f110a327c58 
    00007ffc0f486930:  00007ffc0f486ce0  00007f110a55b75a 
    00007ffc0f486940:  000000000000000b  0000000000000000 
    00007ffc0f486950:  00007f1105d1e700  0000555ce47f0148 
    00007ffc0f486960:  00007ffc0f486e30  0000555ce4cab690 
    00007ffc0f486970:  0000000000000000  0000555ce3cccd10 
    00007ffc0f486980:  0000000000000000  00007f110a553f13 
    00007ffc0f486990:  0000000000000005  0000000000000000 
    00007ffc0f4869a0:  2525252525252525  2525252525252525 
    00007ffc0f4869b0:  00000000000000ff  0000000000000000 
    00007ffc0f4869c0:  00000000000000ff  0000000000000000 
    00007ffc0f4869d0:  0000000000000000  0000000000000000 
    00007ffc0f4869e0:  2f7273752f3a6e69  73752f3a6e696273 
    00007ffc0f4869f0:  752f3a6e69622f72  6c61636f6c2f7273 
    00007ffc0f486a00:  73752f3a6e69622f  732f6e6962732f72 
    00007ffc0f486a10:  2f3a656369767265  6e69622f70616e73 
    00007ffc0f486a20: <0000000000000000  203a64656c696166 
    00007ffc0f486a30:  0000000000000000  0000000000000000 
    00007ffc0f486a40:  0000000000000000  0000000000000000 
    00007ffc0f486a50:  0000000000000000  0000000000000000 
    00007ffc0f486a60:  0000000000000000  0000000000000000 
    00007ffc0f486a70:  0000000000000000  0000000000000000 
    00007ffc0f486a80:  0000000000000000  0000000000000000 
    00007ffc0f486a90:  0000000000000000  0000000000000000 
    00007ffc0f486aa0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc0f486ab0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc0f486ac0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc0f486ad0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc0f486ae0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc0f486af0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc0f486b00:  ffffffffffffffff  ffffffffffffffff 
    00007ffc0f486b10:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f1109f72f47
    stack: frame={sp:0x7ffc0f486a20, fp:0x0} stack=[0x7ffc0ec87f10,0x7ffc0f486f50)
    00007ffc0f486920:  00007f110a320420  00007f110a327c58 
    00007ffc0f486930:  00007ffc0f486ce0  00007f110a55b75a 
    00007ffc0f486940:  000000000000000b  0000000000000000 
    00007ffc0f486950:  00007f1105d1e700  0000555ce47f0148 
    00007ffc0f486960:  00007ffc0f486e30  0000555ce4cab690 
    00007ffc0f486970:  0000000000000000  0000555ce3cccd10 
    00007ffc0f486980:  0000000000000000  00007f110a553f13 
    00007ffc0f486990:  0000000000000005  0000000000000000 
    00007ffc0f4869a0:  2525252525252525  2525252525252525 
    00007ffc0f4869b0:  00000000000000ff  0000000000000000 
    00007ffc0f4869c0:  00000000000000ff  0000000000000000 
    00007ffc0f4869d0:  0000000000000000  0000000000000000 
    00007ffc0f4869e0:  2f7273752f3a6e69  73752f3a6e696273 
    00007ffc0f4869f0:  752f3a6e69622f72  6c61636f6c2f7273 
    00007ffc0f486a00:  73752f3a6e69622f  732f6e6962732f72 
    00007ffc0f486a10:  2f3a656369767265  6e69622f70616e73 
    00007ffc0f486a20: <0000000000000000  203a64656c696166 
    00007ffc0f486a30:  0000000000000000  0000000000000000 
    00007ffc0f486a40:  0000000000000000  0000000000000000 
    00007ffc0f486a50:  0000000000000000  0000000000000000 
    00007ffc0f486a60:  0000000000000000  0000000000000000 
    00007ffc0f486a70:  0000000000000000  0000000000000000 
    00007ffc0f486a80:  0000000000000000  0000000000000000 
    00007ffc0f486a90:  0000000000000000  0000000000000000 
    00007ffc0f486aa0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc0f486ab0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc0f486ac0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc0f486ad0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc0f486ae0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc0f486af0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc0f486b00:  ffffffffffffffff  ffffffffffffffff 
    00007ffc0f486b10:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x555ce3b20930, 0xc00005e708)
    	/usr/lib/go-1.13/src/runtime/asm_amd64.s:640 +0x3f fp=0xc00005e6f0 sp=0xc00005e6e8 pc=0x555ce33c135f
    runtime.newm1(0xc00008e380)
    	/usr/lib/go-1.13/src/runtime/proc.go:1848 +0xa6 fp=0xc00005e730 sp=0xc00005e6f0 pc=0x555ce33999b6
    runtime.newm(0x555ce429b690, 0x0)
    	/usr/lib/go-1.13/src/runtime/proc.go:1832 +0x93 fp=0xc00005e760 sp=0xc00005e730 pc=0x555ce3399853
    runtime.startTemplateThread(...)
    	/usr/lib/go-1.13/src/runtime/proc.go:1868
    runtime.main()
    	/usr/lib/go-1.13/src/runtime/proc.go:186 +0x2cb fp=0xc00005e7e0 sp=0xc00005e760 pc=0x555ce3395a8b
    runtime.goexit()
    	/usr/lib/go-1.13/src/runtime/asm_amd64.s:1357 +0x1 fp=0xc00005e7e8 sp=0xc00005e7e0 pc=0x555ce33c1c21
    
    rax    0x0
    rbx    0x7f110a320840
    rcx    0x7f1109f72f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffc0f486a20
    rbp    0x555ce3ce6e7c
    rsp    0x7ffc0f486a20
    r8     0x0
    r9     0x7ffc0f486a20
    r10    0x8
    r11    0x246
    r12    0x555ce4cab690
    r13    0x0
    r14    0x555ce3cccd10
    r15    0x0
    rip    0x7f1109f72f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 5 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000088000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000088000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc00004b000, 0x4)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000073f01)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.resetspinning()
    	/usr/local/go/src/runtime/proc.go:2533 +0x59
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2684 +0x2b9
    runtime.mstart1()
    	/usr/local/go/src/runtime/proc.go:1179 +0x93
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1137 +0x6e
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x1bb7a80, 0xc0000420c8, 0x170e, 0x2)
    	/usr/local/go/src/runtime/proc.go:306 +0xe5
    runtime.chanrecv(0xc000042070, 0x0, 0xc000000101, 0x41a55e)
    	/usr/local/go/src/runtime/chan.go:577 +0x36f
    runtime.chanrecv1(0xc000042070, 0x0)
    	/usr/local/go/src/runtime/chan.go:439 +0x2b
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:219 +0x95
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f7d4a92bf47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f7d4a92bf47
    stack: frame={sp:0x7ffdafd5a9c0, fp:0x0} stack=[0x7ffdaf55bec0,0x7ffdafd5aef0)
    00007ffdafd5a8c0:  0000000000000001  000055adac94b5c0 
    00007ffdafd5a8d0:  0000000000000000  000000c420089fe0 
    00007ffdafd5a8e0:  0000000000000000  0000000000000000 
    00007ffdafd5a8f0:  0000000000000000  0000000000000000 
    00007ffdafd5a900:  0000000000000003  000000c420089fd8 
    00007ffdafd5a910:  0000000000000000  0000000000000120 
    00007ffdafd5a920:  0000001300000000  0000000000000007 
    00007ffdafd5a930:  0000000000000130  000055adae36d098 
    00007ffdafd5a940:  0000000000000150  ffffffffffffffa8 
    00007ffdafd5a950:  0000000000000004  0000003400000013 
    00007ffdafd5a960:  0000000000000000  0000000000000000 
    00007ffdafd5a970:  0000000000000000  000000770000007c 
    00007ffdafd5a980:  0000005b0000006e  000000200006cfe6 
    00007ffdafd5a990:  0000000000000000  0000000000020ab0 
    00007ffdafd5a9a0:  0000000000000120  00007f7d4af10307 
    00007ffdafd5a9b0:  000055adae36d550  0000000000000001 
    00007ffdafd5a9c0: <0000000000000000  000055adae36d570 
    00007ffdafd5a9d0:  00007f7d4b11d0d0  00007ffdafd5aa18 
    00007ffdafd5a9e0:  000055adac29f582 <runtime.step+290>  000055adacffb232 
    00007ffdafd5a9f0:  000000000030da24  000000000030da24 
    00007ffdafd5aa00:  0000029300000002  000000504ace5ec5 
    00007ffdafd5aa10:  000000000030da24  00007ffdafd5aac8 
    00007ffdafd5aa20:  000055adac29e936 <runtime.pcvalue+342>  000055adad011828 
    00007ffdafd5aa30:  00000000002f742e  00000000002f742e 
    00007ffdafd5aa40:  fffffffe7fffffff  ffffffffffffffff 
    00007ffdafd5aa50:  ffffffffffffffff  ffffffffffffffff 
    00007ffdafd5aa60:  ffffffffffffffff  ffffffffffffffff 
    00007ffdafd5aa70:  ffffffffffffffff  ffffffffffffffff 
    00007ffdafd5aa80:  ffffffffffffffff  ffffffffffffffff 
    00007ffdafd5aa90:  ffffffffffffffff  ffffffffffffffff 
    00007ffdafd5aaa0:  ffffffffffffffff  ffffffffffffffff 
    00007ffdafd5aab0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f7d4a92bf47
    stack: frame={sp:0x7ffdafd5a9c0, fp:0x0} stack=[0x7ffdaf55bec0,0x7ffdafd5aef0)
    00007ffdafd5a8c0:  0000000000000001  000055adac94b5c0 
    00007ffdafd5a8d0:  0000000000000000  000000c420089fe0 
    00007ffdafd5a8e0:  0000000000000000  0000000000000000 
    00007ffdafd5a8f0:  0000000000000000  0000000000000000 
    00007ffdafd5a900:  0000000000000003  000000c420089fd8 
    00007ffdafd5a910:  0000000000000000  0000000000000120 
    00007ffdafd5a920:  0000001300000000  0000000000000007 
    00007ffdafd5a930:  0000000000000130  000055adae36d098 
    00007ffdafd5a940:  0000000000000150  ffffffffffffffa8 
    00007ffdafd5a950:  0000000000000004  0000003400000013 
    00007ffdafd5a960:  0000000000000000  0000000000000000 
    00007ffdafd5a970:  0000000000000000  000000770000007c 
    00007ffdafd5a980:  0000005b0000006e  000000200006cfe6 
    00007ffdafd5a990:  0000000000000000  0000000000020ab0 
    00007ffdafd5a9a0:  0000000000000120  00007f7d4af10307 
    00007ffdafd5a9b0:  000055adae36d550  0000000000000001 
    00007ffdafd5a9c0: <0000000000000000  000055adae36d570 
    00007ffdafd5a9d0:  00007f7d4b11d0d0  00007ffdafd5aa18 
    00007ffdafd5a9e0:  000055adac29f582 <runtime.step+290>  000055adacffb232 
    00007ffdafd5a9f0:  000000000030da24  000000000030da24 
    00007ffdafd5aa00:  0000029300000002  000000504ace5ec5 
    00007ffdafd5aa10:  000000000030da24  00007ffdafd5aac8 
    00007ffdafd5aa20:  000055adac29e936 <runtime.pcvalue+342>  000055adad011828 
    00007ffdafd5aa30:  00000000002f742e  00000000002f742e 
    00007ffdafd5aa40:  fffffffe7fffffff  ffffffffffffffff 
    00007ffdafd5aa50:  ffffffffffffffff  ffffffffffffffff 
    00007ffdafd5aa60:  ffffffffffffffff  ffffffffffffffff 
    00007ffdafd5aa70:  ffffffffffffffff  ffffffffffffffff 
    00007ffdafd5aa80:  ffffffffffffffff  ffffffffffffffff 
    00007ffdafd5aa90:  ffffffffffffffff  ffffffffffffffff 
    00007ffdafd5aaa0:  ffffffffffffffff  ffffffffffffffff 
    00007ffdafd5aab0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x55adac94ba30, 0xc420089f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420089ee8 sp=0xc420089ee0 pc=0x55adac2adbcf
    runtime.newm1(0xc420094400)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420089f38 sp=0xc420089ee8 pc=0x55adac2876b1
    runtime.newm(0x55adacf77b08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420089f68 sp=0xc420089f38 pc=0x55adac28752f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420089f88 sp=0xc420089f68 pc=0x55adac287791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420089fe0 sp=0xc420089f88 pc=0x55adac2834b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420089fe8 sp=0xc420089fe0 pc=0x55adac2aef31
    
    rax    0x0
    rbx    0x7f7d4acd9840
    rcx    0x7f7d4a92bf47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffdafd5a9c0
    rbp    0x55adaca7d32a
    rsp    0x7ffdafd5a9c0
    r8     0x0
    r9     0x7ffdafd5a9c0
    r10    0x8
    r11    0x246
    r12    0x55adae36d690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f7d4a92bf47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
