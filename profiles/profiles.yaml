apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f7759989f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f7759989f47
    stack: frame={sp:0x7ffebb26ee60, fp:0x0} stack=[0x7ffebaa70360,0x7ffebb26f390)
    00007ffebb26ed60:  00007f7700000001  00007f7759d37420 
    00007ffebb26ed70:  0000000000000000  000000c420081fe0 
    00007ffebb26ed80:  0000000000000000  0000000000000000 
    00007ffebb26ed90:  0000000000000000  0000000000000000 
    00007ffebb26eda0:  0000000000000000  0000000000000000 
    00007ffebb26edb0:  00007f7759d37560  00007f7759d3abc0 
    00007ffebb26edc0:  000000c42006ffd0  00005624a3bf33e0 <runtime.main+208> 
    00007ffebb26edd0:  00005624a48e7970  0000000000000000 
    00007ffebb26ede0:  0000000000000000  0000000000000000 
    00007ffebb26edf0:  0000000000000000  0000000000000000 
    00007ffebb26ee00:  0000000000000000  0000000000000000 
    00007ffebb26ee10:  000000c420000180  0000000000000000 
    00007ffebb26ee20:  00005624a3bf33e0 <runtime.main+208>  00005624a48e7970 
    00007ffebb26ee30:  0000000000000000  0000000000000000 
    00007ffebb26ee40:  0000000000000000  0000000000000000 
    00007ffebb26ee50:  0000000000000000  0000000000000000 
    00007ffebb26ee60: <0000000000000000  000000c420000180 
    00007ffebb26ee70:  0000000000000000  00005624a3c1ef31 <runtime.goexit+1> 
    00007ffebb26ee80:  0000000000000000  0000000000000000 
    00007ffebb26ee90:  0000000000000000  0000000000000000 
    00007ffebb26eea0:  0000029300000002  0000005059d43ec5 
    00007ffebb26eeb0:  000000000030da24  00007ffebb26ef68 
    00007ffebb26eec0:  00005624a3c0e936 <runtime.pcvalue+342>  00005624a4981828 
    00007ffebb26eed0:  00000000002f742e  00000000002f742e 
    00007ffebb26eee0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffebb26eef0:  ffffffffffffffff  ffffffffffffffff 
    00007ffebb26ef00:  ffffffffffffffff  ffffffffffffffff 
    00007ffebb26ef10:  ffffffffffffffff  ffffffffffffffff 
    00007ffebb26ef20:  ffffffffffffffff  ffffffffffffffff 
    00007ffebb26ef30:  ffffffffffffffff  ffffffffffffffff 
    00007ffebb26ef40:  ffffffffffffffff  ffffffffffffffff 
    00007ffebb26ef50:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f7759989f47
    stack: frame={sp:0x7ffebb26ee60, fp:0x0} stack=[0x7ffebaa70360,0x7ffebb26f390)
    00007ffebb26ed60:  00007f7700000001  00007f7759d37420 
    00007ffebb26ed70:  0000000000000000  000000c420081fe0 
    00007ffebb26ed80:  0000000000000000  0000000000000000 
    00007ffebb26ed90:  0000000000000000  0000000000000000 
    00007ffebb26eda0:  0000000000000000  0000000000000000 
    00007ffebb26edb0:  00007f7759d37560  00007f7759d3abc0 
    00007ffebb26edc0:  000000c42006ffd0  00005624a3bf33e0 <runtime.main+208> 
    00007ffebb26edd0:  00005624a48e7970  0000000000000000 
    00007ffebb26ede0:  0000000000000000  0000000000000000 
    00007ffebb26edf0:  0000000000000000  0000000000000000 
    00007ffebb26ee00:  0000000000000000  0000000000000000 
    00007ffebb26ee10:  000000c420000180  0000000000000000 
    00007ffebb26ee20:  00005624a3bf33e0 <runtime.main+208>  00005624a48e7970 
    00007ffebb26ee30:  0000000000000000  0000000000000000 
    00007ffebb26ee40:  0000000000000000  0000000000000000 
    00007ffebb26ee50:  0000000000000000  0000000000000000 
    00007ffebb26ee60: <0000000000000000  000000c420000180 
    00007ffebb26ee70:  0000000000000000  00005624a3c1ef31 <runtime.goexit+1> 
    00007ffebb26ee80:  0000000000000000  0000000000000000 
    00007ffebb26ee90:  0000000000000000  0000000000000000 
    00007ffebb26eea0:  0000029300000002  0000005059d43ec5 
    00007ffebb26eeb0:  000000000030da24  00007ffebb26ef68 
    00007ffebb26eec0:  00005624a3c0e936 <runtime.pcvalue+342>  00005624a4981828 
    00007ffebb26eed0:  00000000002f742e  00000000002f742e 
    00007ffebb26eee0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffebb26eef0:  ffffffffffffffff  ffffffffffffffff 
    00007ffebb26ef00:  ffffffffffffffff  ffffffffffffffff 
    00007ffebb26ef10:  ffffffffffffffff  ffffffffffffffff 
    00007ffebb26ef20:  ffffffffffffffff  ffffffffffffffff 
    00007ffebb26ef30:  ffffffffffffffff  ffffffffffffffff 
    00007ffebb26ef40:  ffffffffffffffff  ffffffffffffffff 
    00007ffebb26ef50:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x5624a42bba30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x5624a3c1dbcf
    runtime.newm1(0xc420061000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x5624a3bf76b1
    runtime.newm(0x5624a48e7b08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x5624a3bf752f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x5624a3bf7791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x5624a3bf34b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x5624a3c1ef31
    
    rax    0x0
    rbx    0x7f7759d37840
    rcx    0x7f7759989f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffebb26ee60
    rbp    0x5624a43ed32a
    rsp    0x7ffebb26ee60
    r8     0x0
    r9     0x7ffebb26ee60
    r10    0x8
    r11    0x246
    r12    0x5624a5c89690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f7759989f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 4 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062800)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062800)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x0, 0xc000046000, 0x3)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0xc000046000, 0x2a6cc00)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.handoffp(0xc000046000)
    	/usr/local/go/src/runtime/proc.go:2001 +0x52
    runtime.stoplockedm()
    	/usr/local/go/src/runtime/proc.go:2075 +0xf7
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2611 +0x48c
    runtime.park_m(0xc000000180)
    	/usr/local/go/src/runtime/proc.go:2845 +0x9d
    runtime.mcall(0x0)
    	/usr/local/go/src/runtime/asm_amd64.s:318 +0x5b
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x1bb7a80, 0xc0000420c8, 0x170e, 0x2)
    	/usr/local/go/src/runtime/proc.go:306 +0xe5
    runtime.chanrecv(0xc000042070, 0x0, 0xc000000101, 0x41a55e)
    	/usr/local/go/src/runtime/chan.go:577 +0x36f
    runtime.chanrecv1(0xc000042070, 0x0)
    	/usr/local/go/src/runtime/chan.go:439 +0x2b
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:219 +0x95
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f689883ef47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f689883ef47
    stack: frame={sp:0x7ffe63a3d5e0, fp:0x0} stack=[0x7ffe6323eae0,0x7ffe63a3db10)
    00007ffe63a3d4e0:  0000000000000003  00005579665485c0 
    00007ffe63a3d4f0:  0000000000000000  0000000000000000 
    00007ffe63a3d500:  0000000000000000  0000000000000000 
    00007ffe63a3d510:  0000000000000000  0000000000000000 
    00007ffe63a3d520:  0000000000000000  3885d4de01323a00 
    00007ffe63a3d530:  0000000000000000  00000000000f4240 
    00007ffe63a3d540:  00005579679d9540  00005579665485c0 
    00007ffe63a3d550:  00007ffe63a3d5f0  0000000000000000 
    00007ffe63a3d560:  00007ffe63a3d5e0  0000557966548520 
    00007ffe63a3d570:  0000000000000000  00007ffe63a3d580 
    00007ffe63a3d580:  0000000000000000  0000000000000000 
    00007ffe63a3d590:  0000000000000000  3885d4de01323a00 
    00007ffe63a3d5a0:  0000000000000000  00007ffe63a3d5f0 
    00007ffe63a3d5b0:  00007ffe63a3d6b0  00005579679d9540 
    00007ffe63a3d5c0:  00000000000000f1  3885d4de01323a00 
    00007ffe63a3d5d0:  0000000000000000  0000557966548753 
    00007ffe63a3d5e0: <0000000000000000  0000000000800000 
    00007ffe63a3d5f0:  0000000000000000  00007ffe63a3d638 
    00007ffe63a3d600:  0000557965e9c582 <runtime.step+290>  0000557966bf8232 
    00007ffe63a3d610:  000000000030da24  000000000030da24 
    00007ffe63a3d620:  0000029300000002  0000005098ff0da8 
    00007ffe63a3d630:  000000000030da24  00007ffe63a3d6e8 
    00007ffe63a3d640:  0000557965e9b936 <runtime.pcvalue+342>  0000557966c0e828 
    00007ffe63a3d650:  00000000002f742e  00000000002f742e 
    00007ffe63a3d660:  fffffffe7fffffff  ffffffffffffffff 
    00007ffe63a3d670:  ffffffffffffffff  ffffffffffffffff 
    00007ffe63a3d680:  ffffffffffffffff  ffffffffffffffff 
    00007ffe63a3d690:  ffffffffffffffff  ffffffffffffffff 
    00007ffe63a3d6a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe63a3d6b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe63a3d6c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe63a3d6d0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f689883ef47
    stack: frame={sp:0x7ffe63a3d5e0, fp:0x0} stack=[0x7ffe6323eae0,0x7ffe63a3db10)
    00007ffe63a3d4e0:  0000000000000003  00005579665485c0 
    00007ffe63a3d4f0:  0000000000000000  0000000000000000 
    00007ffe63a3d500:  0000000000000000  0000000000000000 
    00007ffe63a3d510:  0000000000000000  0000000000000000 
    00007ffe63a3d520:  0000000000000000  3885d4de01323a00 
    00007ffe63a3d530:  0000000000000000  00000000000f4240 
    00007ffe63a3d540:  00005579679d9540  00005579665485c0 
    00007ffe63a3d550:  00007ffe63a3d5f0  0000000000000000 
    00007ffe63a3d560:  00007ffe63a3d5e0  0000557966548520 
    00007ffe63a3d570:  0000000000000000  00007ffe63a3d580 
    00007ffe63a3d580:  0000000000000000  0000000000000000 
    00007ffe63a3d590:  0000000000000000  3885d4de01323a00 
    00007ffe63a3d5a0:  0000000000000000  00007ffe63a3d5f0 
    00007ffe63a3d5b0:  00007ffe63a3d6b0  00005579679d9540 
    00007ffe63a3d5c0:  00000000000000f1  3885d4de01323a00 
    00007ffe63a3d5d0:  0000000000000000  0000557966548753 
    00007ffe63a3d5e0: <0000000000000000  0000000000800000 
    00007ffe63a3d5f0:  0000000000000000  00007ffe63a3d638 
    00007ffe63a3d600:  0000557965e9c582 <runtime.step+290>  0000557966bf8232 
    00007ffe63a3d610:  000000000030da24  000000000030da24 
    00007ffe63a3d620:  0000029300000002  0000005098ff0da8 
    00007ffe63a3d630:  000000000030da24  00007ffe63a3d6e8 
    00007ffe63a3d640:  0000557965e9b936 <runtime.pcvalue+342>  0000557966c0e828 
    00007ffe63a3d650:  00000000002f742e  00000000002f742e 
    00007ffe63a3d660:  fffffffe7fffffff  ffffffffffffffff 
    00007ffe63a3d670:  ffffffffffffffff  ffffffffffffffff 
    00007ffe63a3d680:  ffffffffffffffff  ffffffffffffffff 
    00007ffe63a3d690:  ffffffffffffffff  ffffffffffffffff 
    00007ffe63a3d6a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe63a3d6b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe63a3d6c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe63a3d6d0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x557966548a30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x557965eaabcf
    runtime.newm1(0xc4200a8000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x557965e846b1
    runtime.newm(0x557966b74b08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x557965e8452f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x557965e84791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x557965e804b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x557965eabf31
    
    rax    0x0
    rbx    0x7f6898bec840
    rcx    0x7f689883ef47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffe63a3d5e0
    rbp    0x55796667a32a
    rsp    0x7ffe63a3d5e0
    r8     0x0
    r9     0x7ffe63a3d5e0
    r10    0x8
    r11    0x246
    r12    0x5579679d9690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f689883ef47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
