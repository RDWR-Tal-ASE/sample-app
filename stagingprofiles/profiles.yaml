apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7ff4e2bcbf47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7ff4e2bcbf47
    stack: frame={sp:0x7ffec52d21e0, fp:0x0} stack=[0x7ffec4ad36e0,0x7ffec52d2710)
    00007ffec52d20e0:  0000000000000000  0000000000000000 
    00007ffec52d20f0:  0000000000000000  0000000000000000 
    00007ffec52d2100:  0000000000000000  0000000000000000 
    00007ffec52d2110:  0000000000000000  0000000000000000 
    00007ffec52d2120:  0000000000000000  0000000000000000 
    00007ffec52d2130:  0000000000000000  0000000000000000 
    00007ffec52d2140:  0000000000000000  0000000000000000 
    00007ffec52d2150:  0000000000000000  0000000000000000 
    00007ffec52d2160:  0000000000000000  0000000000000000 
    00007ffec52d2170:  0000000000000000  0000000000000000 
    00007ffec52d2180:  0000000000000000  0000000000000000 
    00007ffec52d2190:  0000000000000000  0000000000000000 
    00007ffec52d21a0:  0000000000000000  0000000000000000 
    00007ffec52d21b0:  0000000000000000  0000000000000000 
    00007ffec52d21c0:  0000000000000000  00007ff4e31b0307 
    00007ffec52d21d0:  0000000000000000  0000000000000001 
    00007ffec52d21e0: <0000000000000000  0000564018bfc570 
    00007ffec52d21f0:  00007ff4e33bd0d0  00007ffec52d2238 
    00007ffec52d2200:  00005640174ef582 <runtime.step+290>  000056401824b232 
    00007ffec52d2210:  000000000030da24  000000000030da24 
    00007ffec52d2220:  0000029300000002  00000050e2f85ec5 
    00007ffec52d2230:  000000000030da24  00007ffec52d22e8 
    00007ffec52d2240:  00005640174ee936 <runtime.pcvalue+342>  0000564018261828 
    00007ffec52d2250:  00000000002f742e  00000000002f742e 
    00007ffec52d2260:  fffffffe7fffffff  ffffffffffffffff 
    00007ffec52d2270:  ffffffffffffffff  ffffffffffffffff 
    00007ffec52d2280:  ffffffffffffffff  ffffffffffffffff 
    00007ffec52d2290:  ffffffffffffffff  ffffffffffffffff 
    00007ffec52d22a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffec52d22b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffec52d22c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffec52d22d0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7ff4e2bcbf47
    stack: frame={sp:0x7ffec52d21e0, fp:0x0} stack=[0x7ffec4ad36e0,0x7ffec52d2710)
    00007ffec52d20e0:  0000000000000000  0000000000000000 
    00007ffec52d20f0:  0000000000000000  0000000000000000 
    00007ffec52d2100:  0000000000000000  0000000000000000 
    00007ffec52d2110:  0000000000000000  0000000000000000 
    00007ffec52d2120:  0000000000000000  0000000000000000 
    00007ffec52d2130:  0000000000000000  0000000000000000 
    00007ffec52d2140:  0000000000000000  0000000000000000 
    00007ffec52d2150:  0000000000000000  0000000000000000 
    00007ffec52d2160:  0000000000000000  0000000000000000 
    00007ffec52d2170:  0000000000000000  0000000000000000 
    00007ffec52d2180:  0000000000000000  0000000000000000 
    00007ffec52d2190:  0000000000000000  0000000000000000 
    00007ffec52d21a0:  0000000000000000  0000000000000000 
    00007ffec52d21b0:  0000000000000000  0000000000000000 
    00007ffec52d21c0:  0000000000000000  00007ff4e31b0307 
    00007ffec52d21d0:  0000000000000000  0000000000000001 
    00007ffec52d21e0: <0000000000000000  0000564018bfc570 
    00007ffec52d21f0:  00007ff4e33bd0d0  00007ffec52d2238 
    00007ffec52d2200:  00005640174ef582 <runtime.step+290>  000056401824b232 
    00007ffec52d2210:  000000000030da24  000000000030da24 
    00007ffec52d2220:  0000029300000002  00000050e2f85ec5 
    00007ffec52d2230:  000000000030da24  00007ffec52d22e8 
    00007ffec52d2240:  00005640174ee936 <runtime.pcvalue+342>  0000564018261828 
    00007ffec52d2250:  00000000002f742e  00000000002f742e 
    00007ffec52d2260:  fffffffe7fffffff  ffffffffffffffff 
    00007ffec52d2270:  ffffffffffffffff  ffffffffffffffff 
    00007ffec52d2280:  ffffffffffffffff  ffffffffffffffff 
    00007ffec52d2290:  ffffffffffffffff  ffffffffffffffff 
    00007ffec52d22a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffec52d22b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffec52d22c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffec52d22d0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x564017b9ba30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x5640174fdbcf
    runtime.newm1(0xc420061000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x5640174d76b1
    runtime.newm(0x5640181c7b08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x5640174d752f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x5640174d7791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x5640174d34b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x5640174fef31
    
    rax    0x0
    rbx    0x7ff4e2f79840
    rcx    0x7ff4e2bcbf47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffec52d21e0
    rbp    0x564017ccd32a
    rsp    0x7ffec52d21e0
    r8     0x0
    r9     0x7ffec52d21e0
    r10    0x8
    r11    0x246
    r12    0x564018bfc690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7ff4e2bcbf47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 4 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    runtime: failed to create new OS thread (have 5 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062800)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062800)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x0, 0xc000046000, 0x3)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0xc000046000, 0x2a6cc00)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.handoffp(0xc000046000)
    	/usr/local/go/src/runtime/proc.go:2001 +0x52
    runtime.stoplockedm()
    	/usr/local/go/src/runtime/proc.go:2075 +0xf7
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2611 +0x48c
    runtime.park_m(0xc000000180)
    	/usr/local/go/src/runtime/proc.go:2845 +0x9d
    runtime.mcall(0x0)
    	/usr/local/go/src/runtime/asm_amd64.s:318 +0x5b
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x1bb7a80, 0xc0000420c8, 0x170e, 0x2)
    	/usr/local/go/src/runtime/proc.go:306 +0xe5
    runtime.chanrecv(0xc000042070, 0x0, 0xc000000101, 0x41a55e)
    	/usr/local/go/src/runtime/chan.go:577 +0x36f
    runtime.chanrecv1(0xc000042070, 0x0)
    	/usr/local/go/src/runtime/chan.go:439 +0x2b
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:219 +0x95
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000088000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000088000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc00004b000, 0x4)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000073f01)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.resetspinning()
    	/usr/local/go/src/runtime/proc.go:2533 +0x59
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2684 +0x2b9
    runtime.mstart1()
    	/usr/local/go/src/runtime/proc.go:1179 +0x93
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1137 +0x6e
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fbd26397f47 m=3 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fbd26397f47
    stack: frame={sp:0x7fbd25b56810, fp:0x0} stack=[0x7fbd25357290,0x7fbd25b56e90)
    00007fbd25b56710:  0000000000000000  0000000000000000 
    00007fbd25b56720:  0000000000000000  0000000000000000 
    00007fbd25b56730:  0000000000000000  0000000000000000 
    00007fbd25b56740:  0000000000000000  0000000000000000 
    00007fbd25b56750:  0000000000000000  0000000000000000 
    00007fbd25b56760:  0000000000000000  0000000000000000 
    00007fbd25b56770:  0000000000000000  0000000000000000 
    00007fbd25b56780:  0000000000000000  0000000000000000 
    00007fbd25b56790:  0000000000000000  0000000000000000 
    00007fbd25b567a0:  0000000000000000  0000000000000000 
    00007fbd25b567b0:  0000000000000000  0000000000000000 
    00007fbd25b567c0:  0000000000000000  0000000000000000 
    00007fbd25b567d0:  0000000000000000  0000000000000000 
    00007fbd25b567e0:  0000000000000000  0000000000000000 
    00007fbd25b567f0:  0000000000000000  0000000000000000 
    00007fbd25b56800:  0000000000000000  0000000000000000 
    00007fbd25b56810: <0000000000000000  0000000000000000 
    00007fbd25b56820:  0000000000000000  0000000000000000 
    00007fbd25b56830:  0000000000000000  0000000000000000 
    00007fbd25b56840:  0000000000000000  0000000000000000 
    00007fbd25b56850:  0000000000000000  0000000000000000 
    00007fbd25b56860:  0000000000000000  0000000000000000 
    00007fbd25b56870:  0000000000000000  0000000000000000 
    00007fbd25b56880:  0000000000000000  0000000000000000 
    00007fbd25b56890:  fffffffe7fffffff  ffffffffffffffff 
    00007fbd25b568a0:  ffffffffffffffff  ffffffffffffffff 
    00007fbd25b568b0:  ffffffffffffffff  ffffffffffffffff 
    00007fbd25b568c0:  ffffffffffffffff  ffffffffffffffff 
    00007fbd25b568d0:  ffffffffffffffff  ffffffffffffffff 
    00007fbd25b568e0:  ffffffffffffffff  ffffffffffffffff 
    00007fbd25b568f0:  ffffffffffffffff  ffffffffffffffff 
    00007fbd25b56900:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fbd26397f47
    stack: frame={sp:0x7fbd25b56810, fp:0x0} stack=[0x7fbd25357290,0x7fbd25b56e90)
    00007fbd25b56710:  0000000000000000  0000000000000000 
    00007fbd25b56720:  0000000000000000  0000000000000000 
    00007fbd25b56730:  0000000000000000  0000000000000000 
    00007fbd25b56740:  runtime/cgo: 0000000000000000  0000000000000000 
    00007fbd25b56750:  0000000000000000  0000000000000000 
    00007fbd25b56760: pthread_create failed: Resource temporarily unavailable 0000000000000000
      0000000000000000 
    00007fbd25b56770:  0000000000000000  0000000000000000 
    00007fbd25b56780:  0000000000000000  0000000000000000 
    00007fbd25b56790:  0000000000000000  0000000000000000 
    00007fbd25b567a0:  0000000000000000  0000000000000000 
    00007fbd25b567b0:  0000000000000000  0000000000000000 
    00007fbd25b567c0:  0000000000000000  0000000000000000 
    00007fbd25b567d0:  0000000000000000  0000000000000000 
    00007fbd25b567e0:  0000000000000000  0000000000000000 
    00007fbd25b567f0:  0000000000000000  0000000000000000 
    00007fbd25b56800:  0000000000000000  0000000000000000 
    00007fbd25b56810: <0000000000000000  0000000000000000 
    00007fbd25b56820:  0000000000000000  0000000000000000 
    00007fbd25b56830:  0000000000000000  0000000000000000 
    00007fbd25b56840:  0000000000000000  0000000000000000 
    00007fbd25b56850:  0000000000000000  0000000000000000 
    00007fbd25b56860:  0000000000000000  0000000000000000 
    00007fbd25b56870:  0000000000000000  0000000000000000 
    00007fbd25b56880:  0000000000000000  0000000000000000 
    00007fbd25b56890:  fffffffe7fffffff  ffffffffffffffff 
    00007fbd25b568a0:  ffffffffffffffff  ffffffffffffffff 
    00007fbd25b568b0:  ffffffffffffffff  ffffffffffffffff 
    00007fbd25b568c0:  ffffffffffffffff  ffffffffffffffff 
    00007fbd25b568d0:  ffffffffffffffff  ffffffffffffffff 
    00007fbd25b568e0:  ffffffffffffffff  ffffffffffffffff 
    00007fbd25b568f0:  ffffffffffffffff  ffffffffffffffff 
    00007fbd25b56900:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    	goroutine running on other thread; stack unavailable
    
    rax    0x0
    rbx    0x7fbd26745840
    rcx    0x7fbd26397f47
    rdx    0x0
    rdi    0x2
    rsi    0x7fbd25b56810
    rbp    0x55cd8a98c32a
    rsp    0x7fbd25b56810
    r8     0x0
    r9     0x7fbd25b56810
    r10    0x8
    r11    0x246
    r12    0x55cd8bf013f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fbd26397f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
