apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f973e33ff47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f973e33ff47
    stack: frame={sp:0x7ffe7b74d9d0, fp:0x0} stack=[0x7ffe7af4eed0,0x7ffe7b74df00)
    00007ffe7b74d8d0:  0000000000000001  0000000000000000 
    00007ffe7b74d8e0:  0000000000000000  0000000000000000 
    00007ffe7b74d8f0:  00007f973e6ed560  00007f973e6f0bc0 
    00007ffe7b74d900:  000000c42006ffd0  000055c59682e3e0 <runtime.main+208> 
    00007ffe7b74d910:  000055c597522970  0000000000000000 
    00007ffe7b74d920:  0000000000000000  0000000000000000 
    00007ffe7b74d930:  0000000000000000  0000000000000000 
    00007ffe7b74d940:  0000000000000000  0000000000000000 
    00007ffe7b74d950:  000000c420000180  0000000000000000 
    00007ffe7b74d960:  000055c59682e3e0 <runtime.main+208>  000055c597522970 
    00007ffe7b74d970:  0000000000000000  0000000000000000 
    00007ffe7b74d980:  0000000000000000  0000000000000000 
    00007ffe7b74d990:  0000000000000000  0000000000000000 
    00007ffe7b74d9a0:  0000000000000000  000000c420000180 
    00007ffe7b74d9b0:  0000000000000000  000055c596859f31 <runtime.goexit+1> 
    00007ffe7b74d9c0:  0000000000000000  0000000000000000 
    00007ffe7b74d9d0: <0000000000000000  0000000000000000 
    00007ffe7b74d9e0:  00007f973eb310d0  00007ffe7b74da28 
    00007ffe7b74d9f0:  000055c59684a582 <runtime.step+290>  000055c5975a6232 
    00007ffe7b74da00:  000000000030da24  000000000030da24 
    00007ffe7b74da10:  0000029300000002  000000503e6f9ec5 
    00007ffe7b74da20:  000000000030da24  00007ffe7b74dad8 
    00007ffe7b74da30:  000055c596849936 <runtime.pcvalue+342>  000055c5975bc828 
    00007ffe7b74da40:  0000000000000002  0000000000000000 
    00007ffe7b74da50:  fffffffe7fffffff  ffffffffffffffff 
    00007ffe7b74da60:  ffffffffffffffff  ffffffffffffffff 
    00007ffe7b74da70:  ffffffffffffffff  ffffffffffffffff 
    00007ffe7b74da80:  ffffffffffffffff  ffffffffffffffff 
    00007ffe7b74da90:  ffffffffffffffff  ffffffffffffffff 
    00007ffe7b74daa0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe7b74dab0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe7b74dac0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f973e33ff47
    stack: frame={sp:0x7ffe7b74d9d0, fp:0x0} stack=[0x7ffe7af4eed0,0x7ffe7b74df00)
    00007ffe7b74d8d0:  0000000000000001  0000000000000000 
    00007ffe7b74d8e0:  0000000000000000  0000000000000000 
    00007ffe7b74d8f0:  00007f973e6ed560  00007f973e6f0bc0 
    00007ffe7b74d900:  000000c42006ffd0  000055c59682e3e0 <runtime.main+208> 
    00007ffe7b74d910:  000055c597522970  0000000000000000 
    00007ffe7b74d920:  0000000000000000  0000000000000000 
    00007ffe7b74d930:  0000000000000000  0000000000000000 
    00007ffe7b74d940:  0000000000000000  0000000000000000 
    00007ffe7b74d950:  000000c420000180  0000000000000000 
    00007ffe7b74d960:  000055c59682e3e0 <runtime.main+208>  000055c597522970 
    00007ffe7b74d970:  0000000000000000  0000000000000000 
    00007ffe7b74d980:  0000000000000000  0000000000000000 
    00007ffe7b74d990:  0000000000000000  0000000000000000 
    00007ffe7b74d9a0:  0000000000000000  000000c420000180 
    00007ffe7b74d9b0:  0000000000000000  000055c596859f31 <runtime.goexit+1> 
    00007ffe7b74d9c0:  0000000000000000  0000000000000000 
    00007ffe7b74d9d0: <0000000000000000  0000000000000000 
    00007ffe7b74d9e0:  00007f973eb310d0  00007ffe7b74da28 
    00007ffe7b74d9f0:  000055c59684a582 <runtime.step+290>  000055c5975a6232 
    00007ffe7b74da00:  000000000030da24  000000000030da24 
    00007ffe7b74da10:  0000029300000002  000000503e6f9ec5 
    00007ffe7b74da20:  000000000030da24  00007ffe7b74dad8 
    00007ffe7b74da30:  000055c596849936 <runtime.pcvalue+342>  000055c5975bc828 
    00007ffe7b74da40:  0000000000000002  0000000000000000 
    00007ffe7b74da50:  fffffffe7fffffff  ffffffffffffffff 
    00007ffe7b74da60:  ffffffffffffffff  ffffffffffffffff 
    00007ffe7b74da70:  ffffffffffffffff  ffffffffffffffff 
    00007ffe7b74da80:  ffffffffffffffff  ffffffffffffffff 
    00007ffe7b74da90:  ffffffffffffffff  ffffffffffffffff 
    00007ffe7b74daa0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe7b74dab0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe7b74dac0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x55c596ef6a30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x55c596858bcf
    runtime.newm1(0xc420061000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x55c5968326b1
    runtime.newm(0x55c597522b08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x55c59683252f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x55c596832791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x55c59682e4b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x55c596859f31
    
    rax    0x0
    rbx    0x7f973e6ed840
    rcx    0x7f973e33ff47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffe7b74d9d0
    rbp    0x55c59702832a
    rsp    0x7ffe7b74d9d0
    r8     0x0
    r9     0x7ffe7b74d9d0
    r10    0x8
    r11    0x246
    r12    0x55c5979f2690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f973e33ff47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 4 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    runtime: failed to create new OS thread (have 5 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062800)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062800)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x0, 0xc000046000, 0x3)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0xc000046000, 0x2a6cc00)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.handoffp(0xc000046000)
    	/usr/local/go/src/runtime/proc.go:2001 +0x52
    runtime.stoplockedm()
    	/usr/local/go/src/runtime/proc.go:2075 +0xf7
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2611 +0x48c
    runtime.park_m(0xc000000180)
    	/usr/local/go/src/runtime/proc.go:2845 +0x9d
    runtime.mcall(0x0)
    	/usr/local/go/src/runtime/asm_amd64.s:318 +0x5b
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x1bb7a80, 0xc0000420c8, 0x170e, 0x2)
    	/usr/local/go/src/runtime/proc.go:306 +0xe5
    runtime.chanrecv(0xc000042070, 0x0, 0xc000000101, 0x41a55e)
    	/usr/local/go/src/runtime/chan.go:577 +0x36f
    runtime.chanrecv1(0xc000042070, 0x0)
    	/usr/local/go/src/runtime/chan.go:439 +0x2b
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:219 +0x95
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000088000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000088000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc00004b000, 0x4)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000073f01)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.resetspinning()
    	/usr/local/go/src/runtime/proc.go:2533 +0x59
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2684 +0x2b9
    runtime.mstart1()
    	/usr/local/go/src/runtime/proc.go:1179 +0x93
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1137 +0x6e
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fd10cd1bf47 m=3 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fd10cd1bf47
    stack: frame={sp:0x7fd10c4da810, fp:0x0} stack=[0x7fd10bcdb290,0x7fd10c4dae90)
    00007fd10c4da710:  0000000000000000  0000000000000000 
    00007fd10c4da720:  0000000000000000  0000000000000000 
    00007fd10c4da730:  0000000000000000  0000000000000000 
    00007fd10c4da740:  0000000000000000  0000000000000000 
    00007fd10c4da750:  0000000000000000  0000000000000000 
    00007fd10c4da760:  0000000000000000  0000000000000000 
    00007fd10c4da770:  0000000000000000  0000000000000000 
    00007fd10c4da780:  0000000000000000  0000000000000000 
    00007fd10c4da790:  0000000000000000  0000000000000000 
    00007fd10c4da7a0:  0000000000000000  0000000000000000 
    00007fd10c4da7b0:  0000000000000000  0000000000000000 
    00007fd10c4da7c0:  0000000000000000  0000000000000000 
    00007fd10c4da7d0:  0000000000000000  0000000000000000 
    00007fd10c4da7e0:  0000000000000000  0000000000000000 
    00007fd10c4da7f0:  0000000000000000  0000000000000000 
    00007fd10c4da800:  0000000000000000  0000000000000000 
    00007fd10c4da810: <0000000000000000  0000000000000000 
    00007fd10c4da820:  0000000000000000  0000000000000000 
    00007fd10c4da830:  0000000000000000  0000000000000000 
    00007fd10c4da840:  0000000000000000  0000000000000000 
    00007fd10c4da850:  0000000000000000  0000000000000000 
    00007fd10c4da860:  0000000000000000  0000000000000000 
    00007fd10c4da870:  0000000000000000  0000000000000000 
    00007fd10c4da880:  0000000000000000  0000000000000000 
    00007fd10c4da890:  fffffffe7fffffff  ffffffffffffffff 
    00007fd10c4da8a0:  ffffffffffffffff  ffffffffffffffff 
    00007fd10c4da8b0:  ffffffffffffffff  ffffffffffffffff 
    00007fd10c4da8c0:  ffffffffffffffff  ffffffffffffffff 
    00007fd10c4da8d0:  ffffffffffffffff  ffffffffffffffff 
    00007fd10c4da8e0:  ffffffffffffffff  ffffffffffffffff 
    00007fd10c4da8f0:  ffffffffffffffff  ffffffffffffffff 
    00007fd10c4da900:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fd10cd1bf47
    stack: frame={sp:0x7fd10c4da810, fp:0x0} stack=[0x7fd10bcdb290,0x7fd10c4dae90)
    00007fd10c4da710:  0000000000000000  0000000000000000 
    00007fd10c4da720:  0000000000000000  0000000000000000 
    00007fd10c4da730:  0000000000000000  0000000000000000 
    00007fd10c4da740:  0000000000000000  0000000000000000 
    00007fd10c4da750:  0000000000000000  0000000000000000 
    00007fd10c4da760:  0000000000000000  0000000000000000 
    00007fd10c4da770:  0000000000000000  0000000000000000 
    00007fd10c4da780:  0000000000000000  0000000000000000 
    00007fd10c4da790:  0000000000000000  0000000000000000 
    00007fd10c4da7a0:  0000000000000000  0000000000000000 
    00007fd10c4da7b0:  0000000000000000  0000000000000000 
    00007fd10c4da7c0:  0000000000000000  0000000000000000 
    00007fd10c4da7d0:  0000000000000000  0000000000000000 
    00007fd10c4da7e0:  0000000000000000  0000000000000000 
    00007fd10c4da7f0:  0000000000000000  0000000000000000 
    00007fd10c4da800:  0000000000000000  0000000000000000 
    00007fd10c4da810: <0000000000000000  0000000000000000 
    00007fd10c4da820:  0000000000000000  0000000000000000 
    00007fd10c4da830:  0000000000000000  0000000000000000 
    00007fd10c4da840:  0000000000000000  0000000000000000 
    00007fd10c4da850:  0000000000000000  0000000000000000 
    00007fd10c4da860:  0000000000000000  0000000000000000 
    00007fd10c4da870:  0000000000000000  0000000000000000 
    00007fd10c4da880:  0000000000000000  0000000000000000 
    00007fd10c4da890:  fffffffe7fffffff  ffffffffffffffff 
    00007fd10c4da8a0:  ffffffffffffffff  ffffffffffffffff 
    00007fd10c4da8b0:  ffffffffffffffff  ffffffffffffffff 
    00007fd10c4da8c0:  ffffffffffffffff  ffffffffffffffff 
    00007fd10c4da8d0:  ffffffffffffffff  ffffffffffffffff 
    00007fd10c4da8e0:  ffffffffffffffff  ffffffffffffffff 
    00007fd10c4da8f0:  ffffffffffffffff  ffffffffffffffff 
    00007fd10c4da900:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    	goroutine running on other thread; stack unavailable
    
    rax    0x0
    rbx    0x7fd10d0c9840
    rcx    0x7fd10cd1bf47
    rdx    0x0
    rdi    0x2
    rsi    0x7fd10c4da810
    rbp    0x55ea7a24b32a
    rsp    0x7fd10c4da810
    r8     0x0
    r9     0x7fd10c4da810
    r10    0x8
    r11    0x246
    r12    0x55ea7b6483f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fd10cd1bf47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
