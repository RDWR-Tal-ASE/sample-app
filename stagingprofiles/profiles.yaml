apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f73f85f7f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f73f85f7f47
    stack: frame={sp:0x7ffdf5cd28a0, fp:0x0} stack=[0x7ffdf54d3f40,0x7ffdf5cd2f70)
    00007ffdf5cd27a0:  0000556a2d2f1683 <runtime.main+883>  000000000030da24 
    00007ffdf5cd27b0:  0000029300000002  00000050f8be075a 
    00007ffdf5cd27c0:  000000000030da24  00007ffdf5cd2878 
    00007ffdf5cd27d0:  0000556a2d30c936 <runtime.pcvalue+342>  0000556a2e07f828 
    00007ffdf5cd27e0:  0000000000000000  0000000000000000 
    00007ffdf5cd27f0:  00007f73f89a5560  00007f73f89a8bc0 
    00007ffdf5cd2800:  000000c42006ffd0  0000556a2d2f13e0 <runtime.main+208> 
    00007ffdf5cd2810:  0000556a2dfe5970  0000000000000000 
    00007ffdf5cd2820:  0000000000000000  0000000000000000 
    00007ffdf5cd2830:  0000000000000000  0000000000000000 
    00007ffdf5cd2840:  0000000000000000  0000000000000000 
    00007ffdf5cd2850:  000000c420000180  0000000000000000 
    00007ffdf5cd2860:  0000556a2d2f13e0 <runtime.main+208>  0000556a2dfe5970 
    00007ffdf5cd2870:  0000000000000000  0000000000000000 
    00007ffdf5cd2880:  0000000000000000  0000000000000000 
    00007ffdf5cd2890:  0000000000000000  0000000000000000 
    00007ffdf5cd28a0: <0000000000000000  000000c420000180 
    00007ffdf5cd28b0:  0000000000000000  0000556a2d31cf31 <runtime.goexit+1> 
    00007ffdf5cd28c0:  0000000000000000  0000000000000000 
    00007ffdf5cd28d0:  0000000000000000  0000000000000000 
    00007ffdf5cd28e0:  0000556a2e3933c0  00007ffdf5cd2bf0 
    00007ffdf5cd28f0:  0000556a2d311962 <runtime.gentraceback+4850>  00007ffdf5cd2b98 
    00007ffdf5cd2900:  00007ffdf5cd2c88  0000556a2e393301 
    00007ffdf5cd2910:  00007ffdf5cd2a01  0000000000000000 
    00007ffdf5cd2920:  fffffffe7fffffff  ffffffffffffffff 
    00007ffdf5cd2930:  ffffffffffffffff  ffffffffffffffff 
    00007ffdf5cd2940:  ffffffffffffffff  ffffffffffffffff 
    00007ffdf5cd2950:  ffffffffffffffff  ffffffffffffffff 
    00007ffdf5cd2960:  ffffffffffffffff  ffffffffffffffff 
    00007ffdf5cd2970:  ffffffffffffffff  ffffffffffffffff 
    00007ffdf5cd2980:  ffffffffffffffff  ffffffffffffffff 
    00007ffdf5cd2990:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f73f85f7f47
    stack: frame={sp:0x7ffdf5cd28a0, fp:0x0} stack=[0x7ffdf54d3f40,0x7ffdf5cd2f70)
    00007ffdf5cd27a0:  0000556a2d2f1683 <runtime.main+883>  000000000030da24 
    00007ffdf5cd27b0:  0000029300000002  00000050f8be075a 
    00007ffdf5cd27c0:  000000000030da24  00007ffdf5cd2878 
    00007ffdf5cd27d0:  0000556a2d30c936 <runtime.pcvalue+342>  0000556a2e07f828 
    00007ffdf5cd27e0:  0000000000000000  0000000000000000 
    00007ffdf5cd27f0:  00007f73f89a5560  00007f73f89a8bc0 
    00007ffdf5cd2800:  000000c42006ffd0  0000556a2d2f13e0 <runtime.main+208> 
    00007ffdf5cd2810:  0000556a2dfe5970  0000000000000000 
    00007ffdf5cd2820:  0000000000000000  0000000000000000 
    00007ffdf5cd2830:  0000000000000000  0000000000000000 
    00007ffdf5cd2840:  0000000000000000  0000000000000000 
    00007ffdf5cd2850:  000000c420000180  0000000000000000 
    00007ffdf5cd2860:  0000556a2d2f13e0 <runtime.main+208>  0000556a2dfe5970 
    00007ffdf5cd2870:  0000000000000000  0000000000000000 
    00007ffdf5cd2880:  0000000000000000  0000000000000000 
    00007ffdf5cd2890:  0000000000000000  0000000000000000 
    00007ffdf5cd28a0: <0000000000000000  000000c420000180 
    00007ffdf5cd28b0:  0000000000000000  0000556a2d31cf31 <runtime.goexit+1> 
    00007ffdf5cd28c0:  0000000000000000  0000000000000000 
    00007ffdf5cd28d0:  0000000000000000  0000000000000000 
    00007ffdf5cd28e0:  0000556a2e3933c0  00007ffdf5cd2bf0 
    00007ffdf5cd28f0:  0000556a2d311962 <runtime.gentraceback+4850>  00007ffdf5cd2b98 
    00007ffdf5cd2900:  00007ffdf5cd2c88  0000556a2e393301 
    00007ffdf5cd2910:  00007ffdf5cd2a01  0000000000000000 
    00007ffdf5cd2920:  fffffffe7fffffff  ffffffffffffffff 
    00007ffdf5cd2930:  ffffffffffffffff  ffffffffffffffff 
    00007ffdf5cd2940:  ffffffffffffffff  ffffffffffffffff 
    00007ffdf5cd2950:  ffffffffffffffff  ffffffffffffffff 
    00007ffdf5cd2960:  ffffffffffffffff  ffffffffffffffff 
    00007ffdf5cd2970:  ffffffffffffffff  ffffffffffffffff 
    00007ffdf5cd2980:  ffffffffffffffff  ffffffffffffffff 
    00007ffdf5cd2990:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.systemstack_switch()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:363 fp=0xc420081f00 sp=0xc420081ef8 pc=0x556a2d31a370
    runtime.newproc(0x556a00000000, 0x556a2dfe58f8)
    	/usr/lib/go-1.10/src/runtime/proc.go:3243 +0x64 fp=0xc420081f40 sp=0xc420081f00 pc=0x556a2d2f9264
    runtime.init.4()
    	/usr/lib/go-1.10/src/runtime/proc.go:237 +0x37 fp=0xc420081f60 sp=0xc420081f40 pc=0x556a2d2f16d7
    runtime.init()
    	<autogenerated>:1 +0xe5 fp=0xc420081f88 sp=0xc420081f60 pc=0x556a2d319f45
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:144 +0xd0 fp=0xc420081fe0 sp=0xc420081f88 pc=0x556a2d2f13e0
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x556a2d31cf31
    
    rax    0x0
    rbx    0x7f73f89a5840
    rcx    0x7f73f85f7f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffdf5cd28a0
    rbp    0x556a2daeb32a
    rsp    0x7ffdf5cd28a0
    r8     0x0
    r9     0x7ffdf5cd28a0
    r10    0x8
    r11    0x246
    r12    0x556a2ea563f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f73f85f7f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 2 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7d48, 0x0, 0xffffffffffffffff)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.main.func1()
    	/usr/local/go/src/runtime/proc.go:135 +0x3f
    runtime.systemstack(0x46c2f4)
    	/usr/local/go/src/runtime/asm_amd64.s:370 +0x66
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1116
    
    goroutine 1 [running]:
    runtime.systemstack_switch()
    	/usr/local/go/src/runtime/asm_amd64.s:330 fp=0xc00005e788 sp=0xc00005e780 pc=0x46c420
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:134 +0x70 fp=0xc00005e7e0 sp=0xc00005e788 pc=0x439ab0
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1 fp=0xc00005e7e8 sp=0xc00005e7e0 pc=0x46e061
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fe1c7391f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fe1c7391f47
    stack: frame={sp:0x7fffcfa430c0, fp:0x0} stack=[0x7fffcf244760,0x7fffcfa43790)
    00007fffcfa42fc0:  0000561499290683 <runtime.main+883>  000000000030da24 
    00007fffcfa42fd0:  0000029300000002  0000005000000000 
    00007fffcfa42fe0:  000000000030da24  00007fffcfa43098 
    00007fffcfa42ff0:  00005614992ab936 <runtime.pcvalue+342>  000056149a01e828 
    00007fffcfa43000:  00000000002f742e  00000000002f742e 
    00007fffcfa43010:  00007fffcfa43050  00007fffcfa4304c 
    00007fffcfa43020:  000056149a332301  000056149a01e82a 
    00007fffcfa43030:  00000000002f742c  00000000002f742c 
    00007fffcfa43040:  0000000000000001  0000000040000000 
    00007fffcfa43050:  00007fffcfa43108  00005614992a675f <runtime.adjustframe+175> 
    00007fffcfa43060:  000056149a01e7f0  000056149a3323c0 
    00007fffcfa43070:  00007fff00000000  00005614992bbf30 <runtime.goexit+0> 
    00007fffcfa43080:  00007fffcfa434c0  00000000ffffffff 
    00007fffcfa43090:  00000000cfa43020  00005614992bbf30 <runtime.goexit+0> 
    00007fffcfa430a0:  00005614992ac1c1 <runtime.funcspdelta+97>  000056149a01e7f0 
    00007fffcfa430b0:  000056149a3323c0  00007fff0006f548 
    00007fffcfa430c0: <0000000000000000  00007fffcfa43220 
    00007fffcfa430d0:  0000561499a18201  000056149a01e7f0 
    00007fffcfa430e0:  000056149a3323c0  0000000000000000 
    00007fffcfa430f0:  0000000000000000  00005614992bbf31 <runtime.goexit+1> 
    00007fffcfa43100:  000056149a3323c0  00007fffcfa43410 
    00007fffcfa43110:  00005614992b0962 <runtime.gentraceback+4850>  00007fffcfa433b8 
    00007fffcfa43120:  00007fffcfa434a8  000056149a332301 
    00007fffcfa43130:  00007fffcfa43201  0000000000000000 
    00007fffcfa43140:  fffffffe7fffffff  ffffffffffffffff 
    00007fffcfa43150:  ffffffffffffffff  ffffffffffffffff 
    00007fffcfa43160:  ffffffffffffffff  ffffffffffffffff 
    00007fffcfa43170:  ffffffffffffffff  ffffffffffffffff 
    00007fffcfa43180:  ffffffffffffffff  ffffffffffffffff 
    00007fffcfa43190:  ffffffffffffffff  ffffffffffffffff 
    00007fffcfa431a0:  ffffffffffffffff  ffffffffffffffff 
    00007fffcfa431b0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fe1c7391f47
    stack: frame={sp:0x7fffcfa430c0, fp:0x0} stack=[0x7fffcf244760,0x7fffcfa43790)
    00007fffcfa42fc0:  0000561499290683 <runtime.main+883>  000000000030da24 
    00007fffcfa42fd0:  0000029300000002  0000005000000000 
    00007fffcfa42fe0:  000000000030da24  00007fffcfa43098 
    00007fffcfa42ff0:  00005614992ab936 <runtime.pcvalue+342>  000056149a01e828 
    00007fffcfa43000:  00000000002f742e  00000000002f742e 
    00007fffcfa43010:  00007fffcfa43050  00007fffcfa4304c 
    00007fffcfa43020:  000056149a332301  000056149a01e82a 
    00007fffcfa43030:  00000000002f742c  00000000002f742c 
    00007fffcfa43040:  0000000000000001  0000000040000000 
    00007fffcfa43050:  00007fffcfa43108  00005614992a675f <runtime.adjustframe+175> 
    00007fffcfa43060:  000056149a01e7f0  000056149a3323c0 
    00007fffcfa43070:  00007fff00000000  00005614992bbf30 <runtime.goexit+0> 
    00007fffcfa43080:  00007fffcfa434c0  00000000ffffffff 
    00007fffcfa43090:  00000000cfa43020  00005614992bbf30 <runtime.goexit+0> 
    00007fffcfa430a0:  00005614992ac1c1 <runtime.funcspdelta+97>  000056149a01e7f0 
    00007fffcfa430b0:  000056149a3323c0  00007fff0006f548 
    00007fffcfa430c0: <0000000000000000  00007fffcfa43220 
    00007fffcfa430d0:  0000561499a18201  000056149a01e7f0 
    00007fffcfa430e0:  000056149a3323c0  0000000000000000 
    00007fffcfa430f0:  0000000000000000  00005614992bbf31 <runtime.goexit+1> 
    00007fffcfa43100:  000056149a3323c0  00007fffcfa43410 
    00007fffcfa43110:  00005614992b0962 <runtime.gentraceback+4850>  00007fffcfa433b8 
    00007fffcfa43120:  00007fffcfa434a8  000056149a332301 
    00007fffcfa43130:  00007fffcfa43201  0000000000000000 
    00007fffcfa43140:  fffffffe7fffffff  ffffffffffffffff 
    00007fffcfa43150:  ffffffffffffffff  ffffffffffffffff 
    00007fffcfa43160:  ffffffffffffffff  ffffffffffffffff 
    00007fffcfa43170:  ffffffffffffffff  ffffffffffffffff 
    00007fffcfa43180:  ffffffffffffffff  ffffffffffffffff 
    00007fffcfa43190:  ffffffffffffffff  ffffffffffffffff 
    00007fffcfa431a0:  ffffffffffffffff  ffffffffffffffff 
    00007fffcfa431b0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.systemstack_switch()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:363 fp=0xc420081f00 sp=0xc420081ef8 pc=0x5614992b9370
    runtime.newproc(0x561400000000, 0x561499f848f8)
    	/usr/lib/go-1.10/src/runtime/proc.go:3243 +0x64 fp=0xc420081f40 sp=0xc420081f00 pc=0x561499298264
    runtime.init.4()
    	/usr/lib/go-1.10/src/runtime/proc.go:237 +0x37 fp=0xc420081f60 sp=0xc420081f40 pc=0x5614992906d7
    runtime.init()
    	<autogenerated>:1 +0xe5 fp=0xc420081f88 sp=0xc420081f60 pc=0x5614992b8f45
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:144 +0xd0 fp=0xc420081fe0 sp=0xc420081f88 pc=0x5614992903e0
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x5614992bbf31
    
    rax    0x0
    rbx    0x7fe1c773f840
    rcx    0x7fe1c7391f47
    rdx    0x0
    rdi    0x2
    rsi    0x7fffcfa430c0
    rbp    0x561499a8a32a
    rsp    0x7fffcfa430c0
    r8     0x0
    r9     0x7fffcfa430c0
    r10    0x8
    r11    0x246
    r12    0x56149a5f03f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fe1c7391f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
