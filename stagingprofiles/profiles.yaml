apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fdb17a74f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fdb17a74f47
    stack: frame={sp:0x7ffccc7dfe80, fp:0x0} stack=[0x7ffccbfe1380,0x7ffccc7e03b0)
    00007ffccc7dfd80:  0000000000000001  0000000000000000 
    00007ffccc7dfd90:  0000000000000000  000000c420081fe0 
    00007ffccc7dfda0:  0000000000000000  0000000000000000 
    00007ffccc7dfdb0:  0000000000000000  0000000000000000 
    00007ffccc7dfdc0:  000000c42006ffd0  000055cd62da23e0 <runtime.main+208> 
    00007ffccc7dfdd0:  000055cd63a96970  0000000000000000 
    00007ffccc7dfde0:  0000000000000000  0000000000000000 
    00007ffccc7dfdf0:  0000000000000000  0000000000000000 
    00007ffccc7dfe00:  0000000000000000  0000000000000000 
    00007ffccc7dfe10:  000000c420000180  0000000000000000 
    00007ffccc7dfe20:  000055cd62da23e0 <runtime.main+208>  000055cd63a96970 
    00007ffccc7dfe30:  0000000000000000  0000000000000000 
    00007ffccc7dfe40:  0000000000000000  0000000000000000 
    00007ffccc7dfe50:  0000000000000000  0000000000000000 
    00007ffccc7dfe60:  0000000000000000  000000c420000180 
    00007ffccc7dfe70:  0000000000000000  000055cd62dcdf31 <runtime.goexit+1> 
    00007ffccc7dfe80: <0000000000000000  0000000000000000 
    00007ffccc7dfe90:  0000000000000000  0000000000000000 
    00007ffccc7dfea0:  000055cd62dbe582 <runtime.step+290>  000055cd63b1a232 
    00007ffccc7dfeb0:  000000000030da24  000000000030da24 
    00007ffccc7dfec0:  0000029300000002  0000005017e2eec5 
    00007ffccc7dfed0:  000000000030da24  00007ffccc7dff88 
    00007ffccc7dfee0:  000055cd62dbd936 <runtime.pcvalue+342>  000055cd63b30828 
    00007ffccc7dfef0:  00000000002f742e  00000000002f742e 
    00007ffccc7dff00:  fffffffe7fffffff  ffffffffffffffff 
    00007ffccc7dff10:  ffffffffffffffff  ffffffffffffffff 
    00007ffccc7dff20:  ffffffffffffffff  ffffffffffffffff 
    00007ffccc7dff30:  ffffffffffffffff  ffffffffffffffff 
    00007ffccc7dff40:  ffffffffffffffff  ffffffffffffffff 
    00007ffccc7dff50:  ffffffffffffffff  ffffffffffffffff 
    00007ffccc7dff60:  ffffffffffffffff  ffffffffffffffff 
    00007ffccc7dff70:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fdb17a74f47
    stack: frame={sp:0x7ffccc7dfe80, fp:0x0} stack=[0x7ffccbfe1380,0x7ffccc7e03b0)
    00007ffccc7dfd80:  0000000000000001  0000000000000000 
    00007ffccc7dfd90:  0000000000000000  000000c420081fe0 
    00007ffccc7dfda0:  0000000000000000  0000000000000000 
    00007ffccc7dfdb0:  0000000000000000  0000000000000000 
    00007ffccc7dfdc0:  000000c42006ffd0  000055cd62da23e0 <runtime.main+208> 
    00007ffccc7dfdd0:  000055cd63a96970  0000000000000000 
    00007ffccc7dfde0:  0000000000000000  0000000000000000 
    00007ffccc7dfdf0:  0000000000000000  0000000000000000 
    00007ffccc7dfe00:  0000000000000000  0000000000000000 
    00007ffccc7dfe10:  000000c420000180  0000000000000000 
    00007ffccc7dfe20:  000055cd62da23e0 <runtime.main+208>  000055cd63a96970 
    00007ffccc7dfe30:  0000000000000000  0000000000000000 
    00007ffccc7dfe40:  0000000000000000  0000000000000000 
    00007ffccc7dfe50:  0000000000000000  0000000000000000 
    00007ffccc7dfe60:  0000000000000000  000000c420000180 
    00007ffccc7dfe70:  0000000000000000  000055cd62dcdf31 <runtime.goexit+1> 
    00007ffccc7dfe80: <0000000000000000  0000000000000000 
    00007ffccc7dfe90:  0000000000000000  0000000000000000 
    00007ffccc7dfea0:  000055cd62dbe582 <runtime.step+290>  000055cd63b1a232 
    00007ffccc7dfeb0:  000000000030da24  000000000030da24 
    00007ffccc7dfec0:  0000029300000002  0000005017e2eec5 
    00007ffccc7dfed0:  000000000030da24  00007ffccc7dff88 
    00007ffccc7dfee0:  000055cd62dbd936 <runtime.pcvalue+342>  000055cd63b30828 
    00007ffccc7dfef0:  00000000002f742e  00000000002f742e 
    00007ffccc7dff00:  fffffffe7fffffff  ffffffffffffffff 
    00007ffccc7dff10:  ffffffffffffffff  ffffffffffffffff 
    00007ffccc7dff20:  ffffffffffffffff  ffffffffffffffff 
    00007ffccc7dff30:  ffffffffffffffff  ffffffffffffffff 
    00007ffccc7dff40:  ffffffffffffffff  ffffffffffffffff 
    00007ffccc7dff50:  ffffffffffffffff  ffffffffffffffff 
    00007ffccc7dff60:  ffffffffffffffff  ffffffffffffffff 
    00007ffccc7dff70:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x55cd6346aa30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x55cd62dccbcf
    runtime.newm1(0xc420061000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x55cd62da66b1
    runtime.newm(0x55cd63a96b08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x55cd62da652f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x55cd62da6791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x55cd62da24b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x55cd62dcdf31
    
    rax    0x0
    rbx    0x7fdb17e22840
    rcx    0x7fdb17a74f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffccc7dfe80
    rbp    0x55cd6359c32a
    rsp    0x7ffccc7dfe80
    r8     0x0
    r9     0x7ffccc7dfe80
    r10    0x8
    r11    0x246
    r12    0x55cd64522690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fdb17a74f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 4 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    runtime: failed to create new OS thread (have 5 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062800)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062800)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x0, 0xc000046000, 0x3)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0xc000046000, 0x2a6cc00)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.handoffp(0xc000046000)
    	/usr/local/go/src/runtime/proc.go:2001 +0x52
    runtime.stoplockedm()
    	/usr/local/go/src/runtime/proc.go:2075 +0xf7
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2611 +0x48c
    runtime.park_m(0xc000000180)
    	/usr/local/go/src/runtime/proc.go:2845 +0x9d
    runtime.mcall(0x0)
    	/usr/local/go/src/runtime/asm_amd64.s:318 +0x5b
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x1bb7a80, 0xc0000420c8, 0x170e, 0x2)
    	/usr/local/go/src/runtime/proc.go:306 +0xe5
    runtime.chanrecv(0xc000042070, 0x0, 0xc000000101, 0x41a55e)
    	/usr/local/go/src/runtime/chan.go:577 +0x36f
    runtime.chanrecv1(0xc000042070, 0x0)
    	/usr/local/go/src/runtime/chan.go:439 +0x2b
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:219 +0x95
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000088000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000088000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc00004b000, 0x4)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000073f01)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.resetspinning()
    	/usr/local/go/src/runtime/proc.go:2533 +0x59
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2684 +0x2b9
    runtime.mstart1()
    	/usr/local/go/src/runtime/proc.go:1179 +0x93
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1137 +0x6e
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fd578959f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fd578959f47
    stack: frame={sp:0x7ffea299b6b0, fp:0x0} stack=[0x7ffea219cd50,0x7ffea299bd80)
    00007ffea299b5b0:  000056240eefe683 <runtime.main+883>  000000000030da24 
    00007ffea299b5c0:  0000029300000002  0000005078f3af13 
    00007ffea299b5d0:  000000000030da24  00007ffea299b688 
    00007ffea299b5e0:  000056240ef19936 <runtime.pcvalue+342>  000056240fc8c828 
    00007ffea299b5f0:  00000000002f742e  00000000002f742e 
    00007ffea299b600:  00007ffea299b640  00007ffea299b63c 
    00007ffea299b610:  000056240ffa0301  000056240fc8c82a 
    00007ffea299b620:  00000000002f742c  00000000002f742c 
    00007ffea299b630:  0000000000000001  0000000040000000 
    00007ffea299b640:  00007ffea299b6f8  000056240ef1475f <runtime.adjustframe+175> 
    00007ffea299b650:  000056240fc8c7f0  000056240ffa03c0 
    00007ffea299b660:  00007ffe00000000  000056240ef29f30 <runtime.goexit+0> 
    00007ffea299b670:  00007ffea299bab0  00000000ffffffff 
    00007ffea299b680:  00000000a299b610  000056240ef29f30 <runtime.goexit+0> 
    00007ffea299b690:  000056240ef1a1c1 <runtime.funcspdelta+97>  000056240fc8c7f0 
    00007ffea299b6a0:  000056240ffa03c0  000000000006f548 
    00007ffea299b6b0: <0000000000000000  00007ffea299b810 
    00007ffea299b6c0:  000056240f686201  000056240fc8c7f0 
    00007ffea299b6d0:  000056240ffa03c0  0000000000000000 
    00007ffea299b6e0:  0000000000000000  000056240ef29f31 <runtime.goexit+1> 
    00007ffea299b6f0:  000056240ffa03c0  00007ffea299ba00 
    00007ffea299b700:  000056240ef1e962 <runtime.gentraceback+4850>  00007ffea299b9a8 
    00007ffea299b710:  00007ffea299ba98  000056240ffa0301 
    00007ffea299b720:  00007ffea299b801  0000000000000000 
    00007ffea299b730:  fffffffe7fffffff  ffffffffffffffff 
    00007ffea299b740:  ffffffffffffffff  ffffffffffffffff 
    00007ffea299b750:  ffffffffffffffff  ffffffffffffffff 
    00007ffea299b760:  ffffffffffffffff  ffffffffffffffff 
    00007ffea299b770:  ffffffffffffffff  ffffffffffffffff 
    00007ffea299b780:  ffffffffffffffff  ffffffffffffffff 
    00007ffea299b790:  ffffffffffffffff  ffffffffffffffff 
    00007ffea299b7a0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fd578959f47
    stack: frame={sp:0x7ffea299b6b0, fp:0x0} stack=[0x7ffea219cd50,0x7ffea299bd80)
    00007ffea299b5b0:  000056240eefe683 <runtime.main+883>  000000000030da24 
    00007ffea299b5c0:  0000029300000002  0000005078f3af13 
    00007ffea299b5d0:  000000000030da24  00007ffea299b688 
    00007ffea299b5e0:  000056240ef19936 <runtime.pcvalue+342>  000056240fc8c828 
    00007ffea299b5f0:  00000000002f742e  00000000002f742e 
    00007ffea299b600:  00007ffea299b640  00007ffea299b63c 
    00007ffea299b610:  000056240ffa0301  000056240fc8c82a 
    00007ffea299b620:  00000000002f742c  00000000002f742c 
    00007ffea299b630:  0000000000000001  0000000040000000 
    00007ffea299b640:  00007ffea299b6f8  000056240ef1475f <runtime.adjustframe+175> 
    00007ffea299b650:  000056240fc8c7f0  000056240ffa03c0 
    00007ffea299b660:  00007ffe00000000  000056240ef29f30 <runtime.goexit+0> 
    00007ffea299b670:  00007ffea299bab0  00000000ffffffff 
    00007ffea299b680:  00000000a299b610  000056240ef29f30 <runtime.goexit+0> 
    00007ffea299b690:  000056240ef1a1c1 <runtime.funcspdelta+97>  000056240fc8c7f0 
    00007ffea299b6a0:  000056240ffa03c0  000000000006f548 
    00007ffea299b6b0: <0000000000000000  00007ffea299b810 
    00007ffea299b6c0:  000056240f686201  000056240fc8c7f0 
    00007ffea299b6d0:  000056240ffa03c0  0000000000000000 
    00007ffea299b6e0:  0000000000000000  000056240ef29f31 <runtime.goexit+1> 
    00007ffea299b6f0:  000056240ffa03c0  00007ffea299ba00 
    00007ffea299b700:  000056240ef1e962 <runtime.gentraceback+4850>  00007ffea299b9a8 
    00007ffea299b710:  00007ffea299ba98  000056240ffa0301 
    00007ffea299b720:  00007ffea299b801  0000000000000000 
    00007ffea299b730:  fffffffe7fffffff  ffffffffffffffff 
    00007ffea299b740:  ffffffffffffffff  ffffffffffffffff 
    00007ffea299b750:  ffffffffffffffff  ffffffffffffffff 
    00007ffea299b760:  ffffffffffffffff  ffffffffffffffff 
    00007ffea299b770:  ffffffffffffffff  ffffffffffffffff 
    00007ffea299b780:  ffffffffffffffff  ffffffffffffffff 
    00007ffea299b790:  ffffffffffffffff  ffffffffffffffff 
    00007ffea299b7a0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [runnable, locked to thread]:
    runtime.gopark(0x56240fbf2a60, 0xc4200380c8, 0x56240f5d0704, 0xc, 0xc42003ce17, 0x3)
    	/usr/lib/go-1.10/src/runtime/proc.go:291 +0x120
    runtime.goparkunlock(0xc4200380c8, 0x56240f5d0704, 0xc, 0x17, 0x3)
    	/usr/lib/go-1.10/src/runtime/proc.go:297 +0x60
    runtime.chanrecv(0xc420038070, 0x0, 0x1, 0x56240eee98aa)
    	/usr/lib/go-1.10/src/runtime/chan.go:518 +0x2f6
    runtime.chanrecv1(0xc420038070, 0x0)
    	/usr/lib/go-1.10/src/runtime/chan.go:400 +0x2b
    runtime.gcenable()
    	/usr/lib/go-1.10/src/runtime/mgc.go:217 +0x71
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:161 +0x126
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1
    
    rax    0x0
    rbx    0x7fd578d07840
    rcx    0x7fd578959f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffea299b6b0
    rbp    0x56240f6f832a
    rsp    0x7ffea299b6b0
    r8     0x0
    r9     0x7ffea299b6b0
    r10    0x8
    r11    0x246
    r12    0x56241172c540
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fd578959f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
