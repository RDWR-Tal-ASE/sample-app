apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    - protectionId: hackazon
      hostname: staging-hackazon.kwaf-demo.tes*
      id: sample-hackazon
      path:
        operand: Prefix
        value: /
    - protectionId: nginx
      hostname: staging-nginx.kwaf-demo.tes*
      id: nginx-sample
      path:
        operand: Prefix
        value: /
    - hostname: staging-bwapp.kwaf-demo.tes*
      id: bwapp-sample
      path:
        operand: Prefix
        value: /
      protectionId: bwapp
    - hostname: staging-httpbin.kwaf-demo.tes*
      id: httpbin-sample
      path:
        operand: Prefix
        value: /
      protectionId: httpbin
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    - expressions:
        advExcludes:
          - paramName: username
            ruleIDs:
              - ATACC1
          - paramName: username
            ruleIDs:
              - LFISRT
        opMode: Active
      id: hackazon
      signatures:
        opMode: Active
      whitelist:
        opMode: Bypass
    - expressions:
        opMode: Active
      id: httpbin
      signatures:
        opMode: Active
      whitelist:
        opMode: Bypass
    - expressions:
        opMode: Active
      id: bwapp
      signatures:
        opMode: Active
      whitelist:
        opMode: Bypass
    - expressions:
        opMode: Active
      id: nginx
      signatures:
        opMode: Active
      whitelist:
        opMode: Bypass
