apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f96b3945f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f96b3945f47
    stack: frame={sp:0x7ffebdfa8970, fp:0x0} stack=[0x7ffebd7aa010,0x7ffebdfa9040)
    00007ffebdfa8870:  000055c9c5575683 <runtime.main+883>  000000000030da24 
    00007ffebdfa8880:  0000029300000002  00000050b3906700 
    00007ffebdfa8890:  000000000030da24  00007ffebdfa8948 
    00007ffebdfa88a0:  000055c9c5590936 <runtime.pcvalue+342>  000055c9c6303828 
    00007ffebdfa88b0:  00000000002f742e  00000000002f742e 
    00007ffebdfa88c0:  00007ffebdfa8900  00007ffebdfa88fc 
    00007ffebdfa88d0:  000055c9c6617301  000055c9c630382a 
    00007ffebdfa88e0:  00000000002f742c  00000000002f742c 
    00007ffebdfa88f0:  0000000000000001  0000000040000000 
    00007ffebdfa8900:  00007ffebdfa89b8  000055c9c558b75f <runtime.adjustframe+175> 
    00007ffebdfa8910:  000055c9c63037f0  000055c9c66173c0 
    00007ffebdfa8920:  00007ffe00000000  000055c9c55a0f30 <runtime.goexit+0> 
    00007ffebdfa8930:  00007ffebdfa8d70  00000000ffffffff 
    00007ffebdfa8940:  00000000bdfa88d0  000055c9c55a0f30 <runtime.goexit+0> 
    00007ffebdfa8950:  000055c9c55911c1 <runtime.funcspdelta+97>  000055c9c63037f0 
    00007ffebdfa8960:  000055c9c66173c0  000000000006f548 
    00007ffebdfa8970: <0000000000000000  00007ffebdfa8ad0 
    00007ffebdfa8980:  000055c9c5cfd201  000055c9c63037f0 
    00007ffebdfa8990:  000055c9c66173c0  0000000000000000 
    00007ffebdfa89a0:  0000000000000000  000055c9c55a0f31 <runtime.goexit+1> 
    00007ffebdfa89b0:  000055c9c66173c0  00007ffebdfa8cc0 
    00007ffebdfa89c0:  000055c9c5595962 <runtime.gentraceback+4850>  00007ffebdfa8c68 
    00007ffebdfa89d0:  00007ffebdfa8d58  000055c9c6617301 
    00007ffebdfa89e0:  00007ffebdfa8a01  0000000000000000 
    00007ffebdfa89f0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffebdfa8a00:  ffffffffffffffff  ffffffffffffffff 
    00007ffebdfa8a10:  ffffffffffffffff  ffffffffffffffff 
    00007ffebdfa8a20:  ffffffffffffffff  ffffffffffffffff 
    00007ffebdfa8a30:  ffffffffffffffff  ffffffffffffffff 
    00007ffebdfa8a40:  ffffffffffffffff  ffffffffffffffff 
    00007ffebdfa8a50:  ffffffffffffffff  ffffffffffffffff 
    00007ffebdfa8a60:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f96b3945f47
    stack: frame={sp:0x7ffebdfa8970, fp:0x0} stack=[0x7ffebd7aa010,0x7ffebdfa9040)
    00007ffebdfa8870:  000055c9c5575683 <runtime.main+883>  000000000030da24 
    00007ffebdfa8880:  0000029300000002  00000050b3906700 
    00007ffebdfa8890:  000000000030da24  00007ffebdfa8948 
    00007ffebdfa88a0:  000055c9c5590936 <runtime.pcvalue+342>  000055c9c6303828 
    00007ffebdfa88b0:  00000000002f742e  00000000002f742e 
    00007ffebdfa88c0:  00007ffebdfa8900  00007ffebdfa88fc 
    00007ffebdfa88d0:  000055c9c6617301  000055c9c630382a 
    00007ffebdfa88e0:  00000000002f742c  00000000002f742c 
    00007ffebdfa88f0:  0000000000000001  0000000040000000 
    00007ffebdfa8900:  00007ffebdfa89b8  000055c9c558b75f <runtime.adjustframe+175> 
    00007ffebdfa8910:  000055c9c63037f0  000055c9c66173c0 
    00007ffebdfa8920:  00007ffe00000000  000055c9c55a0f30 <runtime.goexit+0> 
    00007ffebdfa8930:  00007ffebdfa8d70  00000000ffffffff 
    00007ffebdfa8940:  00000000bdfa88d0  000055c9c55a0f30 <runtime.goexit+0> 
    00007ffebdfa8950:  000055c9c55911c1 <runtime.funcspdelta+97>  000055c9c63037f0 
    00007ffebdfa8960:  000055c9c66173c0  000000000006f548 
    00007ffebdfa8970: <0000000000000000  00007ffebdfa8ad0 
    00007ffebdfa8980:  000055c9c5cfd201  000055c9c63037f0 
    00007ffebdfa8990:  000055c9c66173c0  0000000000000000 
    00007ffebdfa89a0:  0000000000000000  000055c9c55a0f31 <runtime.goexit+1> 
    00007ffebdfa89b0:  000055c9c66173c0  00007ffebdfa8cc0 
    00007ffebdfa89c0:  000055c9c5595962 <runtime.gentraceback+4850>  00007ffebdfa8c68 
    00007ffebdfa89d0:  00007ffebdfa8d58  000055c9c6617301 
    00007ffebdfa89e0:  00007ffebdfa8a01  0000000000000000 
    00007ffebdfa89f0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffebdfa8a00:  ffffffffffffffff  ffffffffffffffff 
    00007ffebdfa8a10:  ffffffffffffffff  ffffffffffffffff 
    00007ffebdfa8a20:  ffffffffffffffff  ffffffffffffffff 
    00007ffebdfa8a30:  ffffffffffffffff  ffffffffffffffff 
    00007ffebdfa8a40:  ffffffffffffffff  ffffffffffffffff 
    00007ffebdfa8a50:  ffffffffffffffff  ffffffffffffffff 
    00007ffebdfa8a60:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [runnable, locked to thread]:
    runtime.gopark(0x55c9c6269a60, 0xc4200380c8, 0x55c9c5c47704, 0xc, 0xc42003ce17, 0x3)
    	/usr/lib/go-1.10/src/runtime/proc.go:291 +0x120
    runtime.goparkunlock(0xc4200380c8, 0x55c9c5c47704, 0xc, 0x17, 0x3)
    	/usr/lib/go-1.10/src/runtime/proc.go:297 +0x60
    runtime.chanrecv(0xc420038070, 0x0, 0x1, 0x55c9c55608aa)
    	/usr/lib/go-1.10/src/runtime/chan.go:518 +0x2f6
    runtime.chanrecv1(0xc420038070, 0x0)
    	/usr/lib/go-1.10/src/runtime/chan.go:400 +0x2b
    runtime.gcenable()
    	/usr/lib/go-1.10/src/runtime/mgc.go:217 +0x71
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:161 +0x126
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1
    
    rax    0x0
    rbx    0x7f96b3cf3840
    rcx    0x7f96b3945f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffebdfa8970
    rbp    0x55c9c5d6f32a
    rsp    0x7ffebdfa8970
    r8     0x0
    r9     0x7ffebdfa8970
    r10    0x8
    r11    0x246
    r12    0x55c9c681e540
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f96b3945f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 4 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    runtime: failed to create new OS thread (have 5 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062800)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062800)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x0, 0xc000046000, 0x3)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0xc000046000, 0x2a6cc00)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.handoffp(0xc000046000)
    	/usr/local/go/src/runtime/proc.go:2001 +0x52
    runtime.stoplockedm()
    	/usr/local/go/src/runtime/proc.go:2075 +0xf7
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2611 +0x48c
    runtime.park_m(0xc000000180)
    	/usr/local/go/src/runtime/proc.go:2845 +0x9d
    runtime.mcall(0x0)
    	/usr/local/go/src/runtime/asm_amd64.s:318 +0x5b
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x1bb7a80, 0xc0000420c8, 0x170e, 0x2)
    	/usr/local/go/src/runtime/proc.go:306 +0xe5
    runtime.chanrecv(0xc000042070, 0x0, 0xc000000101, 0x41a55e)
    	/usr/local/go/src/runtime/chan.go:577 +0x36f
    runtime.chanrecv1(0xc000042070, 0x0)
    	/usr/local/go/src/runtime/chan.go:439 +0x2b
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:219 +0x95
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000088000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000088000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc00004b000, 0x4)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000073f01)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.resetspinning()
    	/usr/local/go/src/runtime/proc.go:2533 +0x59
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2684 +0x2b9
    runtime.mstart1()
    	/usr/local/go/src/runtime/proc.go:1179 +0x93
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1137 +0x6e
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fef2eba8f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fef2eba8f47
    stack: frame={sp:0x7ffc77f320e0, fp:0x0} stack=[0x7ffc77733780,0x7ffc77f327b0)
    00007ffc77f31fe0:  00005594a6234683 <runtime.main+883>  000000000030da24 
    00007ffc77f31ff0:  0000029300000002  000000502f19175a 
    00007ffc77f32000:  000000000030da24  00007ffc77f320b8 
    00007ffc77f32010:  00005594a624f936 <runtime.pcvalue+342>  00005594a6fc2828 
    00007ffc77f32020:  00000000002f742e  00000000002f742e 
    00007ffc77f32030:  00007ffc77f32070  00007ffc77f3206c 
    00007ffc77f32040:  00005594a72d6301  00005594a6fc282a 
    00007ffc77f32050:  00000000002f742c  00000000002f742c 
    00007ffc77f32060:  0000000000000001  0000000040000000 
    00007ffc77f32070:  00007ffc77f32128  00005594a624a75f <runtime.adjustframe+175> 
    00007ffc77f32080:  00005594a6fc27f0  00005594a72d63c0 
    00007ffc77f32090:  00007ffc00000000  00005594a625ff30 <runtime.goexit+0> 
    00007ffc77f320a0:  00007ffc77f324e0  00000000ffffffff 
    00007ffc77f320b0:  0000000077f32040  00005594a625ff30 <runtime.goexit+0> 
    00007ffc77f320c0:  00005594a62501c1 <runtime.funcspdelta+97>  00005594a6fc27f0 
    00007ffc77f320d0:  00005594a72d63c0  00007ffc0006f548 
    00007ffc77f320e0: <0000000000000000  00007ffc77f32240 
    00007ffc77f320f0:  00005594a69bc201  00005594a6fc27f0 
    00007ffc77f32100:  00005594a72d63c0  0000000000000000 
    00007ffc77f32110:  0000000000000000  00005594a625ff31 <runtime.goexit+1> 
    00007ffc77f32120:  00005594a72d63c0  00007ffc77f32430 
    00007ffc77f32130:  00005594a6254962 <runtime.gentraceback+4850>  00007ffc77f323d8 
    00007ffc77f32140:  00007ffc77f324c8  00005594a72d6301 
    00007ffc77f32150:  00007ffc77f32201  0000000000000000 
    00007ffc77f32160:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc77f32170:  ffffffffffffffff  ffffffffffffffff 
    00007ffc77f32180:  ffffffffffffffff  ffffffffffffffff 
    00007ffc77f32190:  ffffffffffffffff  ffffffffffffffff 
    00007ffc77f321a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc77f321b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc77f321c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc77f321d0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fef2eba8f47
    stack: frame={sp:0x7ffc77f320e0, fp:0x0} stack=[0x7ffc77733780,0x7ffc77f327b0)
    00007ffc77f31fe0:  00005594a6234683 <runtime.main+883>  000000000030da24 
    00007ffc77f31ff0:  0000029300000002  000000502f19175a 
    00007ffc77f32000:  000000000030da24  00007ffc77f320b8 
    00007ffc77f32010:  00005594a624f936 <runtime.pcvalue+342>  00005594a6fc2828 
    00007ffc77f32020:  00000000002f742e  00000000002f742e 
    00007ffc77f32030:  00007ffc77f32070  00007ffc77f3206c 
    00007ffc77f32040:  00005594a72d6301  00005594a6fc282a 
    00007ffc77f32050:  00000000002f742c  00000000002f742c 
    00007ffc77f32060:  0000000000000001  0000000040000000 
    00007ffc77f32070:  00007ffc77f32128  00005594a624a75f <runtime.adjustframe+175> 
    00007ffc77f32080:  00005594a6fc27f0  00005594a72d63c0 
    00007ffc77f32090:  00007ffc00000000  00005594a625ff30 <runtime.goexit+0> 
    00007ffc77f320a0:  00007ffc77f324e0  00000000ffffffff 
    00007ffc77f320b0:  0000000077f32040  00005594a625ff30 <runtime.goexit+0> 
    00007ffc77f320c0:  00005594a62501c1 <runtime.funcspdelta+97>  00005594a6fc27f0 
    00007ffc77f320d0:  00005594a72d63c0  00007ffc0006f548 
    00007ffc77f320e0: <0000000000000000  00007ffc77f32240 
    00007ffc77f320f0:  00005594a69bc201  00005594a6fc27f0 
    00007ffc77f32100:  00005594a72d63c0  0000000000000000 
    00007ffc77f32110:  0000000000000000  00005594a625ff31 <runtime.goexit+1> 
    00007ffc77f32120:  00005594a72d63c0  00007ffc77f32430 
    00007ffc77f32130:  00005594a6254962 <runtime.gentraceback+4850>  00007ffc77f323d8 
    00007ffc77f32140:  00007ffc77f324c8  00005594a72d6301 
    00007ffc77f32150:  00007ffc77f32201  0000000000000000 
    00007ffc77f32160:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc77f32170:  ffffffffffffffff  ffffffffffffffff 
    00007ffc77f32180:  ffffffffffffffff  ffffffffffffffff 
    00007ffc77f32190:  ffffffffffffffff  ffffffffffffffff 
    00007ffc77f321a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc77f321b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc77f321c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc77f321d0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [runnable, locked to thread]:
    runtime.gopark(0x5594a6f28a60, 0xc4200380c8, 0x5594a6906704, 0xc, 0xc42003ce17, 0x3)
    	/usr/lib/go-1.10/src/runtime/proc.go:291 +0x120
    runtime.goparkunlock(0xc4200380c8, 0x5594a6906704, 0xc, 0x17, 0x3)
    	/usr/lib/go-1.10/src/runtime/proc.go:297 +0x60
    runtime.chanrecv(0xc420038070, 0x0, 0x1, 0x5594a621f8aa)
    	/usr/lib/go-1.10/src/runtime/chan.go:518 +0x2f6
    runtime.chanrecv1(0xc420038070, 0x0)
    	/usr/lib/go-1.10/src/runtime/chan.go:400 +0x2b
    runtime.gcenable()
    	/usr/lib/go-1.10/src/runtime/mgc.go:217 +0x71
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:161 +0x126
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1
    
    rax    0x0
    rbx    0x7fef2ef56840
    rcx    0x7fef2eba8f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffc77f320e0
    rbp    0x5594a6a2e32a
    rsp    0x7ffc77f320e0
    r8     0x0
    r9     0x7ffc77f320e0
    r10    0x8
    r11    0x246
    r12    0x5594a839c540
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fef2eba8f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
