apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f2f9ba5cf47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f2f9ba5cf47
    stack: frame={sp:0x7fffed463580, fp:0x0} stack=[0x7fffecc64a80,0x7fffed463ab0)
    00007fffed463480:  0000000000000001  0000000000000000 
    00007fffed463490:  0000000000000000  000000c420081fe0 
    00007fffed4634a0:  0000000000000000  0000000000000000 
    00007fffed4634b0:  00007f2f9be0a560  00007f2f9be0dbc0 
    00007fffed4634c0:  000000c42006ffd0  000055c39ecad3e0 <runtime.main+208> 
    00007fffed4634d0:  000055c39f9a1970  0000000000000000 
    00007fffed4634e0:  0000000000000000  0000000000000000 
    00007fffed4634f0:  0000000000000000  0000000000000000 
    00007fffed463500:  0000000000000000  0000000000000000 
    00007fffed463510:  000000c420000180  0000000000000000 
    00007fffed463520:  000055c39ecad3e0 <runtime.main+208>  000055c39f9a1970 
    00007fffed463530:  0000000000000000  0000000000000000 
    00007fffed463540:  0000000000000000  0000000000000000 
    00007fffed463550:  0000000000000000  0000000000000000 
    00007fffed463560:  0000000000000000  000000c420000180 
    00007fffed463570:  0000000000000000  000055c39ecd8f31 <runtime.goexit+1> 
    00007fffed463580: <0000000000000000  0000000000000000 
    00007fffed463590:  0000000000000000  0000000000000000 
    00007fffed4635a0:  000055c39ecc9582 <runtime.step+290>  000055c39fa25232 
    00007fffed4635b0:  000000000030da24  000000000030da24 
    00007fffed4635c0:  0000029300000002  000000509be16ec5 
    00007fffed4635d0:  000000000030da24  00007fffed463688 
    00007fffed4635e0:  000055c39ecc8936 <runtime.pcvalue+342>  000055c39fa3b828 
    00007fffed4635f0:  00000000002f742e  00000000002f742e 
    00007fffed463600:  fffffffe7fffffff  ffffffffffffffff 
    00007fffed463610:  ffffffffffffffff  ffffffffffffffff 
    00007fffed463620:  ffffffffffffffff  ffffffffffffffff 
    00007fffed463630:  ffffffffffffffff  ffffffffffffffff 
    00007fffed463640:  ffffffffffffffff  ffffffffffffffff 
    00007fffed463650:  ffffffffffffffff  ffffffffffffffff 
    00007fffed463660:  ffffffffffffffff  ffffffffffffffff 
    00007fffed463670:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f2f9ba5cf47
    stack: frame={sp:0x7fffed463580, fp:0x0} stack=[0x7fffecc64a80,0x7fffed463ab0)
    00007fffed463480:  0000000000000001  0000000000000000 
    00007fffed463490:  0000000000000000  000000c420081fe0 
    00007fffed4634a0:  0000000000000000  0000000000000000 
    00007fffed4634b0:  00007f2f9be0a560  00007f2f9be0dbc0 
    00007fffed4634c0:  000000c42006ffd0  000055c39ecad3e0 <runtime.main+208> 
    00007fffed4634d0:  000055c39f9a1970  0000000000000000 
    00007fffed4634e0:  0000000000000000  0000000000000000 
    00007fffed4634f0:  0000000000000000  0000000000000000 
    00007fffed463500:  0000000000000000  0000000000000000 
    00007fffed463510:  000000c420000180  0000000000000000 
    00007fffed463520:  000055c39ecad3e0 <runtime.main+208>  000055c39f9a1970 
    00007fffed463530:  0000000000000000  0000000000000000 
    00007fffed463540:  0000000000000000  0000000000000000 
    00007fffed463550:  0000000000000000  0000000000000000 
    00007fffed463560:  0000000000000000  000000c420000180 
    00007fffed463570:  0000000000000000  000055c39ecd8f31 <runtime.goexit+1> 
    00007fffed463580: <0000000000000000  0000000000000000 
    00007fffed463590:  0000000000000000  0000000000000000 
    00007fffed4635a0:  000055c39ecc9582 <runtime.step+290>  000055c39fa25232 
    00007fffed4635b0:  000000000030da24  000000000030da24 
    00007fffed4635c0:  0000029300000002  000000509be16ec5 
    00007fffed4635d0:  000000000030da24  00007fffed463688 
    00007fffed4635e0:  000055c39ecc8936 <runtime.pcvalue+342>  000055c39fa3b828 
    00007fffed4635f0:  00000000002f742e  00000000002f742e 
    00007fffed463600:  fffffffe7fffffff  ffffffffffffffff 
    00007fffed463610:  ffffffffffffffff  ffffffffffffffff 
    00007fffed463620:  ffffffffffffffff  ffffffffffffffff 
    00007fffed463630:  ffffffffffffffff  ffffffffffffffff 
    00007fffed463640:  ffffffffffffffff  ffffffffffffffff 
    00007fffed463650:  ffffffffffffffff  ffffffffffffffff 
    00007fffed463660:  ffffffffffffffff  ffffffffffffffff 
    00007fffed463670:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x55c39f375a30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x55c39ecd7bcf
    runtime.newm1(0xc420061000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x55c39ecb16b1
    runtime.newm(0x55c39f9a1b08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x55c39ecb152f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x55c39ecb1791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x55c39ecad4b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x55c39ecd8f31
    
    rax    0x0
    rbx    0x7f2f9be0a840
    rcx    0x7f2f9ba5cf47
    rdx    0x0
    rdi    0x2
    rsi    0x7fffed463580
    rbp    0x55c39f4a732a
    rsp    0x7fffed463580
    r8     0x0
    r9     0x7fffed463580
    r10    0x8
    r11    0x246
    r12    0x55c3a0e7e690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f2f9ba5cf47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 5 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    runtime: failed to create new OS thread (have 5 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000088000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000088000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc00004b000, 0x4)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000073f01)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.resetspinning()
    	/usr/local/go/src/runtime/proc.go:2533 +0x59
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2684 +0x2b9
    runtime.mstart1()
    	/usr/local/go/src/runtime/proc.go:1179 +0x93
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1137 +0x6e
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x1bb7a80, 0xc0000420c8, 0x170e, 0x2)
    	/usr/local/go/src/runtime/proc.go:306 +0xe5
    runtime.chanrecv(0xc000042070, 0x0, 0xc000000101, 0x41a55e)
    	/usr/local/go/src/runtime/chan.go:577 +0x36f
    runtime.chanrecv1(0xc000042070, 0x0)
    	/usr/local/go/src/runtime/chan.go:439 +0x2b
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:219 +0x95
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062800)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062800)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x0, 0xc000046000, 0x3)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0xc000046000, 0x2a6cc00)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.handoffp(0xc000046000)
    	/usr/local/go/src/runtime/proc.go:2001 +0x52
    runtime.stoplockedm()
    	/usr/local/go/src/runtime/proc.go:2075 +0xf7
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2611 +0x48c
    runtime.park_m(0xc000000180)
    	/usr/local/go/src/runtime/proc.go:2845 +0x9d
    runtime.mcall(0x0)
    	/usr/local/go/src/runtime/asm_amd64.s:318 +0x5b
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f43b8867f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f43b8867f47
    stack: frame={sp:0x7fff3a5edf90, fp:0x0} stack=[0x7fff39def490,0x7fff3a5ee4c0)
    00007fff3a5ede90:  2f3a656300000001  6e69622f70616e73 
    00007fff3a5edea0:  00007f43b8c15420  000000c420081fe0 
    00007fff3a5edeb0:  0000000000000000  0000000000000000 
    00007fff3a5edec0:  0000000000000000  0000000000000000 
    00007fff3a5eded0:  0000000000000003  000000c420081fd8 
    00007fff3a5edee0:  0000000000000000  0000000000000120 
    00007fff3a5edef0:  0000001300000000  0000000000000007 
    00007fff3a5edf00:  0000000000000130  0000560367c9d098 
    00007fff3a5edf10:  0000000000000150  ffffffffffffffa8 
    00007fff3a5edf20:  0000000000000004  0000003400000013 
    00007fff3a5edf30:  0000000000000000  0000000000000000 
    00007fff3a5edf40:  0000000000000000  000000770000007c 
    00007fff3a5edf50:  0000005b0000006e  0000000000055728 
    00007fff3a5edf60:  0000000000000000  0000000000020ab0 
    00007fff3a5edf70:  0000000000000120  00007f43b8e4c307 
    00007fff3a5edf80:  0000560367c9d550  0000000000000001 
    00007fff3a5edf90: <0000000000000000  0000560367c9d570 
    00007fff3a5edfa0:  00007f43b90590d0  00007fff3a5edfe8 
    00007fff3a5edfb0:  0000560366639582 <runtime.step+290>  0000560367395232 
    00007fff3a5edfc0:  000000000030da24  000000000030da24 
    00007fff3a5edfd0:  0000029300000002  00000050b8c21ec5 
    00007fff3a5edfe0:  000000000030da24  00007fff3a5ee098 
    00007fff3a5edff0:  0000560366638936 <runtime.pcvalue+342>  00005603673ab828 
    00007fff3a5ee000:  00000000002f742e  00000000002f742e 
    00007fff3a5ee010:  fffffffe7fffffff  ffffffffffffffff 
    00007fff3a5ee020:  ffffffffffffffff  ffffffffffffffff 
    00007fff3a5ee030:  ffffffffffffffff  ffffffffffffffff 
    00007fff3a5ee040:  ffffffffffffffff  ffffffffffffffff 
    00007fff3a5ee050:  ffffffffffffffff  ffffffffffffffff 
    00007fff3a5ee060:  ffffffffffffffff  ffffffffffffffff 
    00007fff3a5ee070:  ffffffffffffffff  ffffffffffffffff 
    00007fff3a5ee080:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f43b8867f47
    stack: frame={sp:0x7fff3a5edf90, fp:0x0} stack=[0x7fff39def490,0x7fff3a5ee4c0)
    00007fff3a5ede90:  2f3a656300000001  6e69622f70616e73 
    00007fff3a5edea0:  00007f43b8c15420  000000c420081fe0 
    00007fff3a5edeb0:  0000000000000000  0000000000000000 
    00007fff3a5edec0:  0000000000000000  0000000000000000 
    00007fff3a5eded0:  0000000000000003  000000c420081fd8 
    00007fff3a5edee0:  0000000000000000  0000000000000120 
    00007fff3a5edef0:  0000001300000000  0000000000000007 
    00007fff3a5edf00:  0000000000000130  0000560367c9d098 
    00007fff3a5edf10:  0000000000000150  ffffffffffffffa8 
    00007fff3a5edf20:  0000000000000004  0000003400000013 
    00007fff3a5edf30:  0000000000000000  0000000000000000 
    00007fff3a5edf40:  0000000000000000  000000770000007c 
    00007fff3a5edf50:  0000005b0000006e  0000000000055728 
    00007fff3a5edf60:  0000000000000000  0000000000020ab0 
    00007fff3a5edf70:  0000000000000120  00007f43b8e4c307 
    00007fff3a5edf80:  0000560367c9d550  0000000000000001 
    00007fff3a5edf90: <0000000000000000  0000560367c9d570 
    00007fff3a5edfa0:  00007f43b90590d0  00007fff3a5edfe8 
    00007fff3a5edfb0:  0000560366639582 <runtime.step+290>  0000560367395232 
    00007fff3a5edfc0:  000000000030da24  000000000030da24 
    00007fff3a5edfd0:  0000029300000002  00000050b8c21ec5 
    00007fff3a5edfe0:  000000000030da24  00007fff3a5ee098 
    00007fff3a5edff0:  0000560366638936 <runtime.pcvalue+342>  00005603673ab828 
    00007fff3a5ee000:  00000000002f742e  00000000002f742e 
    00007fff3a5ee010:  fffffffe7fffffff  ffffffffffffffff 
    00007fff3a5ee020:  ffffffffffffffff  ffffffffffffffff 
    00007fff3a5ee030:  ffffffffffffffff  ffffffffffffffff 
    00007fff3a5ee040:  ffffffffffffffff  ffffffffffffffff 
    00007fff3a5ee050:  ffffffffffffffff  ffffffffffffffff 
    00007fff3a5ee060:  ffffffffffffffff  ffffffffffffffff 
    00007fff3a5ee070:  ffffffffffffffff  ffffffffffffffff 
    00007fff3a5ee080:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x560366ce5a30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x560366647bcf
    runtime.newm1(0xc420061000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x5603666216b1
    runtime.newm(0x560367311b08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x56036662152f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x560366621791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x56036661d4b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x560366648f31
    
    rax    0x0
    rbx    0x7f43b8c15840
    rcx    0x7f43b8867f47
    rdx    0x0
    rdi    0x2
    rsi    0x7fff3a5edf90
    rbp    0x560366e1732a
    rsp    0x7fff3a5edf90
    r8     0x0
    r9     0x7fff3a5edf90
    r10    0x8
    r11    0x246
    r12    0x560367c9d690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f43b8867f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
