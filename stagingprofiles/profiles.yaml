apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7efc2366ff47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7efc2366ff47
    stack: frame={sp:0x7fff76eecc10, fp:0x0} stack=[0x7fff766ee110,0x7fff76eed140)
    00007fff76eecb10:  0000000000000001  0000000000000000 
    00007fff76eecb20:  0000000000000000  0000000000000000 
    00007fff76eecb30:  00007efc23a1d560  00007efc23a20bc0 
    00007fff76eecb40:  000000c42006ffd0  0000562d07f843e0 <runtime.main+208> 
    00007fff76eecb50:  0000562d08c78970  0000000000000000 
    00007fff76eecb60:  0000000000000000  0000000000000000 
    00007fff76eecb70:  0000000000000000  0000000000000000 
    00007fff76eecb80:  0000000000000000  0000000000000000 
    00007fff76eecb90:  000000c420000180  0000000000000000 
    00007fff76eecba0:  0000562d07f843e0 <runtime.main+208>  0000562d08c78970 
    00007fff76eecbb0:  0000000000000000  0000000000000000 
    00007fff76eecbc0:  0000000000000000  0000000000000000 
    00007fff76eecbd0:  0000000000000000  0000000000000000 
    00007fff76eecbe0:  0000000000000000  000000c420000180 
    00007fff76eecbf0:  0000000000000000  0000562d07faff31 <runtime.goexit+1> 
    00007fff76eecc00:  0000000000000000  0000000000000000 
    00007fff76eecc10: <0000000000000000  0000000000000000 
    00007fff76eecc20:  00007efc23e610d0  00007fff76eecc68 
    00007fff76eecc30:  0000562d07fa0582 <runtime.step+290>  0000562d08cfc232 
    00007fff76eecc40:  000000000030da24  000000000030da24 
    00007fff76eecc50:  0000029300000002  0000005023a29ec5 
    00007fff76eecc60:  000000000030da24  00007fff76eecd18 
    00007fff76eecc70:  0000562d07f9f936 <runtime.pcvalue+342>  0000562d08d12828 
    00007fff76eecc80:  0000000000000002  0000000000000000 
    00007fff76eecc90:  fffffffe7fffffff  ffffffffffffffff 
    00007fff76eecca0:  ffffffffffffffff  ffffffffffffffff 
    00007fff76eeccb0:  ffffffffffffffff  ffffffffffffffff 
    00007fff76eeccc0:  ffffffffffffffff  ffffffffffffffff 
    00007fff76eeccd0:  ffffffffffffffff  ffffffffffffffff 
    00007fff76eecce0:  ffffffffffffffff  ffffffffffffffff 
    00007fff76eeccf0:  ffffffffffffffff  ffffffffffffffff 
    00007fff76eecd00:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7efc2366ff47
    stack: frame={sp:0x7fff76eecc10, fp:0x0} stack=[0x7fff766ee110,0x7fff76eed140)
    00007fff76eecb10:  0000000000000001  0000000000000000 
    00007fff76eecb20:  0000000000000000  0000000000000000 
    00007fff76eecb30:  00007efc23a1d560  00007efc23a20bc0 
    00007fff76eecb40:  000000c42006ffd0  0000562d07f843e0 <runtime.main+208> 
    00007fff76eecb50:  0000562d08c78970  0000000000000000 
    00007fff76eecb60:  0000000000000000  0000000000000000 
    00007fff76eecb70:  0000000000000000  0000000000000000 
    00007fff76eecb80:  0000000000000000  0000000000000000 
    00007fff76eecb90:  000000c420000180  0000000000000000 
    00007fff76eecba0:  0000562d07f843e0 <runtime.main+208>  0000562d08c78970 
    00007fff76eecbb0:  0000000000000000  0000000000000000 
    00007fff76eecbc0:  0000000000000000  0000000000000000 
    00007fff76eecbd0:  0000000000000000  0000000000000000 
    00007fff76eecbe0:  0000000000000000  000000c420000180 
    00007fff76eecbf0:  0000000000000000  0000562d07faff31 <runtime.goexit+1> 
    00007fff76eecc00:  0000000000000000  0000000000000000 
    00007fff76eecc10: <0000000000000000  0000000000000000 
    00007fff76eecc20:  00007efc23e610d0  00007fff76eecc68 
    00007fff76eecc30:  0000562d07fa0582 <runtime.step+290>  0000562d08cfc232 
    00007fff76eecc40:  000000000030da24  000000000030da24 
    00007fff76eecc50:  0000029300000002  0000005023a29ec5 
    00007fff76eecc60:  000000000030da24  00007fff76eecd18 
    00007fff76eecc70:  0000562d07f9f936 <runtime.pcvalue+342>  0000562d08d12828 
    00007fff76eecc80:  0000000000000002  0000000000000000 
    00007fff76eecc90:  fffffffe7fffffff  ffffffffffffffff 
    00007fff76eecca0:  ffffffffffffffff  ffffffffffffffff 
    00007fff76eeccb0:  ffffffffffffffff  ffffffffffffffff 
    00007fff76eeccc0:  ffffffffffffffff  ffffffffffffffff 
    00007fff76eeccd0:  ffffffffffffffff  ffffffffffffffff 
    00007fff76eecce0:  ffffffffffffffff  ffffffffffffffff 
    00007fff76eeccf0:  ffffffffffffffff  ffffffffffffffff 
    00007fff76eecd00:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x562d0864ca30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x562d07faebcf
    runtime.newm1(0xc420094400)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x562d07f886b1
    runtime.newm(0x562d08c78b08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x562d07f8852f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x562d07f88791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x562d07f844b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x562d07faff31
    
    rax    0x0
    rbx    0x7efc23a1d840
    rcx    0x7efc2366ff47
    rdx    0x0
    rdi    0x2
    rsi    0x7fff76eecc10
    rbp    0x562d0877e32a
    rsp    0x7fff76eecc10
    r8     0x0
    r9     0x7fff76eecc10
    r10    0x8
    r11    0x246
    r12    0x562d09ce2690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7efc2366ff47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 5 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000088000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000088000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc00004b000, 0x4)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000073f01)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.resetspinning()
    	/usr/local/go/src/runtime/proc.go:2533 +0x59
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2684 +0x2b9
    runtime.mstart1()
    	/usr/local/go/src/runtime/proc.go:1179 +0x93
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1137 +0x6e
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x1bb7a80, 0xc0000420c8, 0x170e, 0x2)
    	/usr/local/go/src/runtime/proc.go:306 +0xe5
    runtime.chanrecv(0xc000042070, 0x0, 0xc000000101, 0x410101)
    	/usr/local/go/src/runtime/chan.go:577 +0x36f
    runtime.chanrecv1(0xc000042070, 0x0)
    	/usr/local/go/src/runtime/chan.go:439 +0x2b
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:220 +0xac
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fce35105f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fce35105f47
    stack: frame={sp:0x7ffc6fba9aa0, fp:0x0} stack=[0x7ffc6f3aafa0,0x7ffc6fba9fd0)
    00007ffc6fba99a0:  00007fce00000001  00007fce354b3420 
    00007ffc6fba99b0:  0000000000000000  000000c420081fe0 
    00007ffc6fba99c0:  0000000000000000  0000000000000000 
    00007ffc6fba99d0:  0000000000000000  0000000000000000 
    00007ffc6fba99e0:  0000000000000000  0000000000000000 
    00007ffc6fba99f0:  00007fce354b3560  00007fce354b6bc0 
    00007ffc6fba9a00:  000000c42006ffd0  00005561c60de3e0 <runtime.main+208> 
    00007ffc6fba9a10:  00005561c6dd2970  0000000000000000 
    00007ffc6fba9a20:  0000000000000000  0000000000000000 
    00007ffc6fba9a30:  0000000000000000  0000000000000000 
    00007ffc6fba9a40:  0000000000000000  0000000000000000 
    00007ffc6fba9a50:  000000c420000180  0000000000000000 
    00007ffc6fba9a60:  00005561c60de3e0 <runtime.main+208>  00005561c6dd2970 
    00007ffc6fba9a70:  0000000000000000  0000000000000000 
    00007ffc6fba9a80:  0000000000000000  0000000000000000 
    00007ffc6fba9a90:  0000000000000000  0000000000000000 
    00007ffc6fba9aa0: <0000000000000000  000000c420000180 
    00007ffc6fba9ab0:  0000000000000000  00005561c6109f31 <runtime.goexit+1> 
    00007ffc6fba9ac0:  0000000000000000  0000000000000000 
    00007ffc6fba9ad0:  0000000000000000  0000000000000000 
    00007ffc6fba9ae0:  0000029300000002  00000050354bfec5 
    00007ffc6fba9af0:  000000000030da24  00007ffc6fba9ba8 
    00007ffc6fba9b00:  00005561c60f9936 <runtime.pcvalue+342>  00005561c6e6c828 
    00007ffc6fba9b10:  00000000002f742e  00000000002f742e 
    00007ffc6fba9b20:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc6fba9b30:  ffffffffffffffff  ffffffffffffffff 
    00007ffc6fba9b40:  ffffffffffffffff  ffffffffffffffff 
    00007ffc6fba9b50:  ffffffffffffffff  ffffffffffffffff 
    00007ffc6fba9b60:  ffffffffffffffff  ffffffffffffffff 
    00007ffc6fba9b70:  ffffffffffffffff  ffffffffffffffff 
    00007ffc6fba9b80:  ffffffffffffffff  ffffffffffffffff 
    00007ffc6fba9b90:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fce35105f47
    stack: frame={sp:0x7ffc6fba9aa0, fp:0x0} stack=[0x7ffc6f3aafa0,0x7ffc6fba9fd0)
    00007ffc6fba99a0:  00007fce00000001  00007fce354b3420 
    00007ffc6fba99b0:  0000000000000000  000000c420081fe0 
    00007ffc6fba99c0:  0000000000000000  0000000000000000 
    00007ffc6fba99d0:  0000000000000000  0000000000000000 
    00007ffc6fba99e0:  0000000000000000  0000000000000000 
    00007ffc6fba99f0:  00007fce354b3560  00007fce354b6bc0 
    00007ffc6fba9a00:  000000c42006ffd0  00005561c60de3e0 <runtime.main+208> 
    00007ffc6fba9a10:  00005561c6dd2970  0000000000000000 
    00007ffc6fba9a20:  0000000000000000  0000000000000000 
    00007ffc6fba9a30:  0000000000000000  0000000000000000 
    00007ffc6fba9a40:  0000000000000000  0000000000000000 
    00007ffc6fba9a50:  000000c420000180  0000000000000000 
    00007ffc6fba9a60:  00005561c60de3e0 <runtime.main+208>  00005561c6dd2970 
    00007ffc6fba9a70:  0000000000000000  0000000000000000 
    00007ffc6fba9a80:  0000000000000000  0000000000000000 
    00007ffc6fba9a90:  0000000000000000  0000000000000000 
    00007ffc6fba9aa0: <0000000000000000  000000c420000180 
    00007ffc6fba9ab0:  0000000000000000  00005561c6109f31 <runtime.goexit+1> 
    00007ffc6fba9ac0:  0000000000000000  0000000000000000 
    00007ffc6fba9ad0:  0000000000000000  0000000000000000 
    00007ffc6fba9ae0:  0000029300000002  00000050354bfec5 
    00007ffc6fba9af0:  000000000030da24  00007ffc6fba9ba8 
    00007ffc6fba9b00:  00005561c60f9936 <runtime.pcvalue+342>  00005561c6e6c828 
    00007ffc6fba9b10:  00000000002f742e  00000000002f742e 
    00007ffc6fba9b20:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc6fba9b30:  ffffffffffffffff  ffffffffffffffff 
    00007ffc6fba9b40:  ffffffffffffffff  ffffffffffffffff 
    00007ffc6fba9b50:  ffffffffffffffff  ffffffffffffffff 
    00007ffc6fba9b60:  ffffffffffffffff  ffffffffffffffff 
    00007ffc6fba9b70:  ffffffffffffffff  ffffffffffffffff 
    00007ffc6fba9b80:  ffffffffffffffff  ffffffffffffffff 
    00007ffc6fba9b90:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x5561c67a6a30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x5561c6108bcf
    runtime.newm1(0xc420061000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x5561c60e26b1
    runtime.newm(0x5561c6dd2b08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x5561c60e252f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x5561c60e2791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x5561c60de4b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x5561c6109f31
    
    rax    0x0
    rbx    0x7fce354b3840
    rcx    0x7fce35105f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffc6fba9aa0
    rbp    0x5561c68d832a
    rsp    0x7ffc6fba9aa0
    r8     0x0
    r9     0x7ffc6fba9aa0
    r10    0x8
    r11    0x246
    r12    0x5561c84e2690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fce35105f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
