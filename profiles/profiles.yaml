apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7ff09b0b2f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7ff09b0b2f47
    stack: frame={sp:0x7ffe11df2150, fp:0x0} stack=[0x7ffe115f3650,0x7ffe11df2680)
    00007ffe11df2050:  0000000000000003  0000560e468f05c0 
    00007ffe11df2060:  0000000000000000  0000000000000000 
    00007ffe11df2070:  00007ff09b460560  00007ff09b463bc0 
    00007ffe11df2080:  000000c42006ffd0  0000560e462283e0 <runtime.main+208> 
    00007ffe11df2090:  0000560e46f1c970  0000000000000000 
    00007ffe11df20a0:  0000000000000000  0000000000000000 
    00007ffe11df20b0:  0000000000000000  0000000000000000 
    00007ffe11df20c0:  0000000000000000  0000000000000000 
    00007ffe11df20d0:  000000c420000180  0000000000000000 
    00007ffe11df20e0:  0000560e462283e0 <runtime.main+208>  0000560e46f1c970 
    00007ffe11df20f0:  0000000000000000  0000000000000000 
    00007ffe11df2100:  0000000000000000  0000000000000000 
    00007ffe11df2110:  0000000000000000  0000000000000000 
    00007ffe11df2120:  0000000000000000  000000c420000180 
    00007ffe11df2130:  0000000000000000  0000560e46253f31 <runtime.goexit+1> 
    00007ffe11df2140:  0000000000000000  0000000000000000 
    00007ffe11df2150: <0000000000000000  0000000000000000 
    00007ffe11df2160:  0000000000000000  00007ffe11df21a8 
    00007ffe11df2170:  0000560e46244582 <runtime.step+290>  0000560e46fa0232 
    00007ffe11df2180:  000000000030da24  000000000030da24 
    00007ffe11df2190:  0000029300000002  000000509b864da8 
    00007ffe11df21a0:  000000000030da24  00007ffe11df2258 
    00007ffe11df21b0:  0000560e46243936 <runtime.pcvalue+342>  0000560e46fb6828 
    00007ffe11df21c0:  0000000000000002  0000000000000000 
    00007ffe11df21d0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffe11df21e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe11df21f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe11df2200:  ffffffffffffffff  ffffffffffffffff 
    00007ffe11df2210:  ffffffffffffffff  ffffffffffffffff 
    00007ffe11df2220:  ffffffffffffffff  ffffffffffffffff 
    00007ffe11df2230:  ffffffffffffffff  ffffffffffffffff 
    00007ffe11df2240:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7ff09b0b2f47
    stack: frame={sp:0x7ffe11df2150, fp:0x0} stack=[0x7ffe115f3650,0x7ffe11df2680)
    00007ffe11df2050:  0000000000000003  0000560e468f05c0 
    00007ffe11df2060:  0000000000000000  0000000000000000 
    00007ffe11df2070:  00007ff09b460560  00007ff09b463bc0 
    00007ffe11df2080:  000000c42006ffd0  0000560e462283e0 <runtime.main+208> 
    00007ffe11df2090:  0000560e46f1c970  0000000000000000 
    00007ffe11df20a0:  0000000000000000  0000000000000000 
    00007ffe11df20b0:  0000000000000000  0000000000000000 
    00007ffe11df20c0:  0000000000000000  0000000000000000 
    00007ffe11df20d0:  000000c420000180  0000000000000000 
    00007ffe11df20e0:  0000560e462283e0 <runtime.main+208>  0000560e46f1c970 
    00007ffe11df20f0:  0000000000000000  0000000000000000 
    00007ffe11df2100:  0000000000000000  0000000000000000 
    00007ffe11df2110:  0000000000000000  0000000000000000 
    00007ffe11df2120:  0000000000000000  000000c420000180 
    00007ffe11df2130:  0000000000000000  0000560e46253f31 <runtime.goexit+1> 
    00007ffe11df2140:  0000000000000000  0000000000000000 
    00007ffe11df2150: <0000000000000000  0000000000000000 
    00007ffe11df2160:  0000000000000000  00007ffe11df21a8 
    00007ffe11df2170:  0000560e46244582 <runtime.step+290>  0000560e46fa0232 
    00007ffe11df2180:  000000000030da24  000000000030da24 
    00007ffe11df2190:  0000029300000002  000000509b864da8 
    00007ffe11df21a0:  000000000030da24  00007ffe11df2258 
    00007ffe11df21b0:  0000560e46243936 <runtime.pcvalue+342>  0000560e46fb6828 
    00007ffe11df21c0:  0000000000000002  0000000000000000 
    00007ffe11df21d0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffe11df21e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe11df21f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe11df2200:  ffffffffffffffff  ffffffffffffffff 
    00007ffe11df2210:  ffffffffffffffff  ffffffffffffffff 
    00007ffe11df2220:  ffffffffffffffff  ffffffffffffffff 
    00007ffe11df2230:  ffffffffffffffff  ffffffffffffffff 
    00007ffe11df2240:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x560e468f0a30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x560e46252bcf
    runtime.newm1(0xc420094400)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x560e4622c6b1
    runtime.newm(0x560e46f1cb08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x560e4622c52f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x560e4622c791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x560e462284b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x560e46253f31
    
    rax    0x0
    rbx    0x7ff09b460840
    rcx    0x7ff09b0b2f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffe11df2150
    rbp    0x560e46a2232a
    rsp    0x7ffe11df2150
    r8     0x0
    r9     0x7ffe11df2150
    r10    0x8
    r11    0x246
    r12    0x560e492a4690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7ff09b0b2f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 5 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000088000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000088000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc00004b000, 0x4)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000073f01)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.resetspinning()
    	/usr/local/go/src/runtime/proc.go:2533 +0x59
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2684 +0x2b9
    runtime.mstart1()
    	/usr/local/go/src/runtime/proc.go:1179 +0x93
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1137 +0x6e
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x1bb7a80, 0xc0000420c8, 0x170e, 0x2)
    	/usr/local/go/src/runtime/proc.go:306 +0xe5
    runtime.chanrecv(0xc000042070, 0x0, 0xc000000101, 0x410101)
    	/usr/local/go/src/runtime/chan.go:577 +0x36f
    runtime.chanrecv1(0xc000042070, 0x0)
    	/usr/local/go/src/runtime/chan.go:439 +0x2b
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:220 +0xac
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fe43c16ff47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fe43c16ff47
    stack: frame={sp:0x7ffc23051b90, fp:0x0} stack=[0x7ffc22853090,0x7ffc230520c0)
    00007ffc23051a90:  0000000000000001  0000000000000000 
    00007ffc23051aa0:  0000000000000000  0000000000000000 
    00007ffc23051ab0:  00007fe43c51d560  00007fe43c520bc0 
    00007ffc23051ac0:  000000c42006ffd0  000056248121a3e0 <runtime.main+208> 
    00007ffc23051ad0:  0000562481f0e970  0000000000000000 
    00007ffc23051ae0:  0000000000000000  0000000000000000 
    00007ffc23051af0:  0000000000000000  0000000000000000 
    00007ffc23051b00:  0000000000000000  0000000000000000 
    00007ffc23051b10:  000000c420000180  0000000000000000 
    00007ffc23051b20:  000056248121a3e0 <runtime.main+208>  0000562481f0e970 
    00007ffc23051b30:  0000000000000000  0000000000000000 
    00007ffc23051b40:  0000000000000000  0000000000000000 
    00007ffc23051b50:  0000000000000000  0000000000000000 
    00007ffc23051b60:  0000000000000000  000000c420000180 
    00007ffc23051b70:  0000000000000000  0000562481245f31 <runtime.goexit+1> 
    00007ffc23051b80:  0000000000000000  0000000000000000 
    00007ffc23051b90: <0000000000000000  0000000000000000 
    00007ffc23051ba0:  00007fe43c9610d0  00007ffc23051be8 
    00007ffc23051bb0:  0000562481236582 <runtime.step+290>  0000562481f92232 
    00007ffc23051bc0:  000000000030da24  000000000030da24 
    00007ffc23051bd0:  0000029300000002  000000503c529ec5 
    00007ffc23051be0:  000000000030da24  00007ffc23051c98 
    00007ffc23051bf0:  0000562481235936 <runtime.pcvalue+342>  0000562481fa8828 
    00007ffc23051c00:  0000000000000002  0000000000000000 
    00007ffc23051c10:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc23051c20:  ffffffffffffffff  ffffffffffffffff 
    00007ffc23051c30:  ffffffffffffffff  ffffffffffffffff 
    00007ffc23051c40:  ffffffffffffffff  ffffffffffffffff 
    00007ffc23051c50:  ffffffffffffffff  ffffffffffffffff 
    00007ffc23051c60:  ffffffffffffffff  ffffffffffffffff 
    00007ffc23051c70:  ffffffffffffffff  ffffffffffffffff 
    00007ffc23051c80:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fe43c16ff47
    stack: frame={sp:0x7ffc23051b90, fp:0x0} stack=[0x7ffc22853090,0x7ffc230520c0)
    00007ffc23051a90:  0000000000000001  0000000000000000 
    00007ffc23051aa0:  0000000000000000  0000000000000000 
    00007ffc23051ab0:  00007fe43c51d560  00007fe43c520bc0 
    00007ffc23051ac0:  000000c42006ffd0  000056248121a3e0 <runtime.main+208> 
    00007ffc23051ad0:  0000562481f0e970  0000000000000000 
    00007ffc23051ae0:  0000000000000000  0000000000000000 
    00007ffc23051af0:  0000000000000000  0000000000000000 
    00007ffc23051b00:  0000000000000000  0000000000000000 
    00007ffc23051b10:  000000c420000180  0000000000000000 
    00007ffc23051b20:  000056248121a3e0 <runtime.main+208>  0000562481f0e970 
    00007ffc23051b30:  0000000000000000  0000000000000000 
    00007ffc23051b40:  0000000000000000  0000000000000000 
    00007ffc23051b50:  0000000000000000  0000000000000000 
    00007ffc23051b60:  0000000000000000  000000c420000180 
    00007ffc23051b70:  0000000000000000  0000562481245f31 <runtime.goexit+1> 
    00007ffc23051b80:  0000000000000000  0000000000000000 
    00007ffc23051b90: <0000000000000000  0000000000000000 
    00007ffc23051ba0:  00007fe43c9610d0  00007ffc23051be8 
    00007ffc23051bb0:  0000562481236582 <runtime.step+290>  0000562481f92232 
    00007ffc23051bc0:  000000000030da24  000000000030da24 
    00007ffc23051bd0:  0000029300000002  000000503c529ec5 
    00007ffc23051be0:  000000000030da24  00007ffc23051c98 
    00007ffc23051bf0:  0000562481235936 <runtime.pcvalue+342>  0000562481fa8828 
    00007ffc23051c00:  0000000000000002  0000000000000000 
    00007ffc23051c10:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc23051c20:  ffffffffffffffff  ffffffffffffffff 
    00007ffc23051c30:  ffffffffffffffff  ffffffffffffffff 
    00007ffc23051c40:  ffffffffffffffff  ffffffffffffffff 
    00007ffc23051c50:  ffffffffffffffff  ffffffffffffffff 
    00007ffc23051c60:  ffffffffffffffff  ffffffffffffffff 
    00007ffc23051c70:  ffffffffffffffff  ffffffffffffffff 
    00007ffc23051c80:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x5624818e2a30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x562481244bcf
    runtime.newm1(0xc420061000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x56248121e6b1
    runtime.newm(0x562481f0eb08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x56248121e52f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x56248121e791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x56248121a4b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x562481245f31
    
    rax    0x0
    rbx    0x7fe43c51d840
    rcx    0x7fe43c16ff47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffc23051b90
    rbp    0x562481a1432a
    rsp    0x7ffc23051b90
    r8     0x0
    r9     0x7ffc23051b90
    r10    0x8
    r11    0x246
    r12    0x5624823c8690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fe43c16ff47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
