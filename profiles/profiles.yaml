apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fd898f4bf47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fd898f4bf47
    stack: frame={sp:0x7fff1fa90e20, fp:0x0} stack=[0x7fff1f292320,0x7fff1fa91350)
    00007fff1fa90d20:  00007fd800000001  00007fd8992f9420 
    00007fff1fa90d30:  0000000000000000  000000c420081fe0 
    00007fff1fa90d40:  0000000000000000  0000000000000000 
    00007fff1fa90d50:  0000000000000000  0000000000000000 
    00007fff1fa90d60:  0000000000000000  0000000000000000 
    00007fff1fa90d70:  00007fd8992f9560  00007fd8992fcbc0 
    00007fff1fa90d80:  000000c42006ffd0  00005610ecffe3e0 <runtime.main+208> 
    00007fff1fa90d90:  00005610edcf2970  0000000000000000 
    00007fff1fa90da0:  0000000000000000  0000000000000000 
    00007fff1fa90db0:  0000000000000000  0000000000000000 
    00007fff1fa90dc0:  0000000000000000  0000000000000000 
    00007fff1fa90dd0:  000000c420000180  0000000000000000 
    00007fff1fa90de0:  00005610ecffe3e0 <runtime.main+208>  00005610edcf2970 
    00007fff1fa90df0:  0000000000000000  0000000000000000 
    00007fff1fa90e00:  0000000000000000  0000000000000000 
    00007fff1fa90e10:  0000000000000000  0000000000000000 
    00007fff1fa90e20: <0000000000000000  000000c420000180 
    00007fff1fa90e30:  0000000000000000  00005610ed029f31 <runtime.goexit+1> 
    00007fff1fa90e40:  0000000000000000  0000000000000000 
    00007fff1fa90e50:  0000000000000000  0000000000000000 
    00007fff1fa90e60:  0000029300000002  0000005099305ec5 
    00007fff1fa90e70:  000000000030da24  00007fff1fa90f28 
    00007fff1fa90e80:  00005610ed019936 <runtime.pcvalue+342>  00005610edd8c828 
    00007fff1fa90e90:  00000000002f742e  00000000002f742e 
    00007fff1fa90ea0:  fffffffe7fffffff  ffffffffffffffff 
    00007fff1fa90eb0:  ffffffffffffffff  ffffffffffffffff 
    00007fff1fa90ec0:  ffffffffffffffff  ffffffffffffffff 
    00007fff1fa90ed0:  ffffffffffffffff  ffffffffffffffff 
    00007fff1fa90ee0:  ffffffffffffffff  ffffffffffffffff 
    00007fff1fa90ef0:  ffffffffffffffff  ffffffffffffffff 
    00007fff1fa90f00:  ffffffffffffffff  ffffffffffffffff 
    00007fff1fa90f10:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fd898f4bf47
    stack: frame={sp:0x7fff1fa90e20, fp:0x0} stack=[0x7fff1f292320,0x7fff1fa91350)
    00007fff1fa90d20:  00007fd800000001  00007fd8992f9420 
    00007fff1fa90d30:  0000000000000000  000000c420081fe0 
    00007fff1fa90d40:  0000000000000000  0000000000000000 
    00007fff1fa90d50:  0000000000000000  0000000000000000 
    00007fff1fa90d60:  0000000000000000  0000000000000000 
    00007fff1fa90d70:  00007fd8992f9560  00007fd8992fcbc0 
    00007fff1fa90d80:  000000c42006ffd0  00005610ecffe3e0 <runtime.main+208> 
    00007fff1fa90d90:  00005610edcf2970  0000000000000000 
    00007fff1fa90da0:  0000000000000000  0000000000000000 
    00007fff1fa90db0:  0000000000000000  0000000000000000 
    00007fff1fa90dc0:  0000000000000000  0000000000000000 
    00007fff1fa90dd0:  000000c420000180  0000000000000000 
    00007fff1fa90de0:  00005610ecffe3e0 <runtime.main+208>  00005610edcf2970 
    00007fff1fa90df0:  0000000000000000  0000000000000000 
    00007fff1fa90e00:  0000000000000000  0000000000000000 
    00007fff1fa90e10:  0000000000000000  0000000000000000 
    00007fff1fa90e20: <0000000000000000  000000c420000180 
    00007fff1fa90e30:  0000000000000000  00005610ed029f31 <runtime.goexit+1> 
    00007fff1fa90e40:  0000000000000000  0000000000000000 
    00007fff1fa90e50:  0000000000000000  0000000000000000 
    00007fff1fa90e60:  0000029300000002  0000005099305ec5 
    00007fff1fa90e70:  000000000030da24  00007fff1fa90f28 
    00007fff1fa90e80:  00005610ed019936 <runtime.pcvalue+342>  00005610edd8c828 
    00007fff1fa90e90:  00000000002f742e  00000000002f742e 
    00007fff1fa90ea0:  fffffffe7fffffff  ffffffffffffffff 
    00007fff1fa90eb0:  ffffffffffffffff  ffffffffffffffff 
    00007fff1fa90ec0:  ffffffffffffffff  ffffffffffffffff 
    00007fff1fa90ed0:  ffffffffffffffff  ffffffffffffffff 
    00007fff1fa90ee0:  ffffffffffffffff  ffffffffffffffff 
    00007fff1fa90ef0:  ffffffffffffffff  ffffffffffffffff 
    00007fff1fa90f00:  ffffffffffffffff  ffffffffffffffff 
    00007fff1fa90f10:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x5610ed6c6a30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x5610ed028bcf
    runtime.newm1(0xc420061000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x5610ed0026b1
    runtime.newm(0x5610edcf2b08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x5610ed00252f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x5610ed002791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x5610ecffe4b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x5610ed029f31
    
    rax    0x0
    rbx    0x7fd8992f9840
    rcx    0x7fd898f4bf47
    rdx    0x0
    rdi    0x2
    rsi    0x7fff1fa90e20
    rbp    0x5610ed7f832a
    rsp    0x7fff1fa90e20
    r8     0x0
    r9     0x7fff1fa90e20
    r10    0x8
    r11    0x246
    r12    0x5610effc6690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fd898f4bf47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 4 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062800)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062800)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x0, 0xc000046000, 0x3)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0xc000046000, 0x2a6cc00)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.handoffp(0xc000046000)
    	/usr/local/go/src/runtime/proc.go:2001 +0x52
    runtime.stoplockedm()
    	/usr/local/go/src/runtime/proc.go:2075 +0xf7
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2611 +0x48c
    runtime.park_m(0xc000000180)
    	/usr/local/go/src/runtime/proc.go:2845 +0x9d
    runtime.mcall(0x0)
    	/usr/local/go/src/runtime/asm_amd64.s:318 +0x5b
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x1bb7a80, 0xc0000420c8, 0x170e, 0x2)
    	/usr/local/go/src/runtime/proc.go:306 +0xe5
    runtime.chanrecv(0xc000042070, 0x0, 0xc000000101, 0x41a55e)
    	/usr/local/go/src/runtime/chan.go:577 +0x36f
    runtime.chanrecv1(0xc000042070, 0x0)
    	/usr/local/go/src/runtime/chan.go:439 +0x2b
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:219 +0x95
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f7539029f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f7539029f47
    stack: frame={sp:0x7ffdd84eecc0, fp:0x0} stack=[0x7ffdd7cf0360,0x7ffdd84ef390)
    00007ffdd84eebc0:  00005632185b4683 <runtime.main+883>  000000000030da24 
    00007ffdd84eebd0:  0000029300000002  0000005000000000 
    00007ffdd84eebe0:  000000000030da24  00007ffdd84eec98 
    00007ffdd84eebf0:  00005632185cf936 <runtime.pcvalue+342>  0000563219342828 
    00007ffdd84eec00:  00000000002f742e  00000000002f742e 
    00007ffdd84eec10:  00007ffdd84eec50  00007ffdd84eec4c 
    00007ffdd84eec20:  0000563219656301  000056321934282a 
    00007ffdd84eec30:  00000000002f742c  00000000002f742c 
    00007ffdd84eec40:  0000000000000001  0000000040000000 
    00007ffdd84eec50:  00007ffdd84eed08  00005632185ca75f <runtime.adjustframe+175> 
    00007ffdd84eec60:  00005632193427f0  00005632196563c0 
    00007ffdd84eec70:  00007ffd00000000  00005632185dff30 <runtime.goexit+0> 
    00007ffdd84eec80:  00007ffdd84ef0c0  00000000ffffffff 
    00007ffdd84eec90:  00000000d84eec20  00005632185dff30 <runtime.goexit+0> 
    00007ffdd84eeca0:  00005632185d01c1 <runtime.funcspdelta+97>  00005632193427f0 
    00007ffdd84eecb0:  00005632196563c0  00007ffd0006f548 
    00007ffdd84eecc0: <0000000000000000  00007ffdd84eee20 
    00007ffdd84eecd0:  0000563218d3c201  00005632193427f0 
    00007ffdd84eece0:  00005632196563c0  0000000000000000 
    00007ffdd84eecf0:  0000000000000000  00005632185dff31 <runtime.goexit+1> 
    00007ffdd84eed00:  00005632196563c0  00007ffdd84ef010 
    00007ffdd84eed10:  00005632185d4962 <runtime.gentraceback+4850>  00007ffdd84eefb8 
    00007ffdd84eed20:  00007ffdd84ef0a8  0000563219656301 
    00007ffdd84eed30:  00007ffdd84eee01  0000000000000000 
    00007ffdd84eed40:  fffffffe7fffffff  ffffffffffffffff 
    00007ffdd84eed50:  ffffffffffffffff  ffffffffffffffff 
    00007ffdd84eed60:  ffffffffffffffff  ffffffffffffffff 
    00007ffdd84eed70:  ffffffffffffffff  ffffffffffffffff 
    00007ffdd84eed80:  ffffffffffffffff  ffffffffffffffff 
    00007ffdd84eed90:  ffffffffffffffff  ffffffffffffffff 
    00007ffdd84eeda0:  ffffffffffffffff  ffffffffffffffff 
    00007ffdd84eedb0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f7539029f47
    stack: frame={sp:0x7ffdd84eecc0, fp:0x0} stack=[0x7ffdd7cf0360,0x7ffdd84ef390)
    00007ffdd84eebc0:  00005632185b4683 <runtime.main+883>  000000000030da24 
    00007ffdd84eebd0:  0000029300000002  0000005000000000 
    00007ffdd84eebe0:  000000000030da24  00007ffdd84eec98 
    00007ffdd84eebf0:  00005632185cf936 <runtime.pcvalue+342>  0000563219342828 
    00007ffdd84eec00:  00000000002f742e  00000000002f742e 
    00007ffdd84eec10:  00007ffdd84eec50  00007ffdd84eec4c 
    00007ffdd84eec20:  0000563219656301  000056321934282a 
    00007ffdd84eec30:  00000000002f742c  00000000002f742c 
    00007ffdd84eec40:  0000000000000001  0000000040000000 
    00007ffdd84eec50:  00007ffdd84eed08  00005632185ca75f <runtime.adjustframe+175> 
    00007ffdd84eec60:  00005632193427f0  00005632196563c0 
    00007ffdd84eec70:  00007ffd00000000  00005632185dff30 <runtime.goexit+0> 
    00007ffdd84eec80:  00007ffdd84ef0c0  00000000ffffffff 
    00007ffdd84eec90:  00000000d84eec20  00005632185dff30 <runtime.goexit+0> 
    00007ffdd84eeca0:  00005632185d01c1 <runtime.funcspdelta+97>  00005632193427f0 
    00007ffdd84eecb0:  00005632196563c0  00007ffd0006f548 
    00007ffdd84eecc0: <0000000000000000  00007ffdd84eee20 
    00007ffdd84eecd0:  0000563218d3c201  00005632193427f0 
    00007ffdd84eece0:  00005632196563c0  0000000000000000 
    00007ffdd84eecf0:  0000000000000000  00005632185dff31 <runtime.goexit+1> 
    00007ffdd84eed00:  00005632196563c0  00007ffdd84ef010 
    00007ffdd84eed10:  00005632185d4962 <runtime.gentraceback+4850>  00007ffdd84eefb8 
    00007ffdd84eed20:  00007ffdd84ef0a8  0000563219656301 
    00007ffdd84eed30:  00007ffdd84eee01  0000000000000000 
    00007ffdd84eed40:  fffffffe7fffffff  ffffffffffffffff 
    00007ffdd84eed50:  ffffffffffffffff  ffffffffffffffff 
    00007ffdd84eed60:  ffffffffffffffff  ffffffffffffffff 
    00007ffdd84eed70:  ffffffffffffffff  ffffffffffffffff 
    00007ffdd84eed80:  ffffffffffffffff  ffffffffffffffff 
    00007ffdd84eed90:  ffffffffffffffff  ffffffffffffffff 
    00007ffdd84eeda0:  ffffffffffffffff  ffffffffffffffff 
    00007ffdd84eedb0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [runnable, locked to thread]:
    runtime.gopark(0x5632192a8a60, 0xc4200380c8, 0x563218c86704, 0xc, 0xc42003ce17, 0x3)
    	/usr/lib/go-1.10/src/runtime/proc.go:291 +0x120
    runtime.goparkunlock(0xc4200380c8, 0x563218c86704, 0xc, 0x17, 0x3)
    	/usr/lib/go-1.10/src/runtime/proc.go:297 +0x60
    runtime.chanrecv(0xc420038070, 0x0, 0x1, 0x56321859f8aa)
    	/usr/lib/go-1.10/src/runtime/chan.go:518 +0x2f6
    runtime.chanrecv1(0xc420038070, 0x0)
    	/usr/lib/go-1.10/src/runtime/chan.go:400 +0x2b
    runtime.gcenable()
    	/usr/lib/go-1.10/src/runtime/mgc.go:217 +0x71
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:161 +0x126
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1
    
    rax    0x0
    rbx    0x7f75393d7840
    rcx    0x7f7539029f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffdd84eecc0
    rbp    0x563218dae32a
    rsp    0x7ffdd84eecc0
    r8     0x0
    r9     0x7ffdd84eecc0
    r10    0x8
    r11    0x246
    r12    0x56321a9e2540
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f7539029f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
