apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f1abe5dbf47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f1abe5dbf47
    stack: frame={sp:0x7ffe40b1af10, fp:0x0} stack=[0x7ffe4031c5b0,0x7ffe40b1b5e0)
    00007ffe40b1ae10:  00005611a9573683 <runtime.main+883>  000000000030da24 
    00007ffe40b1ae20:  0000029300000002  00000050be5aa5c0 
    00007ffe40b1ae30:  000000000030da24  00007ffe40b1aee8 
    00007ffe40b1ae40:  00005611a958e936 <runtime.pcvalue+342>  00005611aa301828 
    00007ffe40b1ae50:  00000000002f742e  00000000002f742e 
    00007ffe40b1ae60:  00007ffe40b1aea0  00007ffe40b1ae9c 
    00007ffe40b1ae70:  00005611aa615301  00005611aa30182a 
    00007ffe40b1ae80:  00000000002f742c  00000000002f742c 
    00007ffe40b1ae90:  0000000000000001  0000000040000000 
    00007ffe40b1aea0:  00007ffe40b1af58  00005611a958975f <runtime.adjustframe+175> 
    00007ffe40b1aeb0:  00005611aa3017f0  00005611aa6153c0 
    00007ffe40b1aec0:  00007ffe00000000  00005611a959ef30 <runtime.goexit+0> 
    00007ffe40b1aed0:  00007ffe40b1b310  00000000ffffffff 
    00007ffe40b1aee0:  0000000040b1ae70  00005611a959ef30 <runtime.goexit+0> 
    00007ffe40b1aef0:  00005611a958f1c1 <runtime.funcspdelta+97>  00005611aa3017f0 
    00007ffe40b1af00:  00005611aa6153c0  00007ffe0006f548 
    00007ffe40b1af10: <0000000000000000  00007ffe40b1b070 
    00007ffe40b1af20:  00005611a9cfb201  00005611aa3017f0 
    00007ffe40b1af30:  00005611aa6153c0  0000000000000000 
    00007ffe40b1af40:  0000000000000000  00005611a959ef31 <runtime.goexit+1> 
    00007ffe40b1af50:  00005611aa6153c0  00007ffe40b1b260 
    00007ffe40b1af60:  00005611a9593962 <runtime.gentraceback+4850>  00007ffe40b1b208 
    00007ffe40b1af70:  00007ffe40b1b2f8  00005611aa615301 
    00007ffe40b1af80:  00007ffe40b1b001  0000000000000000 
    00007ffe40b1af90:  fffffffe7fffffff  ffffffffffffffff 
    00007ffe40b1afa0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe40b1afb0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe40b1afc0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe40b1afd0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe40b1afe0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe40b1aff0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe40b1b000:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f1abe5dbf47
    stack: frame={sp:0x7ffe40b1af10, fp:0x0} stack=[0x7ffe4031c5b0,0x7ffe40b1b5e0)
    00007ffe40b1ae10:  00005611a9573683 <runtime.main+883>  000000000030da24 
    00007ffe40b1ae20:  0000029300000002  00000050be5aa5c0 
    00007ffe40b1ae30:  000000000030da24  00007ffe40b1aee8 
    00007ffe40b1ae40:  00005611a958e936 <runtime.pcvalue+342>  00005611aa301828 
    00007ffe40b1ae50:  00000000002f742e  00000000002f742e 
    00007ffe40b1ae60:  00007ffe40b1aea0  00007ffe40b1ae9c 
    00007ffe40b1ae70:  00005611aa615301  00005611aa30182a 
    00007ffe40b1ae80:  00000000002f742c  00000000002f742c 
    00007ffe40b1ae90:  0000000000000001  0000000040000000 
    00007ffe40b1aea0:  00007ffe40b1af58  00005611a958975f <runtime.adjustframe+175> 
    00007ffe40b1aeb0:  00005611aa3017f0  00005611aa6153c0 
    00007ffe40b1aec0:  00007ffe00000000  00005611a959ef30 <runtime.goexit+0> 
    00007ffe40b1aed0:  00007ffe40b1b310  00000000ffffffff 
    00007ffe40b1aee0:  0000000040b1ae70  00005611a959ef30 <runtime.goexit+0> 
    00007ffe40b1aef0:  00005611a958f1c1 <runtime.funcspdelta+97>  00005611aa3017f0 
    00007ffe40b1af00:  00005611aa6153c0  00007ffe0006f548 
    00007ffe40b1af10: <0000000000000000  00007ffe40b1b070 
    00007ffe40b1af20:  00005611a9cfb201  00005611aa3017f0 
    00007ffe40b1af30:  00005611aa6153c0  0000000000000000 
    00007ffe40b1af40:  0000000000000000  00005611a959ef31 <runtime.goexit+1> 
    00007ffe40b1af50:  00005611aa6153c0  00007ffe40b1b260 
    00007ffe40b1af60:  00005611a9593962 <runtime.gentraceback+4850>  00007ffe40b1b208 
    00007ffe40b1af70:  00007ffe40b1b2f8  00005611aa615301 
    00007ffe40b1af80:  00007ffe40b1b001  0000000000000000 
    00007ffe40b1af90:  fffffffe7fffffff  ffffffffffffffff 
    00007ffe40b1afa0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe40b1afb0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe40b1afc0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe40b1afd0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe40b1afe0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe40b1aff0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe40b1b000:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [runnable, locked to thread]:
    runtime.gopark(0x5611aa267a60, 0xc4200380c8, 0x5611a9c45704, 0xc, 0xc42003ce17, 0x3)
    	/usr/lib/go-1.10/src/runtime/proc.go:291 +0x120
    runtime.goparkunlock(0xc4200380c8, 0x5611a9c45704, 0xc, 0x17, 0x3)
    	/usr/lib/go-1.10/src/runtime/proc.go:297 +0x60
    runtime.chanrecv(0xc420038070, 0x0, 0x1, 0x5611a955e8aa)
    	/usr/lib/go-1.10/src/runtime/chan.go:518 +0x2f6
    runtime.chanrecv1(0xc420038070, 0x0)
    	/usr/lib/go-1.10/src/runtime/chan.go:400 +0x2b
    runtime.gcenable()
    	/usr/lib/go-1.10/src/runtime/mgc.go:217 +0x71
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:161 +0x126
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1
    
    rax    0x0
    rbx    0x7f1abe989840
    rcx    0x7f1abe5dbf47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffe40b1af10
    rbp    0x5611a9d6d32a
    rsp    0x7ffe40b1af10
    r8     0x0
    r9     0x7ffe40b1af10
    r10    0x8
    r11    0x246
    r12    0x5611ab485540
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f1abe5dbf47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 4 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062800)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062800)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x0, 0xc000046000, 0x3)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0xc000046000, 0x2a6cc00)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.handoffp(0xc000046000)
    	/usr/local/go/src/runtime/proc.go:2001 +0x52
    runtime.stoplockedm()
    	/usr/local/go/src/runtime/proc.go:2075 +0xf7
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2611 +0x48c
    runtime.goschedImpl(0xc000000180)
    	/usr/local/go/src/runtime/proc.go:2860 +0xda
    runtime.gopreempt_m(0xc000000180)
    	/usr/local/go/src/runtime/proc.go:2888 +0x34
    runtime.newstack()
    	/usr/local/go/src/runtime/stack.go:1047 +0x1bc
    runtime.morestack()
    	/usr/local/go/src/runtime/asm_amd64.s:449 +0x8f
    
    goroutine 1 [runnable, locked to thread]:
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:214 +0xc5
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fa2e0c64f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fa2e0c64f47
    stack: frame={sp:0x7ffdb5d464e0, fp:0x0} stack=[0x7ffdb55479e0,0x7ffdb5d46a10)
    00007ffdb5d463e0:  00007fa200000001  00007fa2e1012420 
    00007ffdb5d463f0:  0000000000000000  000000c420081fe0 
    00007ffdb5d46400:  0000000000000000  0000000000000000 
    00007ffdb5d46410:  0000000000000000  0000000000000000 
    00007ffdb5d46420:  0000000000000003  000000c420081fd8 
    00007ffdb5d46430:  0000000000000000  0000000000000120 
    00007ffdb5d46440:  0000001300000000  0000000000000007 
    00007ffdb5d46450:  0000000000000130  0000564ab0f1e098 
    00007ffdb5d46460:  0000000000000150  ffffffffffffffa8 
    00007ffdb5d46470:  0000000000000004  0000003400000013 
    00007ffdb5d46480:  0000000000000000  0000000000000000 
    00007ffdb5d46490:  0000000000000000  000000770000007c 
    00007ffdb5d464a0:  0000005b0000006e  0000000000000000 
    00007ffdb5d464b0:  0000564aaf43d3e0 <runtime.main+208>  0000000000020ab0 
    00007ffdb5d464c0:  0000000000000120  00007fa2e1249307 
    00007ffdb5d464d0:  0000564ab0f1e550  0000000000000001 
    00007ffdb5d464e0: <0000000000000000  0000564ab0f1e570 
    00007ffdb5d464f0:  00007fa2e14560d0  00007ffdb5d46538 
    00007ffdb5d46500:  0000564aaf459582 <runtime.step+290>  0000564ab01b5232 
    00007ffdb5d46510:  000000000030da24  000000000030da24 
    00007ffdb5d46520:  0000029300000002  00000050e101eec5 
    00007ffdb5d46530:  000000000030da24  00007ffdb5d465e8 
    00007ffdb5d46540:  0000564aaf458936 <runtime.pcvalue+342>  0000564ab01cb828 
    00007ffdb5d46550:  00000000002f742e  00000000002f742e 
    00007ffdb5d46560:  fffffffe7fffffff  ffffffffffffffff 
    00007ffdb5d46570:  ffffffffffffffff  ffffffffffffffff 
    00007ffdb5d46580:  ffffffffffffffff  ffffffffffffffff 
    00007ffdb5d46590:  ffffffffffffffff  ffffffffffffffff 
    00007ffdb5d465a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffdb5d465b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffdb5d465c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffdb5d465d0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fa2e0c64f47
    stack: frame={sp:0x7ffdb5d464e0, fp:0x0} stack=[0x7ffdb55479e0,0x7ffdb5d46a10)
    00007ffdb5d463e0:  00007fa200000001  00007fa2e1012420 
    00007ffdb5d463f0:  0000000000000000  000000c420081fe0 
    00007ffdb5d46400:  0000000000000000  0000000000000000 
    00007ffdb5d46410:  0000000000000000  0000000000000000 
    00007ffdb5d46420:  0000000000000003  000000c420081fd8 
    00007ffdb5d46430:  0000000000000000  0000000000000120 
    00007ffdb5d46440:  0000001300000000  0000000000000007 
    00007ffdb5d46450:  0000000000000130  0000564ab0f1e098 
    00007ffdb5d46460:  0000000000000150  ffffffffffffffa8 
    00007ffdb5d46470:  0000000000000004  0000003400000013 
    00007ffdb5d46480:  0000000000000000  0000000000000000 
    00007ffdb5d46490:  0000000000000000  000000770000007c 
    00007ffdb5d464a0:  0000005b0000006e  0000000000000000 
    00007ffdb5d464b0:  0000564aaf43d3e0 <runtime.main+208>  0000000000020ab0 
    00007ffdb5d464c0:  0000000000000120  00007fa2e1249307 
    00007ffdb5d464d0:  0000564ab0f1e550  0000000000000001 
    00007ffdb5d464e0: <0000000000000000  0000564ab0f1e570 
    00007ffdb5d464f0:  00007fa2e14560d0  00007ffdb5d46538 
    00007ffdb5d46500:  0000564aaf459582 <runtime.step+290>  0000564ab01b5232 
    00007ffdb5d46510:  000000000030da24  000000000030da24 
    00007ffdb5d46520:  0000029300000002  00000050e101eec5 
    00007ffdb5d46530:  000000000030da24  00007ffdb5d465e8 
    00007ffdb5d46540:  0000564aaf458936 <runtime.pcvalue+342>  0000564ab01cb828 
    00007ffdb5d46550:  00000000002f742e  00000000002f742e 
    00007ffdb5d46560:  fffffffe7fffffff  ffffffffffffffff 
    00007ffdb5d46570:  ffffffffffffffff  ffffffffffffffff 
    00007ffdb5d46580:  ffffffffffffffff  ffffffffffffffff 
    00007ffdb5d46590:  ffffffffffffffff  ffffffffffffffff 
    00007ffdb5d465a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffdb5d465b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffdb5d465c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffdb5d465d0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x564aafb05a30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x564aaf467bcf
    runtime.newm1(0xc420061000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x564aaf4416b1
    runtime.newm(0x564ab0131b08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x564aaf44152f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x564aaf441791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x564aaf43d4b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x564aaf468f31
    
    rax    0x0
    rbx    0x7fa2e1012840
    rcx    0x7fa2e0c64f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffdb5d464e0
    rbp    0x564aafc3732a
    rsp    0x7ffdb5d464e0
    r8     0x0
    r9     0x7ffdb5d464e0
    r10    0x8
    r11    0x246
    r12    0x564ab0f1e690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fa2e0c64f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
