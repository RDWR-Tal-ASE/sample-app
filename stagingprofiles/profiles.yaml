apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f00d5cd2f47 m=3 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f00d5cd2f47
    stack: frame={sp:0x7f00d5491810, fp:0x0} stack=[0x7f00d4c92290,0x7f00d5491e90)
    00007f00d5491710:  0000000000000000  0000000000000000 
    00007f00d5491720:  0000000000000000  0000000000000000 
    00007f00d5491730:  00007f00d6080560  00007f00d6083bc0 
    00007f00d5491740:  0000007e0000007d  000000800000007f 
    00007f00d5491750:  00007f00c8000010  00007f00c8000010 
    00007f00d5491760:  000000000000000e  000000000000000e 
    00007f00d5491770:  0000000000000000  0000000000000000 
    00007f00d5491780:  ffffffffffffffff  ffffffffffffffff 
    00007f00d5491790:  0000000400000004  0000000400000004 
    00007f00d54917a0:  00007f00c8000800  00007f00c8000800 
    00007f00d54917b0:  0000000000000000  0000000000000000 
    00007f00d54917c0:  0000000000000000  0000000000000000 
    00007f00d54917d0:  0000000000000000  0000000000000000 
    00007f00d54917e0:  0000000000000000  000000c420000180 
    00007f00d54917f0:  0000000000000000  000055ff11bf1f31 <runtime.goexit+1> 
    00007f00d5491800:  0000000000000000  0000000000000000 
    00007f00d5491810: <0000000000000000  0000000000000000 
    00007f00d5491820:  0000000000000000  0000000000000000 
    00007f00d5491830:  0000000000000000  0000000000000000 
    00007f00d5491840:  0000000000000000  0000000000000000 
    00007f00d5491850:  0000000000000000  0000000000000000 
    00007f00d5491860:  0000000000000000  0000000000000000 
    00007f00d5491870:  0000000000000000  0000000000000000 
    00007f00d5491880:  0000000000000002  0000000000000000 
    00007f00d5491890:  fffffffe7fffffff  ffffffffffffffff 
    00007f00d54918a0:  ffffffffffffffff  ffffffffffffffff 
    00007f00d54918b0:  ffffffffffffffff  ffffffffffffffff 
    00007f00d54918c0:  ffffffffffffffff  ffffffffffffffff 
    00007f00d54918d0:  ffffffffffffffff  ffffffffffffffff 
    00007f00d54918e0:  ffffffffffffffff  ffffffffffffffff 
    00007f00d54918f0:  ffffffffffffffff  ffffffffffffffff 
    00007f00d5491900:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f00d5cd2f47
    stack: frame={sp:0x7f00d5491810, fp:0x0} stack=[0x7f00d4c92290,0x7f00d5491e90)
    00007f00d5491710:  0000000000000000  0000000000000000 
    00007f00d5491720:  0000000000000000  0000000000000000 
    00007f00d5491730:  00007f00d6080560  00007f00d6083bc0 
    00007f00d5491740:  0000007e0000007d  000000800000007f 
    00007f00d5491750:  00007f00c8000010  00007f00c8000010 
    00007f00d5491760:  000000000000000e  000000000000000e 
    00007f00d5491770:  0000000000000000  0000000000000000 
    00007f00d5491780:  ffffffffffffffff  ffffffffffffffff 
    00007f00d5491790:  0000000400000004  0000000400000004 
    00007f00d54917a0:  00007f00c8000800  00007f00c8000800 
    00007f00d54917b0:  0000000000000000  0000000000000000 
    00007f00d54917c0:  0000000000000000  0000000000000000 
    00007f00d54917d0:  0000000000000000  0000000000000000 
    00007f00d54917e0:  0000000000000000  000000c420000180 
    00007f00d54917f0:  0000000000000000  000055ff11bf1f31 <runtime.goexit+1> 
    00007f00d5491800:  0000000000000000  0000000000000000 
    00007f00d5491810: <0000000000000000  0000000000000000 
    00007f00d5491820:  0000000000000000  0000000000000000 
    00007f00d5491830:  0000000000000000  0000000000000000 
    00007f00d5491840:  0000000000000000  0000000000000000 
    00007f00d5491850:  0000000000000000  0000000000000000 
    00007f00d5491860:  0000000000000000  0000000000000000 
    00007f00d5491870:  0000000000000000  0000000000000000 
    00007f00d5491880:  0000000000000002  0000000000000000 
    00007f00d5491890:  fffffffe7fffffff  ffffffffffffffff 
    00007f00d54918a0:  ffffffffffffffff  ffffffffffffffff 
    00007f00d54918b0:  ffffffffffffffff  ffffffffffffffff 
    00007f00d54918c0:  ffffffffffffffff  ffffffffffffffff 
    00007f00d54918d0:  ffffffffffffffff  ffffffffffffffff 
    00007f00d54918e0:  ffffffffffffffff  ffffffffffffffff 
    00007f00d54918f0:  ffffffffffffffff  ffffffffffffffff 
    00007f00d5491900:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [runnable, locked to thread]:
    runtime.gcenable()
    	/usr/lib/go-1.10/src/runtime/mgc.go:214 +0x87
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:161 +0x126
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1
    
    rax    0x0
    rbx    0x7f00d6080840
    rcx    0x7f00d5cd2f47
    rdx    0x0
    rdi    0x2
    rsi    0x7f00d5491810
    rbp    0x55ff123c032a
    rsp    0x7f00d5491810
    r8     0x0
    r9     0x7f00d5491810
    r10    0x8
    r11    0x246
    r12    0x55ff144253f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f00d5cd2f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 4 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    runtime: failed to create new OS thread (have 5 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062800)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062800)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x0, 0xc000046000, 0x3)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0xc000046000, 0x2a6cc00)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.handoffp(0xc000046000)
    	/usr/local/go/src/runtime/proc.go:2001 +0x52
    runtime.stoplockedm()
    	/usr/local/go/src/runtime/proc.go:2075 +0xf7
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2611 +0x48c
    runtime.park_m(0xc000000180)
    	/usr/local/go/src/runtime/proc.go:2845 +0x9d
    runtime.mcall(0x0)
    	/usr/local/go/src/runtime/asm_amd64.s:318 +0x5b
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x1bb7a80, 0xc0000420c8, 0x170e, 0x2)
    	/usr/local/go/src/runtime/proc.go:306 +0xe5
    runtime.chanrecv(0xc000042070, 0x0, 0xc000000101, 0x41a55e)
    	/usr/local/go/src/runtime/chan.go:577 +0x36f
    runtime.chanrecv1(0xc000042070, 0x0)
    	/usr/local/go/src/runtime/chan.go:439 +0x2b
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:219 +0x95
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000088000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000088000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc00004b000, 0x4)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000073f01)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.resetspinning()
    	/usr/local/go/src/runtime/proc.go:2533 +0x59
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2684 +0x2b9
    runtime.mstart1()
    	/usr/local/go/src/runtime/proc.go:1179 +0x93
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1137 +0x6e
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fb9f5dcdf47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fb9f5dcdf47
    stack: frame={sp:0x7fff40f50760, fp:0x0} stack=[0x7fff40751c60,0x7fff40f50c90)
    00007fff40f50660:  00007fb900000001  0000557dd8c665c0 
    00007fff40f50670:  0000000000000000  000000c420089fe0 
    00007fff40f50680:  0000000000000000  0000000000000000 
    00007fff40f50690:  0000000000000000  0000000000000000 
    00007fff40f506a0:  0000000000000003  000000c420089fd8 
    00007fff40f506b0:  0000000000000000  0000000000000120 
    00007fff40f506c0:  0000001300000000  0000000000000007 
    00007fff40f506d0:  0000000000000130  0000557dd9ef7098 
    00007fff40f506e0:  0000000000000150  ffffffffffffffa8 
    00007fff40f506f0:  0000000000000004  0000003400000013 
    00007fff40f50700:  0000000000000000  0000000000000000 
    00007fff40f50710:  0000000000000000  000000770000007c 
    00007fff40f50720:  0000005b0000006e  000000200006cfe6 
    00007fff40f50730:  0000000000000000  0000000000020ab0 
    00007fff40f50740:  0000000000000120  00007fb9f63b2307 
    00007fff40f50750:  0000557dd9ef7550  0000000000000001 
    00007fff40f50760: <0000000000000000  0000557dd9ef7570 
    00007fff40f50770:  00007fb9f65bf0d0  00007fff40f507b8 
    00007fff40f50780:  0000557dd85ba582 <runtime.step+290>  0000557dd9316232 
    00007fff40f50790:  000000000030da24  000000000030da24 
    00007fff40f507a0:  0000029300000002  00000050f6187ec5 
    00007fff40f507b0:  000000000030da24  00007fff40f50868 
    00007fff40f507c0:  0000557dd85b9936 <runtime.pcvalue+342>  0000557dd932c828 
    00007fff40f507d0:  00000000002f742e  00000000002f742e 
    00007fff40f507e0:  fffffffe7fffffff  ffffffffffffffff 
    00007fff40f507f0:  ffffffffffffffff  ffffffffffffffff 
    00007fff40f50800:  ffffffffffffffff  ffffffffffffffff 
    00007fff40f50810:  ffffffffffffffff  ffffffffffffffff 
    00007fff40f50820:  ffffffffffffffff  ffffffffffffffff 
    00007fff40f50830:  ffffffffffffffff  ffffffffffffffff 
    00007fff40f50840:  ffffffffffffffff  ffffffffffffffff 
    00007fff40f50850:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fb9f5dcdf47
    stack: frame={sp:0x7fff40f50760, fp:0x0} stack=[0x7fff40751c60,0x7fff40f50c90)
    00007fff40f50660:  00007fb900000001  0000557dd8c665c0 
    00007fff40f50670:  0000000000000000  000000c420089fe0 
    00007fff40f50680:  0000000000000000  0000000000000000 
    00007fff40f50690:  0000000000000000  0000000000000000 
    00007fff40f506a0:  0000000000000003  000000c420089fd8 
    00007fff40f506b0:  0000000000000000  0000000000000120 
    00007fff40f506c0:  0000001300000000  0000000000000007 
    00007fff40f506d0:  0000000000000130  0000557dd9ef7098 
    00007fff40f506e0:  0000000000000150  ffffffffffffffa8 
    00007fff40f506f0:  0000000000000004  0000003400000013 
    00007fff40f50700:  0000000000000000  0000000000000000 
    00007fff40f50710:  0000000000000000  000000770000007c 
    00007fff40f50720:  0000005b0000006e  000000200006cfe6 
    00007fff40f50730:  0000000000000000  0000000000020ab0 
    00007fff40f50740:  0000000000000120  00007fb9f63b2307 
    00007fff40f50750:  0000557dd9ef7550  0000000000000001 
    00007fff40f50760: <0000000000000000  0000557dd9ef7570 
    00007fff40f50770:  00007fb9f65bf0d0  00007fff40f507b8 
    00007fff40f50780:  0000557dd85ba582 <runtime.step+290>  0000557dd9316232 
    00007fff40f50790:  000000000030da24  000000000030da24 
    00007fff40f507a0:  0000029300000002  00000050f6187ec5 
    00007fff40f507b0:  000000000030da24  00007fff40f50868 
    00007fff40f507c0:  0000557dd85b9936 <runtime.pcvalue+342>  0000557dd932c828 
    00007fff40f507d0:  00000000002f742e  00000000002f742e 
    00007fff40f507e0:  fffffffe7fffffff  ffffffffffffffff 
    00007fff40f507f0:  ffffffffffffffff  ffffffffffffffff 
    00007fff40f50800:  ffffffffffffffff  ffffffffffffffff 
    00007fff40f50810:  ffffffffffffffff  ffffffffffffffff 
    00007fff40f50820:  ffffffffffffffff  ffffffffffffffff 
    00007fff40f50830:  ffffffffffffffff  ffffffffffffffff 
    00007fff40f50840:  ffffffffffffffff  ffffffffffffffff 
    00007fff40f50850:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x557dd8c66a30, 0xc420089f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420089ee8 sp=0xc420089ee0 pc=0x557dd85c8bcf
    runtime.newm1(0xc420061000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420089f38 sp=0xc420089ee8 pc=0x557dd85a26b1
    runtime.newm(0x557dd9292b08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420089f68 sp=0xc420089f38 pc=0x557dd85a252f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420089f88 sp=0xc420089f68 pc=0x557dd85a2791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420089fe0 sp=0xc420089f88 pc=0x557dd859e4b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420089fe8 sp=0xc420089fe0 pc=0x557dd85c9f31
    
    rax    0x0
    rbx    0x7fb9f617b840
    rcx    0x7fb9f5dcdf47
    rdx    0x0
    rdi    0x2
    rsi    0x7fff40f50760
    rbp    0x557dd8d9832a
    rsp    0x7fff40f50760
    r8     0x0
    r9     0x7fff40f50760
    r10    0x8
    r11    0x246
    r12    0x557dd9ef7690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fb9f5dcdf47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
