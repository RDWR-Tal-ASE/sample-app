apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f75b8dd2f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f75b8dd2f47
    stack: frame={sp:0x7ffee06c2140, fp:0x0} stack=[0x7ffedfec3640,0x7ffee06c2670)
    00007ffee06c2040:  0000000000000003  0000561f1c3e15c0 
    00007ffee06c2050:  0000000000000000  000000c420081fe0 
    00007ffee06c2060:  0000000000000000  0000000000000000 
    00007ffee06c2070:  00007f75b9180560  00007f75b9183bc0 
    00007ffee06c2080:  000000c42006ffd0  0000561f1bd193e0 <runtime.main+208> 
    00007ffee06c2090:  0000561f1ca0d970  0000000000000000 
    00007ffee06c20a0:  0000000000000000  0000000000000000 
    00007ffee06c20b0:  0000000000000000  0000000000000000 
    00007ffee06c20c0:  0000000000000000  0000000000000000 
    00007ffee06c20d0:  000000c420000180  0000000000000000 
    00007ffee06c20e0:  0000561f1bd193e0 <runtime.main+208>  0000561f1ca0d970 
    00007ffee06c20f0:  0000000000000000  0000000000000000 
    00007ffee06c2100:  0000000000000000  0000000000000000 
    00007ffee06c2110:  0000000000000000  0000000000000000 
    00007ffee06c2120:  0000000000000000  000000c420000180 
    00007ffee06c2130:  0000000000000000  0000561f1bd44f31 <runtime.goexit+1> 
    00007ffee06c2140: <0000000000000000  0000000000000000 
    00007ffee06c2150:  0000000000000000  0000000000000000 
    00007ffee06c2160:  0000561f1bd35582 <runtime.step+290>  0000561f1ca91232 
    00007ffee06c2170:  000000000030da24  000000000030da24 
    00007ffee06c2180:  0000029300000002  00000050b9584da8 
    00007ffee06c2190:  000000000030da24  00007ffee06c2248 
    00007ffee06c21a0:  0000561f1bd34936 <runtime.pcvalue+342>  0000561f1caa7828 
    00007ffee06c21b0:  00000000002f742e  00000000002f742e 
    00007ffee06c21c0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffee06c21d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffee06c21e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffee06c21f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffee06c2200:  ffffffffffffffff  ffffffffffffffff 
    00007ffee06c2210:  ffffffffffffffff  ffffffffffffffff 
    00007ffee06c2220:  ffffffffffffffff  ffffffffffffffff 
    00007ffee06c2230:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f75b8dd2f47
    stack: frame={sp:0x7ffee06c2140, fp:0x0} stack=[0x7ffedfec3640,0x7ffee06c2670)
    00007ffee06c2040:  0000000000000003  0000561f1c3e15c0 
    00007ffee06c2050:  0000000000000000  000000c420081fe0 
    00007ffee06c2060:  0000000000000000  0000000000000000 
    00007ffee06c2070:  00007f75b9180560  00007f75b9183bc0 
    00007ffee06c2080:  000000c42006ffd0  0000561f1bd193e0 <runtime.main+208> 
    00007ffee06c2090:  0000561f1ca0d970  0000000000000000 
    00007ffee06c20a0:  0000000000000000  0000000000000000 
    00007ffee06c20b0:  0000000000000000  0000000000000000 
    00007ffee06c20c0:  0000000000000000  0000000000000000 
    00007ffee06c20d0:  000000c420000180  0000000000000000 
    00007ffee06c20e0:  0000561f1bd193e0 <runtime.main+208>  0000561f1ca0d970 
    00007ffee06c20f0:  0000000000000000  0000000000000000 
    00007ffee06c2100:  0000000000000000  0000000000000000 
    00007ffee06c2110:  0000000000000000  0000000000000000 
    00007ffee06c2120:  0000000000000000  000000c420000180 
    00007ffee06c2130:  0000000000000000  0000561f1bd44f31 <runtime.goexit+1> 
    00007ffee06c2140: <0000000000000000  0000000000000000 
    00007ffee06c2150:  0000000000000000  0000000000000000 
    00007ffee06c2160:  0000561f1bd35582 <runtime.step+290>  0000561f1ca91232 
    00007ffee06c2170:  000000000030da24  000000000030da24 
    00007ffee06c2180:  0000029300000002  00000050b9584da8 
    00007ffee06c2190:  000000000030da24  00007ffee06c2248 
    00007ffee06c21a0:  0000561f1bd34936 <runtime.pcvalue+342>  0000561f1caa7828 
    00007ffee06c21b0:  00000000002f742e  00000000002f742e 
    00007ffee06c21c0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffee06c21d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffee06c21e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffee06c21f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffee06c2200:  ffffffffffffffff  ffffffffffffffff 
    00007ffee06c2210:  ffffffffffffffff  ffffffffffffffff 
    00007ffee06c2220:  ffffffffffffffff  ffffffffffffffff 
    00007ffee06c2230:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x561f1c3e1a30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x561f1bd43bcf
    runtime.newm1(0xc4200a8000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x561f1bd1d6b1
    runtime.newm(0x561f1ca0db08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x561f1bd1d52f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x561f1bd1d791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x561f1bd194b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x561f1bd44f31
    
    rax    0x0
    rbx    0x7f75b9180840
    rcx    0x7f75b8dd2f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffee06c2140
    rbp    0x561f1c51332a
    rsp    0x7ffee06c2140
    r8     0x0
    r9     0x7ffee06c2140
    r10    0x8
    r11    0x246
    r12    0x561f1d411690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f75b8dd2f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 5 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000088000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000088000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc00004b000, 0x4)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000073f01)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.resetspinning()
    	/usr/local/go/src/runtime/proc.go:2533 +0x59
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2684 +0x2b9
    runtime.mstart1()
    	/usr/local/go/src/runtime/proc.go:1179 +0x93
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1137 +0x6e
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x1bb7a80, 0xc0000420c8, 0x170e, 0x2)
    	/usr/local/go/src/runtime/proc.go:306 +0xe5
    runtime.chanrecv(0xc000042070, 0x0, 0xc000000101, 0x41a55e)
    	/usr/local/go/src/runtime/chan.go:577 +0x36f
    runtime.chanrecv1(0xc000042070, 0x0)
    	/usr/local/go/src/runtime/chan.go:439 +0x2b
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:219 +0x95
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f6dcbf8bf47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f6dcbf8bf47
    stack: frame={sp:0x7fff85ef7710, fp:0x0} stack=[0x7fff856f8c10,0x7fff85ef7c40)
    00007fff85ef7610:  003a656300000003  0000556d184915c0 
    00007fff85ef7620:  00007f6dcc339420  000000c420081fe0 
    00007fff85ef7630:  0000000000000000  0000000000000000 
    00007fff85ef7640:  0000000000000000  0000000000000000 
    00007fff85ef7650:  0000000000000003  b84d73c5fa5a7800 
    00007fff85ef7660:  0000000000000000  00000000000f4240 
    00007fff85ef7670:  0000556d1abe5540  0000556d184915c0 
    00007fff85ef7680:  00007fff85ef7720  0000000000000000 
    00007fff85ef7690:  00007fff85ef7710  0000556d18491520 
    00007fff85ef76a0:  0000000000000004  00007fff85ef76b0 
    00007fff85ef76b0:  0000000000000000  0000000000000000 
    00007fff85ef76c0:  0000000000000000  b84d73c5fa5a7800 
    00007fff85ef76d0:  0000000000000000  00007fff85ef7720 
    00007fff85ef76e0:  00007fff85ef77e0  0000556d1abe5540 
    00007fff85ef76f0:  00000000000000f1  b84d73c5fa5a7800 
    00007fff85ef7700:  0000000000000000  0000556d18491753 
    00007fff85ef7710: <0000000000000000  0000000000800000 
    00007fff85ef7720:  0000000000000000  00007fff85ef7768 
    00007fff85ef7730:  0000556d17de5582 <runtime.step+290>  0000556d18b41232 
    00007fff85ef7740:  000000000030da24  000000000030da24 
    00007fff85ef7750:  0000029300000002  00000050cc73dda8 
    00007fff85ef7760:  000000000030da24  00007fff85ef7818 
    00007fff85ef7770:  0000556d17de4936 <runtime.pcvalue+342>  0000556d18b57828 
    00007fff85ef7780:  00000000002f742e  00000000002f742e 
    00007fff85ef7790:  fffffffe7fffffff  ffffffffffffffff 
    00007fff85ef77a0:  ffffffffffffffff  ffffffffffffffff 
    00007fff85ef77b0:  ffffffffffffffff  ffffffffffffffff 
    00007fff85ef77c0:  ffffffffffffffff  ffffffffffffffff 
    00007fff85ef77d0:  ffffffffffffffff  ffffffffffffffff 
    00007fff85ef77e0:  ffffffffffffffff  ffffffffffffffff 
    00007fff85ef77f0:  ffffffffffffffff  ffffffffffffffff 
    00007fff85ef7800:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f6dcbf8bf47
    stack: frame={sp:0x7fff85ef7710, fp:0x0} stack=[0x7fff856f8c10,0x7fff85ef7c40)
    00007fff85ef7610:  003a656300000003  0000556d184915c0 
    00007fff85ef7620:  00007f6dcc339420  000000c420081fe0 
    00007fff85ef7630:  0000000000000000  0000000000000000 
    00007fff85ef7640:  0000000000000000  0000000000000000 
    00007fff85ef7650:  0000000000000003  b84d73c5fa5a7800 
    00007fff85ef7660:  0000000000000000  00000000000f4240 
    00007fff85ef7670:  0000556d1abe5540  0000556d184915c0 
    00007fff85ef7680:  00007fff85ef7720  0000000000000000 
    00007fff85ef7690:  00007fff85ef7710  0000556d18491520 
    00007fff85ef76a0:  0000000000000004  00007fff85ef76b0 
    00007fff85ef76b0:  0000000000000000  0000000000000000 
    00007fff85ef76c0:  0000000000000000  b84d73c5fa5a7800 
    00007fff85ef76d0:  0000000000000000  00007fff85ef7720 
    00007fff85ef76e0:  00007fff85ef77e0  0000556d1abe5540 
    00007fff85ef76f0:  00000000000000f1  b84d73c5fa5a7800 
    00007fff85ef7700:  0000000000000000  0000556d18491753 
    00007fff85ef7710: <0000000000000000  0000000000800000 
    00007fff85ef7720:  0000000000000000  00007fff85ef7768 
    00007fff85ef7730:  0000556d17de5582 <runtime.step+290>  0000556d18b41232 
    00007fff85ef7740:  000000000030da24  000000000030da24 
    00007fff85ef7750:  0000029300000002  00000050cc73dda8 
    00007fff85ef7760:  000000000030da24  00007fff85ef7818 
    00007fff85ef7770:  0000556d17de4936 <runtime.pcvalue+342>  0000556d18b57828 
    00007fff85ef7780:  00000000002f742e  00000000002f742e 
    00007fff85ef7790:  fffffffe7fffffff  ffffffffffffffff 
    00007fff85ef77a0:  ffffffffffffffff  ffffffffffffffff 
    00007fff85ef77b0:  ffffffffffffffff  ffffffffffffffff 
    00007fff85ef77c0:  ffffffffffffffff  ffffffffffffffff 
    00007fff85ef77d0:  ffffffffffffffff  ffffffffffffffff 
    00007fff85ef77e0:  ffffffffffffffff  ffffffffffffffff 
    00007fff85ef77f0:  ffffffffffffffff  ffffffffffffffff 
    00007fff85ef7800:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x556d18491a30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x556d17df3bcf
    runtime.newm1(0xc420094400)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x556d17dcd6b1
    runtime.newm(0x556d18abdb08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x556d17dcd52f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x556d17dcd791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x556d17dc94b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x556d17df4f31
    
    rax    0x0
    rbx    0x7f6dcc339840
    rcx    0x7f6dcbf8bf47
    rdx    0x0
    rdi    0x2
    rsi    0x7fff85ef7710
    rbp    0x556d185c332a
    rsp    0x7fff85ef7710
    r8     0x0
    r9     0x7fff85ef7710
    r10    0x8
    r11    0x246
    r12    0x556d1abe5690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f6dcbf8bf47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
