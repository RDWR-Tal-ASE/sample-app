apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fae8aa3ef47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fae8aa3ef47
    stack: frame={sp:0x7fff183922f0, fp:0x0} stack=[0x7fff17b937f0,0x7fff18392820)
    00007fff183921f0:  0000000000000001  0000000000000000 
    00007fff18392200:  0000000000000000  000000c420081fe0 
    00007fff18392210:  0000000000000000  0000000000000000 
    00007fff18392220:  0000000000000000  0000000000000000 
    00007fff18392230:  00007fae8adec560  00007fae8adefbc0 
    00007fff18392240:  000000c42006ffd0  00005628813b53e0 <runtime.main+208> 
    00007fff18392250:  00005628820a9970  0000000000000000 
    00007fff18392260:  0000000000000000  0000000000000000 
    00007fff18392270:  0000000000000000  0000000000000000 
    00007fff18392280:  0000000000000000  0000000000000000 
    00007fff18392290:  000000c420000180  0000000000000000 
    00007fff183922a0:  00005628813b53e0 <runtime.main+208>  00005628820a9970 
    00007fff183922b0:  0000000000000000  0000000000000000 
    00007fff183922c0:  0000000000000000  0000000000000000 
    00007fff183922d0:  0000000000000000  0000000000000000 
    00007fff183922e0:  0000000000000000  000000c420000180 
    00007fff183922f0: <0000000000000000  00005628813e0f31 <runtime.goexit+1> 
    00007fff18392300:  0000000000000000  0000000000000000 
    00007fff18392310:  0000000000000000  0000000000000000 
    00007fff18392320:  000000000030da24  000000000030da24 
    00007fff18392330:  0000029300000002  000000508adf8ec5 
    00007fff18392340:  000000000030da24  00007fff183923f8 
    00007fff18392350:  00005628813d0936 <runtime.pcvalue+342>  0000562882143828 
    00007fff18392360:  00000000002f742e  00000000002f742e 
    00007fff18392370:  fffffffe7fffffff  ffffffffffffffff 
    00007fff18392380:  ffffffffffffffff  ffffffffffffffff 
    00007fff18392390:  ffffffffffffffff  ffffffffffffffff 
    00007fff183923a0:  ffffffffffffffff  ffffffffffffffff 
    00007fff183923b0:  ffffffffffffffff  ffffffffffffffff 
    00007fff183923c0:  ffffffffffffffff  ffffffffffffffff 
    00007fff183923d0:  ffffffffffffffff  ffffffffffffffff 
    00007fff183923e0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fae8aa3ef47
    stack: frame={sp:0x7fff183922f0, fp:0x0} stack=[0x7fff17b937f0,0x7fff18392820)
    00007fff183921f0:  0000000000000001  0000000000000000 
    00007fff18392200:  0000000000000000  000000c420081fe0 
    00007fff18392210:  0000000000000000  0000000000000000 
    00007fff18392220:  0000000000000000  0000000000000000 
    00007fff18392230:  00007fae8adec560  00007fae8adefbc0 
    00007fff18392240:  000000c42006ffd0  00005628813b53e0 <runtime.main+208> 
    00007fff18392250:  00005628820a9970  0000000000000000 
    00007fff18392260:  0000000000000000  0000000000000000 
    00007fff18392270:  0000000000000000  0000000000000000 
    00007fff18392280:  0000000000000000  0000000000000000 
    00007fff18392290:  000000c420000180  0000000000000000 
    00007fff183922a0:  00005628813b53e0 <runtime.main+208>  00005628820a9970 
    00007fff183922b0:  0000000000000000  0000000000000000 
    00007fff183922c0:  0000000000000000  0000000000000000 
    00007fff183922d0:  0000000000000000  0000000000000000 
    00007fff183922e0:  0000000000000000  000000c420000180 
    00007fff183922f0: <0000000000000000  00005628813e0f31 <runtime.goexit+1> 
    00007fff18392300:  0000000000000000  0000000000000000 
    00007fff18392310:  0000000000000000  0000000000000000 
    00007fff18392320:  000000000030da24  000000000030da24 
    00007fff18392330:  0000029300000002  000000508adf8ec5 
    00007fff18392340:  000000000030da24  00007fff183923f8 
    00007fff18392350:  00005628813d0936 <runtime.pcvalue+342>  0000562882143828 
    00007fff18392360:  00000000002f742e  00000000002f742e 
    00007fff18392370:  fffffffe7fffffff  ffffffffffffffff 
    00007fff18392380:  ffffffffffffffff  ffffffffffffffff 
    00007fff18392390:  ffffffffffffffff  ffffffffffffffff 
    00007fff183923a0:  ffffffffffffffff  ffffffffffffffff 
    00007fff183923b0:  ffffffffffffffff  ffffffffffffffff 
    00007fff183923c0:  ffffffffffffffff  ffffffffffffffff 
    00007fff183923d0:  ffffffffffffffff  ffffffffffffffff 
    00007fff183923e0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x562881a7da30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x5628813dfbcf
    runtime.newm1(0xc420061000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x5628813b96b1
    runtime.newm(0x5628820a9b08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x5628813b952f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x5628813b9791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x5628813b54b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x5628813e0f31
    
    rax    0x0
    rbx    0x7fae8adec840
    rcx    0x7fae8aa3ef47
    rdx    0x0
    rdi    0x2
    rsi    0x7fff183922f0
    rbp    0x562881baf32a
    rsp    0x7fff183922f0
    r8     0x0
    r9     0x7fff183922f0
    r10    0x8
    r11    0x246
    r12    0x56288394d690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fae8aa3ef47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 5 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000088000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000088000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc00004b000, 0x4)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000073f01)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.resetspinning()
    	/usr/local/go/src/runtime/proc.go:2533 +0x59
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2684 +0x2b9
    runtime.mstart1()
    	/usr/local/go/src/runtime/proc.go:1179 +0x93
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1137 +0x6e
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x1bb7a80, 0xc0000420c8, 0x170e, 0x2)
    	/usr/local/go/src/runtime/proc.go:306 +0xe5
    runtime.chanrecv(0xc000042070, 0x0, 0xc000000101, 0x41a55e)
    	/usr/local/go/src/runtime/chan.go:577 +0x36f
    runtime.chanrecv1(0xc000042070, 0x0)
    	/usr/local/go/src/runtime/chan.go:439 +0x2b
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:219 +0x95
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f8fd95b4f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f8fd95b4f47
    stack: frame={sp:0x7ffcdfe5faa0, fp:0x0} stack=[0x7ffcdf660fa0,0x7ffcdfe5ffd0)
    00007ffcdfe5f9a0:  00007f8f00000003  0000556f2c3d25c0 
    00007ffcdfe5f9b0:  0000000000000000  000000c420081fe0 
    00007ffcdfe5f9c0:  0000000000000000  0000000000000000 
    00007ffcdfe5f9d0:  0000000000000000  0000000000000000 
    00007ffcdfe5f9e0:  0000000000000000  0000000000000000 
    00007ffcdfe5f9f0:  00007f8fd9962560  00007f8fd9965bc0 
    00007ffcdfe5fa00:  000000c42006ffd0  0000556f2bd0a3e0 <runtime.main+208> 
    00007ffcdfe5fa10:  0000556f2c9fe970  0000000000000000 
    00007ffcdfe5fa20:  0000000000000000  0000000000000000 
    00007ffcdfe5fa30:  0000000000000000  0000000000000000 
    00007ffcdfe5fa40:  0000000000000000  0000000000000000 
    00007ffcdfe5fa50:  000000c420000180  0000000000000000 
    00007ffcdfe5fa60:  0000556f2bd0a3e0 <runtime.main+208>  0000556f2c9fe970 
    00007ffcdfe5fa70:  0000000000000000  0000000000000000 
    00007ffcdfe5fa80:  0000000000000000  0000000000000000 
    00007ffcdfe5fa90:  0000000000000000  0000000000000000 
    00007ffcdfe5faa0: <0000000000000000  000000c420000180 
    00007ffcdfe5fab0:  0000000000000000  0000556f2bd35f31 <runtime.goexit+1> 
    00007ffcdfe5fac0:  0000000000000000  0000000000000000 
    00007ffcdfe5fad0:  0000000000000000  0000000000000000 
    00007ffcdfe5fae0:  0000029300000002  00000050d9d66da8 
    00007ffcdfe5faf0:  000000000030da24  00007ffcdfe5fba8 
    00007ffcdfe5fb00:  0000556f2bd25936 <runtime.pcvalue+342>  0000556f2ca98828 
    00007ffcdfe5fb10:  00000000002f742e  00000000002f742e 
    00007ffcdfe5fb20:  fffffffe7fffffff  ffffffffffffffff 
    00007ffcdfe5fb30:  ffffffffffffffff  ffffffffffffffff 
    00007ffcdfe5fb40:  ffffffffffffffff  ffffffffffffffff 
    00007ffcdfe5fb50:  ffffffffffffffff  ffffffffffffffff 
    00007ffcdfe5fb60:  ffffffffffffffff  ffffffffffffffff 
    00007ffcdfe5fb70:  ffffffffffffffff  ffffffffffffffff 
    00007ffcdfe5fb80:  ffffffffffffffff  ffffffffffffffff 
    00007ffcdfe5fb90:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f8fd95b4f47
    stack: frame={sp:0x7ffcdfe5faa0, fp:0x0} stack=[0x7ffcdf660fa0,0x7ffcdfe5ffd0)
    00007ffcdfe5f9a0:  00007f8f00000003  0000556f2c3d25c0 
    00007ffcdfe5f9b0:  0000000000000000  000000c420081fe0 
    00007ffcdfe5f9c0:  0000000000000000  0000000000000000 
    00007ffcdfe5f9d0:  0000000000000000  0000000000000000 
    00007ffcdfe5f9e0:  0000000000000000  0000000000000000 
    00007ffcdfe5f9f0:  00007f8fd9962560  00007f8fd9965bc0 
    00007ffcdfe5fa00:  000000c42006ffd0  0000556f2bd0a3e0 <runtime.main+208> 
    00007ffcdfe5fa10:  0000556f2c9fe970  0000000000000000 
    00007ffcdfe5fa20:  0000000000000000  0000000000000000 
    00007ffcdfe5fa30:  0000000000000000  0000000000000000 
    00007ffcdfe5fa40:  0000000000000000  0000000000000000 
    00007ffcdfe5fa50:  000000c420000180  0000000000000000 
    00007ffcdfe5fa60:  0000556f2bd0a3e0 <runtime.main+208>  0000556f2c9fe970 
    00007ffcdfe5fa70:  0000000000000000  0000000000000000 
    00007ffcdfe5fa80:  0000000000000000  0000000000000000 
    00007ffcdfe5fa90:  0000000000000000  0000000000000000 
    00007ffcdfe5faa0: <0000000000000000  000000c420000180 
    00007ffcdfe5fab0:  0000000000000000  0000556f2bd35f31 <runtime.goexit+1> 
    00007ffcdfe5fac0:  0000000000000000  0000000000000000 
    00007ffcdfe5fad0:  0000000000000000  0000000000000000 
    00007ffcdfe5fae0:  0000029300000002  00000050d9d66da8 
    00007ffcdfe5faf0:  000000000030da24  00007ffcdfe5fba8 
    00007ffcdfe5fb00:  0000556f2bd25936 <runtime.pcvalue+342>  0000556f2ca98828 
    00007ffcdfe5fb10:  00000000002f742e  00000000002f742e 
    00007ffcdfe5fb20:  fffffffe7fffffff  ffffffffffffffff 
    00007ffcdfe5fb30:  ffffffffffffffff  ffffffffffffffff 
    00007ffcdfe5fb40:  ffffffffffffffff  ffffffffffffffff 
    00007ffcdfe5fb50:  ffffffffffffffff  ffffffffffffffff 
    00007ffcdfe5fb60:  ffffffffffffffff  ffffffffffffffff 
    00007ffcdfe5fb70:  ffffffffffffffff  ffffffffffffffff 
    00007ffcdfe5fb80:  ffffffffffffffff  ffffffffffffffff 
    00007ffcdfe5fb90:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x556f2c3d2a30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x556f2bd34bcf
    runtime.newm1(0xc420094400)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x556f2bd0e6b1
    runtime.newm(0x556f2c9feb08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x556f2bd0e52f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x556f2bd0e791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x556f2bd0a4b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x556f2bd35f31
    
    rax    0x0
    rbx    0x7f8fd9962840
    rcx    0x7f8fd95b4f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffcdfe5faa0
    rbp    0x556f2c50432a
    rsp    0x7ffcdfe5faa0
    r8     0x0
    r9     0x7ffcdfe5faa0
    r10    0x8
    r11    0x246
    r12    0x556f2da35690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f8fd95b4f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
