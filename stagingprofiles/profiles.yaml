apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fb6c056ff47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fb6c056ff47
    stack: frame={sp:0x7ffed4b93cd0, fp:0x0} stack=[0x7ffed43951d0,0x7ffed4b94200)
    00007ffed4b93bd0:  0000000000000001  0000000000000000 
    00007ffed4b93be0:  0000000000000000  0000000000000000 
    00007ffed4b93bf0:  00007fb6c091d560  00007fb6c0920bc0 
    00007ffed4b93c00:  000000c42006ffd0  000056470f5903e0 <runtime.main+208> 
    00007ffed4b93c10:  0000564710284970  0000000000000000 
    00007ffed4b93c20:  0000000000000000  0000000000000000 
    00007ffed4b93c30:  0000000000000000  0000000000000000 
    00007ffed4b93c40:  0000000000000000  0000000000000000 
    00007ffed4b93c50:  000000c420000180  0000000000000000 
    00007ffed4b93c60:  000056470f5903e0 <runtime.main+208>  0000564710284970 
    00007ffed4b93c70:  0000000000000000  0000000000000000 
    00007ffed4b93c80:  0000000000000000  0000000000000000 
    00007ffed4b93c90:  0000000000000000  0000000000000000 
    00007ffed4b93ca0:  0000000000000000  000000c420000180 
    00007ffed4b93cb0:  0000000000000000  000056470f5bbf31 <runtime.goexit+1> 
    00007ffed4b93cc0:  0000000000000000  0000000000000000 
    00007ffed4b93cd0: <0000000000000000  0000000000000000 
    00007ffed4b93ce0:  00007fb6c0d610d0  00007ffed4b93d28 
    00007ffed4b93cf0:  000056470f5ac582 <runtime.step+290>  0000564710308232 
    00007ffed4b93d00:  000000000030da24  000000000030da24 
    00007ffed4b93d10:  0000029300000002  00000050c0929ec5 
    00007ffed4b93d20:  000000000030da24  00007ffed4b93dd8 
    00007ffed4b93d30:  000056470f5ab936 <runtime.pcvalue+342>  000056471031e828 
    00007ffed4b93d40:  0000000000000002  0000000000000000 
    00007ffed4b93d50:  fffffffe7fffffff  ffffffffffffffff 
    00007ffed4b93d60:  ffffffffffffffff  ffffffffffffffff 
    00007ffed4b93d70:  ffffffffffffffff  ffffffffffffffff 
    00007ffed4b93d80:  ffffffffffffffff  ffffffffffffffff 
    00007ffed4b93d90:  ffffffffffffffff  ffffffffffffffff 
    00007ffed4b93da0:  ffffffffffffffff  ffffffffffffffff 
    00007ffed4b93db0:  ffffffffffffffff  ffffffffffffffff 
    00007ffed4b93dc0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fb6c056ff47
    stack: frame={sp:0x7ffed4b93cd0, fp:0x0} stack=[0x7ffed43951d0,0x7ffed4b94200)
    00007ffed4b93bd0:  0000000000000001  0000000000000000 
    00007ffed4b93be0:  0000000000000000  0000000000000000 
    00007ffed4b93bf0:  00007fb6c091d560  00007fb6c0920bc0 
    00007ffed4b93c00:  000000c42006ffd0  000056470f5903e0 <runtime.main+208> 
    00007ffed4b93c10:  0000564710284970  0000000000000000 
    00007ffed4b93c20:  0000000000000000  0000000000000000 
    00007ffed4b93c30:  0000000000000000  0000000000000000 
    00007ffed4b93c40:  0000000000000000  0000000000000000 
    00007ffed4b93c50:  000000c420000180  0000000000000000 
    00007ffed4b93c60:  000056470f5903e0 <runtime.main+208>  0000564710284970 
    00007ffed4b93c70:  0000000000000000  0000000000000000 
    00007ffed4b93c80:  0000000000000000  0000000000000000 
    00007ffed4b93c90:  0000000000000000  0000000000000000 
    00007ffed4b93ca0:  0000000000000000  000000c420000180 
    00007ffed4b93cb0:  0000000000000000  000056470f5bbf31 <runtime.goexit+1> 
    00007ffed4b93cc0:  0000000000000000  0000000000000000 
    00007ffed4b93cd0: <0000000000000000  0000000000000000 
    00007ffed4b93ce0:  00007fb6c0d610d0  00007ffed4b93d28 
    00007ffed4b93cf0:  000056470f5ac582 <runtime.step+290>  0000564710308232 
    00007ffed4b93d00:  000000000030da24  000000000030da24 
    00007ffed4b93d10:  0000029300000002  00000050c0929ec5 
    00007ffed4b93d20:  000000000030da24  00007ffed4b93dd8 
    00007ffed4b93d30:  000056470f5ab936 <runtime.pcvalue+342>  000056471031e828 
    00007ffed4b93d40:  0000000000000002  0000000000000000 
    00007ffed4b93d50:  fffffffe7fffffff  ffffffffffffffff 
    00007ffed4b93d60:  ffffffffffffffff  ffffffffffffffff 
    00007ffed4b93d70:  ffffffffffffffff  ffffffffffffffff 
    00007ffed4b93d80:  ffffffffffffffff  ffffffffffffffff 
    00007ffed4b93d90:  ffffffffffffffff  ffffffffffffffff 
    00007ffed4b93da0:  ffffffffffffffff  ffffffffffffffff 
    00007ffed4b93db0:  ffffffffffffffff  ffffffffffffffff 
    00007ffed4b93dc0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x56470fc58a30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x56470f5babcf
    runtime.newm1(0xc420061000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x56470f5946b1
    runtime.newm(0x564710284b08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x56470f59452f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x56470f594791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x56470f5904b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x56470f5bbf31
    
    rax    0x0
    rbx    0x7fb6c091d840
    rcx    0x7fb6c056ff47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffed4b93cd0
    rbp    0x56470fd8a32a
    rsp    0x7ffed4b93cd0
    r8     0x0
    r9     0x7ffed4b93cd0
    r10    0x8
    r11    0x246
    r12    0x564711c19690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fb6c056ff47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 4 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062800)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062800)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x0, 0xc000046000, 0x3)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0xc000046000, 0x2a6cc00)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.handoffp(0xc000046000)
    	/usr/local/go/src/runtime/proc.go:2001 +0x52
    runtime.stoplockedm()
    	/usr/local/go/src/runtime/proc.go:2075 +0xf7
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2611 +0x48c
    runtime.park_m(0xc000000180)
    	/usr/local/go/src/runtime/proc.go:2845 +0x9d
    runtime.mcall(0x0)
    	/usr/local/go/src/runtime/asm_amd64.s:318 +0x5b
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x1bb7a80, 0xc0000420c8, 0x170e, 0x2)
    	/usr/local/go/src/runtime/proc.go:306 +0xe5
    runtime.chanrecv(0xc000042070, 0x0, 0xc000000101, 0x41a55e)
    	/usr/local/go/src/runtime/chan.go:577 +0x36f
    runtime.chanrecv1(0xc000042070, 0x0)
    	/usr/local/go/src/runtime/chan.go:439 +0x2b
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:219 +0x95
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fc2d9191f47 m=3 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fc2d9191f47
    stack: frame={sp:0x7fc2d0950810, fp:0x0} stack=[0x7fc2d0151290,0x7fc2d0950e90)
    00007fc2d0950710:  0000000000000000  0000000000000000 
    00007fc2d0950720:  0000000000000000  0000000000000000 
    00007fc2d0950730:  0000000000000000  0000000000000000 
    00007fc2d0950740:  0000000000000000  0000000000000000 
    00007fc2d0950750:  0000000000000000  0000000000000000 
    00007fc2d0950760:  0000000000000000  0000000000000000 
    00007fc2d0950770:  0000000000000000  0000000000000000 
    00007fc2d0950780:  0000000000000000  0000000000000000 
    00007fc2d0950790:  0000000000000000  0000000000000000 
    00007fc2d09507a0:  0000000000000000  0000000000000000 
    00007fc2d09507b0:  0000000000000000  0000000000000000 
    00007fc2d09507c0:  0000000000000000  0000000000000000 
    00007fc2d09507d0:  0000000000000000  0000000000000000 
    00007fc2d09507e0:  0000000000000000  0000000000000000 
    00007fc2d09507f0:  0000000000000000  0000000000000000 
    00007fc2d0950800:  0000000000000000  0000000000000000 
    00007fc2d0950810: <0000000000000000  0000000000000000 
    00007fc2d0950820:  0000000000000000  0000000000000000 
    00007fc2d0950830:  0000000000000000  0000000000000000 
    00007fc2d0950840:  0000000000000000  0000000000000000 
    00007fc2d0950850:  0000000000000000  0000000000000000 
    00007fc2d0950860:  0000000000000000  0000000000000000 
    00007fc2d0950870:  0000000000000000  0000000000000000 
    00007fc2d0950880:  0000000000000000  0000000000000000 
    00007fc2d0950890:  fffffffe7fffffff  ffffffffffffffff 
    00007fc2d09508a0:  ffffffffffffffff  ffffffffffffffff 
    00007fc2d09508b0:  ffffffffffffffff  ffffffffffffffff 
    00007fc2d09508c0:  ffffffffffffffff  ffffffffffffffff 
    00007fc2d09508d0:  ffffffffffffffff  ffffffffffffffff 
    00007fc2d09508e0:  ffffffffffffffff  ffffffffffffffff 
    00007fc2d09508f0:  ffffffffffffffff  ffffffffffffffff 
    00007fc2d0950900:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fc2d9191f47
    stack: frame={sp:0x7fc2d0950810, fp:0x0} stack=[0x7fc2d0151290,0x7fc2d0950e90)
    00007fc2d0950710:  0000000000000000  0000000000000000 
    00007fc2d0950720:  0000000000000000  0000000000000000 
    00007fc2d0950730:  0000000000000000  0000000000000000 
    00007fc2d0950740:  0000000000000000  0000000000000000 
    00007fc2d0950750:  0000000000000000  0000000000000000 
    00007fc2d0950760:  0000000000000000  0000000000000000 
    00007fc2d0950770:  0000000000000000  0000000000000000 
    00007fc2d0950780:  0000000000000000  0000000000000000 
    00007fc2d0950790:  0000000000000000  0000000000000000 
    00007fc2d09507a0:  0000000000000000  0000000000000000 
    00007fc2d09507b0:  0000000000000000  0000000000000000 
    00007fc2d09507c0:  0000000000000000  0000000000000000 
    00007fc2d09507d0:  0000000000000000  0000000000000000 
    00007fc2d09507e0:  0000000000000000  0000000000000000 
    00007fc2d09507f0:  0000000000000000  0000000000000000 
    00007fc2d0950800:  0000000000000000  0000000000000000 
    00007fc2d0950810: <0000000000000000  0000000000000000 
    00007fc2d0950820:  0000000000000000  0000000000000000 
    00007fc2d0950830:  0000000000000000  0000000000000000 
    00007fc2d0950840:  0000000000000000  0000000000000000 
    00007fc2d0950850:  0000000000000000  0000000000000000 
    00007fc2d0950860:  0000000000000000  0000000000000000 
    00007fc2d0950870:  0000000000000000  0000000000000000 
    00007fc2d0950880:  0000000000000000  0000000000000000 
    00007fc2d0950890:  fffffffe7fffffff  ffffffffffffffff 
    00007fc2d09508a0:  ffffffffffffffff  ffffffffffffffff 
    00007fc2d09508b0:  ffffffffffffffff  ffffffffffffffff 
    00007fc2d09508c0:  ffffffffffffffff  ffffffffffffffff 
    00007fc2d09508d0:  ffffffffffffffff  ffffffffffffffff 
    00007fc2d09508e0:  ffffffffffffffff  ffffffffffffffff 
    00007fc2d09508f0:  ffffffffffffffff  ffffffffffffffff 
    00007fc2d0950900:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [runnable, locked to thread]:
    runtime.gcenable()
    	/usr/lib/go-1.10/src/runtime/mgc.go:214 +0x87
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:161 +0x126
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1
    
    rax    0x0
    rbx    0x7fc2d953f840
    rcx    0x7fc2d9191f47
    rdx    0x0
    rdi    0x2
    rsi    0x7fc2d0950810
    rbp    0x55dbe9ab132a
    rsp    0x7fc2d0950810
    r8     0x0
    r9     0x7fc2d0950810
    r10    0x8
    r11    0x246
    r12    0x55dbeb27a3f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fc2d9191f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
