apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7ff20ad6ef47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7ff20ad6ef47
    stack: frame={sp:0x7ffd5e3a0640, fp:0x0} stack=[0x7ffd5dba1ce0,0x7ffd5e3a0d10)
    00007ffd5e3a0540:  000056515d4a6683 <runtime.main+883>  000000000030da24 
    00007ffd5e3a0550:  0000029300000002  0000005000000000 
    00007ffd5e3a0560:  000000000030da24  00007ffd5e3a0618 
    00007ffd5e3a0570:  000056515d4c1936 <runtime.pcvalue+342>  000056515e234828 
    00007ffd5e3a0580:  00000000002f742e  00000000002f742e 
    00007ffd5e3a0590:  00007ffd5e3a05d0  00007ffd5e3a05cc 
    00007ffd5e3a05a0:  000056515e548301  000056515e23482a 
    00007ffd5e3a05b0:  00000000002f742c  00000000002f742c 
    00007ffd5e3a05c0:  0000000000000001  0000000040000000 
    00007ffd5e3a05d0:  00007ffd5e3a0688  000056515d4bc75f <runtime.adjustframe+175> 
    00007ffd5e3a05e0:  000056515e2347f0  000056515e5483c0 
    00007ffd5e3a05f0:  00007ffd00000000  000056515d4d1f30 <runtime.goexit+0> 
    00007ffd5e3a0600:  00007ffd5e3a0a40  00000000ffffffff 
    00007ffd5e3a0610:  000000005e3a05a0  000056515d4d1f30 <runtime.goexit+0> 
    00007ffd5e3a0620:  000056515d4c21c1 <runtime.funcspdelta+97>  000056515e2347f0 
    00007ffd5e3a0630:  000056515e5483c0  00007ffd0006f548 
    00007ffd5e3a0640: <0000000000000000  00007ffd5e3a07a0 
    00007ffd5e3a0650:  000056515dc2e201  000056515e2347f0 
    00007ffd5e3a0660:  000056515e5483c0  0000000000000000 
    00007ffd5e3a0670:  0000000000000000  000056515d4d1f31 <runtime.goexit+1> 
    00007ffd5e3a0680:  000056515e5483c0  00007ffd5e3a0990 
    00007ffd5e3a0690:  000056515d4c6962 <runtime.gentraceback+4850>  00007ffd5e3a0938 
    00007ffd5e3a06a0:  00007ffd5e3a0a28  000056515e548301 
    00007ffd5e3a06b0:  00007ffd5e3a0701  0000000000000000 
    00007ffd5e3a06c0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffd5e3a06d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd5e3a06e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd5e3a06f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd5e3a0700:  ffffffffffffffff  ffffffffffffffff 
    00007ffd5e3a0710:  ffffffffffffffff  ffffffffffffffff 
    00007ffd5e3a0720:  ffffffffffffffff  ffffffffffffffff 
    00007ffd5e3a0730:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7ff20ad6ef47
    stack: frame={sp:0x7ffd5e3a0640, fp:0x0} stack=[0x7ffd5dba1ce0,0x7ffd5e3a0d10)
    00007ffd5e3a0540:  000056515d4a6683 <runtime.main+883>  000000000030da24 
    00007ffd5e3a0550:  0000029300000002  0000005000000000 
    00007ffd5e3a0560:  000000000030da24  00007ffd5e3a0618 
    00007ffd5e3a0570:  000056515d4c1936 <runtime.pcvalue+342>  000056515e234828 
    00007ffd5e3a0580:  00000000002f742e  00000000002f742e 
    00007ffd5e3a0590:  00007ffd5e3a05d0  00007ffd5e3a05cc 
    00007ffd5e3a05a0:  000056515e548301  000056515e23482a 
    00007ffd5e3a05b0:  00000000002f742c  00000000002f742c 
    00007ffd5e3a05c0:  0000000000000001  0000000040000000 
    00007ffd5e3a05d0:  00007ffd5e3a0688  000056515d4bc75f <runtime.adjustframe+175> 
    00007ffd5e3a05e0:  000056515e2347f0  000056515e5483c0 
    00007ffd5e3a05f0:  00007ffd00000000  000056515d4d1f30 <runtime.goexit+0> 
    00007ffd5e3a0600:  00007ffd5e3a0a40  00000000ffffffff 
    00007ffd5e3a0610:  000000005e3a05a0  000056515d4d1f30 <runtime.goexit+0> 
    00007ffd5e3a0620:  000056515d4c21c1 <runtime.funcspdelta+97>  000056515e2347f0 
    00007ffd5e3a0630:  000056515e5483c0  00007ffd0006f548 
    00007ffd5e3a0640: <0000000000000000  00007ffd5e3a07a0 
    00007ffd5e3a0650:  000056515dc2e201  000056515e2347f0 
    00007ffd5e3a0660:  000056515e5483c0  0000000000000000 
    00007ffd5e3a0670:  0000000000000000  000056515d4d1f31 <runtime.goexit+1> 
    00007ffd5e3a0680:  000056515e5483c0  00007ffd5e3a0990 
    00007ffd5e3a0690:  000056515d4c6962 <runtime.gentraceback+4850>  00007ffd5e3a0938 
    00007ffd5e3a06a0:  00007ffd5e3a0a28  000056515e548301 
    00007ffd5e3a06b0:  00007ffd5e3a0701  0000000000000000 
    00007ffd5e3a06c0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffd5e3a06d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd5e3a06e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd5e3a06f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd5e3a0700:  ffffffffffffffff  ffffffffffffffff 
    00007ffd5e3a0710:  ffffffffffffffff  ffffffffffffffff 
    00007ffd5e3a0720:  ffffffffffffffff  ffffffffffffffff 
    00007ffd5e3a0730:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [runnable, locked to thread]:
    runtime.gopark(0x56515e19aa60, 0xc4200380c8, 0x56515db78704, 0xc, 0xc42003ce17, 0x3)
    	/usr/lib/go-1.10/src/runtime/proc.go:291 +0x120
    runtime.goparkunlock(0xc4200380c8, 0x56515db78704, 0xc, 0x17, 0x3)
    	/usr/lib/go-1.10/src/runtime/proc.go:297 +0x60
    runtime.chanrecv(0xc420038070, 0x0, 0x1, 0x56515d4918aa)
    	/usr/lib/go-1.10/src/runtime/chan.go:518 +0x2f6
    runtime.chanrecv1(0xc420038070, 0x0)
    	/usr/lib/go-1.10/src/runtime/chan.go:400 +0x2b
    runtime.gcenable()
    	/usr/lib/go-1.10/src/runtime/mgc.go:217 +0x71
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:161 +0x126
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1
    
    rax    0x0
    rbx    0x7ff20b11c840
    rcx    0x7ff20ad6ef47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffd5e3a0640
    rbp    0x56515dca032a
    rsp    0x7ffd5e3a0640
    r8     0x0
    r9     0x7ffd5e3a0640
    r10    0x8
    r11    0x246
    r12    0x56515effc540
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7ff20ad6ef47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 4 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    runtime: failed to create new OS thread (have 5 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062800)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062800)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x0, 0xc000046000, 0x3)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0xc000046000, 0x2a6cc00)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.handoffp(0xc000046000)
    	/usr/local/go/src/runtime/proc.go:2001 +0x52
    runtime.stoplockedm()
    	/usr/local/go/src/runtime/proc.go:2075 +0xf7
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2611 +0x48c
    runtime.park_m(0xc000000180)
    	/usr/local/go/src/runtime/proc.go:2845 +0x9d
    runtime.mcall(0x0)
    	/usr/local/go/src/runtime/asm_amd64.s:318 +0x5b
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x1bb7a80, 0xc0000420c8, 0x170e, 0x2)
    	/usr/local/go/src/runtime/proc.go:306 +0xe5
    runtime.chanrecv(0xc000042070, 0x0, 0xc000000101, 0x41a55e)
    	/usr/local/go/src/runtime/chan.go:577 +0x36f
    runtime.chanrecv1(0xc000042070, 0x0)
    	/usr/local/go/src/runtime/chan.go:439 +0x2b
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:219 +0x95
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000088000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000088000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc00004b000, 0x4)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000073f01)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.resetspinning()
    	/usr/local/go/src/runtime/proc.go:2533 +0x59
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2684 +0x2b9
    runtime.mstart1()
    	/usr/local/go/src/runtime/proc.go:1179 +0x93
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1137 +0x6e
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7feaac08df47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7feaac08df47
    stack: frame={sp:0x7fff2a719a50, fp:0x0} stack=[0x7fff29f1b0f0,0x7fff2a71a120)
    00007fff2a719950:  00005605c88c3683 <runtime.main+883>  000000000030da24 
    00007fff2a719960:  0000029300000002  00000050ac65f690 
    00007fff2a719970:  000000000030da24  00007fff2a719a28 
    00007fff2a719980:  00005605c88de936 <runtime.pcvalue+342>  00005605c9651828 
    00007fff2a719990:  00000000002f742e  00000000002f742e 
    00007fff2a7199a0:  00007fff2a7199e0  00007fff2a7199dc 
    00007fff2a7199b0:  00005605c9965301  00005605c965182a 
    00007fff2a7199c0:  00000000002f742c  00000000002f742c 
    00007fff2a7199d0:  0000000000000001  0000000040000000 
    00007fff2a7199e0:  00007fff2a719a98  00005605c88d975f <runtime.adjustframe+175> 
    00007fff2a7199f0:  00005605c96517f0  00005605c99653c0 
    00007fff2a719a00:  00007fff00000000  00005605c88eef30 <runtime.goexit+0> 
    00007fff2a719a10:  00007fff2a719e50  00000000ffffffff 
    00007fff2a719a20:  000000002a7199b0  00005605c88eef30 <runtime.goexit+0> 
    00007fff2a719a30:  00005605c88df1c1 <runtime.funcspdelta+97>  00005605c96517f0 
    00007fff2a719a40:  00005605c99653c0  00007fff0006f548 
    00007fff2a719a50: <0000000000000000  00007fff2a719bb0 
    00007fff2a719a60:  00005605c904b201  00005605c96517f0 
    00007fff2a719a70:  00005605c99653c0  0000000000000000 
    00007fff2a719a80:  0000000000000000  00005605c88eef31 <runtime.goexit+1> 
    00007fff2a719a90:  00005605c99653c0  00007fff2a719da0 
    00007fff2a719aa0:  00005605c88e3962 <runtime.gentraceback+4850>  00007fff2a719d48 
    00007fff2a719ab0:  00007fff2a719e38  00005605c9965301 
    00007fff2a719ac0:  00007fff2a719b01  0000000000000000 
    00007fff2a719ad0:  fffffffe7fffffff  ffffffffffffffff 
    00007fff2a719ae0:  ffffffffffffffff  ffffffffffffffff 
    00007fff2a719af0:  ffffffffffffffff  ffffffffffffffff 
    00007fff2a719b00:  ffffffffffffffff  ffffffffffffffff 
    00007fff2a719b10:  ffffffffffffffff  ffffffffffffffff 
    00007fff2a719b20:  ffffffffffffffff  ffffffffffffffff 
    00007fff2a719b30:  ffffffffffffffff  ffffffffffffffff 
    00007fff2a719b40:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7feaac08df47
    stack: frame={sp:0x7fff2a719a50, fp:0x0} stack=[0x7fff29f1b0f0,0x7fff2a71a120)
    00007fff2a719950:  00005605c88c3683 <runtime.main+883>  000000000030da24 
    00007fff2a719960:  0000029300000002  00000050ac65f690 
    00007fff2a719970:  000000000030da24  00007fff2a719a28 
    00007fff2a719980:  00005605c88de936 <runtime.pcvalue+342>  00005605c9651828 
    00007fff2a719990:  00000000002f742e  00000000002f742e 
    00007fff2a7199a0:  00007fff2a7199e0  00007fff2a7199dc 
    00007fff2a7199b0:  00005605c9965301  00005605c965182a 
    00007fff2a7199c0:  00000000002f742c  00000000002f742c 
    00007fff2a7199d0:  0000000000000001  0000000040000000 
    00007fff2a7199e0:  00007fff2a719a98  00005605c88d975f <runtime.adjustframe+175> 
    00007fff2a7199f0:  00005605c96517f0  00005605c99653c0 
    00007fff2a719a00:  00007fff00000000  00005605c88eef30 <runtime.goexit+0> 
    00007fff2a719a10:  00007fff2a719e50  00000000ffffffff 
    00007fff2a719a20:  000000002a7199b0  00005605c88eef30 <runtime.goexit+0> 
    00007fff2a719a30:  00005605c88df1c1 <runtime.funcspdelta+97>  00005605c96517f0 
    00007fff2a719a40:  00005605c99653c0  00007fff0006f548 
    00007fff2a719a50: <0000000000000000  00007fff2a719bb0 
    00007fff2a719a60:  00005605c904b201  00005605c96517f0 
    00007fff2a719a70:  00005605c99653c0  0000000000000000 
    00007fff2a719a80:  0000000000000000  00005605c88eef31 <runtime.goexit+1> 
    00007fff2a719a90:  00005605c99653c0  00007fff2a719da0 
    00007fff2a719aa0:  00005605c88e3962 <runtime.gentraceback+4850>  00007fff2a719d48 
    00007fff2a719ab0:  00007fff2a719e38  00005605c9965301 
    00007fff2a719ac0:  00007fff2a719b01  0000000000000000 
    00007fff2a719ad0:  fffffffe7fffffff  ffffffffffffffff 
    00007fff2a719ae0:  ffffffffffffffff  ffffffffffffffff 
    00007fff2a719af0:  ffffffffffffffff  ffffffffffffffff 
    00007fff2a719b00:  ffffffffffffffff  ffffffffffffffff 
    00007fff2a719b10:  ffffffffffffffff  ffffffffffffffff 
    00007fff2a719b20:  ffffffffffffffff  ffffffffffffffff 
    00007fff2a719b30:  ffffffffffffffff  ffffffffffffffff 
    00007fff2a719b40:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [runnable, locked to thread]:
    runtime.gopark(0x5605c95b7a60, 0xc4200380c8, 0x5605c8f95704, 0xc, 0xc42003ce17, 0x3)
    	/usr/lib/go-1.10/src/runtime/proc.go:291 +0x120
    runtime.goparkunlock(0xc4200380c8, 0x5605c8f95704, 0xc, 0x17, 0x3)
    	/usr/lib/go-1.10/src/runtime/proc.go:297 +0x60
    runtime.chanrecv(0xc420038070, 0x0, 0x1, 0x5605c88ae8aa)
    	/usr/lib/go-1.10/src/runtime/chan.go:518 +0x2f6
    runtime.chanrecv1(0xc420038070, 0x0)
    	/usr/lib/go-1.10/src/runtime/chan.go:400 +0x2b
    runtime.gcenable()
    	/usr/lib/go-1.10/src/runtime/mgc.go:217 +0x71
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:161 +0x126
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1
    
    rax    0x0
    rbx    0x7feaac43b840
    rcx    0x7feaac08df47
    rdx    0x0
    rdi    0x2
    rsi    0x7fff2a719a50
    rbp    0x5605c90bd32a
    rsp    0x7fff2a719a50
    r8     0x0
    r9     0x7fff2a719a50
    r10    0x8
    r11    0x246
    r12    0x5605c9c7f540
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7feaac08df47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
