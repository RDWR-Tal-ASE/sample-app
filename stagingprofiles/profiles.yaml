apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f64f8d5bf47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f64f8d5bf47
    stack: frame={sp:0x7ffebe2b18b0, fp:0x0} stack=[0x7ffebdab2f50,0x7ffebe2b1f80)
    00007ffebe2b17b0:  000055963262f683 <runtime.main+883>  000000000030da24 
    00007ffebe2b17c0:  0000029300000002  00000050f8d1c700 
    00007ffebe2b17d0:  000000000030da24  00007ffebe2b1888 
    00007ffebe2b17e0:  0000000000000000  0000000000000000 
    00007ffebe2b17f0:  00007f64f9109560  00007f64f910cbc0 
    00007ffebe2b1800:  000000c42006ffd0  000055963262f3e0 <runtime.main+208> 
    00007ffebe2b1810:  0000559633323970  0000000000000000 
    00007ffebe2b1820:  0000000000000000  0000000000000000 
    00007ffebe2b1830:  0000000000000000  0000000000000000 
    00007ffebe2b1840:  0000000000000000  0000000000000000 
    00007ffebe2b1850:  000000c420000180  0000000000000000 
    00007ffebe2b1860:  000055963262f3e0 <runtime.main+208>  0000559633323970 
    00007ffebe2b1870:  0000000000000000  0000000000000000 
    00007ffebe2b1880:  0000000000000000  0000000000000000 
    00007ffebe2b1890:  0000000000000000  0000000000000000 
    00007ffebe2b18a0:  0000000000000000  000000c420000180 
    00007ffebe2b18b0: <0000000000000000  000055963265af31 <runtime.goexit+1> 
    00007ffebe2b18c0:  0000000000000000  0000000000000000 
    00007ffebe2b18d0:  0000000000000000  0000000000000000 
    00007ffebe2b18e0:  0000000000000000  000055963265af31 <runtime.goexit+1> 
    00007ffebe2b18f0:  00005596336d13c0  00007ffebe2b1c00 
    00007ffebe2b1900:  000055963264f962 <runtime.gentraceback+4850>  00007ffebe2b1ba8 
    00007ffebe2b1910:  00007ffebe2b1c98  00005596336d1301 
    00007ffebe2b1920:  00007ffebe2b1a01  0000000000000000 
    00007ffebe2b1930:  fffffffe7fffffff  ffffffffffffffff 
    00007ffebe2b1940:  ffffffffffffffff  ffffffffffffffff 
    00007ffebe2b1950:  ffffffffffffffff  ffffffffffffffff 
    00007ffebe2b1960:  ffffffffffffffff  ffffffffffffffff 
    00007ffebe2b1970:  ffffffffffffffff  ffffffffffffffff 
    00007ffebe2b1980:  ffffffffffffffff  ffffffffffffffff 
    00007ffebe2b1990:  ffffffffffffffff  ffffffffffffffff 
    00007ffebe2b19a0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f64f8d5bf47
    stack: frame={sp:0x7ffebe2b18b0, fp:0x0} stack=[0x7ffebdab2f50,0x7ffebe2b1f80)
    00007ffebe2b17b0:  000055963262f683 <runtime.main+883>  000000000030da24 
    00007ffebe2b17c0:  0000029300000002  00000050f8d1c700 
    00007ffebe2b17d0:  000000000030da24  00007ffebe2b1888 
    00007ffebe2b17e0:  0000000000000000  0000000000000000 
    00007ffebe2b17f0:  00007f64f9109560  00007f64f910cbc0 
    00007ffebe2b1800:  000000c42006ffd0  000055963262f3e0 <runtime.main+208> 
    00007ffebe2b1810:  0000559633323970  0000000000000000 
    00007ffebe2b1820:  0000000000000000  0000000000000000 
    00007ffebe2b1830:  0000000000000000  0000000000000000 
    00007ffebe2b1840:  0000000000000000  0000000000000000 
    00007ffebe2b1850:  000000c420000180  0000000000000000 
    00007ffebe2b1860:  000055963262f3e0 <runtime.main+208>  0000559633323970 
    00007ffebe2b1870:  0000000000000000  0000000000000000 
    00007ffebe2b1880:  0000000000000000  0000000000000000 
    00007ffebe2b1890:  0000000000000000  0000000000000000 
    00007ffebe2b18a0:  0000000000000000  000000c420000180 
    00007ffebe2b18b0: <0000000000000000  000055963265af31 <runtime.goexit+1> 
    00007ffebe2b18c0:  0000000000000000  0000000000000000 
    00007ffebe2b18d0:  0000000000000000  0000000000000000 
    00007ffebe2b18e0:  0000000000000000  000055963265af31 <runtime.goexit+1> 
    00007ffebe2b18f0:  00005596336d13c0  00007ffebe2b1c00 
    00007ffebe2b1900:  000055963264f962 <runtime.gentraceback+4850>  00007ffebe2b1ba8 
    00007ffebe2b1910:  00007ffebe2b1c98  00005596336d1301 
    00007ffebe2b1920:  00007ffebe2b1a01  0000000000000000 
    00007ffebe2b1930:  fffffffe7fffffff  ffffffffffffffff 
    00007ffebe2b1940:  ffffffffffffffff  ffffffffffffffff 
    00007ffebe2b1950:  ffffffffffffffff  ffffffffffffffff 
    00007ffebe2b1960:  ffffffffffffffff  ffffffffffffffff 
    00007ffebe2b1970:  ffffffffffffffff  ffffffffffffffff 
    00007ffebe2b1980:  ffffffffffffffff  ffffffffffffffff 
    00007ffebe2b1990:  ffffffffffffffff  ffffffffffffffff 
    00007ffebe2b19a0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.systemstack_switch()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:363 fp=0xc420081f00 sp=0xc420081ef8 pc=0x559632658370
    runtime.newproc(0x559600000000, 0x5596333238f8)
    	/usr/lib/go-1.10/src/runtime/proc.go:3243 +0x64 fp=0xc420081f40 sp=0xc420081f00 pc=0x559632637264
    runtime.init.4()
    	/usr/lib/go-1.10/src/runtime/proc.go:237 +0x37 fp=0xc420081f60 sp=0xc420081f40 pc=0x55963262f6d7
    runtime.init()
    	<autogenerated>:1 +0xe5 fp=0xc420081f88 sp=0xc420081f60 pc=0x559632657f45
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:144 +0xd0 fp=0xc420081fe0 sp=0xc420081f88 pc=0x55963262f3e0
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x55963265af31
    
    rax    0x0
    rbx    0x7f64f9109840
    rcx    0x7f64f8d5bf47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffebe2b18b0
    rbp    0x559632e2932a
    rsp    0x7ffebe2b18b0
    r8     0x0
    r9     0x7ffebe2b18b0
    r10    0x8
    r11    0x246
    r12    0x5596341213f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f64f8d5bf47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 2 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7d48, 0x0, 0xffffffffffffffff)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.main.func1()
    	/usr/local/go/src/runtime/proc.go:135 +0x3f
    runtime.systemstack(0x46c2f4)
    	/usr/local/go/src/runtime/asm_amd64.s:370 +0x66
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1116
    
    goroutine 1 [running]:
    runtime.systemstack_switch()
    	/usr/local/go/src/runtime/asm_amd64.s:330 fp=0xc00005e788 sp=0xc00005e780 pc=0x46c420
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:134 +0x70 fp=0xc00005e7e0 sp=0xc00005e788 pc=0x439ab0
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1 fp=0xc00005e7e8 sp=0xc00005e7e0 pc=0x46e061
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fbb5f5c8f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fbb5f5c8f47
    stack: frame={sp:0x7fff813de300, fp:0x0} stack=[0x7fff80bdf9a0,0x7fff813de9d0)
    00007fff813de200:  0000557749370683 <runtime.main+883>  000000000030da24 
    00007fff813de210:  0000029300000002  0000005000000000 
    00007fff813de220:  0000000000000000  0000000000000000 
    00007fff813de230:  00007fbb5f976560  00007fbb5f979bc0 
    00007fff813de240:  000000c42006ffd0  00005577493703e0 <runtime.main+208> 
    00007fff813de250:  000055774a064970  0000000000000000 
    00007fff813de260:  0000000000000000  0000000000000000 
    00007fff813de270:  0000000000000000  0000000000000000 
    00007fff813de280:  0000000000000000  0000000000000000 
    00007fff813de290:  000000c420000180  0000000000000000 
    00007fff813de2a0:  00005577493703e0 <runtime.main+208>  000055774a064970 
    00007fff813de2b0:  0000000000000000  0000000000000000 
    00007fff813de2c0:  0000000000000000  0000000000000000 
    00007fff813de2d0:  0000000000000000  0000000000000000 
    00007fff813de2e0:  0000000000000000  000000c420000180 
    00007fff813de2f0:  0000000000000000  000055774939bf31 <runtime.goexit+1> 
    00007fff813de300: <0000000000000000  0000000000000000 
    00007fff813de310:  0000000000000000  0000000000000000 
    00007fff813de320:  000055774a4123c0  0000000000000000 
    00007fff813de330:  0000000000000000  000055774939bf31 <runtime.goexit+1> 
    00007fff813de340:  000055774a4123c0  00007fff813de650 
    00007fff813de350:  0000557749390962 <runtime.gentraceback+4850>  00007fff813de5f8 
    00007fff813de360:  00007fff813de6e8  000055774a412301 
    00007fff813de370:  00007fff813de401  0000000000000000 
    00007fff813de380:  fffffffe7fffffff  ffffffffffffffff 
    00007fff813de390:  ffffffffffffffff  ffffffffffffffff 
    00007fff813de3a0:  ffffffffffffffff  ffffffffffffffff 
    00007fff813de3b0:  ffffffffffffffff  ffffffffffffffff 
    00007fff813de3c0:  ffffffffffffffff  ffffffffffffffff 
    00007fff813de3d0:  ffffffffffffffff  ffffffffffffffff 
    00007fff813de3e0:  ffffffffffffffff  ffffffffffffffff 
    00007fff813de3f0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fbb5f5c8f47
    stack: frame={sp:0x7fff813de300, fp:0x0} stack=[0x7fff80bdf9a0,0x7fff813de9d0)
    00007fff813de200:  0000557749370683 <runtime.main+883>  000000000030da24 
    00007fff813de210:  0000029300000002  0000005000000000 
    00007fff813de220:  0000000000000000  0000000000000000 
    00007fff813de230:  00007fbb5f976560  00007fbb5f979bc0 
    00007fff813de240:  000000c42006ffd0  00005577493703e0 <runtime.main+208> 
    00007fff813de250:  000055774a064970  0000000000000000 
    00007fff813de260:  0000000000000000  0000000000000000 
    00007fff813de270:  0000000000000000  0000000000000000 
    00007fff813de280:  0000000000000000  0000000000000000 
    00007fff813de290:  000000c420000180  0000000000000000 
    00007fff813de2a0:  00005577493703e0 <runtime.main+208>  000055774a064970 
    00007fff813de2b0:  0000000000000000  0000000000000000 
    00007fff813de2c0:  0000000000000000  0000000000000000 
    00007fff813de2d0:  0000000000000000  0000000000000000 
    00007fff813de2e0:  0000000000000000  000000c420000180 
    00007fff813de2f0:  0000000000000000  000055774939bf31 <runtime.goexit+1> 
    00007fff813de300: <0000000000000000  0000000000000000 
    00007fff813de310:  0000000000000000  0000000000000000 
    00007fff813de320:  000055774a4123c0  0000000000000000 
    00007fff813de330:  0000000000000000  000055774939bf31 <runtime.goexit+1> 
    00007fff813de340:  000055774a4123c0  00007fff813de650 
    00007fff813de350:  0000557749390962 <runtime.gentraceback+4850>  00007fff813de5f8 
    00007fff813de360:  00007fff813de6e8  000055774a412301 
    00007fff813de370:  00007fff813de401  0000000000000000 
    00007fff813de380:  fffffffe7fffffff  ffffffffffffffff 
    00007fff813de390:  ffffffffffffffff  ffffffffffffffff 
    00007fff813de3a0:  ffffffffffffffff  ffffffffffffffff 
    00007fff813de3b0:  ffffffffffffffff  ffffffffffffffff 
    00007fff813de3c0:  ffffffffffffffff  ffffffffffffffff 
    00007fff813de3d0:  ffffffffffffffff  ffffffffffffffff 
    00007fff813de3e0:  ffffffffffffffff  ffffffffffffffff 
    00007fff813de3f0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.systemstack_switch()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:363 fp=0xc420081f00 sp=0xc420081ef8 pc=0x557749399370
    runtime.newproc(0x557700000000, 0x55774a0648f8)
    	/usr/lib/go-1.10/src/runtime/proc.go:3243 +0x64 fp=0xc420081f40 sp=0xc420081f00 pc=0x557749378264
    runtime.init.4()
    	/usr/lib/go-1.10/src/runtime/proc.go:237 +0x37 fp=0xc420081f60 sp=0xc420081f40 pc=0x5577493706d7
    runtime.init()
    	<autogenerated>:1 +0xe5 fp=0xc420081f88 sp=0xc420081f60 pc=0x557749398f45
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:144 +0xd0 fp=0xc420081fe0 sp=0xc420081f88 pc=0x5577493703e0
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x55774939bf31
    
    rax    0x0
    rbx    0x7fbb5f976840
    rcx    0x7fbb5f5c8f47
    rdx    0x0
    rdi    0x2
    rsi    0x7fff813de300
    rbp    0x557749b6a32a
    rsp    0x7fff813de300
    r8     0x0
    r9     0x7fff813de300
    r10    0x8
    r11    0x246
    r12    0x55774b8da3f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fbb5f5c8f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
