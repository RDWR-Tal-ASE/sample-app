apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f78ffcc8f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f78ffcc8f47
    stack: frame={sp:0x7ffd89573790, fp:0x0} stack=[0x7ffd88d74e30,0x7ffd89573e60)
    00007ffd89573690:  0000562f03746683 <runtime.main+883>  000000000030da24 
    00007ffd895736a0:  0000000000000000  0000000000000000 
    00007ffd895736b0:  00007f7900076560  00007f7900079bc0 
    00007ffd895736c0:  000000c42006ffd0  0000562f037463e0 <runtime.main+208> 
    00007ffd895736d0:  0000562f0443a970  0000000000000000 
    00007ffd895736e0:  0000000000000000  0000000000000000 
    00007ffd895736f0:  0000000000000000  0000000000000000 
    00007ffd89573700:  0000000000000000  0000000000000000 
    00007ffd89573710:  000000c420000180  0000000000000000 
    00007ffd89573720:  0000562f037463e0 <runtime.main+208>  0000562f0443a970 
    00007ffd89573730:  0000000000000000  0000000000000000 
    00007ffd89573740:  0000000000000000  0000000000000000 
    00007ffd89573750:  0000000000000000  0000000000000000 
    00007ffd89573760:  0000000000000000  000000c420000180 
    00007ffd89573770:  0000000000000000  0000562f03771f31 <runtime.goexit+1> 
    00007ffd89573780:  0000000000000000  0000000000000000 
    00007ffd89573790: <0000000000000000  0000000000000000 
    00007ffd895737a0:  0000562f03ece201  0000562f044d47f0 
    00007ffd895737b0:  0000562f047e83c0  0000000000000000 
    00007ffd895737c0:  0000000000000000  0000562f03771f31 <runtime.goexit+1> 
    00007ffd895737d0:  0000562f047e83c0  00007ffd89573ae0 
    00007ffd895737e0:  0000562f03766962 <runtime.gentraceback+4850>  00007ffd89573a88 
    00007ffd895737f0:  00007ffd89573b78  0000562f047e8301 
    00007ffd89573800:  0000000000000002  0000000000000000 
    00007ffd89573810:  fffffffe7fffffff  ffffffffffffffff 
    00007ffd89573820:  ffffffffffffffff  ffffffffffffffff 
    00007ffd89573830:  ffffffffffffffff  ffffffffffffffff 
    00007ffd89573840:  ffffffffffffffff  ffffffffffffffff 
    00007ffd89573850:  ffffffffffffffff  ffffffffffffffff 
    00007ffd89573860:  ffffffffffffffff  ffffffffffffffff 
    00007ffd89573870:  ffffffffffffffff  ffffffffffffffff 
    00007ffd89573880:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f78ffcc8f47
    stack: frame={sp:0x7ffd89573790, fp:0x0} stack=[0x7ffd88d74e30,0x7ffd89573e60)
    00007ffd89573690:  0000562f03746683 <runtime.main+883>  000000000030da24 
    00007ffd895736a0:  0000000000000000  0000000000000000 
    00007ffd895736b0:  00007f7900076560  00007f7900079bc0 
    00007ffd895736c0:  000000c42006ffd0  0000562f037463e0 <runtime.main+208> 
    00007ffd895736d0:  0000562f0443a970  0000000000000000 
    00007ffd895736e0:  0000000000000000  0000000000000000 
    00007ffd895736f0:  0000000000000000  0000000000000000 
    00007ffd89573700:  0000000000000000  0000000000000000 
    00007ffd89573710:  000000c420000180  0000000000000000 
    00007ffd89573720:  0000562f037463e0 <runtime.main+208>  0000562f0443a970 
    00007ffd89573730:  0000000000000000  0000000000000000 
    00007ffd89573740:  0000000000000000  0000000000000000 
    00007ffd89573750:  0000000000000000  0000000000000000 
    00007ffd89573760:  0000000000000000  000000c420000180 
    00007ffd89573770:  0000000000000000  0000562f03771f31 <runtime.goexit+1> 
    00007ffd89573780:  0000000000000000  0000000000000000 
    00007ffd89573790: <0000000000000000  0000000000000000 
    00007ffd895737a0:  0000562f03ece201  0000562f044d47f0 
    00007ffd895737b0:  0000562f047e83c0  0000000000000000 
    00007ffd895737c0:  0000000000000000  0000562f03771f31 <runtime.goexit+1> 
    00007ffd895737d0:  0000562f047e83c0  00007ffd89573ae0 
    00007ffd895737e0:  0000562f03766962 <runtime.gentraceback+4850>  00007ffd89573a88 
    00007ffd895737f0:  00007ffd89573b78  0000562f047e8301 
    00007ffd89573800:  0000000000000002  0000000000000000 
    00007ffd89573810:  fffffffe7fffffff  ffffffffffffffff 
    00007ffd89573820:  ffffffffffffffff  ffffffffffffffff 
    00007ffd89573830:  ffffffffffffffff  ffffffffffffffff 
    00007ffd89573840:  ffffffffffffffff  ffffffffffffffff 
    00007ffd89573850:  ffffffffffffffff  ffffffffffffffff 
    00007ffd89573860:  ffffffffffffffff  ffffffffffffffff 
    00007ffd89573870:  ffffffffffffffff  ffffffffffffffff 
    00007ffd89573880:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.systemstack_switch()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:363 fp=0xc420081f00 sp=0xc420081ef8 pc=0x562f0376f370
    runtime.newproc(0x562f00000000, 0x562f0443a8f8)
    	/usr/lib/go-1.10/src/runtime/proc.go:3243 +0x64 fp=0xc420081f40 sp=0xc420081f00 pc=0x562f0374e264
    runtime.init.4()
    	/usr/lib/go-1.10/src/runtime/proc.go:237 +0x37 fp=0xc420081f60 sp=0xc420081f40 pc=0x562f037466d7
    runtime.init()
    	<autogenerated>:1 +0xe5 fp=0xc420081f88 sp=0xc420081f60 pc=0x562f0376ef45
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:144 +0xd0 fp=0xc420081fe0 sp=0xc420081f88 pc=0x562f037463e0
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x562f03771f31
    
    rax    0x0
    rbx    0x7f7900076840
    rcx    0x7f78ffcc8f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffd89573790
    rbp    0x562f03f4032a
    rsp    0x7ffd89573790
    r8     0x0
    r9     0x7ffd89573790
    r10    0x8
    r11    0x246
    r12    0x562f058393f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f78ffcc8f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 2 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7d48, 0x0, 0xffffffffffffffff)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.main.func1()
    	/usr/local/go/src/runtime/proc.go:135 +0x3f
    runtime.systemstack(0x46c2f4)
    	/usr/local/go/src/runtime/asm_amd64.s:370 +0x66
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1116
    
    goroutine 1 [running]:
    runtime.systemstack_switch()
    	/usr/local/go/src/runtime/asm_amd64.s:330 fp=0xc00005e788 sp=0xc00005e780 pc=0x46c420
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:134 +0x70 fp=0xc00005e7e0 sp=0xc00005e788 pc=0x439ab0
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1 fp=0xc00005e7e8 sp=0xc00005e7e0 pc=0x46e061
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fe6934d4f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fe6934d4f47
    stack: frame={sp:0x7ffc72b33ba0, fp:0x0} stack=[0x7ffc72335240,0x7ffc72b34270)
    00007ffc72b33aa0:  000055e89ee34683 <runtime.main+883>  000000000030da24 
    00007ffc72b33ab0:  0000029300000002  0000005093abd75a 
    00007ffc72b33ac0:  000000000030da24  00007ffc72b33b78 
    00007ffc72b33ad0:  000055e89ee4f936 <runtime.pcvalue+342>  000055e89fbc2828 
    00007ffc72b33ae0:  00000000002f742e  00000000002f742e 
    00007ffc72b33af0:  00007ffc72b33b30  00007ffc72b33b2c 
    00007ffc72b33b00:  000055e89fed6301  000055e89fbc282a 
    00007ffc72b33b10:  00000000002f742c  00000000002f742c 
    00007ffc72b33b20:  0000000000000001  0000000040000000 
    00007ffc72b33b30:  00007ffc72b33be8  000055e89ee4a75f <runtime.adjustframe+175> 
    00007ffc72b33b40:  000055e89fbc27f0  000055e89fed63c0 
    00007ffc72b33b50:  00007ffc00000000  000055e89ee5ff30 <runtime.goexit+0> 
    00007ffc72b33b60:  00007ffc72b33fa0  00000000ffffffff 
    00007ffc72b33b70:  0000000072b33b00  000055e89ee5ff30 <runtime.goexit+0> 
    00007ffc72b33b80:  000055e89ee501c1 <runtime.funcspdelta+97>  000055e89fbc27f0 
    00007ffc72b33b90:  000055e89fed63c0  00007ffc0006f548 
    00007ffc72b33ba0: <0000000000000000  00007ffc72b33d00 
    00007ffc72b33bb0:  000055e89f5bc201  000055e89fbc27f0 
    00007ffc72b33bc0:  000055e89fed63c0  0000000000000000 
    00007ffc72b33bd0:  0000000000000000  000055e89ee5ff31 <runtime.goexit+1> 
    00007ffc72b33be0:  000055e89fed63c0  00007ffc72b33ef0 
    00007ffc72b33bf0:  000055e89ee54962 <runtime.gentraceback+4850>  00007ffc72b33e98 
    00007ffc72b33c00:  00007ffc72b33f88  000055e89fed6301 
    00007ffc72b33c10:  00007ffc72b33d01  0000000000000000 
    00007ffc72b33c20:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc72b33c30:  ffffffffffffffff  ffffffffffffffff 
    00007ffc72b33c40:  ffffffffffffffff  ffffffffffffffff 
    00007ffc72b33c50:  ffffffffffffffff  ffffffffffffffff 
    00007ffc72b33c60:  ffffffffffffffff  ffffffffffffffff 
    00007ffc72b33c70:  ffffffffffffffff  ffffffffffffffff 
    00007ffc72b33c80:  ffffffffffffffff  ffffffffffffffff 
    00007ffc72b33c90:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fe6934d4f47
    stack: frame={sp:0x7ffc72b33ba0, fp:0x0} stack=[0x7ffc72335240,0x7ffc72b34270)
    00007ffc72b33aa0:  000055e89ee34683 <runtime.main+883>  000000000030da24 
    00007ffc72b33ab0:  0000029300000002  0000005093abd75a 
    00007ffc72b33ac0:  000000000030da24  00007ffc72b33b78 
    00007ffc72b33ad0:  000055e89ee4f936 <runtime.pcvalue+342>  000055e89fbc2828 
    00007ffc72b33ae0:  00000000002f742e  00000000002f742e 
    00007ffc72b33af0:  00007ffc72b33b30  00007ffc72b33b2c 
    00007ffc72b33b00:  000055e89fed6301  000055e89fbc282a 
    00007ffc72b33b10:  00000000002f742c  00000000002f742c 
    00007ffc72b33b20:  0000000000000001  0000000040000000 
    00007ffc72b33b30:  00007ffc72b33be8  000055e89ee4a75f <runtime.adjustframe+175> 
    00007ffc72b33b40:  000055e89fbc27f0  000055e89fed63c0 
    00007ffc72b33b50:  00007ffc00000000  000055e89ee5ff30 <runtime.goexit+0> 
    00007ffc72b33b60:  00007ffc72b33fa0  00000000ffffffff 
    00007ffc72b33b70:  0000000072b33b00  000055e89ee5ff30 <runtime.goexit+0> 
    00007ffc72b33b80:  000055e89ee501c1 <runtime.funcspdelta+97>  000055e89fbc27f0 
    00007ffc72b33b90:  000055e89fed63c0  00007ffc0006f548 
    00007ffc72b33ba0: <0000000000000000  00007ffc72b33d00 
    00007ffc72b33bb0:  000055e89f5bc201  000055e89fbc27f0 
    00007ffc72b33bc0:  000055e89fed63c0  0000000000000000 
    00007ffc72b33bd0:  0000000000000000  000055e89ee5ff31 <runtime.goexit+1> 
    00007ffc72b33be0:  000055e89fed63c0  00007ffc72b33ef0 
    00007ffc72b33bf0:  000055e89ee54962 <runtime.gentraceback+4850>  00007ffc72b33e98 
    00007ffc72b33c00:  00007ffc72b33f88  000055e89fed6301 
    00007ffc72b33c10:  00007ffc72b33d01  0000000000000000 
    00007ffc72b33c20:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc72b33c30:  ffffffffffffffff  ffffffffffffffff 
    00007ffc72b33c40:  ffffffffffffffff  ffffffffffffffff 
    00007ffc72b33c50:  ffffffffffffffff  ffffffffffffffff 
    00007ffc72b33c60:  ffffffffffffffff  ffffffffffffffff 
    00007ffc72b33c70:  ffffffffffffffff  ffffffffffffffff 
    00007ffc72b33c80:  ffffffffffffffff  ffffffffffffffff 
    00007ffc72b33c90:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.systemstack_switch()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:363 fp=0xc420081f00 sp=0xc420081ef8 pc=0x55e89ee5d370
    runtime.newproc(0x55e800000000, 0x55e89fb288f8)
    	/usr/lib/go-1.10/src/runtime/proc.go:3243 +0x64 fp=0xc420081f40 sp=0xc420081f00 pc=0x55e89ee3c264
    runtime.init.4()
    	/usr/lib/go-1.10/src/runtime/proc.go:237 +0x37 fp=0xc420081f60 sp=0xc420081f40 pc=0x55e89ee346d7
    runtime.init()
    	<autogenerated>:1 +0xe5 fp=0xc420081f88 sp=0xc420081f60 pc=0x55e89ee5cf45
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:144 +0xd0 fp=0xc420081fe0 sp=0xc420081f88 pc=0x55e89ee343e0
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x55e89ee5ff31
    
    rax    0x0
    rbx    0x7fe693882840
    rcx    0x7fe6934d4f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffc72b33ba0
    rbp    0x55e89f62e32a
    rsp    0x7ffc72b33ba0
    r8     0x0
    r9     0x7ffc72b33ba0
    r10    0x8
    r11    0x246
    r12    0x55e8a06353f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fe6934d4f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
