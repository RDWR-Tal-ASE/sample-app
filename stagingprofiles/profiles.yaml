apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7ff4a9452f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7ff4a9452f47
    stack: frame={sp:0x7ffda2984160, fp:0x0} stack=[0x7ffda2185660,0x7ffda2984690)
    00007ffda2984060:  00007ff400000001  00007ff4a9800420 
    00007ffda2984070:  0000000000000000  000000c420081fe0 
    00007ffda2984080:  0000000000000000  0000000000000000 
    00007ffda2984090:  0000000000000000  0000000000000000 
    00007ffda29840a0:  0000000000000000  0000000000000000 
    00007ffda29840b0:  00007ff4a9800560  00007ff4a9803bc0 
    00007ffda29840c0:  000000c42006ffd0  0000557cc840e3e0 <runtime.main+208> 
    00007ffda29840d0:  0000557cc9102970  0000000000000000 
    00007ffda29840e0:  0000000000000000  0000000000000000 
    00007ffda29840f0:  0000000000000000  0000000000000000 
    00007ffda2984100:  0000000000000000  0000000000000000 
    00007ffda2984110:  000000c420000180  0000000000000000 
    00007ffda2984120:  0000557cc840e3e0 <runtime.main+208>  0000557cc9102970 
    00007ffda2984130:  0000000000000000  0000000000000000 
    00007ffda2984140:  0000000000000000  0000000000000000 
    00007ffda2984150:  0000000000000000  0000000000000000 
    00007ffda2984160: <0000000000000000  000000c420000180 
    00007ffda2984170:  0000000000000000  0000557cc8439f31 <runtime.goexit+1> 
    00007ffda2984180:  0000000000000000  0000000000000000 
    00007ffda2984190:  0000000000000000  0000000000000000 
    00007ffda29841a0:  0000029300000002  00000050a980cec5 
    00007ffda29841b0:  000000000030da24  00007ffda2984268 
    00007ffda29841c0:  0000557cc8429936 <runtime.pcvalue+342>  0000557cc919c828 
    00007ffda29841d0:  00000000002f742e  00000000002f742e 
    00007ffda29841e0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffda29841f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffda2984200:  ffffffffffffffff  ffffffffffffffff 
    00007ffda2984210:  ffffffffffffffff  ffffffffffffffff 
    00007ffda2984220:  ffffffffffffffff  ffffffffffffffff 
    00007ffda2984230:  ffffffffffffffff  ffffffffffffffff 
    00007ffda2984240:  ffffffffffffffff  ffffffffffffffff 
    00007ffda2984250:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7ff4a9452f47
    stack: frame={sp:0x7ffda2984160, fp:0x0} stack=[0x7ffda2185660,0x7ffda2984690)
    00007ffda2984060:  00007ff400000001  00007ff4a9800420 
    00007ffda2984070:  0000000000000000  000000c420081fe0 
    00007ffda2984080:  0000000000000000  0000000000000000 
    00007ffda2984090:  0000000000000000  0000000000000000 
    00007ffda29840a0:  0000000000000000  0000000000000000 
    00007ffda29840b0:  00007ff4a9800560  00007ff4a9803bc0 
    00007ffda29840c0:  000000c42006ffd0  0000557cc840e3e0 <runtime.main+208> 
    00007ffda29840d0:  0000557cc9102970  0000000000000000 
    00007ffda29840e0:  0000000000000000  0000000000000000 
    00007ffda29840f0:  0000000000000000  0000000000000000 
    00007ffda2984100:  0000000000000000  0000000000000000 
    00007ffda2984110:  000000c420000180  0000000000000000 
    00007ffda2984120:  0000557cc840e3e0 <runtime.main+208>  0000557cc9102970 
    00007ffda2984130:  0000000000000000  0000000000000000 
    00007ffda2984140:  0000000000000000  0000000000000000 
    00007ffda2984150:  0000000000000000  0000000000000000 
    00007ffda2984160: <0000000000000000  000000c420000180 
    00007ffda2984170:  0000000000000000  0000557cc8439f31 <runtime.goexit+1> 
    00007ffda2984180:  0000000000000000  0000000000000000 
    00007ffda2984190:  0000000000000000  0000000000000000 
    00007ffda29841a0:  0000029300000002  00000050a980cec5 
    00007ffda29841b0:  000000000030da24  00007ffda2984268 
    00007ffda29841c0:  0000557cc8429936 <runtime.pcvalue+342>  0000557cc919c828 
    00007ffda29841d0:  00000000002f742e  00000000002f742e 
    00007ffda29841e0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffda29841f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffda2984200:  ffffffffffffffff  ffffffffffffffff 
    00007ffda2984210:  ffffffffffffffff  ffffffffffffffff 
    00007ffda2984220:  ffffffffffffffff  ffffffffffffffff 
    00007ffda2984230:  ffffffffffffffff  ffffffffffffffff 
    00007ffda2984240:  ffffffffffffffff  ffffffffffffffff 
    00007ffda2984250:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x557cc8ad6a30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x557cc8438bcf
    runtime.newm1(0xc420061000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x557cc84126b1
    runtime.newm(0x557cc9102b08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x557cc841252f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x557cc8412791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x557cc840e4b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x557cc8439f31
    
    rax    0x0
    rbx    0x7ff4a9800840
    rcx    0x7ff4a9452f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffda2984160
    rbp    0x557cc8c0832a
    rsp    0x7ffda2984160
    r8     0x0
    r9     0x7ffda2984160
    r10    0x8
    r11    0x246
    r12    0x557ccb31f690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7ff4a9452f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 4 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062800)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062800)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x0, 0xc000046000, 0x3)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0xc000046000, 0x2a6cc00)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.handoffp(0xc000046000)
    	/usr/local/go/src/runtime/proc.go:2001 +0x52
    runtime.stoplockedm()
    	/usr/local/go/src/runtime/proc.go:2075 +0xf7
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2611 +0x48c
    runtime.park_m(0xc000000180)
    	/usr/local/go/src/runtime/proc.go:2845 +0x9d
    runtime.mcall(0x0)
    	/usr/local/go/src/runtime/asm_amd64.s:318 +0x5b
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x1bb7a80, 0xc0000420c8, 0x170e, 0x2)
    	/usr/local/go/src/runtime/proc.go:306 +0xe5
    runtime.chanrecv(0xc000042070, 0x0, 0xc000000101, 0x41a55e)
    	/usr/local/go/src/runtime/chan.go:577 +0x36f
    runtime.chanrecv1(0xc000042070, 0x0)
    	/usr/local/go/src/runtime/chan.go:439 +0x2b
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:219 +0x95
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fd05971df47 m=3 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fd05971df47
    stack: frame={sp:0x7fd058edc810, fp:0x0} stack=[0x7fd0586dd290,0x7fd058edce90)
    00007fd058edc710:  0000000000000000  0000000000000000 
    00007fd058edc720:  0000000000000000  0000000000000000 
    00007fd058edc730:  0000000000000000  0000000000000000 
    00007fd058edc740:  0000000000000000  0000000000000000 
    00007fd058edc750:  0000000000000000  0000000000000000 
    00007fd058edc760:  0000000000000000  0000000000000000 
    00007fd058edc770:  0000000000000000  0000000000000000 
    00007fd058edc780:  0000000000000000  0000000000000000 
    00007fd058edc790:  0000000000000000  0000000000000000 
    00007fd058edc7a0:  0000000000000000  0000000000000000 
    00007fd058edc7b0:  0000000000000000  0000000000000000 
    00007fd058edc7c0:  0000000000000000  0000000000000000 
    00007fd058edc7d0:  0000000000000000  0000000000000000 
    00007fd058edc7e0:  0000000000000000  0000000000000000 
    00007fd058edc7f0:  0000000000000000  0000000000000000 
    00007fd058edc800:  0000000000000000  0000000000000000 
    00007fd058edc810: <0000000000000000  0000000000000000 
    00007fd058edc820:  0000000000000000  0000000000000000 
    00007fd058edc830:  0000000000000000  0000000000000000 
    00007fd058edc840:  0000000000000000  0000000000000000 
    00007fd058edc850:  0000000000000000  0000000000000000 
    00007fd058edc860:  0000000000000000  0000000000000000 
    00007fd058edc870:  0000000000000000  0000000000000000 
    00007fd058edc880:  0000000000000000  0000000000000000 
    00007fd058edc890:  fffffffe7fffffff  ffffffffffffffff 
    00007fd058edc8a0:  ffffffffffffffff  ffffffffffffffff 
    00007fd058edc8b0:  ffffffffffffffff  ffffffffffffffff 
    00007fd058edc8c0:  ffffffffffffffff  ffffffffffffffff 
    00007fd058edc8d0:  ffffffffffffffff  ffffffffffffffff 
    00007fd058edc8e0:  ffffffffffffffff  ffffffffffffffff 
    00007fd058edc8f0:  ffffffffffffffff  ffffffffffffffff 
    00007fd058edc900:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fd05971df47
    stack: frame={sp:0x7fd058edc810, fp:0x0} stack=[0x7fd0586dd290,0x7fd058edce90)
    00007fd058edc710:  0000000000000000  0000000000000000 
    00007fd058edc720:  0000000000000000  0000000000000000 
    00007fd058edc730:  0000000000000000  0000000000000000 
    00007fd058edc740:  0000000000000000  0000000000000000 
    00007fd058edc750:  0000000000000000  0000000000000000 
    00007fd058edc760:  0000000000000000  0000000000000000 
    00007fd058edc770:  0000000000000000  0000000000000000 
    00007fd058edc780:  0000000000000000  0000000000000000 
    00007fd058edc790:  0000000000000000  0000000000000000 
    00007fd058edc7a0:  0000000000000000  0000000000000000 
    00007fd058edc7b0:  0000000000000000  0000000000000000 
    00007fd058edc7c0:  0000000000000000  0000000000000000 
    00007fd058edc7d0:  0000000000000000  0000000000000000 
    00007fd058edc7e0:  0000000000000000  0000000000000000 
    00007fd058edc7f0:  0000000000000000  0000000000000000 
    00007fd058edc800:  0000000000000000  0000000000000000 
    00007fd058edc810: <0000000000000000  0000000000000000 
    00007fd058edc820:  0000000000000000  0000000000000000 
    00007fd058edc830:  0000000000000000  0000000000000000 
    00007fd058edc840:  0000000000000000  0000000000000000 
    00007fd058edc850:  0000000000000000  0000000000000000 
    00007fd058edc860:  0000000000000000  0000000000000000 
    00007fd058edc870:  0000000000000000  0000000000000000 
    00007fd058edc880:  0000000000000000  0000000000000000 
    00007fd058edc890:  fffffffe7fffffff  ffffffffffffffff 
    00007fd058edc8a0:  ffffffffffffffff  ffffffffffffffff 
    00007fd058edc8b0:  ffffffffffffffff  ffffffffffffffff 
    00007fd058edc8c0:  ffffffffffffffff  ffffffffffffffff 
    00007fd058edc8d0:  ffffffffffffffff  ffffffffffffffff 
    00007fd058edc8e0:  ffffffffffffffff  ffffffffffffffff 
    00007fd058edc8f0:  ffffffffffffffff  ffffffffffffffff 
    00007fd058edc900:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    	goroutine running on other thread; stack unavailable
    
    rax    0x0
    rbx    0x7fd059acb840
    rcx    0x7fd05971df47
    rdx    0x0
    rdi    0x2
    rsi    0x7fd058edc810
    rbp    0x55702aed432a
    rsp    0x7fd058edc810
    r8     0x0
    r9     0x7fd058edc810
    r10    0x8
    r11    0x246
    r12    0x55702cc603f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fd05971df47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
