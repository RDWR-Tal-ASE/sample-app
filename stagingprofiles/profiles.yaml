apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fc680afdf47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fc680afdf47
    stack: frame={sp:0x7ffe63ffa140, fp:0x0} stack=[0x7ffe637fb640,0x7ffe63ffa670)
    00007ffe63ffa040:  0000000000000001  0000000000000000 
    00007ffe63ffa050:  0000000000000000  000000c420081fe0 
    00007ffe63ffa060:  0000000000000000  0000000000000000 
    00007ffe63ffa070:  00007fc680eab560  00007fc680eaebc0 
    00007ffe63ffa080:  000000c42006ffd0  000055de500523e0 <runtime.main+208> 
    00007ffe63ffa090:  000055de50d46970  0000000000000000 
    00007ffe63ffa0a0:  0000000000000000  0000000000000000 
    00007ffe63ffa0b0:  0000000000000000  0000000000000000 
    00007ffe63ffa0c0:  0000000000000000  0000000000000000 
    00007ffe63ffa0d0:  000000c420000180  0000000000000000 
    00007ffe63ffa0e0:  000055de500523e0 <runtime.main+208>  000055de50d46970 
    00007ffe63ffa0f0:  0000000000000000  0000000000000000 
    00007ffe63ffa100:  0000000000000000  0000000000000000 
    00007ffe63ffa110:  0000000000000000  0000000000000000 
    00007ffe63ffa120:  0000000000000000  000000c420000180 
    00007ffe63ffa130:  0000000000000000  000055de5007df31 <runtime.goexit+1> 
    00007ffe63ffa140: <0000000000000000  0000000000000000 
    00007ffe63ffa150:  0000000000000000  0000000000000000 
    00007ffe63ffa160:  000055de5006e582 <runtime.step+290>  000055de50dca232 
    00007ffe63ffa170:  000000000030da24  000000000030da24 
    00007ffe63ffa180:  0000029300000002  0000005080eb7ec5 
    00007ffe63ffa190:  000000000030da24  00007ffe63ffa248 
    00007ffe63ffa1a0:  000055de5006d936 <runtime.pcvalue+342>  000055de50de0828 
    00007ffe63ffa1b0:  00000000002f742e  00000000002f742e 
    00007ffe63ffa1c0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffe63ffa1d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe63ffa1e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe63ffa1f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe63ffa200:  ffffffffffffffff  ffffffffffffffff 
    00007ffe63ffa210:  ffffffffffffffff  ffffffffffffffff 
    00007ffe63ffa220:  ffffffffffffffff  ffffffffffffffff 
    00007ffe63ffa230:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fc680afdf47
    stack: frame={sp:0x7ffe63ffa140, fp:0x0} stack=[0x7ffe637fb640,0x7ffe63ffa670)
    00007ffe63ffa040:  0000000000000001  0000000000000000 
    00007ffe63ffa050:  0000000000000000  000000c420081fe0 
    00007ffe63ffa060:  0000000000000000  0000000000000000 
    00007ffe63ffa070:  00007fc680eab560  00007fc680eaebc0 
    00007ffe63ffa080:  000000c42006ffd0  000055de500523e0 <runtime.main+208> 
    00007ffe63ffa090:  000055de50d46970  0000000000000000 
    00007ffe63ffa0a0:  0000000000000000  0000000000000000 
    00007ffe63ffa0b0:  0000000000000000  0000000000000000 
    00007ffe63ffa0c0:  0000000000000000  0000000000000000 
    00007ffe63ffa0d0:  000000c420000180  0000000000000000 
    00007ffe63ffa0e0:  000055de500523e0 <runtime.main+208>  000055de50d46970 
    00007ffe63ffa0f0:  0000000000000000  0000000000000000 
    00007ffe63ffa100:  0000000000000000  0000000000000000 
    00007ffe63ffa110:  0000000000000000  0000000000000000 
    00007ffe63ffa120:  0000000000000000  000000c420000180 
    00007ffe63ffa130:  0000000000000000  000055de5007df31 <runtime.goexit+1> 
    00007ffe63ffa140: <0000000000000000  0000000000000000 
    00007ffe63ffa150:  0000000000000000  0000000000000000 
    00007ffe63ffa160:  000055de5006e582 <runtime.step+290>  000055de50dca232 
    00007ffe63ffa170:  000000000030da24  000000000030da24 
    00007ffe63ffa180:  0000029300000002  0000005080eb7ec5 
    00007ffe63ffa190:  000000000030da24  00007ffe63ffa248 
    00007ffe63ffa1a0:  000055de5006d936 <runtime.pcvalue+342>  000055de50de0828 
    00007ffe63ffa1b0:  00000000002f742e  00000000002f742e 
    00007ffe63ffa1c0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffe63ffa1d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe63ffa1e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe63ffa1f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe63ffa200:  ffffffffffffffff  ffffffffffffffff 
    00007ffe63ffa210:  ffffffffffffffff  ffffffffffffffff 
    00007ffe63ffa220:  ffffffffffffffff  ffffffffffffffff 
    00007ffe63ffa230:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x55de5071aa30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x55de5007cbcf
    runtime.newm1(0xc420094400)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x55de500566b1
    runtime.newm(0x55de50d46b08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x55de5005652f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x55de50056791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x55de500524b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x55de5007df31
    
    rax    0x0
    rbx    0x7fc680eab840
    rcx    0x7fc680afdf47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffe63ffa140
    rbp    0x55de5084c32a
    rsp    0x7ffe63ffa140
    r8     0x0
    r9     0x7ffe63ffa140
    r10    0x8
    r11    0x246
    r12    0x55de52de2690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fc680afdf47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 5 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000088000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000088000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc00004b000, 0x4)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000073f01)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.resetspinning()
    	/usr/local/go/src/runtime/proc.go:2533 +0x59
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2684 +0x2b9
    runtime.mstart1()
    	/usr/local/go/src/runtime/proc.go:1179 +0x93
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1137 +0x6e
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x1bb7a80, 0xc0000420c8, 0x170e, 0x2)
    	/usr/local/go/src/runtime/proc.go:306 +0xe5
    runtime.chanrecv(0xc000042070, 0x0, 0xc000000101, 0x410101)
    	/usr/local/go/src/runtime/chan.go:577 +0x36f
    runtime.chanrecv1(0xc000042070, 0x0)
    	/usr/local/go/src/runtime/chan.go:439 +0x2b
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:220 +0xac
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7efddf511f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7efddf511f47
    stack: frame={sp:0x7ffc92e81300, fp:0x0} stack=[0x7ffc92682800,0x7ffc92e81830)
    00007ffc92e81200:  0000000000000001  0000000000000000 
    00007ffc92e81210:  0000000000000000  000000c420081fe0 
    00007ffc92e81220:  0000000000000000  0000000000000000 
    00007ffc92e81230:  00007efddf8bf560  00007efddf8c2bc0 
    00007ffc92e81240:  000000c42006ffd0  000055ee01cc83e0 <runtime.main+208> 
    00007ffc92e81250:  000055ee029bc970  0000000000000000 
    00007ffc92e81260:  0000000000000000  0000000000000000 
    00007ffc92e81270:  0000000000000000  0000000000000000 
    00007ffc92e81280:  0000000000000000  0000000000000000 
    00007ffc92e81290:  000000c420000180  0000000000000000 
    00007ffc92e812a0:  000055ee01cc83e0 <runtime.main+208>  000055ee029bc970 
    00007ffc92e812b0:  0000000000000000  0000000000000000 
    00007ffc92e812c0:  0000000000000000  0000000000000000 
    00007ffc92e812d0:  0000000000000000  0000000000000000 
    00007ffc92e812e0:  0000000000000000  000000c420000180 
    00007ffc92e812f0:  0000000000000000  000055ee01cf3f31 <runtime.goexit+1> 
    00007ffc92e81300: <0000000000000000  0000000000000000 
    00007ffc92e81310:  0000000000000000  0000000000000000 
    00007ffc92e81320:  000055ee01ce4582 <runtime.step+290>  000055ee02a40232 
    00007ffc92e81330:  000000000030da24  000000000030da24 
    00007ffc92e81340:  0000029300000002  00000050df8cbec5 
    00007ffc92e81350:  000000000030da24  00007ffc92e81408 
    00007ffc92e81360:  000055ee01ce3936 <runtime.pcvalue+342>  000055ee02a56828 
    00007ffc92e81370:  00000000002f742e  00000000002f742e 
    00007ffc92e81380:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc92e81390:  ffffffffffffffff  ffffffffffffffff 
    00007ffc92e813a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc92e813b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc92e813c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc92e813d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc92e813e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc92e813f0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7efddf511f47
    stack: frame={sp:0x7ffc92e81300, fp:0x0} stack=[0x7ffc92682800,0x7ffc92e81830)
    00007ffc92e81200:  0000000000000001  0000000000000000 
    00007ffc92e81210:  0000000000000000  000000c420081fe0 
    00007ffc92e81220:  0000000000000000  0000000000000000 
    00007ffc92e81230:  00007efddf8bf560  00007efddf8c2bc0 
    00007ffc92e81240:  000000c42006ffd0  000055ee01cc83e0 <runtime.main+208> 
    00007ffc92e81250:  000055ee029bc970  0000000000000000 
    00007ffc92e81260:  0000000000000000  0000000000000000 
    00007ffc92e81270:  0000000000000000  0000000000000000 
    00007ffc92e81280:  0000000000000000  0000000000000000 
    00007ffc92e81290:  000000c420000180  0000000000000000 
    00007ffc92e812a0:  000055ee01cc83e0 <runtime.main+208>  000055ee029bc970 
    00007ffc92e812b0:  0000000000000000  0000000000000000 
    00007ffc92e812c0:  0000000000000000  0000000000000000 
    00007ffc92e812d0:  0000000000000000  0000000000000000 
    00007ffc92e812e0:  0000000000000000  000000c420000180 
    00007ffc92e812f0:  0000000000000000  000055ee01cf3f31 <runtime.goexit+1> 
    00007ffc92e81300: <0000000000000000  0000000000000000 
    00007ffc92e81310:  0000000000000000  0000000000000000 
    00007ffc92e81320:  000055ee01ce4582 <runtime.step+290>  000055ee02a40232 
    00007ffc92e81330:  000000000030da24  000000000030da24 
    00007ffc92e81340:  0000029300000002  00000050df8cbec5 
    00007ffc92e81350:  000000000030da24  00007ffc92e81408 
    00007ffc92e81360:  000055ee01ce3936 <runtime.pcvalue+342>  000055ee02a56828 
    00007ffc92e81370:  00000000002f742e  00000000002f742e 
    00007ffc92e81380:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc92e81390:  ffffffffffffffff  ffffffffffffffff 
    00007ffc92e813a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc92e813b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc92e813c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc92e813d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc92e813e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc92e813f0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x55ee02390a30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x55ee01cf2bcf
    runtime.newm1(0xc420094400)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x55ee01ccc6b1
    runtime.newm(0x55ee029bcb08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x55ee01ccc52f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x55ee01ccc791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x55ee01cc84b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x55ee01cf3f31
    
    rax    0x0
    rbx    0x7efddf8bf840
    rcx    0x7efddf511f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffc92e81300
    rbp    0x55ee024c232a
    rsp    0x7ffc92e81300
    r8     0x0
    r9     0x7ffc92e81300
    r10    0x8
    r11    0x246
    r12    0x55ee0372f690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7efddf511f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
