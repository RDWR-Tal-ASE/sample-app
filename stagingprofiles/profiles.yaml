apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fb5a57fdf47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fb5a57fdf47
    stack: frame={sp:0x7fff14ac8980, fp:0x0} stack=[0x7fff142ca020,0x7fff14ac9050)
    00007fff14ac8880:  00005594bd247683 <runtime.main+883>  000000000030da24 
    00007fff14ac8890:  0000029300000002  0000005000000000 
    00007fff14ac88a0:  0000000000000000  0000000000000000 
    00007fff14ac88b0:  00007fb5a5bab560  00007fb5a5baebc0 
    00007fff14ac88c0:  000000c42006ffd0  00005594bd2473e0 <runtime.main+208> 
    00007fff14ac88d0:  00005594bdf3b970  0000000000000000 
    00007fff14ac88e0:  0000000000000000  0000000000000000 
    00007fff14ac88f0:  0000000000000000  0000000000000000 
    00007fff14ac8900:  0000000000000000  0000000000000000 
    00007fff14ac8910:  000000c420000180  0000000000000000 
    00007fff14ac8920:  00005594bd2473e0 <runtime.main+208>  00005594bdf3b970 
    00007fff14ac8930:  0000000000000000  0000000000000000 
    00007fff14ac8940:  0000000000000000  0000000000000000 
    00007fff14ac8950:  0000000000000000  0000000000000000 
    00007fff14ac8960:  0000000000000000  000000c420000180 
    00007fff14ac8970:  0000000000000000  00005594bd272f31 <runtime.goexit+1> 
    00007fff14ac8980: <0000000000000000  0000000000000000 
    00007fff14ac8990:  0000000000000000  0000000000000000 
    00007fff14ac89a0:  00005594be2e93c0  0000000000000000 
    00007fff14ac89b0:  0000000000000000  00005594bd272f31 <runtime.goexit+1> 
    00007fff14ac89c0:  00005594be2e93c0  00007fff14ac8cd0 
    00007fff14ac89d0:  00005594bd267962 <runtime.gentraceback+4850>  00007fff14ac8c78 
    00007fff14ac89e0:  00007fff14ac8d68  00005594be2e9301 
    00007fff14ac89f0:  00007fff14ac8a01  0000000000000000 
    00007fff14ac8a00:  fffffffe7fffffff  ffffffffffffffff 
    00007fff14ac8a10:  ffffffffffffffff  ffffffffffffffff 
    00007fff14ac8a20:  ffffffffffffffff  ffffffffffffffff 
    00007fff14ac8a30:  ffffffffffffffff  ffffffffffffffff 
    00007fff14ac8a40:  ffffffffffffffff  ffffffffffffffff 
    00007fff14ac8a50:  ffffffffffffffff  ffffffffffffffff 
    00007fff14ac8a60:  ffffffffffffffff  ffffffffffffffff 
    00007fff14ac8a70:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fb5a57fdf47
    stack: frame={sp:0x7fff14ac8980, fp:0x0} stack=[0x7fff142ca020,0x7fff14ac9050)
    00007fff14ac8880:  00005594bd247683 <runtime.main+883>  000000000030da24 
    00007fff14ac8890:  0000029300000002  0000005000000000 
    00007fff14ac88a0:  0000000000000000  0000000000000000 
    00007fff14ac88b0:  00007fb5a5bab560  00007fb5a5baebc0 
    00007fff14ac88c0:  000000c42006ffd0  00005594bd2473e0 <runtime.main+208> 
    00007fff14ac88d0:  00005594bdf3b970  0000000000000000 
    00007fff14ac88e0:  0000000000000000  0000000000000000 
    00007fff14ac88f0:  0000000000000000  0000000000000000 
    00007fff14ac8900:  0000000000000000  0000000000000000 
    00007fff14ac8910:  000000c420000180  0000000000000000 
    00007fff14ac8920:  00005594bd2473e0 <runtime.main+208>  00005594bdf3b970 
    00007fff14ac8930:  0000000000000000  0000000000000000 
    00007fff14ac8940:  0000000000000000  0000000000000000 
    00007fff14ac8950:  0000000000000000  0000000000000000 
    00007fff14ac8960:  0000000000000000  000000c420000180 
    00007fff14ac8970:  0000000000000000  00005594bd272f31 <runtime.goexit+1> 
    00007fff14ac8980: <0000000000000000  0000000000000000 
    00007fff14ac8990:  0000000000000000  0000000000000000 
    00007fff14ac89a0:  00005594be2e93c0  0000000000000000 
    00007fff14ac89b0:  0000000000000000  00005594bd272f31 <runtime.goexit+1> 
    00007fff14ac89c0:  00005594be2e93c0  00007fff14ac8cd0 
    00007fff14ac89d0:  00005594bd267962 <runtime.gentraceback+4850>  00007fff14ac8c78 
    00007fff14ac89e0:  00007fff14ac8d68  00005594be2e9301 
    00007fff14ac89f0:  00007fff14ac8a01  0000000000000000 
    00007fff14ac8a00:  fffffffe7fffffff  ffffffffffffffff 
    00007fff14ac8a10:  ffffffffffffffff  ffffffffffffffff 
    00007fff14ac8a20:  ffffffffffffffff  ffffffffffffffff 
    00007fff14ac8a30:  ffffffffffffffff  ffffffffffffffff 
    00007fff14ac8a40:  ffffffffffffffff  ffffffffffffffff 
    00007fff14ac8a50:  ffffffffffffffff  ffffffffffffffff 
    00007fff14ac8a60:  ffffffffffffffff  ffffffffffffffff 
    00007fff14ac8a70:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.systemstack_switch()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:363 fp=0xc420081f00 sp=0xc420081ef8 pc=0x5594bd270370
    runtime.newproc(0x559400000000, 0x5594bdf3b8f8)
    	/usr/lib/go-1.10/src/runtime/proc.go:3243 +0x64 fp=0xc420081f40 sp=0xc420081f00 pc=0x5594bd24f264
    runtime.init.4()
    	/usr/lib/go-1.10/src/runtime/proc.go:237 +0x37 fp=0xc420081f60 sp=0xc420081f40 pc=0x5594bd2476d7
    runtime.init()
    	<autogenerated>:1 +0xe5 fp=0xc420081f88 sp=0xc420081f60 pc=0x5594bd26ff45
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:144 +0xd0 fp=0xc420081fe0 sp=0xc420081f88 pc=0x5594bd2473e0
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x5594bd272f31
    
    rax    0x0
    rbx    0x7fb5a5bab840
    rcx    0x7fb5a57fdf47
    rdx    0x0
    rdi    0x2
    rsi    0x7fff14ac8980
    rbp    0x5594bda4132a
    rsp    0x7fff14ac8980
    r8     0x0
    r9     0x7fff14ac8980
    r10    0x8
    r11    0x246
    r12    0x5594bf92a3f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fb5a57fdf47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 2 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7d48, 0x0, 0xffffffffffffffff)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.main.func1()
    	/usr/local/go/src/runtime/proc.go:135 +0x3f
    runtime.systemstack(0x46c2f4)
    	/usr/local/go/src/runtime/asm_amd64.s:370 +0x66
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1116
    
    goroutine 1 [running]:
    runtime.systemstack_switch()
    	/usr/local/go/src/runtime/asm_amd64.s:330 fp=0xc00005e788 sp=0xc00005e780 pc=0x46c420
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:134 +0x70 fp=0xc00005e7e0 sp=0xc00005e788 pc=0x439ab0
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1 fp=0xc00005e7e8 sp=0xc00005e7e0 pc=0x46e061
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f8590c16f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f8590c16f47
    stack: frame={sp:0x7fffdc6344c0, fp:0x0} stack=[0x7fffdbe35b60,0x7fffdc634b90)
    00007fffdc6343c0:  000055a870551683 <runtime.main+883>  000000000030da24 
    00007fffdc6343d0:  0000029300000002  0000005000000000 
    00007fffdc6343e0:  0000000000000000  0000000000000000 
    00007fffdc6343f0:  00007f8590fc4560  00007f8590fc7bc0 
    00007fffdc634400:  000000c42006ffd0  000055a8705513e0 <runtime.main+208> 
    00007fffdc634410:  000055a871245970  0000000000000000 
    00007fffdc634420:  0000000000000000  0000000000000000 
    00007fffdc634430:  0000000000000000  0000000000000000 
    00007fffdc634440:  0000000000000000  0000000000000000 
    00007fffdc634450:  000000c420000180  0000000000000000 
    00007fffdc634460:  000055a8705513e0 <runtime.main+208>  000055a871245970 
    00007fffdc634470:  0000000000000000  0000000000000000 
    00007fffdc634480:  0000000000000000  0000000000000000 
    00007fffdc634490:  0000000000000000  0000000000000000 
    00007fffdc6344a0:  0000000000000000  000000c420000180 
    00007fffdc6344b0:  0000000000000000  000055a87057cf31 <runtime.goexit+1> 
    00007fffdc6344c0: <0000000000000000  0000000000000000 
    00007fffdc6344d0:  0000000000000000  0000000000000000 
    00007fffdc6344e0:  000055a8715f33c0  0000000000000000 
    00007fffdc6344f0:  0000000000000000  000055a87057cf31 <runtime.goexit+1> 
    00007fffdc634500:  000055a8715f33c0  00007fffdc634810 
    00007fffdc634510:  000055a870571962 <runtime.gentraceback+4850>  00007fffdc6347b8 
    00007fffdc634520:  00007fffdc6348a8  000055a8715f3301 
    00007fffdc634530:  00007fffdc634601  0000000000000000 
    00007fffdc634540:  fffffffe7fffffff  ffffffffffffffff 
    00007fffdc634550:  ffffffffffffffff  ffffffffffffffff 
    00007fffdc634560:  ffffffffffffffff  ffffffffffffffff 
    00007fffdc634570:  ffffffffffffffff  ffffffffffffffff 
    00007fffdc634580:  ffffffffffffffff  ffffffffffffffff 
    00007fffdc634590:  ffffffffffffffff  ffffffffffffffff 
    00007fffdc6345a0:  ffffffffffffffff  ffffffffffffffff 
    00007fffdc6345b0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f8590c16f47
    stack: frame={sp:0x7fffdc6344c0, fp:0x0} stack=[0x7fffdbe35b60,0x7fffdc634b90)
    00007fffdc6343c0:  000055a870551683 <runtime.main+883>  000000000030da24 
    00007fffdc6343d0:  0000029300000002  0000005000000000 
    00007fffdc6343e0:  0000000000000000  0000000000000000 
    00007fffdc6343f0:  00007f8590fc4560  00007f8590fc7bc0 
    00007fffdc634400:  000000c42006ffd0  000055a8705513e0 <runtime.main+208> 
    00007fffdc634410:  000055a871245970  0000000000000000 
    00007fffdc634420:  0000000000000000  0000000000000000 
    00007fffdc634430:  0000000000000000  0000000000000000 
    00007fffdc634440:  0000000000000000  0000000000000000 
    00007fffdc634450:  000000c420000180  0000000000000000 
    00007fffdc634460:  000055a8705513e0 <runtime.main+208>  000055a871245970 
    00007fffdc634470:  0000000000000000  0000000000000000 
    00007fffdc634480:  0000000000000000  0000000000000000 
    00007fffdc634490:  0000000000000000  0000000000000000 
    00007fffdc6344a0:  0000000000000000  000000c420000180 
    00007fffdc6344b0:  0000000000000000  000055a87057cf31 <runtime.goexit+1> 
    00007fffdc6344c0: <0000000000000000  0000000000000000 
    00007fffdc6344d0:  0000000000000000  0000000000000000 
    00007fffdc6344e0:  000055a8715f33c0  0000000000000000 
    00007fffdc6344f0:  0000000000000000  000055a87057cf31 <runtime.goexit+1> 
    00007fffdc634500:  000055a8715f33c0  00007fffdc634810 
    00007fffdc634510:  000055a870571962 <runtime.gentraceback+4850>  00007fffdc6347b8 
    00007fffdc634520:  00007fffdc6348a8  000055a8715f3301 
    00007fffdc634530:  00007fffdc634601  0000000000000000 
    00007fffdc634540:  fffffffe7fffffff  ffffffffffffffff 
    00007fffdc634550:  ffffffffffffffff  ffffffffffffffff 
    00007fffdc634560:  ffffffffffffffff  ffffffffffffffff 
    00007fffdc634570:  ffffffffffffffff  ffffffffffffffff 
    00007fffdc634580:  ffffffffffffffff  ffffffffffffffff 
    00007fffdc634590:  ffffffffffffffff  ffffffffffffffff 
    00007fffdc6345a0:  ffffffffffffffff  ffffffffffffffff 
    00007fffdc6345b0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.systemstack_switch()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:363 fp=0xc420081f00 sp=0xc420081ef8 pc=0x55a87057a370
    runtime.newproc(0x55a800000000, 0x55a8712458f8)
    	/usr/lib/go-1.10/src/runtime/proc.go:3243 +0x64 fp=0xc420081f40 sp=0xc420081f00 pc=0x55a870559264
    runtime.init.4()
    	/usr/lib/go-1.10/src/runtime/proc.go:237 +0x37 fp=0xc420081f60 sp=0xc420081f40 pc=0x55a8705516d7
    runtime.init()
    	<autogenerated>:1 +0xe5 fp=0xc420081f88 sp=0xc420081f60 pc=0x55a870579f45
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:144 +0xd0 fp=0xc420081fe0 sp=0xc420081f88 pc=0x55a8705513e0
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x55a87057cf31
    
    rax    0x0
    rbx    0x7f8590fc4840
    rcx    0x7f8590c16f47
    rdx    0x0
    rdi    0x2
    rsi    0x7fffdc6344c0
    rbp    0x55a870d4b32a
    rsp    0x7fffdc6344c0
    r8     0x0
    r9     0x7fffdc6344c0
    r10    0x8
    r11    0x246
    r12    0x55a871d493f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f8590c16f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
