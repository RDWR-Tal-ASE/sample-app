apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fd57d2dbf47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fd57d2dbf47
    stack: frame={sp:0x7ffd85f69820, fp:0x0} stack=[0x7ffd8576aec0,0x7ffd85f69ef0)
    00007ffd85f69720:  00005621cb597683 <runtime.main+883>  000000000030da24 
    00007ffd85f69730:  0000029300000002  000000507d8c475a 
    00007ffd85f69740:  000000000030da24  00007ffd85f697f8 
    00007ffd85f69750:  00005621cb5b2936 <runtime.pcvalue+342>  00005621cc325828 
    00007ffd85f69760:  0000000000000000  0000000000000000 
    00007ffd85f69770:  00007fd57d689560  00007fd57d68cbc0 
    00007ffd85f69780:  000000c42006ffd0  00005621cb5973e0 <runtime.main+208> 
    00007ffd85f69790:  00005621cc28b970  0000000000000000 
    00007ffd85f697a0:  0000000000000000  0000000000000000 
    00007ffd85f697b0:  0000000000000000  0000000000000000 
    00007ffd85f697c0:  0000000000000000  0000000000000000 
    00007ffd85f697d0:  000000c420000180  0000000000000000 
    00007ffd85f697e0:  00005621cb5973e0 <runtime.main+208>  00005621cc28b970 
    00007ffd85f697f0:  0000000000000000  0000000000000000 
    00007ffd85f69800:  0000000000000000  0000000000000000 
    00007ffd85f69810:  0000000000000000  0000000000000000 
    00007ffd85f69820: <0000000000000000  000000c420000180 
    00007ffd85f69830:  0000000000000000  00005621cb5c2f31 <runtime.goexit+1> 
    00007ffd85f69840:  0000000000000000  0000000000000000 
    00007ffd85f69850:  0000000000000000  0000000000000000 
    00007ffd85f69860:  00005621cc6393c0  00007ffd85f69b70 
    00007ffd85f69870:  00005621cb5b7962 <runtime.gentraceback+4850>  00007ffd85f69b18 
    00007ffd85f69880:  00007ffd85f69c08  00005621cc639301 
    00007ffd85f69890:  00007ffd85f69901  0000000000000000 
    00007ffd85f698a0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffd85f698b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd85f698c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd85f698d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd85f698e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd85f698f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd85f69900:  ffffffffffffffff  ffffffffffffffff 
    00007ffd85f69910:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fd57d2dbf47
    stack: frame={sp:0x7ffd85f69820, fp:0x0} stack=[0x7ffd8576aec0,0x7ffd85f69ef0)
    00007ffd85f69720:  00005621cb597683 <runtime.main+883>  000000000030da24 
    00007ffd85f69730:  0000029300000002  000000507d8c475a 
    00007ffd85f69740:  000000000030da24  00007ffd85f697f8 
    00007ffd85f69750:  00005621cb5b2936 <runtime.pcvalue+342>  00005621cc325828 
    00007ffd85f69760:  0000000000000000  0000000000000000 
    00007ffd85f69770:  00007fd57d689560  00007fd57d68cbc0 
    00007ffd85f69780:  000000c42006ffd0  00005621cb5973e0 <runtime.main+208> 
    00007ffd85f69790:  00005621cc28b970  0000000000000000 
    00007ffd85f697a0:  0000000000000000  0000000000000000 
    00007ffd85f697b0:  0000000000000000  0000000000000000 
    00007ffd85f697c0:  0000000000000000  0000000000000000 
    00007ffd85f697d0:  000000c420000180  0000000000000000 
    00007ffd85f697e0:  00005621cb5973e0 <runtime.main+208>  00005621cc28b970 
    00007ffd85f697f0:  0000000000000000  0000000000000000 
    00007ffd85f69800:  0000000000000000  0000000000000000 
    00007ffd85f69810:  0000000000000000  0000000000000000 
    00007ffd85f69820: <0000000000000000  000000c420000180 
    00007ffd85f69830:  0000000000000000  00005621cb5c2f31 <runtime.goexit+1> 
    00007ffd85f69840:  0000000000000000  0000000000000000 
    00007ffd85f69850:  0000000000000000  0000000000000000 
    00007ffd85f69860:  00005621cc6393c0  00007ffd85f69b70 
    00007ffd85f69870:  00005621cb5b7962 <runtime.gentraceback+4850>  00007ffd85f69b18 
    00007ffd85f69880:  00007ffd85f69c08  00005621cc639301 
    00007ffd85f69890:  00007ffd85f69901  0000000000000000 
    00007ffd85f698a0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffd85f698b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd85f698c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd85f698d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd85f698e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd85f698f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd85f69900:  ffffffffffffffff  ffffffffffffffff 
    00007ffd85f69910:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.systemstack_switch()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:363 fp=0xc420081f00 sp=0xc420081ef8 pc=0x5621cb5c0370
    runtime.newproc(0x562100000000, 0x5621cc28b8f8)
    	/usr/lib/go-1.10/src/runtime/proc.go:3243 +0x64 fp=0xc420081f40 sp=0xc420081f00 pc=0x5621cb59f264
    runtime.init.4()
    	/usr/lib/go-1.10/src/runtime/proc.go:237 +0x37 fp=0xc420081f60 sp=0xc420081f40 pc=0x5621cb5976d7
    runtime.init()
    	<autogenerated>:1 +0xe5 fp=0xc420081f88 sp=0xc420081f60 pc=0x5621cb5bff45
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:144 +0xd0 fp=0xc420081fe0 sp=0xc420081f88 pc=0x5621cb5973e0
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x5621cb5c2f31
    
    rax    0x0
    rbx    0x7fd57d689840
    rcx    0x7fd57d2dbf47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffd85f69820
    rbp    0x5621cbd9132a
    rsp    0x7ffd85f69820
    r8     0x0
    r9     0x7ffd85f69820
    r10    0x8
    r11    0x246
    r12    0x5621cd91b3f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fd57d2dbf47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 2 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7d48, 0x0, 0xffffffffffffffff)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.main.func1()
    	/usr/local/go/src/runtime/proc.go:135 +0x3f
    runtime.systemstack(0x46c2f4)
    	/usr/local/go/src/runtime/asm_amd64.s:370 +0x66
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1116
    
    goroutine 1 [running]:
    runtime.systemstack_switch()
    	/usr/local/go/src/runtime/asm_amd64.s:330 fp=0xc00005e788 sp=0xc00005e780 pc=0x46c420
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:134 +0x70 fp=0xc00005e7e0 sp=0xc00005e788 pc=0x439ab0
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1 fp=0xc00005e7e8 sp=0xc00005e7e0 pc=0x46e061
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f8c78620f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f8c78620f47
    stack: frame={sp:0x7ffcbf48e8e0, fp:0x0} stack=[0x7ffcbec8ff80,0x7ffcbf48efb0)
    00007ffcbf48e7e0:  000055da0b573683 <runtime.main+883>  000000000030da24 
    00007ffcbf48e7f0:  0000029300000002  0000005078c0975a 
    00007ffcbf48e800:  000000000030da24  00007ffcbf48e8b8 
    00007ffcbf48e810:  000055da0b58e936 <runtime.pcvalue+342>  000055da0c301828 
    00007ffcbf48e820:  0000000000000000  0000000000000000 
    00007ffcbf48e830:  00007f8c789ce560  00007f8c789d1bc0 
    00007ffcbf48e840:  000000c42006ffd0  000055da0b5733e0 <runtime.main+208> 
    00007ffcbf48e850:  000055da0c267970  0000000000000000 
    00007ffcbf48e860:  0000000000000000  0000000000000000 
    00007ffcbf48e870:  0000000000000000  0000000000000000 
    00007ffcbf48e880:  0000000000000000  0000000000000000 
    00007ffcbf48e890:  000000c420000180  0000000000000000 
    00007ffcbf48e8a0:  000055da0b5733e0 <runtime.main+208>  000055da0c267970 
    00007ffcbf48e8b0:  0000000000000000  0000000000000000 
    00007ffcbf48e8c0:  0000000000000000  0000000000000000 
    00007ffcbf48e8d0:  0000000000000000  0000000000000000 
    00007ffcbf48e8e0: <0000000000000000  000000c420000180 
    00007ffcbf48e8f0:  0000000000000000  000055da0b59ef31 <runtime.goexit+1> 
    00007ffcbf48e900:  0000000000000000  0000000000000000 
    00007ffcbf48e910:  0000000000000000  0000000000000000 
    00007ffcbf48e920:  000055da0c6153c0  00007ffcbf48ec30 
    00007ffcbf48e930:  000055da0b593962 <runtime.gentraceback+4850>  00007ffcbf48ebd8 
    00007ffcbf48e940:  00007ffcbf48ecc8  000055da0c615301 
    00007ffcbf48e950:  00007ffcbf48ea01  0000000000000000 
    00007ffcbf48e960:  fffffffe7fffffff  ffffffffffffffff 
    00007ffcbf48e970:  ffffffffffffffff  ffffffffffffffff 
    00007ffcbf48e980:  ffffffffffffffff  ffffffffffffffff 
    00007ffcbf48e990:  ffffffffffffffff  ffffffffffffffff 
    00007ffcbf48e9a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffcbf48e9b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffcbf48e9c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffcbf48e9d0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f8c78620f47
    stack: frame={sp:0x7ffcbf48e8e0, fp:0x0} stack=[0x7ffcbec8ff80,0x7ffcbf48efb0)
    00007ffcbf48e7e0:  000055da0b573683 <runtime.main+883>  000000000030da24 
    00007ffcbf48e7f0:  0000029300000002  0000005078c0975a 
    00007ffcbf48e800:  000000000030da24  00007ffcbf48e8b8 
    00007ffcbf48e810:  000055da0b58e936 <runtime.pcvalue+342>  000055da0c301828 
    00007ffcbf48e820:  0000000000000000  0000000000000000 
    00007ffcbf48e830:  00007f8c789ce560  00007f8c789d1bc0 
    00007ffcbf48e840:  000000c42006ffd0  000055da0b5733e0 <runtime.main+208> 
    00007ffcbf48e850:  000055da0c267970  0000000000000000 
    00007ffcbf48e860:  0000000000000000  0000000000000000 
    00007ffcbf48e870:  0000000000000000  0000000000000000 
    00007ffcbf48e880:  0000000000000000  0000000000000000 
    00007ffcbf48e890:  000000c420000180  0000000000000000 
    00007ffcbf48e8a0:  000055da0b5733e0 <runtime.main+208>  000055da0c267970 
    00007ffcbf48e8b0:  0000000000000000  0000000000000000 
    00007ffcbf48e8c0:  0000000000000000  0000000000000000 
    00007ffcbf48e8d0:  0000000000000000  0000000000000000 
    00007ffcbf48e8e0: <0000000000000000  000000c420000180 
    00007ffcbf48e8f0:  0000000000000000  000055da0b59ef31 <runtime.goexit+1> 
    00007ffcbf48e900:  0000000000000000  0000000000000000 
    00007ffcbf48e910:  0000000000000000  0000000000000000 
    00007ffcbf48e920:  000055da0c6153c0  00007ffcbf48ec30 
    00007ffcbf48e930:  000055da0b593962 <runtime.gentraceback+4850>  00007ffcbf48ebd8 
    00007ffcbf48e940:  00007ffcbf48ecc8  000055da0c615301 
    00007ffcbf48e950:  00007ffcbf48ea01  0000000000000000 
    00007ffcbf48e960:  fffffffe7fffffff  ffffffffffffffff 
    00007ffcbf48e970:  ffffffffffffffff  ffffffffffffffff 
    00007ffcbf48e980:  ffffffffffffffff  ffffffffffffffff 
    00007ffcbf48e990:  ffffffffffffffff  ffffffffffffffff 
    00007ffcbf48e9a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffcbf48e9b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffcbf48e9c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffcbf48e9d0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.systemstack_switch()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:363 fp=0xc420081f00 sp=0xc420081ef8 pc=0x55da0b59c370
    runtime.newproc(0x55da00000000, 0x55da0c2678f8)
    	/usr/lib/go-1.10/src/runtime/proc.go:3243 +0x64 fp=0xc420081f40 sp=0xc420081f00 pc=0x55da0b57b264
    runtime.init.4()
    	/usr/lib/go-1.10/src/runtime/proc.go:237 +0x37 fp=0xc420081f60 sp=0xc420081f40 pc=0x55da0b5736d7
    runtime.init()
    	<autogenerated>:1 +0xe5 fp=0xc420081f88 sp=0xc420081f60 pc=0x55da0b59bf45
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:144 +0xd0 fp=0xc420081fe0 sp=0xc420081f88 pc=0x55da0b5733e0
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x55da0b59ef31
    
    rax    0x0
    rbx    0x7f8c789ce840
    rcx    0x7f8c78620f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffcbf48e8e0
    rbp    0x55da0bd6d32a
    rsp    0x7ffcbf48e8e0
    r8     0x0
    r9     0x7ffcbf48e8e0
    r10    0x8
    r11    0x246
    r12    0x55da0dcb73f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f8c78620f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
