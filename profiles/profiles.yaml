apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f330705cf47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f330705cf47
    stack: frame={sp:0x7fffc0bf3810, fp:0x0} stack=[0x7fffc03f4eb0,0x7fffc0bf3ee0)
    00007fffc0bf3710:  0000557bfc747683 <runtime.main+883>  000000000030da24 
    00007fffc0bf3720:  0000000000000000  0000000000000000 
    00007fffc0bf3730:  00007f330740a560  00007f330740dbc0 
    00007fffc0bf3740:  000000c42006ffd0  0000557bfc7473e0 <runtime.main+208> 
    00007fffc0bf3750:  0000557bfd43b970  0000000000000000 
    00007fffc0bf3760:  0000000000000000  0000000000000000 
    00007fffc0bf3770:  0000000000000000  0000000000000000 
    00007fffc0bf3780:  0000000000000000  0000000000000000 
    00007fffc0bf3790:  000000c420000180  0000000000000000 
    00007fffc0bf37a0:  0000557bfc7473e0 <runtime.main+208>  0000557bfd43b970 
    00007fffc0bf37b0:  0000000000000000  0000000000000000 
    00007fffc0bf37c0:  0000000000000000  0000000000000000 
    00007fffc0bf37d0:  0000000000000000  0000000000000000 
    00007fffc0bf37e0:  0000000000000000  000000c420000180 
    00007fffc0bf37f0:  0000000000000000  0000557bfc772f31 <runtime.goexit+1> 
    00007fffc0bf3800:  0000000000000000  0000000000000000 
    00007fffc0bf3810: <0000000000000000  0000000000000000 
    00007fffc0bf3820:  0000557bfcecf201  0000557bfd4d57f0 
    00007fffc0bf3830:  0000557bfd7e93c0  0000000000000000 
    00007fffc0bf3840:  0000000000000000  0000557bfc772f31 <runtime.goexit+1> 
    00007fffc0bf3850:  0000557bfd7e93c0  00007fffc0bf3b60 
    00007fffc0bf3860:  0000557bfc767962 <runtime.gentraceback+4850>  00007fffc0bf3b08 
    00007fffc0bf3870:  00007fffc0bf3bf8  0000557bfd7e9301 
    00007fffc0bf3880:  0000000000000002  0000000000000000 
    00007fffc0bf3890:  fffffffe7fffffff  ffffffffffffffff 
    00007fffc0bf38a0:  ffffffffffffffff  ffffffffffffffff 
    00007fffc0bf38b0:  ffffffffffffffff  ffffffffffffffff 
    00007fffc0bf38c0:  ffffffffffffffff  ffffffffffffffff 
    00007fffc0bf38d0:  ffffffffffffffff  ffffffffffffffff 
    00007fffc0bf38e0:  ffffffffffffffff  ffffffffffffffff 
    00007fffc0bf38f0:  ffffffffffffffff  ffffffffffffffff 
    00007fffc0bf3900:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f330705cf47
    stack: frame={sp:0x7fffc0bf3810, fp:0x0} stack=[0x7fffc03f4eb0,0x7fffc0bf3ee0)
    00007fffc0bf3710:  0000557bfc747683 <runtime.main+883>  000000000030da24 
    00007fffc0bf3720:  0000000000000000  0000000000000000 
    00007fffc0bf3730:  00007f330740a560  00007f330740dbc0 
    00007fffc0bf3740:  000000c42006ffd0  0000557bfc7473e0 <runtime.main+208> 
    00007fffc0bf3750:  0000557bfd43b970  0000000000000000 
    00007fffc0bf3760:  0000000000000000  0000000000000000 
    00007fffc0bf3770:  0000000000000000  0000000000000000 
    00007fffc0bf3780:  0000000000000000  0000000000000000 
    00007fffc0bf3790:  000000c420000180  0000000000000000 
    00007fffc0bf37a0:  0000557bfc7473e0 <runtime.main+208>  0000557bfd43b970 
    00007fffc0bf37b0:  0000000000000000  0000000000000000 
    00007fffc0bf37c0:  0000000000000000  0000000000000000 
    00007fffc0bf37d0:  0000000000000000  0000000000000000 
    00007fffc0bf37e0:  0000000000000000  000000c420000180 
    00007fffc0bf37f0:  0000000000000000  0000557bfc772f31 <runtime.goexit+1> 
    00007fffc0bf3800:  0000000000000000  0000000000000000 
    00007fffc0bf3810: <0000000000000000  0000000000000000 
    00007fffc0bf3820:  0000557bfcecf201  0000557bfd4d57f0 
    00007fffc0bf3830:  0000557bfd7e93c0  0000000000000000 
    00007fffc0bf3840:  0000000000000000  0000557bfc772f31 <runtime.goexit+1> 
    00007fffc0bf3850:  0000557bfd7e93c0  00007fffc0bf3b60 
    00007fffc0bf3860:  0000557bfc767962 <runtime.gentraceback+4850>  00007fffc0bf3b08 
    00007fffc0bf3870:  00007fffc0bf3bf8  0000557bfd7e9301 
    00007fffc0bf3880:  0000000000000002  0000000000000000 
    00007fffc0bf3890:  fffffffe7fffffff  ffffffffffffffff 
    00007fffc0bf38a0:  ffffffffffffffff  ffffffffffffffff 
    00007fffc0bf38b0:  ffffffffffffffff  ffffffffffffffff 
    00007fffc0bf38c0:  ffffffffffffffff  ffffffffffffffff 
    00007fffc0bf38d0:  ffffffffffffffff  ffffffffffffffff 
    00007fffc0bf38e0:  ffffffffffffffff  ffffffffffffffff 
    00007fffc0bf38f0:  ffffffffffffffff  ffffffffffffffff 
    00007fffc0bf3900:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.systemstack_switch()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:363 fp=0xc420081f00 sp=0xc420081ef8 pc=0x557bfc770370
    runtime.newproc(0x557b00000000, 0x557bfd43b8f8)
    	/usr/lib/go-1.10/src/runtime/proc.go:3243 +0x64 fp=0xc420081f40 sp=0xc420081f00 pc=0x557bfc74f264
    runtime.init.4()
    	/usr/lib/go-1.10/src/runtime/proc.go:237 +0x37 fp=0xc420081f60 sp=0xc420081f40 pc=0x557bfc7476d7
    runtime.init()
    	<autogenerated>:1 +0xe5 fp=0xc420081f88 sp=0xc420081f60 pc=0x557bfc76ff45
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:144 +0xd0 fp=0xc420081fe0 sp=0xc420081f88 pc=0x557bfc7473e0
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x557bfc772f31
    
    rax    0x0
    rbx    0x7f330740a840
    rcx    0x7f330705cf47
    rdx    0x0
    rdi    0x2
    rsi    0x7fffc0bf3810
    rbp    0x557bfcf4132a
    rsp    0x7fffc0bf3810
    r8     0x0
    r9     0x7fffc0bf3810
    r10    0x8
    r11    0x246
    r12    0x557bfe1043f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f330705cf47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 2 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7d48, 0x0, 0xffffffffffffffff)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.main.func1()
    	/usr/local/go/src/runtime/proc.go:135 +0x3f
    runtime.systemstack(0x46c2f4)
    	/usr/local/go/src/runtime/asm_amd64.s:370 +0x66
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1116
    
    goroutine 1 [running]:
    runtime.systemstack_switch()
    	/usr/local/go/src/runtime/asm_amd64.s:330 fp=0xc00005e788 sp=0xc00005e780 pc=0x46c420
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:134 +0x70 fp=0xc00005e7e0 sp=0xc00005e788 pc=0x439ab0
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1 fp=0xc00005e7e8 sp=0xc00005e7e0 pc=0x46e061
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f83faca3f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f83faca3f47
    stack: frame={sp:0x7ffee0f31980, fp:0x0} stack=[0x7ffee0733020,0x7ffee0f32050)
    00007ffee0f31880:  000055d718acc683 <runtime.main+883>  000000000030da24 
    00007ffee0f31890:  0000029300000002  0000005000000000 
    00007ffee0f318a0:  0000000000000000  0000000000000000 
    00007ffee0f318b0:  00007f83fb051560  00007f83fb054bc0 
    00007ffee0f318c0:  000000c42006ffd0  000055d718acc3e0 <runtime.main+208> 
    00007ffee0f318d0:  000055d7197c0970  0000000000000000 
    00007ffee0f318e0:  0000000000000000  0000000000000000 
    00007ffee0f318f0:  0000000000000000  0000000000000000 
    00007ffee0f31900:  0000000000000000  0000000000000000 
    00007ffee0f31910:  000000c420000180  0000000000000000 
    00007ffee0f31920:  000055d718acc3e0 <runtime.main+208>  000055d7197c0970 
    00007ffee0f31930:  0000000000000000  0000000000000000 
    00007ffee0f31940:  0000000000000000  0000000000000000 
    00007ffee0f31950:  0000000000000000  0000000000000000 
    00007ffee0f31960:  0000000000000000  000000c420000180 
    00007ffee0f31970:  0000000000000000  000055d718af7f31 <runtime.goexit+1> 
    00007ffee0f31980: <0000000000000000  0000000000000000 
    00007ffee0f31990:  0000000000000000  0000000000000000 
    00007ffee0f319a0:  000055d719b6e3c0  0000000000000000 
    00007ffee0f319b0:  0000000000000000  000055d718af7f31 <runtime.goexit+1> 
    00007ffee0f319c0:  000055d719b6e3c0  00007ffee0f31cd0 
    00007ffee0f319d0:  000055d718aec962 <runtime.gentraceback+4850>  00007ffee0f31c78 
    00007ffee0f319e0:  00007ffee0f31d68  000055d719b6e301 
    00007ffee0f319f0:  00007ffee0f31a01  0000000000000000 
    00007ffee0f31a00:  fffffffe7fffffff  ffffffffffffffff 
    00007ffee0f31a10:  ffffffffffffffff  ffffffffffffffff 
    00007ffee0f31a20:  ffffffffffffffff  ffffffffffffffff 
    00007ffee0f31a30:  ffffffffffffffff  ffffffffffffffff 
    00007ffee0f31a40:  ffffffffffffffff  ffffffffffffffff 
    00007ffee0f31a50:  ffffffffffffffff  ffffffffffffffff 
    00007ffee0f31a60:  ffffffffffffffff  ffffffffffffffff 
    00007ffee0f31a70:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f83faca3f47
    stack: frame={sp:0x7ffee0f31980, fp:0x0} stack=[0x7ffee0733020,0x7ffee0f32050)
    00007ffee0f31880:  000055d718acc683 <runtime.main+883>  000000000030da24 
    00007ffee0f31890:  0000029300000002  0000005000000000 
    00007ffee0f318a0:  0000000000000000  0000000000000000 
    00007ffee0f318b0:  00007f83fb051560  00007f83fb054bc0 
    00007ffee0f318c0:  000000c42006ffd0  000055d718acc3e0 <runtime.main+208> 
    00007ffee0f318d0:  000055d7197c0970  0000000000000000 
    00007ffee0f318e0:  0000000000000000  0000000000000000 
    00007ffee0f318f0:  0000000000000000  0000000000000000 
    00007ffee0f31900:  0000000000000000  0000000000000000 
    00007ffee0f31910:  000000c420000180  0000000000000000 
    00007ffee0f31920:  000055d718acc3e0 <runtime.main+208>  000055d7197c0970 
    00007ffee0f31930:  0000000000000000  0000000000000000 
    00007ffee0f31940:  0000000000000000  0000000000000000 
    00007ffee0f31950:  0000000000000000  0000000000000000 
    00007ffee0f31960:  0000000000000000  000000c420000180 
    00007ffee0f31970:  0000000000000000  000055d718af7f31 <runtime.goexit+1> 
    00007ffee0f31980: <0000000000000000  0000000000000000 
    00007ffee0f31990:  0000000000000000  0000000000000000 
    00007ffee0f319a0:  000055d719b6e3c0  0000000000000000 
    00007ffee0f319b0:  0000000000000000  000055d718af7f31 <runtime.goexit+1> 
    00007ffee0f319c0:  000055d719b6e3c0  00007ffee0f31cd0 
    00007ffee0f319d0:  000055d718aec962 <runtime.gentraceback+4850>  00007ffee0f31c78 
    00007ffee0f319e0:  00007ffee0f31d68  000055d719b6e301 
    00007ffee0f319f0:  00007ffee0f31a01  0000000000000000 
    00007ffee0f31a00:  fffffffe7fffffff  ffffffffffffffff 
    00007ffee0f31a10:  ffffffffffffffff  ffffffffffffffff 
    00007ffee0f31a20:  ffffffffffffffff  ffffffffffffffff 
    00007ffee0f31a30:  ffffffffffffffff  ffffffffffffffff 
    00007ffee0f31a40:  ffffffffffffffff  ffffffffffffffff 
    00007ffee0f31a50:  ffffffffffffffff  ffffffffffffffff 
    00007ffee0f31a60:  ffffffffffffffff  ffffffffffffffff 
    00007ffee0f31a70:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.systemstack_switch()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:363 fp=0xc420081f00 sp=0xc420081ef8 pc=0x55d718af5370
    runtime.newproc(0x55d700000000, 0x55d7197c08f8)
    	/usr/lib/go-1.10/src/runtime/proc.go:3243 +0x64 fp=0xc420081f40 sp=0xc420081f00 pc=0x55d718ad4264
    runtime.init.4()
    	/usr/lib/go-1.10/src/runtime/proc.go:237 +0x37 fp=0xc420081f60 sp=0xc420081f40 pc=0x55d718acc6d7
    runtime.init()
    	<autogenerated>:1 +0xe5 fp=0xc420081f88 sp=0xc420081f60 pc=0x55d718af4f45
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:144 +0xd0 fp=0xc420081fe0 sp=0xc420081f88 pc=0x55d718acc3e0
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x55d718af7f31
    
    rax    0x0
    rbx    0x7f83fb051840
    rcx    0x7f83faca3f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffee0f31980
    rbp    0x55d7192c632a
    rsp    0x7ffee0f31980
    r8     0x0
    r9     0x7ffee0f31980
    r10    0x8
    r11    0x246
    r12    0x55d71a1a93f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f83faca3f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
