apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f3e67467f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f3e67467f47
    stack: frame={sp:0x7fffc263cb40, fp:0x0} stack=[0x7fffc1e3e1e0,0x7fffc263d210)
    00007fffc263ca40:  000056383952f683 <runtime.main+883>  000000000030da24 
    00007fffc263ca50:  0000029300000002  0000005000000000 
    00007fffc263ca60:  0000000000000000  0000000000000000 
    00007fffc263ca70:  00007f3e67815560  00007f3e67818bc0 
    00007fffc263ca80:  000000c42006ffd0  000056383952f3e0 <runtime.main+208> 
    00007fffc263ca90:  000056383a223970  0000000000000000 
    00007fffc263caa0:  0000000000000000  0000000000000000 
    00007fffc263cab0:  0000000000000000  0000000000000000 
    00007fffc263cac0:  0000000000000000  0000000000000000 
    00007fffc263cad0:  000000c420000180  0000000000000000 
    00007fffc263cae0:  000056383952f3e0 <runtime.main+208>  000056383a223970 
    00007fffc263caf0:  0000000000000000  0000000000000000 
    00007fffc263cb00:  0000000000000000  0000000000000000 
    00007fffc263cb10:  0000000000000000  0000000000000000 
    00007fffc263cb20:  0000000000000000  000000c420000180 
    00007fffc263cb30:  0000000000000000  000056383955af31 <runtime.goexit+1> 
    00007fffc263cb40: <0000000000000000  0000000000000000 
    00007fffc263cb50:  0000000000000000  0000000000000000 
    00007fffc263cb60:  000056383a5d13c0  0000000000000000 
    00007fffc263cb70:  0000000000000000  000056383955af31 <runtime.goexit+1> 
    00007fffc263cb80:  000056383a5d13c0  00007fffc263ce90 
    00007fffc263cb90:  000056383954f962 <runtime.gentraceback+4850>  00007fffc263ce38 
    00007fffc263cba0:  00007fffc263cf28  000056383a5d1301 
    00007fffc263cbb0:  00007fffc263cc01  0000000000000000 
    00007fffc263cbc0:  fffffffe7fffffff  ffffffffffffffff 
    00007fffc263cbd0:  ffffffffffffffff  ffffffffffffffff 
    00007fffc263cbe0:  ffffffffffffffff  ffffffffffffffff 
    00007fffc263cbf0:  ffffffffffffffff  ffffffffffffffff 
    00007fffc263cc00:  ffffffffffffffff  ffffffffffffffff 
    00007fffc263cc10:  ffffffffffffffff  ffffffffffffffff 
    00007fffc263cc20:  ffffffffffffffff  ffffffffffffffff 
    00007fffc263cc30:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f3e67467f47
    stack: frame={sp:0x7fffc263cb40, fp:0x0} stack=[0x7fffc1e3e1e0,0x7fffc263d210)
    00007fffc263ca40:  000056383952f683 <runtime.main+883>  000000000030da24 
    00007fffc263ca50:  0000029300000002  0000005000000000 
    00007fffc263ca60:  0000000000000000  0000000000000000 
    00007fffc263ca70:  00007f3e67815560  00007f3e67818bc0 
    00007fffc263ca80:  000000c42006ffd0  000056383952f3e0 <runtime.main+208> 
    00007fffc263ca90:  000056383a223970  0000000000000000 
    00007fffc263caa0:  0000000000000000  0000000000000000 
    00007fffc263cab0:  0000000000000000  0000000000000000 
    00007fffc263cac0:  0000000000000000  0000000000000000 
    00007fffc263cad0:  000000c420000180  0000000000000000 
    00007fffc263cae0:  000056383952f3e0 <runtime.main+208>  000056383a223970 
    00007fffc263caf0:  0000000000000000  0000000000000000 
    00007fffc263cb00:  0000000000000000  0000000000000000 
    00007fffc263cb10:  0000000000000000  0000000000000000 
    00007fffc263cb20:  0000000000000000  000000c420000180 
    00007fffc263cb30:  0000000000000000  000056383955af31 <runtime.goexit+1> 
    00007fffc263cb40: <0000000000000000  0000000000000000 
    00007fffc263cb50:  0000000000000000  0000000000000000 
    00007fffc263cb60:  000056383a5d13c0  0000000000000000 
    00007fffc263cb70:  0000000000000000  000056383955af31 <runtime.goexit+1> 
    00007fffc263cb80:  000056383a5d13c0  00007fffc263ce90 
    00007fffc263cb90:  000056383954f962 <runtime.gentraceback+4850>  00007fffc263ce38 
    00007fffc263cba0:  00007fffc263cf28  000056383a5d1301 
    00007fffc263cbb0:  00007fffc263cc01  0000000000000000 
    00007fffc263cbc0:  fffffffe7fffffff  ffffffffffffffff 
    00007fffc263cbd0:  ffffffffffffffff  ffffffffffffffff 
    00007fffc263cbe0:  ffffffffffffffff  ffffffffffffffff 
    00007fffc263cbf0:  ffffffffffffffff  ffffffffffffffff 
    00007fffc263cc00:  ffffffffffffffff  ffffffffffffffff 
    00007fffc263cc10:  ffffffffffffffff  ffffffffffffffff 
    00007fffc263cc20:  ffffffffffffffff  ffffffffffffffff 
    00007fffc263cc30:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.systemstack_switch()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:363 fp=0xc420081f00 sp=0xc420081ef8 pc=0x563839558370
    runtime.newproc(0x563800000000, 0x56383a2238f8)
    	/usr/lib/go-1.10/src/runtime/proc.go:3243 +0x64 fp=0xc420081f40 sp=0xc420081f00 pc=0x563839537264
    runtime.init.4()
    	/usr/lib/go-1.10/src/runtime/proc.go:237 +0x37 fp=0xc420081f60 sp=0xc420081f40 pc=0x56383952f6d7
    runtime.init()
    	<autogenerated>:1 +0xe5 fp=0xc420081f88 sp=0xc420081f60 pc=0x563839557f45
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:144 +0xd0 fp=0xc420081fe0 sp=0xc420081f88 pc=0x56383952f3e0
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x56383955af31
    
    rax    0x0
    rbx    0x7f3e67815840
    rcx    0x7f3e67467f47
    rdx    0x0
    rdi    0x2
    rsi    0x7fffc263cb40
    rbp    0x563839d2932a
    rsp    0x7fffc263cb40
    r8     0x0
    r9     0x7fffc263cb40
    r10    0x8
    r11    0x246
    r12    0x56383b4f53f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f3e67467f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 2 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7d48, 0x0, 0xffffffffffffffff)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.main.func1()
    	/usr/local/go/src/runtime/proc.go:135 +0x3f
    runtime.systemstack(0x46c2f4)
    	/usr/local/go/src/runtime/asm_amd64.s:370 +0x66
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1116
    
    goroutine 1 [running]:
    runtime.systemstack_switch()
    	/usr/local/go/src/runtime/asm_amd64.s:330 fp=0xc00005e788 sp=0xc00005e780 pc=0x46c420
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:134 +0x70 fp=0xc00005e7e0 sp=0xc00005e788 pc=0x439ab0
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1 fp=0xc00005e7e8 sp=0xc00005e7e0 pc=0x46e061
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f7aa1885f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f7aa1885f47
    stack: frame={sp:0x7ffebedff200, fp:0x0} stack=[0x7ffebe6008a0,0x7ffebedff8d0)
    00007ffebedff100:  0000559b405c9683 <runtime.main+883>  000000000030da24 
    00007ffebedff110:  0000029300000002  0000005000000000 
    00007ffebedff120:  000000000030da24  00007ffebedff1d8 
    00007ffebedff130:  0000559b405e4936 <runtime.pcvalue+342>  0000559b41357828 
    00007ffebedff140:  00000000002f742e  00000000002f742e 
    00007ffebedff150:  00007ffebedff190  00007ffebedff18c 
    00007ffebedff160:  0000559b4166b301  0000559b4135782a 
    00007ffebedff170:  00000000002f742c  00000000002f742c 
    00007ffebedff180:  0000000000000001  0000000040000000 
    00007ffebedff190:  00007ffebedff248  0000559b405df75f <runtime.adjustframe+175> 
    00007ffebedff1a0:  0000559b413577f0  0000559b4166b3c0 
    00007ffebedff1b0:  00007ffe00000000  0000559b405f4f30 <runtime.goexit+0> 
    00007ffebedff1c0:  00007ffebedff600  00000000ffffffff 
    00007ffebedff1d0:  00000000bedff160  0000559b405f4f30 <runtime.goexit+0> 
    00007ffebedff1e0:  0000559b405e51c1 <runtime.funcspdelta+97>  0000559b413577f0 
    00007ffebedff1f0:  0000559b4166b3c0  00007ffe0006f548 
    00007ffebedff200: <0000000000000000  00007ffebedff360 
    00007ffebedff210:  0000559b40d51201  0000559b413577f0 
    00007ffebedff220:  0000559b4166b3c0  0000000000000000 
    00007ffebedff230:  0000000000000000  0000559b405f4f31 <runtime.goexit+1> 
    00007ffebedff240:  0000559b4166b3c0  00007ffebedff550 
    00007ffebedff250:  0000559b405e9962 <runtime.gentraceback+4850>  00007ffebedff4f8 
    00007ffebedff260:  00007ffebedff5e8  0000559b4166b301 
    00007ffebedff270:  00007ffebedff301  0000000000000000 
    00007ffebedff280:  fffffffe7fffffff  ffffffffffffffff 
    00007ffebedff290:  ffffffffffffffff  ffffffffffffffff 
    00007ffebedff2a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffebedff2b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffebedff2c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffebedff2d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffebedff2e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffebedff2f0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f7aa1885f47
    stack: frame={sp:0x7ffebedff200, fp:0x0} stack=[0x7ffebe6008a0,0x7ffebedff8d0)
    00007ffebedff100:  0000559b405c9683 <runtime.main+883>  000000000030da24 
    00007ffebedff110:  0000029300000002  0000005000000000 
    00007ffebedff120:  000000000030da24  00007ffebedff1d8 
    00007ffebedff130:  0000559b405e4936 <runtime.pcvalue+342>  0000559b41357828 
    00007ffebedff140:  00000000002f742e  00000000002f742e 
    00007ffebedff150:  00007ffebedff190  00007ffebedff18c 
    00007ffebedff160:  0000559b4166b301  0000559b4135782a 
    00007ffebedff170:  00000000002f742c  00000000002f742c 
    00007ffebedff180:  0000000000000001  0000000040000000 
    00007ffebedff190:  00007ffebedff248  0000559b405df75f <runtime.adjustframe+175> 
    00007ffebedff1a0:  0000559b413577f0  0000559b4166b3c0 
    00007ffebedff1b0:  00007ffe00000000  0000559b405f4f30 <runtime.goexit+0> 
    00007ffebedff1c0:  00007ffebedff600  00000000ffffffff 
    00007ffebedff1d0:  00000000bedff160  0000559b405f4f30 <runtime.goexit+0> 
    00007ffebedff1e0:  0000559b405e51c1 <runtime.funcspdelta+97>  0000559b413577f0 
    00007ffebedff1f0:  0000559b4166b3c0  00007ffe0006f548 
    00007ffebedff200: <0000000000000000  00007ffebedff360 
    00007ffebedff210:  0000559b40d51201  0000559b413577f0 
    00007ffebedff220:  0000559b4166b3c0  0000000000000000 
    00007ffebedff230:  0000000000000000  0000559b405f4f31 <runtime.goexit+1> 
    00007ffebedff240:  0000559b4166b3c0  00007ffebedff550 
    00007ffebedff250:  0000559b405e9962 <runtime.gentraceback+4850>  00007ffebedff4f8 
    00007ffebedff260:  00007ffebedff5e8  0000559b4166b301 
    00007ffebedff270:  00007ffebedff301  0000000000000000 
    00007ffebedff280:  fffffffe7fffffff  ffffffffffffffff 
    00007ffebedff290:  ffffffffffffffff  ffffffffffffffff 
    00007ffebedff2a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffebedff2b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffebedff2c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffebedff2d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffebedff2e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffebedff2f0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.systemstack_switch()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:363 fp=0xc420081f00 sp=0xc420081ef8 pc=0x559b405f2370
    runtime.newproc(0x559b00000000, 0x559b412bd8f8)
    	/usr/lib/go-1.10/src/runtime/proc.go:3243 +0x64 fp=0xc420081f40 sp=0xc420081f00 pc=0x559b405d1264
    runtime.init.4()
    	/usr/lib/go-1.10/src/runtime/proc.go:237 +0x37 fp=0xc420081f60 sp=0xc420081f40 pc=0x559b405c96d7
    runtime.init()
    	<autogenerated>:1 +0xe5 fp=0xc420081f88 sp=0xc420081f60 pc=0x559b405f1f45
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:144 +0xd0 fp=0xc420081fe0 sp=0xc420081f88 pc=0x559b405c93e0
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x559b405f4f31
    
    rax    0x0
    rbx    0x7f7aa1c33840
    rcx    0x7f7aa1885f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffebedff200
    rbp    0x559b40dc332a
    rsp    0x7ffebedff200
    r8     0x0
    r9     0x7ffebedff200
    r10    0x8
    r11    0x246
    r12    0x559b42fb43f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f7aa1885f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
