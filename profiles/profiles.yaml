apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f41e284df47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f41e284df47
    stack: frame={sp:0x7ffc56736320, fp:0x0} stack=[0x7ffc55f379c0,0x7ffc567369f0)
    00007ffc56736220:  000055f214ef2683 <runtime.main+883>  000000000030da24 
    00007ffc56736230:  0000029300000002  00000050e2e3675a 
    00007ffc56736240:  000000000030da24  00007ffc567362f8 
    00007ffc56736250:  000055f214f0d936 <runtime.pcvalue+342>  000055f215c80828 
    00007ffc56736260:  0000000000000000  0000000000000000 
    00007ffc56736270:  00007f41e2bfb560  00007f41e2bfebc0 
    00007ffc56736280:  000000c42006ffd0  000055f214ef23e0 <runtime.main+208> 
    00007ffc56736290:  000055f215be6970  0000000000000000 
    00007ffc567362a0:  0000000000000000  0000000000000000 
    00007ffc567362b0:  0000000000000000  0000000000000000 
    00007ffc567362c0:  0000000000000000  0000000000000000 
    00007ffc567362d0:  000000c420000180  0000000000000000 
    00007ffc567362e0:  000055f214ef23e0 <runtime.main+208>  000055f215be6970 
    00007ffc567362f0:  0000000000000000  0000000000000000 
    00007ffc56736300:  0000000000000000  0000000000000000 
    00007ffc56736310:  0000000000000000  0000000000000000 
    00007ffc56736320: <0000000000000000  000000c420000180 
    00007ffc56736330:  0000000000000000  000055f214f1df31 <runtime.goexit+1> 
    00007ffc56736340:  0000000000000000  0000000000000000 
    00007ffc56736350:  0000000000000000  0000000000000000 
    00007ffc56736360:  000055f215f943c0  00007ffc56736670 
    00007ffc56736370:  000055f214f12962 <runtime.gentraceback+4850>  00007ffc56736618 
    00007ffc56736380:  00007ffc56736708  000055f215f94301 
    00007ffc56736390:  00007ffc56736401  0000000000000000 
    00007ffc567363a0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc567363b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc567363c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc567363d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc567363e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc567363f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc56736400:  ffffffffffffffff  ffffffffffffffff 
    00007ffc56736410:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f41e284df47
    stack: frame={sp:0x7ffc56736320, fp:0x0} stack=[0x7ffc55f379c0,0x7ffc567369f0)
    00007ffc56736220:  000055f214ef2683 <runtime.main+883>  000000000030da24 
    00007ffc56736230:  0000029300000002  00000050e2e3675a 
    00007ffc56736240:  000000000030da24  00007ffc567362f8 
    00007ffc56736250:  000055f214f0d936 <runtime.pcvalue+342>  000055f215c80828 
    00007ffc56736260:  0000000000000000  0000000000000000 
    00007ffc56736270:  00007f41e2bfb560  00007f41e2bfebc0 
    00007ffc56736280:  000000c42006ffd0  000055f214ef23e0 <runtime.main+208> 
    00007ffc56736290:  000055f215be6970  0000000000000000 
    00007ffc567362a0:  0000000000000000  0000000000000000 
    00007ffc567362b0:  0000000000000000  0000000000000000 
    00007ffc567362c0:  0000000000000000  0000000000000000 
    00007ffc567362d0:  000000c420000180  0000000000000000 
    00007ffc567362e0:  000055f214ef23e0 <runtime.main+208>  000055f215be6970 
    00007ffc567362f0:  0000000000000000  0000000000000000 
    00007ffc56736300:  0000000000000000  0000000000000000 
    00007ffc56736310:  0000000000000000  0000000000000000 
    00007ffc56736320: <0000000000000000  000000c420000180 
    00007ffc56736330:  0000000000000000  000055f214f1df31 <runtime.goexit+1> 
    00007ffc56736340:  0000000000000000  0000000000000000 
    00007ffc56736350:  0000000000000000  0000000000000000 
    00007ffc56736360:  000055f215f943c0  00007ffc56736670 
    00007ffc56736370:  000055f214f12962 <runtime.gentraceback+4850>  00007ffc56736618 
    00007ffc56736380:  00007ffc56736708  000055f215f94301 
    00007ffc56736390:  00007ffc56736401  0000000000000000 
    00007ffc567363a0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc567363b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc567363c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc567363d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc567363e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc567363f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc56736400:  ffffffffffffffff  ffffffffffffffff 
    00007ffc56736410:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.systemstack_switch()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:363 fp=0xc420081f00 sp=0xc420081ef8 pc=0x55f214f1b370
    runtime.newproc(0x55f200000000, 0x55f215be68f8)
    	/usr/lib/go-1.10/src/runtime/proc.go:3243 +0x64 fp=0xc420081f40 sp=0xc420081f00 pc=0x55f214efa264
    runtime.init.4()
    	/usr/lib/go-1.10/src/runtime/proc.go:237 +0x37 fp=0xc420081f60 sp=0xc420081f40 pc=0x55f214ef26d7
    runtime.init()
    	<autogenerated>:1 +0xe5 fp=0xc420081f88 sp=0xc420081f60 pc=0x55f214f1af45
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:144 +0xd0 fp=0xc420081fe0 sp=0xc420081f88 pc=0x55f214ef23e0
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x55f214f1df31
    
    rax    0x0
    rbx    0x7f41e2bfb840
    rcx    0x7f41e284df47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffc56736320
    rbp    0x55f2156ec32a
    rsp    0x7ffc56736320
    r8     0x0
    r9     0x7ffc56736320
    r10    0x8
    r11    0x246
    r12    0x55f216e153f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f41e284df47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 2 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7d48, 0x0, 0xffffffffffffffff)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.main.func1()
    	/usr/local/go/src/runtime/proc.go:135 +0x3f
    runtime.systemstack(0x46c2f4)
    	/usr/local/go/src/runtime/asm_amd64.s:370 +0x66
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1116
    
    goroutine 1 [running]:
    runtime.systemstack_switch()
    	/usr/local/go/src/runtime/asm_amd64.s:330 fp=0xc00005e788 sp=0xc00005e780 pc=0x46c420
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:134 +0x70 fp=0xc00005e7e0 sp=0xc00005e788 pc=0x439ab0
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1 fp=0xc00005e7e8 sp=0xc00005e7e0 pc=0x46e061
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7efe1b3cbf47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7efe1b3cbf47
    stack: frame={sp:0x7fff40c12a90, fp:0x0} stack=[0x7fff40414130,0x7fff40c13160)
    00007fff40c12990:  00005570e5353683 <runtime.main+883>  000000000030da24 
    00007fff40c129a0:  0000000000000000  0000000000000000 
    00007fff40c129b0:  00007efe1b779560  00007efe1b77cbc0 
    00007fff40c129c0:  000000c42006ffd0  00005570e53533e0 <runtime.main+208> 
    00007fff40c129d0:  00005570e6047970  0000000000000000 
    00007fff40c129e0:  0000000000000000  0000000000000000 
    00007fff40c129f0:  0000000000000000  0000000000000000 
    00007fff40c12a00:  0000000000000000  0000000000000000 
    00007fff40c12a10:  000000c420000180  0000000000000000 
    00007fff40c12a20:  00005570e53533e0 <runtime.main+208>  00005570e6047970 
    00007fff40c12a30:  0000000000000000  0000000000000000 
    00007fff40c12a40:  0000000000000000  0000000000000000 
    00007fff40c12a50:  0000000000000000  0000000000000000 
    00007fff40c12a60:  0000000000000000  000000c420000180 
    00007fff40c12a70:  0000000000000000  00005570e537ef31 <runtime.goexit+1> 
    00007fff40c12a80:  0000000000000000  0000000000000000 
    00007fff40c12a90: <0000000000000000  0000000000000000 
    00007fff40c12aa0:  00005570e5adb201  00005570e60e17f0 
    00007fff40c12ab0:  00005570e63f53c0  0000000000000000 
    00007fff40c12ac0:  0000000000000000  00005570e537ef31 <runtime.goexit+1> 
    00007fff40c12ad0:  00005570e63f53c0  00007fff40c12de0 
    00007fff40c12ae0:  00005570e5373962 <runtime.gentraceback+4850>  00007fff40c12d88 
    00007fff40c12af0:  00007fff40c12e78  00005570e63f5301 
    00007fff40c12b00:  0000000000000002  0000000000000000 
    00007fff40c12b10:  fffffffe7fffffff  ffffffffffffffff 
    00007fff40c12b20:  ffffffffffffffff  ffffffffffffffff 
    00007fff40c12b30:  ffffffffffffffff  ffffffffffffffff 
    00007fff40c12b40:  ffffffffffffffff  ffffffffffffffff 
    00007fff40c12b50:  ffffffffffffffff  ffffffffffffffff 
    00007fff40c12b60:  ffffffffffffffff  ffffffffffffffff 
    00007fff40c12b70:  ffffffffffffffff  ffffffffffffffff 
    00007fff40c12b80:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7efe1b3cbf47
    stack: frame={sp:0x7fff40c12a90, fp:0x0} stack=[0x7fff40414130,0x7fff40c13160)
    00007fff40c12990:  00005570e5353683 <runtime.main+883>  000000000030da24 
    00007fff40c129a0:  0000000000000000  0000000000000000 
    00007fff40c129b0:  00007efe1b779560  00007efe1b77cbc0 
    00007fff40c129c0:  000000c42006ffd0  00005570e53533e0 <runtime.main+208> 
    00007fff40c129d0:  00005570e6047970  0000000000000000 
    00007fff40c129e0:  0000000000000000  0000000000000000 
    00007fff40c129f0:  0000000000000000  0000000000000000 
    00007fff40c12a00:  0000000000000000  0000000000000000 
    00007fff40c12a10:  000000c420000180  0000000000000000 
    00007fff40c12a20:  00005570e53533e0 <runtime.main+208>  00005570e6047970 
    00007fff40c12a30:  0000000000000000  0000000000000000 
    00007fff40c12a40:  0000000000000000  0000000000000000 
    00007fff40c12a50:  0000000000000000  0000000000000000 
    00007fff40c12a60:  0000000000000000  000000c420000180 
    00007fff40c12a70:  0000000000000000  00005570e537ef31 <runtime.goexit+1> 
    00007fff40c12a80:  0000000000000000  0000000000000000 
    00007fff40c12a90: <0000000000000000  0000000000000000 
    00007fff40c12aa0:  00005570e5adb201  00005570e60e17f0 
    00007fff40c12ab0:  00005570e63f53c0  0000000000000000 
    00007fff40c12ac0:  0000000000000000  00005570e537ef31 <runtime.goexit+1> 
    00007fff40c12ad0:  00005570e63f53c0  00007fff40c12de0 
    00007fff40c12ae0:  00005570e5373962 <runtime.gentraceback+4850>  00007fff40c12d88 
    00007fff40c12af0:  00007fff40c12e78  00005570e63f5301 
    00007fff40c12b00:  0000000000000002  0000000000000000 
    00007fff40c12b10:  fffffffe7fffffff  ffffffffffffffff 
    00007fff40c12b20:  ffffffffffffffff  ffffffffffffffff 
    00007fff40c12b30:  ffffffffffffffff  ffffffffffffffff 
    00007fff40c12b40:  ffffffffffffffff  ffffffffffffffff 
    00007fff40c12b50:  ffffffffffffffff  ffffffffffffffff 
    00007fff40c12b60:  ffffffffffffffff  ffffffffffffffff 
    00007fff40c12b70:  ffffffffffffffff  ffffffffffffffff 
    00007fff40c12b80:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.systemstack_switch()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:363 fp=0xc420081f00 sp=0xc420081ef8 pc=0x5570e537c370
    runtime.newproc(0x557000000000, 0x5570e60478f8)
    	/usr/lib/go-1.10/src/runtime/proc.go:3243 +0x64 fp=0xc420081f40 sp=0xc420081f00 pc=0x5570e535b264
    runtime.init.4()
    	/usr/lib/go-1.10/src/runtime/proc.go:237 +0x37 fp=0xc420081f60 sp=0xc420081f40 pc=0x5570e53536d7
    runtime.init()
    	<autogenerated>:1 +0xe5 fp=0xc420081f88 sp=0xc420081f60 pc=0x5570e537bf45
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:144 +0xd0 fp=0xc420081fe0 sp=0xc420081f88 pc=0x5570e53533e0
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x5570e537ef31
    
    rax    0x0
    rbx    0x7efe1b779840
    rcx    0x7efe1b3cbf47
    rdx    0x0
    rdi    0x2
    rsi    0x7fff40c12a90
    rbp    0x5570e5b4d32a
    rsp    0x7fff40c12a90
    r8     0x0
    r9     0x7fff40c12a90
    r10    0x8
    r11    0x246
    r12    0x5570e69903f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7efe1b3cbf47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
