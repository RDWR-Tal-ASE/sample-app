apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fd8c2d30f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fd8c2d30f47
    stack: frame={sp:0x7ffdffef7890, fp:0x0} stack=[0x7ffdff6f8f10,0x7ffdffef7f50)
    00007ffdffef7790:  0000000000000005  0000ffff00001fa0 
    00007ffdffef77a0:  00007ffdffef7ca0  0000561a4444e7e0 
    00007ffdffef77b0:  0000000000000000  0000561a43258d10 
    00007ffdffef77c0:  0000000000000000  00007fd8c3311f13 
    00007ffdffef77d0:  0000000000000005  0000000000000000 
    00007ffdffef77e0:  00007ffdffef7b70  00007fd8c2d02ce0 
    00007ffdffef77f0:  00007ffdffef7bb0  00007fd8c331975a 
    00007ffdffef7800:  0000000000000000  0000000000000000 
    00007ffdffef7810:  0000000000000000  00007ffdffef7ca0 
    00007ffdffef7820:  2525252525252525  2525252525252525 
    00007ffdffef7830:  00000000000000ff  0000000000000000 
    00007ffdffef7840:  00000000000000ff  0000000000000000 
    00007ffdffef7850:  ff000000000000ff  00000000ff000000 
    00007ffdffef7860:  0000000000000005  0000000000000000 
    00007ffdffef7870:  0000000000000004  0000000c00000000 
    00007ffdffef7880:  000000000000000e  0000000000000000 
    00007ffdffef7890: <0000000000000000  0000000000000000 
    00007ffdffef78a0:  20636f6c6c616d00  203a64656c696166 
    00007ffdffef78b0:  0000000000000000  0000000000000000 
    00007ffdffef78c0:  0000000000000000  0000000200000000 
    00007ffdffef78d0:  000000000000000b  0000000000000000 
    00007ffdffef78e0:  0000000000000000  0000000000000000 
    00007ffdffef78f0:  0000000000000000  000000000000000a 
    00007ffdffef7900:  0000000000000000  0000561a43d92380 
    00007ffdffef7910:  fffffffe7fffffff  ffffffffffffffff 
    00007ffdffef7920:  ffffffffffffffff  ffffffffffffffff 
    00007ffdffef7930:  ffffffffffffffff  ffffffffffffffff 
    00007ffdffef7940:  ffffffffffffffff  ffffffffffffffff 
    00007ffdffef7950:  ffffffffffffffff  ffffffffffffffff 
    00007ffdffef7960:  ffffffffffffffff  ffffffffffffffff 
    00007ffdffef7970:  ffffffffffffffff  ffffffffffffffff 
    00007ffdffef7980:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fd8c2d30f47
    stack: frame={sp:0x7ffdffef7890, fp:0x0} stack=[0x7ffdff6f8f10,0x7ffdffef7f50)
    00007ffdffef7790:  0000000000000005  0000ffff00001fa0 
    00007ffdffef77a0:  00007ffdffef7ca0  0000561a4444e7e0 
    00007ffdffef77b0:  0000000000000000  0000561a43258d10 
    00007ffdffef77c0:  0000000000000000  00007fd8c3311f13 
    00007ffdffef77d0:  0000000000000005  0000000000000000 
    00007ffdffef77e0:  00007ffdffef7b70  00007fd8c2d02ce0 
    00007ffdffef77f0:  00007ffdffef7bb0  00007fd8c331975a 
    00007ffdffef7800:  0000000000000000  0000000000000000 
    00007ffdffef7810:  0000000000000000  00007ffdffef7ca0 
    00007ffdffef7820:  2525252525252525  2525252525252525 
    00007ffdffef7830:  00000000000000ff  0000000000000000 
    00007ffdffef7840:  00000000000000ff  0000000000000000 
    00007ffdffef7850:  ff000000000000ff  00000000ff000000 
    00007ffdffef7860:  0000000000000005  0000000000000000 
    00007ffdffef7870:  0000000000000004  0000000c00000000 
    00007ffdffef7880:  000000000000000e  0000000000000000 
    00007ffdffef7890: <0000000000000000  0000000000000000 
    00007ffdffef78a0:  20636f6c6c616d00  203a64656c696166 
    00007ffdffef78b0:  0000000000000000  0000000000000000 
    00007ffdffef78c0:  0000000000000000  0000000200000000 
    00007ffdffef78d0:  000000000000000b  0000000000000000 
    00007ffdffef78e0:  0000000000000000  0000000000000000 
    00007ffdffef78f0:  0000000000000000  000000000000000a 
    00007ffdffef7900:  0000000000000000  0000561a43d92380 
    00007ffdffef7910:  fffffffe7fffffff  ffffffffffffffff 
    00007ffdffef7920:  ffffffffffffffff  ffffffffffffffff 
    00007ffdffef7930:  ffffffffffffffff  ffffffffffffffff 
    00007ffdffef7940:  ffffffffffffffff  ffffffffffffffff 
    00007ffdffef7950:  ffffffffffffffff  ffffffffffffffff 
    00007ffdffef7960:  ffffffffffffffff  ffffffffffffffff 
    00007ffdffef7970:  ffffffffffffffff  ffffffffffffffff 
    00007ffdffef7980:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [chan receive, locked to thread]:
    text/template/parse.(*lexer).nextItem(...)
    	/usr/lib/go-1.13/src/text/template/parse/lex.go:195
    text/template/parse.(*Tree).peek(...)
    	/usr/lib/go-1.13/src/text/template/parse/parse.go:95
    text/template/parse.(*Tree).parse(0xc00010e500)
    	/usr/lib/go-1.13/src/text/template/parse/parse.go:277 +0xbc6
    text/template/parse.(*Tree).Parse(0xc00010e500, 0x561a43108440, 0x16c, 0x0, 0x0, 0x0, 0x0, 0xc0001b6720, 0xc000134350, 0x2, ...)
    	/usr/lib/go-1.13/src/text/template/parse/parse.go:230 +0x249
    text/template/parse.Parse(0x561a430ad9b7, 0x4, 0x561a43108440, 0x16c, 0x0, 0x0, 0x0, 0x0, 0xc000134350, 0x2, ...)
    	/usr/lib/go-1.13/src/text/template/parse/parse.go:55 +0x124
    text/template.(*Template).Parse(0xc00003d840, 0x561a43108440, 0x16c, 0x4, 0xc0000fb5e8, 0x561a43d97760)
    	/usr/lib/go-1.13/src/text/template/template.go:200 +0x113
    github.com/snapcore/snapd/systemd.init()
    	/build/snapd/parts/snapd-deb/build/systemd/systemd.go:1281 +0x3ad
    
    goroutine 6 [syscall]:
    os/signal.signal_recv(0x0)
    	/usr/lib/go-1.13/src/runtime/sigqueue.go:147 +0x9e
    os/signal.loop()
    	/usr/lib/go-1.13/src/os/signal/signal_unix.go:23 +0x24
    created by os/signal.init.0
    	/usr/lib/go-1.13/src/os/signal/signal_unix.go:29 +0x43
    
    goroutine 7 [runnable]:
    text/template/parse.(*lexer).run(0xc00013c630)
    	/usr/lib/go-1.13/src/text/template/parse/lex.go:228
    created by text/template/parse.lex
    	/usr/lib/go-1.13/src/text/template/parse/lex.go:223 +0x192
    
    rax    0x0
    rbx    0x7fd8c30de840
    rcx    0x7fd8c2d30f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffdffef7890
    rbp    0x561a43272e7c
    rsp    0x7ffdffef7890
    r8     0x0
    r9     0x7ffdffef7890
    r10    0x8
    r11    0x246
    r12    0x561a4444e7e0
    r13    0x0
    r14    0x561a43258d10
    r15    0x0
    rip    0x7fd8c2d30f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 5 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000088000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000088000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc00004b000, 0x4)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000073f01)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.resetspinning()
    	/usr/local/go/src/runtime/proc.go:2533 +0x59
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2684 +0x2b9
    runtime.mstart1()
    	/usr/local/go/src/runtime/proc.go:1179 +0x93
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1137 +0x6e
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x1bb7a80, 0xc0000420c8, 0x170e, 0x2)
    	/usr/local/go/src/runtime/proc.go:306 +0xe5
    runtime.chanrecv(0xc000042070, 0x0, 0xc000000101, 0x41a55e)
    	/usr/local/go/src/runtime/chan.go:577 +0x36f
    runtime.chanrecv1(0xc000042070, 0x0)
    	/usr/local/go/src/runtime/chan.go:439 +0x2b
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:219 +0x95
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7ff7993b5f47 m=3 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7ff7993b5f47
    stack: frame={sp:0x7ff798b74810, fp:0x0} stack=[0x7ff798375290,0x7ff798b74e90)
    00007ff798b74710:  0000000000000000  0000000000000000 
    00007ff798b74720:  0000000000000000  0000000000000000 
    00007ff798b74730:  0000000000000000  0000000000000000 
    00007ff798b74740:  0000000000000000  0000000000000000 
    00007ff798b74750:  0000000000000000  0000000000000000 
    00007ff798b74760:  0000000000000000  0000000000000000 
    00007ff798b74770:  0000000000000000  0000000000000000 
    00007ff798b74780:  0000000000000000  0000000000000000 
    00007ff798b74790:  0000000000000000  0000000000000000 
    00007ff798b747a0:  0000000000000000  0000000000000000 
    00007ff798b747b0:  0000000000000000  0000000000000000 
    00007ff798b747c0:  0000000000000000  0000000000000000 
    00007ff798b747d0:  0000000000000000  0000000000000000 
    00007ff798b747e0:  0000000000000000  0000000000000000 
    00007ff798b747f0:  0000000000000000  0000000000000000 
    00007ff798b74800:  0000000000000000  0000000000000000 
    00007ff798b74810: <0000000000000000  0000000000000000 
    00007ff798b74820:  0000000000000000  0000000000000000 
    00007ff798b74830:  0000000000000000  0000000000000000 
    00007ff798b74840:  0000000000000000  0000000000000000 
    00007ff798b74850:  0000000000000000  0000000000000000 
    00007ff798b74860:  0000000000000000  0000000000000000 
    00007ff798b74870:  0000000000000000  0000000000000000 
    00007ff798b74880:  0000000000000000  0000000000000000 
    00007ff798b74890:  fffffffe7fffffff  ffffffffffffffff 
    00007ff798b748a0:  ffffffffffffffff  ffffffffffffffff 
    00007ff798b748b0:  ffffffffffffffff  ffffffffffffffff 
    00007ff798b748c0:  ffffffffffffffff  ffffffffffffffff 
    00007ff798b748d0:  ffffffffffffffff  ffffffffffffffff 
    00007ff798b748e0:  ffffffffffffffff  ffffffffffffffff 
    00007ff798b748f0:  ffffffffffffffff  ffffffffffffffff 
    00007ff798b74900:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7ff7993b5f47
    stack: frame={sp:0x7ff798b74810, fp:0x0} stack=[0x7ff798375290,0x7ff798b74e90)
    00007ff798b74710:  0000000000000000  0000000000000000 
    00007ff798b74720:  0000000000000000  0000000000000000 
    00007ff798b74730:  0000000000000000  0000000000000000 
    00007ff798b74740:  0000000000000000  0000000000000000 
    00007ff798b74750:  0000000000000000  0000000000000000 
    00007ff798b74760:  0000000000000000  0000000000000000 
    00007ff798b74770:  0000000000000000  0000000000000000 
    00007ff798b74780:  0000000000000000  0000000000000000 
    00007ff798b74790:  0000000000000000  0000000000000000 
    00007ff798b747a0:  0000000000000000  0000000000000000 
    00007ff798b747b0:  0000000000000000  0000000000000000 
    00007ff798b747c0:  0000000000000000  0000000000000000 
    00007ff798b747d0:  0000000000000000  0000000000000000 
    00007ff798b747e0:  0000000000000000  0000000000000000 
    00007ff798b747f0:  0000000000000000  0000000000000000 
    00007ff798b74800:  0000000000000000  0000000000000000 
    00007ff798b74810: <0000000000000000  0000000000000000 
    00007ff798b74820:  0000000000000000  0000000000000000 
    00007ff798b74830:  0000000000000000  0000000000000000 
    00007ff798b74840:  0000000000000000  0000000000000000 
    00007ff798b74850:  0000000000000000  0000000000000000 
    00007ff798b74860:  0000000000000000  0000000000000000 
    00007ff798b74870:  0000000000000000  0000000000000000 
    00007ff798b74880:  0000000000000000  0000000000000000 
    00007ff798b74890:  fffffffe7fffffff  ffffffffffffffff 
    00007ff798b748a0:  ffffffffffffffff  ffffffffffffffff 
    00007ff798b748b0:  ffffffffffffffff  ffffffffffffffff 
    00007ff798b748c0:  ffffffffffffffff  ffffffffffffffff 
    00007ff798b748d0:  ffffffffffffffff  ffffffffffffffff 
    00007ff798b748e0:  ffffffffffffffff  ffffffffffffffff 
    00007ff798b748f0:  ffffffffffffffff  ffffffffffffffff 
    00007ff798b74900:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running]:
    	goroutine running on other thread; stack unavailable
    
    goroutine 5 [runnable]:
    os/signal.loop()
    	/usr/lib/go-1.10/src/os/signal/signal_unix.go:20
    created by os/signal.init.0
    	/usr/lib/go-1.10/src/os/signal/signal_unix.go:28 +0x43
    
    rax    0x0
    rbx    0x7ff799763840
    rcx    0x7ff7993b5f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ff798b74810
    rbp    0x56389485c32a
    rsp    0x7ff798b74810
    r8     0x0
    r9     0x7ff798b74810
    r10    0x8
    r11    0x246
    r12    0x5638965513f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7ff7993b5f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
