apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f60999e4f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f60999e4f47
    stack: frame={sp:0x7ffed53862d0, fp:0x0} stack=[0x7ffed4b87970,0x7ffed53869a0)
    00007ffed53861d0:  000055ef4934b683 <runtime.main+883>  000000000030da24 
    00007ffed53861e0:  0000000000000000  0000000000000000 
    00007ffed53861f0:  00007f6099d92560  00007f6099d95bc0 
    00007ffed5386200:  000000c42006ffd0  000055ef4934b3e0 <runtime.main+208> 
    00007ffed5386210:  000055ef4a03f970  0000000000000000 
    00007ffed5386220:  0000000000000000  0000000000000000 
    00007ffed5386230:  0000000000000000  0000000000000000 
    00007ffed5386240:  0000000000000000  0000000000000000 
    00007ffed5386250:  000000c420000180  0000000000000000 
    00007ffed5386260:  000055ef4934b3e0 <runtime.main+208>  000055ef4a03f970 
    00007ffed5386270:  0000000000000000  0000000000000000 
    00007ffed5386280:  0000000000000000  0000000000000000 
    00007ffed5386290:  0000000000000000  0000000000000000 
    00007ffed53862a0:  0000000000000000  000000c420000180 
    00007ffed53862b0:  0000000000000000  000055ef49376f31 <runtime.goexit+1> 
    00007ffed53862c0:  0000000000000000  0000000000000000 
    00007ffed53862d0: <0000000000000000  0000000000000000 
    00007ffed53862e0:  000055ef49ad3201  000055ef4a0d97f0 
    00007ffed53862f0:  000055ef4a3ed3c0  0000000000000000 
    00007ffed5386300:  0000000000000000  000055ef49376f31 <runtime.goexit+1> 
    00007ffed5386310:  000055ef4a3ed3c0  00007ffed5386620 
    00007ffed5386320:  000055ef4936b962 <runtime.gentraceback+4850>  00007ffed53865c8 
    00007ffed5386330:  00007ffed53866b8  000055ef4a3ed301 
    00007ffed5386340:  0000000000000002  0000000000000000 
    00007ffed5386350:  fffffffe7fffffff  ffffffffffffffff 
    00007ffed5386360:  ffffffffffffffff  ffffffffffffffff 
    00007ffed5386370:  ffffffffffffffff  ffffffffffffffff 
    00007ffed5386380:  ffffffffffffffff  ffffffffffffffff 
    00007ffed5386390:  ffffffffffffffff  ffffffffffffffff 
    00007ffed53863a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffed53863b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffed53863c0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f60999e4f47
    stack: frame={sp:0x7ffed53862d0, fp:0x0} stack=[0x7ffed4b87970,0x7ffed53869a0)
    00007ffed53861d0:  000055ef4934b683 <runtime.main+883>  000000000030da24 
    00007ffed53861e0:  0000000000000000  0000000000000000 
    00007ffed53861f0:  00007f6099d92560  00007f6099d95bc0 
    00007ffed5386200:  000000c42006ffd0  000055ef4934b3e0 <runtime.main+208> 
    00007ffed5386210:  000055ef4a03f970  0000000000000000 
    00007ffed5386220:  0000000000000000  0000000000000000 
    00007ffed5386230:  0000000000000000  0000000000000000 
    00007ffed5386240:  0000000000000000  0000000000000000 
    00007ffed5386250:  000000c420000180  0000000000000000 
    00007ffed5386260:  000055ef4934b3e0 <runtime.main+208>  000055ef4a03f970 
    00007ffed5386270:  0000000000000000  0000000000000000 
    00007ffed5386280:  0000000000000000  0000000000000000 
    00007ffed5386290:  0000000000000000  0000000000000000 
    00007ffed53862a0:  0000000000000000  000000c420000180 
    00007ffed53862b0:  0000000000000000  000055ef49376f31 <runtime.goexit+1> 
    00007ffed53862c0:  0000000000000000  0000000000000000 
    00007ffed53862d0: <0000000000000000  0000000000000000 
    00007ffed53862e0:  000055ef49ad3201  000055ef4a0d97f0 
    00007ffed53862f0:  000055ef4a3ed3c0  0000000000000000 
    00007ffed5386300:  0000000000000000  000055ef49376f31 <runtime.goexit+1> 
    00007ffed5386310:  000055ef4a3ed3c0  00007ffed5386620 
    00007ffed5386320:  000055ef4936b962 <runtime.gentraceback+4850>  00007ffed53865c8 
    00007ffed5386330:  00007ffed53866b8  000055ef4a3ed301 
    00007ffed5386340:  0000000000000002  0000000000000000 
    00007ffed5386350:  fffffffe7fffffff  ffffffffffffffff 
    00007ffed5386360:  ffffffffffffffff  ffffffffffffffff 
    00007ffed5386370:  ffffffffffffffff  ffffffffffffffff 
    00007ffed5386380:  ffffffffffffffff  ffffffffffffffff 
    00007ffed5386390:  ffffffffffffffff  ffffffffffffffff 
    00007ffed53863a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffed53863b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffed53863c0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.systemstack_switch()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:363 fp=0xc420081f00 sp=0xc420081ef8 pc=0x55ef49374370
    runtime.newproc(0x55ef00000000, 0x55ef4a03f8f8)
    	/usr/lib/go-1.10/src/runtime/proc.go:3243 +0x64 fp=0xc420081f40 sp=0xc420081f00 pc=0x55ef49353264
    runtime.init.4()
    	/usr/lib/go-1.10/src/runtime/proc.go:237 +0x37 fp=0xc420081f60 sp=0xc420081f40 pc=0x55ef4934b6d7
    runtime.init()
    	<autogenerated>:1 +0xe5 fp=0xc420081f88 sp=0xc420081f60 pc=0x55ef49373f45
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:144 +0xd0 fp=0xc420081fe0 sp=0xc420081f88 pc=0x55ef4934b3e0
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x55ef49376f31
    
    rax    0x0
    rbx    0x7f6099d92840
    rcx    0x7f60999e4f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffed53862d0
    rbp    0x55ef49b4532a
    rsp    0x7ffed53862d0
    r8     0x0
    r9     0x7ffed53862d0
    r10    0x8
    r11    0x246
    r12    0x55ef4be4c3f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f60999e4f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 5 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000088000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000088000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc00004b000, 0x4)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000073f01)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.resetspinning()
    	/usr/local/go/src/runtime/proc.go:2533 +0x59
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2684 +0x2b9
    runtime.mstart1()
    	/usr/local/go/src/runtime/proc.go:1179 +0x93
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1137 +0x6e
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x1bb7a80, 0xc0000420c8, 0x170e, 0x2)
    	/usr/local/go/src/runtime/proc.go:306 +0xe5
    runtime.chanrecv(0xc000042070, 0x0, 0xc000000101, 0x410101)
    	/usr/local/go/src/runtime/chan.go:577 +0x36f
    runtime.chanrecv1(0xc000042070, 0x0)
    	/usr/local/go/src/runtime/chan.go:439 +0x2b
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:220 +0xac
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    system_key.go:147: cannot determine seccomp compiler version in generateSystemKey: fork/exec /snap/snapd/15534/usr/lib/snapd/snap-seccomp: resource temporarily unavailable
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fb56619de87 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fb56619de87
    stack: frame={sp:0x7fff722d8b90, fp:0x0} stack=[0x7fff71ada240,0x7fff722d9280)
    0x00007fff722d8a90:  0x0000000000000001  0x0000ffff00001fa0 
    0x00007fff722d8aa0:  0x00007fff722d8ee0  0x000000000000000b 
    0x00007fff722d8ab0:  0x00007fff722d8fa0  0x0000000000af1480 
    0x00007fff722d8ac0:  0x00007fb53f74e1dd  0x00007fb56677f053 
    0x00007fff722d8ad0:  0x0000000000000005  0x0000000000000000 
    0x00007fff722d8ae0:  0x6e732f3a6e696273  0x00007fb56616fd38 
    0x00007fff722d8af0:  0x00007fff722d8eb0  0x00007fb5667868aa 
    0x00007fff722d8b00:  0x0000000000000000  0x0000000000000000 
    0x00007fff722d8b10:  0x0000000000000000  0x00007fff722d8fa0 
    0x00007fff722d8b20:  0x2525252525252525  0x2525252525252525 
    0x00007fff722d8b30:  0x00000000000000ff  0x0000000000000000 
    0x00007fff722d8b40:  0x00000000000000ff  0x0000000000000000 
    0x00007fff722d8b50:  0x0000000000000000  0x0000000000000000 
    0x00007fff722d8b60:  0x6e732f3a6e696273  0x37312f71792f7061 
    0x00007fff722d8b70:  0x2f3a6e69622f3230  0x61636f6c2f727375 
    0x00007fff722d8b80:  0x2f3a6e6962732f6c  0x61636f6c2f727375 
    0x00007fff722d8b90: <0x0000000000000000  0x3a6e6962732f7273 
    0x00007fff722d8ba0:  0x656d69746e757200  0x756f203a6f67632f 
    0x00007fff722d8bb0:  0x0000000000000000  0x0000000000000000 
    0x00007fff722d8bc0:  0x3a6e69622f323037  0x636f6c2f7273752f 
    0x00007fff722d8bd0:  0x3a6e6962732f6c61  0x636f6c2f7273752f 
    0x00007fff722d8be0:  0x2f3a6e69622f6c61  0x6e6962732f727375 
    0x00007fff722d8bf0:  0x69622f7273752f3a  0x3a6e6962732f3a6e 
    0x00007fff722d8c00:  0x73752f3a6e69622f  0x3a73656d61672f72 
    0x00007fff722d8c10:  0xfffffffe7fffffff  0xffffffffffffffff 
    0x00007fff722d8c20:  0xffffffffffffffff  0xffffffffffffffff 
    0x00007fff722d8c30:  0xffffffffffffffff  0xffffffffffffffff 
    0x00007fff722d8c40:  0xffffffffffffffff  0xffffffffffffffff 
    0x00007fff722d8c50:  0xffffffffffffffff  0xffffffffffffffff 
    0x00007fff722d8c60:  0xffffffffffffffff  0xffffffffffffffff 
    0x00007fff722d8c70:  0xffffffffffffffff  0xffffffffffffffff 
    0x00007fff722d8c80:  0xffffffffffffffff  0xffffffffffffffff 
    runtime: unknown pc 0x7fb56619de87
    stack: frame={sp:0x7fff722d8b90, fp:0x0} stack=[0x7fff71ada240,0x7fff722d9280)
    0x00007fff722d8a90:  0x0000000000000001  0x0000ffff00001fa0 
    0x00007fff722d8aa0:  0x00007fff722d8ee0  0x000000000000000b 
    0x00007fff722d8ab0:  0x00007fff722d8fa0  0x0000000000af1480 
    0x00007fff722d8ac0:  0x00007fb53f74e1dd  0x00007fb56677f053 
    0x00007fff722d8ad0:  0x0000000000000005  0x0000000000000000 
    0x00007fff722d8ae0:  0x6e732f3a6e696273  0x00007fb56616fd38 
    0x00007fff722d8af0:  0x00007fff722d8eb0  0x00007fb5667868aa 
    0x00007fff722d8b00:  0x0000000000000000  0x0000000000000000 
    0x00007fff722d8b10:  0x0000000000000000  0x00007fff722d8fa0 
    0x00007fff722d8b20:  0x2525252525252525  0x2525252525252525 
    0x00007fff722d8b30:  0x00000000000000ff  0x0000000000000000 
    0x00007fff722d8b40:  0x00000000000000ff  0x0000000000000000 
    0x00007fff722d8b50:  0x0000000000000000  0x0000000000000000 
    0x00007fff722d8b60:  0x6e732f3a6e696273  0x37312f71792f7061 
    0x00007fff722d8b70:  0x2f3a6e69622f3230  0x61636f6c2f727375 
    0x00007fff722d8b80:  0x2f3a6e6962732f6c  0x61636f6c2f727375 
    0x00007fff722d8b90: <0x0000000000000000  0x3a6e6962732f7273 
    0x00007fff722d8ba0:  0x656d69746e757200  0x756f203a6f67632f 
    0x00007fff722d8bb0:  0x0000000000000000  0x0000000000000000 
    0x00007fff722d8bc0:  0x3a6e69622f323037  0x636f6c2f7273752f 
    0x00007fff722d8bd0:  0x3a6e6962732f6c61  0x636f6c2f7273752f 
    0x00007fff722d8be0:  0x2f3a6e69622f6c61  0x6e6962732f727375 
    0x00007fff722d8bf0:  0x69622f7273752f3a  0x3a6e6962732f3a6e 
    0x00007fff722d8c00:  0x73752f3a6e69622f  0x3a73656d61672f72 
    0x00007fff722d8c10:  0xfffffffe7fffffff  0xffffffffffffffff 
    0x00007fff722d8c20:  0xffffffffffffffff  0xffffffffffffffff 
    0x00007fff722d8c30:  0xffffffffffffffff  0xffffffffffffffff 
    0x00007fff722d8c40:  0xffffffffffffffff  0xffffffffffffffff 
    0x00007fff722d8c50:  0xffffffffffffffff  0xffffffffffffffff 
    0x00007fff722d8c60:  0xffffffffffffffff  0xffffffffffffffff 
    0x00007fff722d8c70:  0xffffffffffffffff  0xffffffffffffffff 
    0x00007fff722d8c80:  0xffffffffffffffff  0xffffffffffffffff 
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0xc000072000?, 0xc000046720?, 0x25?, 0xed?, 0x0?)
    	/snap/go/9415/src/runtime/proc.go:361 +0xd6
    runtime.chanrecv(0xc000070000, 0x0, 0x1)
    	/snap/go/9415/src/runtime/chan.go:577 +0x56c
    runtime.chanrecv1(0x0?, 0x2?)
    	/snap/go/9415/src/runtime/chan.go:440 +0x18
    runtime.gcenable()
    	/snap/go/9415/src/runtime/mgc.go:180 +0xc5
    runtime.main()
    	/snap/go/9415/src/runtime/proc.go:209 +0x13d
    runtime.goexit()
    	/snap/go/9415/src/runtime/asm_amd64.s:1571 +0x1
    
    rax    0x0
    rbx    0x7fb56654b840
    rcx    0x7fb56619de87
    rdx    0x0
    rdi    0x2
    rsi    0x7fff722d8b90
    rbp    0x7fff722d8ee0
    rsp    0x7fff722d8b90
    r8     0x0
    r9     0x7fff722d8b90
    r10    0x8
    r11    0x246
    r12    0x83e0fe
    r13    0x7fff722d8fa0
    r14    0xaf1480
    r15    0x7fb53f74e1dd
    rip    0x7fb56619de87
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
