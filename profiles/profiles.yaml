apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f5c3c446f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f5c3c446f47
    stack: frame={sp:0x7ffcee60bf90, fp:0x0} stack=[0x7ffcede0d490,0x7ffcee60c4c0)
    00007ffcee60be90:  0000000000000001  0000000000000000 
    00007ffcee60bea0:  0000000000000000  0000000000000000 
    00007ffcee60beb0:  0000000000000000  0000000000000000 
    00007ffcee60bec0:  000000c42006ffd0  000055625fdf43e0 <runtime.main+208> 
    00007ffcee60bed0:  0000556260ae8970  0000000000000000 
    00007ffcee60bee0:  0000000000000000  0000000000000000 
    00007ffcee60bef0:  0000000000000000  0000000000000000 
    00007ffcee60bf00:  0000000000000000  0000000000000000 
    00007ffcee60bf10:  000000c420000180  0000000000000000 
    00007ffcee60bf20:  000055625fdf43e0 <runtime.main+208>  0000556260ae8970 
    00007ffcee60bf30:  0000000000000000  0000000000000000 
    00007ffcee60bf40:  0000000000000000  0000000000000000 
    00007ffcee60bf50:  0000000000000000  0000000000000000 
    00007ffcee60bf60:  0000000000000000  000000c420000180 
    00007ffcee60bf70:  0000000000000000  000055625fe1ff31 <runtime.goexit+1> 
    00007ffcee60bf80:  0000000000000000  0000000000000000 
    00007ffcee60bf90: <0000000000000000  0000000000000000 
    00007ffcee60bfa0:  00007f5c3cc380d0  00007ffcee60bfe8 
    00007ffcee60bfb0:  000055625fe10582 <runtime.step+290>  0000556260b6c232 
    00007ffcee60bfc0:  000000000030da24  000000000030da24 
    00007ffcee60bfd0:  0000029300000002  000000503c800ec5 
    00007ffcee60bfe0:  000000000030da24  00007ffcee60c098 
    00007ffcee60bff0:  000055625fe0f936 <runtime.pcvalue+342>  0000556260b82828 
    00007ffcee60c000:  0000000000000002  0000000000000000 
    00007ffcee60c010:  fffffffe7fffffff  ffffffffffffffff 
    00007ffcee60c020:  ffffffffffffffff  ffffffffffffffff 
    00007ffcee60c030:  ffffffffffffffff  ffffffffffffffff 
    00007ffcee60c040:  ffffffffffffffff  ffffffffffffffff 
    00007ffcee60c050:  ffffffffffffffff  ffffffffffffffff 
    00007ffcee60c060:  ffffffffffffffff  ffffffffffffffff 
    00007ffcee60c070:  ffffffffffffffff  ffffffffffffffff 
    00007ffcee60c080:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f5c3c446f47
    stack: frame={sp:0x7ffcee60bf90, fp:0x0} stack=[0x7ffcede0d490,0x7ffcee60c4c0)
    00007ffcee60be90:  0000000000000001  0000000000000000 
    00007ffcee60bea0:  0000000000000000  0000000000000000 
    00007ffcee60beb0:  0000000000000000  0000000000000000 
    00007ffcee60bec0:  000000c42006ffd0  000055625fdf43e0 <runtime.main+208> 
    00007ffcee60bed0:  0000556260ae8970  0000000000000000 
    00007ffcee60bee0:  0000000000000000  0000000000000000 
    00007ffcee60bef0:  0000000000000000  0000000000000000 
    00007ffcee60bf00:  0000000000000000  0000000000000000 
    00007ffcee60bf10:  000000c420000180  0000000000000000 
    00007ffcee60bf20:  000055625fdf43e0 <runtime.main+208>  0000556260ae8970 
    00007ffcee60bf30:  0000000000000000  0000000000000000 
    00007ffcee60bf40:  0000000000000000  0000000000000000 
    00007ffcee60bf50:  0000000000000000  0000000000000000 
    00007ffcee60bf60:  0000000000000000  000000c420000180 
    00007ffcee60bf70:  0000000000000000  000055625fe1ff31 <runtime.goexit+1> 
    00007ffcee60bf80:  0000000000000000  0000000000000000 
    00007ffcee60bf90: <0000000000000000  0000000000000000 
    00007ffcee60bfa0:  00007f5c3cc380d0  00007ffcee60bfe8 
    00007ffcee60bfb0:  000055625fe10582 <runtime.step+290>  0000556260b6c232 
    00007ffcee60bfc0:  000000000030da24  000000000030da24 
    00007ffcee60bfd0:  0000029300000002  000000503c800ec5 
    00007ffcee60bfe0:  000000000030da24  00007ffcee60c098 
    00007ffcee60bff0:  000055625fe0f936 <runtime.pcvalue+342>  0000556260b82828 
    00007ffcee60c000:  0000000000000002  0000000000000000 
    00007ffcee60c010:  fffffffe7fffffff  ffffffffffffffff 
    00007ffcee60c020:  ffffffffffffffff  ffffffffffffffff 
    00007ffcee60c030:  ffffffffffffffff  ffffffffffffffff 
    00007ffcee60c040:  ffffffffffffffff  ffffffffffffffff 
    00007ffcee60c050:  ffffffffffffffff  ffffffffffffffff 
    00007ffcee60c060:  ffffffffffffffff  ffffffffffffffff 
    00007ffcee60c070:  ffffffffffffffff  ffffffffffffffff 
    00007ffcee60c080:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x5562604bca30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x55625fe1ebcf
    runtime.newm1(0xc420061000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x55625fdf86b1
    runtime.newm(0x556260ae8b08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x55625fdf852f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x55625fdf8791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x55625fdf44b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x55625fe1ff31
    
    rax    0x0
    rbx    0x7f5c3c7f4840
    rcx    0x7f5c3c446f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffcee60bf90
    rbp    0x5562605ee32a
    rsp    0x7ffcee60bf90
    r8     0x0
    r9     0x7ffcee60bf90
    r10    0x8
    r11    0x246
    r12    0x556261cfb690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f5c3c446f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 4 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    runtime: failed to create new OS thread (have 5 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062800)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062800)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x0, 0xc000046000, 0x3)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0xc000046000, 0x2a6cc00)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.handoffp(0xc000046000)
    	/usr/local/go/src/runtime/proc.go:2001 +0x52
    runtime.stoplockedm()
    	/usr/local/go/src/runtime/proc.go:2075 +0xf7
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2611 +0x48c
    runtime.park_m(0xc000000180)
    	/usr/local/go/src/runtime/proc.go:2845 +0x9d
    runtime.mcall(0x0)
    	/usr/local/go/src/runtime/asm_amd64.s:318 +0x5b
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x1bb7a80, 0xc0000420c8, 0x170e, 0x2)
    	/usr/local/go/src/runtime/proc.go:306 +0xe5
    runtime.chanrecv(0xc000042070, 0x0, 0xc000000101, 0x41a55e)
    	/usr/local/go/src/runtime/chan.go:577 +0x36f
    runtime.chanrecv1(0xc000042070, 0x0)
    	/usr/local/go/src/runtime/chan.go:439 +0x2b
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:219 +0x95
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000088000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000088000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc00004b000, 0x4)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000073f01)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.resetspinning()
    	/usr/local/go/src/runtime/proc.go:2533 +0x59
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2684 +0x2b9
    runtime.mstart1()
    	/usr/local/go/src/runtime/proc.go:1179 +0x93
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1137 +0x6e
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f54899bdf47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f54899bdf47
    stack: frame={sp:0x7ffc0a95e3c0, fp:0x0} stack=[0x7ffc0a15f8c0,0x7ffc0a95e8f0)
    00007ffc0a95e2c0:  0000000000000003  0000556915c825c0 
    00007ffc0a95e2d0:  0000000000000000  000000c420081fe0 
    00007ffc0a95e2e0:  0000000000000000  0000000000000000 
    00007ffc0a95e2f0:  0000000000000000  0000000000000000 
    00007ffc0a95e300:  0000000000000003  5bbec810ec415500 
    00007ffc0a95e310:  0000000000000000  00000000000f4240 
    00007ffc0a95e320:  00005569175ed540  0000556915c825c0 
    00007ffc0a95e330:  00007ffc0a95e3d0  0000000000000000 
    00007ffc0a95e340:  00007ffc0a95e3c0  0000556915c82520 
    00007ffc0a95e350:  0000000000000004  00007ffc0a95e360 
    00007ffc0a95e360:  0000000000000000  0000000000000000 
    00007ffc0a95e370:  0000000000000000  5bbec810ec415500 
    00007ffc0a95e380:  0000000000000000  00007ffc0a95e3d0 
    00007ffc0a95e390:  00007ffc0a95e490  00005569175ed540 
    00007ffc0a95e3a0:  00000000000000f1  5bbec810ec415500 
    00007ffc0a95e3b0:  0000000000000000  0000556915c82753 
    00007ffc0a95e3c0: <0000000000000000  0000000000800000 
    00007ffc0a95e3d0:  0000000000000000  00007ffc0a95e418 
    00007ffc0a95e3e0:  00005569155d6582 <runtime.step+290>  0000556916332232 
    00007ffc0a95e3f0:  000000000030da24  000000000030da24 
    00007ffc0a95e400:  0000029300000002  000000508a16fda8 
    00007ffc0a95e410:  000000000030da24  00007ffc0a95e4c8 
    00007ffc0a95e420:  00005569155d5936 <runtime.pcvalue+342>  0000556916348828 
    00007ffc0a95e430:  00000000002f742e  00000000002f742e 
    00007ffc0a95e440:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc0a95e450:  ffffffffffffffff  ffffffffffffffff 
    00007ffc0a95e460:  ffffffffffffffff  ffffffffffffffff 
    00007ffc0a95e470:  ffffffffffffffff  ffffffffffffffff 
    00007ffc0a95e480:  ffffffffffffffff  ffffffffffffffff 
    00007ffc0a95e490:  ffffffffffffffff  ffffffffffffffff 
    00007ffc0a95e4a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc0a95e4b0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f54899bdf47
    stack: frame={sp:0x7ffc0a95e3c0, fp:0x0} stack=[0x7ffc0a15f8c0,0x7ffc0a95e8f0)
    00007ffc0a95e2c0:  0000000000000003  0000556915c825c0 
    00007ffc0a95e2d0:  0000000000000000  000000c420081fe0 
    00007ffc0a95e2e0:  0000000000000000  0000000000000000 
    00007ffc0a95e2f0:  0000000000000000  0000000000000000 
    00007ffc0a95e300:  0000000000000003  5bbec810ec415500 
    00007ffc0a95e310:  0000000000000000  00000000000f4240 
    00007ffc0a95e320:  00005569175ed540  0000556915c825c0 
    00007ffc0a95e330:  00007ffc0a95e3d0  0000000000000000 
    00007ffc0a95e340:  00007ffc0a95e3c0  0000556915c82520 
    00007ffc0a95e350:  0000000000000004  00007ffc0a95e360 
    00007ffc0a95e360:  0000000000000000  0000000000000000 
    00007ffc0a95e370:  0000000000000000  5bbec810ec415500 
    00007ffc0a95e380:  0000000000000000  00007ffc0a95e3d0 
    00007ffc0a95e390:  00007ffc0a95e490  00005569175ed540 
    00007ffc0a95e3a0:  00000000000000f1  5bbec810ec415500 
    00007ffc0a95e3b0:  0000000000000000  0000556915c82753 
    00007ffc0a95e3c0: <0000000000000000  0000000000800000 
    00007ffc0a95e3d0:  0000000000000000  00007ffc0a95e418 
    00007ffc0a95e3e0:  00005569155d6582 <runtime.step+290>  0000556916332232 
    00007ffc0a95e3f0:  000000000030da24  000000000030da24 
    00007ffc0a95e400:  0000029300000002  000000508a16fda8 
    00007ffc0a95e410:  000000000030da24  00007ffc0a95e4c8 
    00007ffc0a95e420:  00005569155d5936 <runtime.pcvalue+342>  0000556916348828 
    00007ffc0a95e430:  00000000002f742e  00000000002f742e 
    00007ffc0a95e440:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc0a95e450:  ffffffffffffffff  ffffffffffffffff 
    00007ffc0a95e460:  ffffffffffffffff  ffffffffffffffff 
    00007ffc0a95e470:  ffffffffffffffff  ffffffffffffffff 
    00007ffc0a95e480:  ffffffffffffffff  ffffffffffffffff 
    00007ffc0a95e490:  ffffffffffffffff  ffffffffffffffff 
    00007ffc0a95e4a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc0a95e4b0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x556915c82a30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x5569155e4bcf
    runtime.newm1(0xc420061000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x5569155be6b1
    runtime.newm(0x5569162aeb08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x5569155be52f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x5569155be791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x5569155ba4b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x5569155e5f31
    
    rax    0x0
    rbx    0x7f5489d6b840
    rcx    0x7f54899bdf47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffc0a95e3c0
    rbp    0x556915db432a
    rsp    0x7ffc0a95e3c0
    r8     0x0
    r9     0x7ffc0a95e3c0
    r10    0x8
    r11    0x246
    r12    0x5569175ed690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f54899bdf47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
