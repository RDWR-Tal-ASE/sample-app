apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f02ec08cf47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f02ec08cf47
    stack: frame={sp:0x7ffd484bf510, fp:0x0} stack=[0x7ffd47cc0bb0,0x7ffd484bfbe0)
    00007ffd484bf410:  00005652bdd71683 <runtime.main+883>  000000000030da24 
    00007ffd484bf420:  0000000000000000  0000000000000000 
    00007ffd484bf430:  00007f02ec43a560  00007f02ec43dbc0 
    00007ffd484bf440:  000000c42006ffd0  00005652bdd713e0 <runtime.main+208> 
    00007ffd484bf450:  00005652bea65970  0000000000000000 
    00007ffd484bf460:  0000000000000000  0000000000000000 
    00007ffd484bf470:  0000000000000000  0000000000000000 
    00007ffd484bf480:  0000000000000000  0000000000000000 
    00007ffd484bf490:  000000c420000180  0000000000000000 
    00007ffd484bf4a0:  00005652bdd713e0 <runtime.main+208>  00005652bea65970 
    00007ffd484bf4b0:  0000000000000000  0000000000000000 
    00007ffd484bf4c0:  0000000000000000  0000000000000000 
    00007ffd484bf4d0:  0000000000000000  0000000000000000 
    00007ffd484bf4e0:  0000000000000000  000000c420000180 
    00007ffd484bf4f0:  0000000000000000  00005652bdd9cf31 <runtime.goexit+1> 
    00007ffd484bf500:  0000000000000000  0000000000000000 
    00007ffd484bf510: <0000000000000000  0000000000000000 
    00007ffd484bf520:  00005652be4f9201  00005652beaff7f0 
    00007ffd484bf530:  00005652bee133c0  0000000000000000 
    00007ffd484bf540:  0000000000000000  00005652bdd9cf31 <runtime.goexit+1> 
    00007ffd484bf550:  00005652bee133c0  00007ffd484bf860 
    00007ffd484bf560:  00005652bdd91962 <runtime.gentraceback+4850>  00007ffd484bf808 
    00007ffd484bf570:  00007ffd484bf8f8  00005652bee13301 
    00007ffd484bf580:  0000000000000002  0000000000000000 
    00007ffd484bf590:  fffffffe7fffffff  ffffffffffffffff 
    00007ffd484bf5a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd484bf5b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd484bf5c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd484bf5d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd484bf5e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd484bf5f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd484bf600:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f02ec08cf47
    stack: frame={sp:0x7ffd484bf510, fp:0x0} stack=[0x7ffd47cc0bb0,0x7ffd484bfbe0)
    00007ffd484bf410:  00005652bdd71683 <runtime.main+883>  000000000030da24 
    00007ffd484bf420:  0000000000000000  0000000000000000 
    00007ffd484bf430:  00007f02ec43a560  00007f02ec43dbc0 
    00007ffd484bf440:  000000c42006ffd0  00005652bdd713e0 <runtime.main+208> 
    00007ffd484bf450:  00005652bea65970  0000000000000000 
    00007ffd484bf460:  0000000000000000  0000000000000000 
    00007ffd484bf470:  0000000000000000  0000000000000000 
    00007ffd484bf480:  0000000000000000  0000000000000000 
    00007ffd484bf490:  000000c420000180  0000000000000000 
    00007ffd484bf4a0:  00005652bdd713e0 <runtime.main+208>  00005652bea65970 
    00007ffd484bf4b0:  0000000000000000  0000000000000000 
    00007ffd484bf4c0:  0000000000000000  0000000000000000 
    00007ffd484bf4d0:  0000000000000000  0000000000000000 
    00007ffd484bf4e0:  0000000000000000  000000c420000180 
    00007ffd484bf4f0:  0000000000000000  00005652bdd9cf31 <runtime.goexit+1> 
    00007ffd484bf500:  0000000000000000  0000000000000000 
    00007ffd484bf510: <0000000000000000  0000000000000000 
    00007ffd484bf520:  00005652be4f9201  00005652beaff7f0 
    00007ffd484bf530:  00005652bee133c0  0000000000000000 
    00007ffd484bf540:  0000000000000000  00005652bdd9cf31 <runtime.goexit+1> 
    00007ffd484bf550:  00005652bee133c0  00007ffd484bf860 
    00007ffd484bf560:  00005652bdd91962 <runtime.gentraceback+4850>  00007ffd484bf808 
    00007ffd484bf570:  00007ffd484bf8f8  00005652bee13301 
    00007ffd484bf580:  0000000000000002  0000000000000000 
    00007ffd484bf590:  fffffffe7fffffff  ffffffffffffffff 
    00007ffd484bf5a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd484bf5b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd484bf5c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd484bf5d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd484bf5e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd484bf5f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd484bf600:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.systemstack_switch()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:363 fp=0xc420081f00 sp=0xc420081ef8 pc=0x5652bdd9a370
    runtime.newproc(0x565200000000, 0x5652bea658f8)
    	/usr/lib/go-1.10/src/runtime/proc.go:3243 +0x64 fp=0xc420081f40 sp=0xc420081f00 pc=0x5652bdd79264
    runtime.init.4()
    	/usr/lib/go-1.10/src/runtime/proc.go:237 +0x37 fp=0xc420081f60 sp=0xc420081f40 pc=0x5652bdd716d7
    runtime.init()
    	<autogenerated>:1 +0xe5 fp=0xc420081f88 sp=0xc420081f60 pc=0x5652bdd99f45
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:144 +0xd0 fp=0xc420081fe0 sp=0xc420081f88 pc=0x5652bdd713e0
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x5652bdd9cf31
    
    rax    0x0
    rbx    0x7f02ec43a840
    rcx    0x7f02ec08cf47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffd484bf510
    rbp    0x5652be56b32a
    rsp    0x7ffd484bf510
    r8     0x0
    r9     0x7ffd484bf510
    r10    0x8
    r11    0x246
    r12    0x5652bfddb3f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f02ec08cf47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 2 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7d48, 0x0, 0xffffffffffffffff)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.main.func1()
    	/usr/local/go/src/runtime/proc.go:135 +0x3f
    runtime.systemstack(0x46c2f4)
    	/usr/local/go/src/runtime/asm_amd64.s:370 +0x66
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1116
    
    goroutine 1 [running]:
    runtime.systemstack_switch()
    	/usr/local/go/src/runtime/asm_amd64.s:330 fp=0xc00005e788 sp=0xc00005e780 pc=0x46c420
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:134 +0x70 fp=0xc00005e7e0 sp=0xc00005e788 pc=0x439ab0
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1 fp=0xc00005e7e8 sp=0xc00005e7e0 pc=0x46e061
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7ff5b61eff47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7ff5b61eff47
    stack: frame={sp:0x7ffcd7d33ce0, fp:0x0} stack=[0x7ffcd7535380,0x7ffcd7d343b0)
    00007ffcd7d33be0:  0000565314f69683 <runtime.main+883>  000000000030da24 
    00007ffcd7d33bf0:  0000029300000002  00000050b67d875a 
    00007ffcd7d33c00:  000000000030da24  00007ffcd7d33cb8 
    00007ffcd7d33c10:  0000565314f84936 <runtime.pcvalue+342>  0000565315cf7828 
    00007ffcd7d33c20:  00000000002f742e  00000000002f742e 
    00007ffcd7d33c30:  00007ffcd7d33c70  00007ffcd7d33c6c 
    00007ffcd7d33c40:  000056531600b301  0000565315cf782a 
    00007ffcd7d33c50:  00000000002f742c  00000000002f742c 
    00007ffcd7d33c60:  0000000000000001  0000000040000000 
    00007ffcd7d33c70:  00007ffcd7d33d28  0000565314f7f75f <runtime.adjustframe+175> 
    00007ffcd7d33c80:  0000565315cf77f0  000056531600b3c0 
    00007ffcd7d33c90:  00007ffc00000000  0000565314f94f30 <runtime.goexit+0> 
    00007ffcd7d33ca0:  00007ffcd7d340e0  00000000ffffffff 
    00007ffcd7d33cb0:  00000000d7d33c40  0000565314f94f30 <runtime.goexit+0> 
    00007ffcd7d33cc0:  0000565314f851c1 <runtime.funcspdelta+97>  0000565315cf77f0 
    00007ffcd7d33cd0:  000056531600b3c0  00007ffc0006f548 
    00007ffcd7d33ce0: <0000000000000000  00007ffcd7d33e40 
    00007ffcd7d33cf0:  00005653156f1201  0000565315cf77f0 
    00007ffcd7d33d00:  000056531600b3c0  0000000000000000 
    00007ffcd7d33d10:  0000000000000000  0000565314f94f31 <runtime.goexit+1> 
    00007ffcd7d33d20:  000056531600b3c0  00007ffcd7d34030 
    00007ffcd7d33d30:  0000565314f89962 <runtime.gentraceback+4850>  00007ffcd7d33fd8 
    00007ffcd7d33d40:  00007ffcd7d340c8  000056531600b301 
    00007ffcd7d33d50:  00007ffcd7d33e01  0000000000000000 
    00007ffcd7d33d60:  fffffffe7fffffff  ffffffffffffffff 
    00007ffcd7d33d70:  ffffffffffffffff  ffffffffffffffff 
    00007ffcd7d33d80:  ffffffffffffffff  ffffffffffffffff 
    00007ffcd7d33d90:  ffffffffffffffff  ffffffffffffffff 
    00007ffcd7d33da0:  ffffffffffffffff  ffffffffffffffff 
    00007ffcd7d33db0:  ffffffffffffffff  ffffffffffffffff 
    00007ffcd7d33dc0:  ffffffffffffffff  ffffffffffffffff 
    00007ffcd7d33dd0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7ff5b61eff47
    stack: frame={sp:0x7ffcd7d33ce0, fp:0x0} stack=[0x7ffcd7535380,0x7ffcd7d343b0)
    00007ffcd7d33be0:  0000565314f69683 <runtime.main+883>  000000000030da24 
    00007ffcd7d33bf0:  0000029300000002  00000050b67d875a 
    00007ffcd7d33c00:  000000000030da24  00007ffcd7d33cb8 
    00007ffcd7d33c10:  0000565314f84936 <runtime.pcvalue+342>  0000565315cf7828 
    00007ffcd7d33c20:  00000000002f742e  00000000002f742e 
    00007ffcd7d33c30:  00007ffcd7d33c70  00007ffcd7d33c6c 
    00007ffcd7d33c40:  000056531600b301  0000565315cf782a 
    00007ffcd7d33c50:  00000000002f742c  00000000002f742c 
    00007ffcd7d33c60:  0000000000000001  0000000040000000 
    00007ffcd7d33c70:  00007ffcd7d33d28  0000565314f7f75f <runtime.adjustframe+175> 
    00007ffcd7d33c80:  0000565315cf77f0  000056531600b3c0 
    00007ffcd7d33c90:  00007ffc00000000  0000565314f94f30 <runtime.goexit+0> 
    00007ffcd7d33ca0:  00007ffcd7d340e0  00000000ffffffff 
    00007ffcd7d33cb0:  00000000d7d33c40  0000565314f94f30 <runtime.goexit+0> 
    00007ffcd7d33cc0:  0000565314f851c1 <runtime.funcspdelta+97>  0000565315cf77f0 
    00007ffcd7d33cd0:  000056531600b3c0  00007ffc0006f548 
    00007ffcd7d33ce0: <0000000000000000  00007ffcd7d33e40 
    00007ffcd7d33cf0:  00005653156f1201  0000565315cf77f0 
    00007ffcd7d33d00:  000056531600b3c0  0000000000000000 
    00007ffcd7d33d10:  0000000000000000  0000565314f94f31 <runtime.goexit+1> 
    00007ffcd7d33d20:  000056531600b3c0  00007ffcd7d34030 
    00007ffcd7d33d30:  0000565314f89962 <runtime.gentraceback+4850>  00007ffcd7d33fd8 
    00007ffcd7d33d40:  00007ffcd7d340c8  000056531600b301 
    00007ffcd7d33d50:  00007ffcd7d33e01  0000000000000000 
    00007ffcd7d33d60:  fffffffe7fffffff  ffffffffffffffff 
    00007ffcd7d33d70:  ffffffffffffffff  ffffffffffffffff 
    00007ffcd7d33d80:  ffffffffffffffff  ffffffffffffffff 
    00007ffcd7d33d90:  ffffffffffffffff  ffffffffffffffff 
    00007ffcd7d33da0:  ffffffffffffffff  ffffffffffffffff 
    00007ffcd7d33db0:  ffffffffffffffff  ffffffffffffffff 
    00007ffcd7d33dc0:  ffffffffffffffff  ffffffffffffffff 
    00007ffcd7d33dd0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.systemstack_switch()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:363 fp=0xc420081f00 sp=0xc420081ef8 pc=0x565314f92370
    runtime.newproc(0x565300000000, 0x565315c5d8f8)
    	/usr/lib/go-1.10/src/runtime/proc.go:3243 +0x64 fp=0xc420081f40 sp=0xc420081f00 pc=0x565314f71264
    runtime.init.4()
    	/usr/lib/go-1.10/src/runtime/proc.go:237 +0x37 fp=0xc420081f60 sp=0xc420081f40 pc=0x565314f696d7
    runtime.init()
    	<autogenerated>:1 +0xe5 fp=0xc420081f88 sp=0xc420081f60 pc=0x565314f91f45
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:144 +0xd0 fp=0xc420081fe0 sp=0xc420081f88 pc=0x565314f693e0
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x565314f94f31
    
    rax    0x0
    rbx    0x7ff5b659d840
    rcx    0x7ff5b61eff47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffcd7d33ce0
    rbp    0x56531576332a
    rsp    0x7ffcd7d33ce0
    r8     0x0
    r9     0x7ffcd7d33ce0
    r10    0x8
    r11    0x246
    r12    0x5653168a93f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7ff5b61eff47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
