apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fc798056f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fc798056f47
    stack: frame={sp:0x7ffece196f60, fp:0x0} stack=[0x7ffecd998460,0x7ffece197490)
    00007ffece196e60:  00007fc700000001  00007fc798404420 
    00007ffece196e70:  0000000000000000  000000c420081fe0 
    00007ffece196e80:  0000000000000000  0000000000000000 
    00007ffece196e90:  0000000000000000  0000000000000000 
    00007ffece196ea0:  0000000000000000  0000000000000000 
    00007ffece196eb0:  00007fc798404560  00007fc798407bc0 
    00007ffece196ec0:  000000c42006ffd0  0000559b8c0bd3e0 <runtime.main+208> 
    00007ffece196ed0:  0000559b8cdb1970  0000000000000000 
    00007ffece196ee0:  0000000000000000  0000000000000000 
    00007ffece196ef0:  0000000000000000  0000000000000000 
    00007ffece196f00:  0000000000000000  0000000000000000 
    00007ffece196f10:  000000c420000180  0000000000000000 
    00007ffece196f20:  0000559b8c0bd3e0 <runtime.main+208>  0000559b8cdb1970 
    00007ffece196f30:  0000000000000000  0000000000000000 
    00007ffece196f40:  0000000000000000  0000000000000000 
    00007ffece196f50:  0000000000000000  0000000000000000 
    00007ffece196f60: <0000000000000000  000000c420000180 
    00007ffece196f70:  0000000000000000  0000559b8c0e8f31 <runtime.goexit+1> 
    00007ffece196f80:  0000000000000000  0000000000000000 
    00007ffece196f90:  0000000000000000  0000000000000000 
    00007ffece196fa0:  0000029300000002  0000005098410ec5 
    00007ffece196fb0:  000000000030da24  00007ffece197068 
    00007ffece196fc0:  0000559b8c0d8936 <runtime.pcvalue+342>  0000559b8ce4b828 
    00007ffece196fd0:  00000000002f742e  00000000002f742e 
    00007ffece196fe0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffece196ff0:  ffffffffffffffff  ffffffffffffffff 
    00007ffece197000:  ffffffffffffffff  ffffffffffffffff 
    00007ffece197010:  ffffffffffffffff  ffffffffffffffff 
    00007ffece197020:  ffffffffffffffff  ffffffffffffffff 
    00007ffece197030:  ffffffffffffffff  ffffffffffffffff 
    00007ffece197040:  ffffffffffffffff  ffffffffffffffff 
    00007ffece197050:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fc798056f47
    stack: frame={sp:0x7ffece196f60, fp:0x0} stack=[0x7ffecd998460,0x7ffece197490)
    00007ffece196e60:  00007fc700000001  00007fc798404420 
    00007ffece196e70:  0000000000000000  000000c420081fe0 
    00007ffece196e80:  0000000000000000  0000000000000000 
    00007ffece196e90:  0000000000000000  0000000000000000 
    00007ffece196ea0:  0000000000000000  0000000000000000 
    00007ffece196eb0:  00007fc798404560  00007fc798407bc0 
    00007ffece196ec0:  000000c42006ffd0  0000559b8c0bd3e0 <runtime.main+208> 
    00007ffece196ed0:  0000559b8cdb1970  0000000000000000 
    00007ffece196ee0:  0000000000000000  0000000000000000 
    00007ffece196ef0:  0000000000000000  0000000000000000 
    00007ffece196f00:  0000000000000000  0000000000000000 
    00007ffece196f10:  000000c420000180  0000000000000000 
    00007ffece196f20:  0000559b8c0bd3e0 <runtime.main+208>  0000559b8cdb1970 
    00007ffece196f30:  0000000000000000  0000000000000000 
    00007ffece196f40:  0000000000000000  0000000000000000 
    00007ffece196f50:  0000000000000000  0000000000000000 
    00007ffece196f60: <0000000000000000  000000c420000180 
    00007ffece196f70:  0000000000000000  0000559b8c0e8f31 <runtime.goexit+1> 
    00007ffece196f80:  0000000000000000  0000000000000000 
    00007ffece196f90:  0000000000000000  0000000000000000 
    00007ffece196fa0:  0000029300000002  0000005098410ec5 
    00007ffece196fb0:  000000000030da24  00007ffece197068 
    00007ffece196fc0:  0000559b8c0d8936 <runtime.pcvalue+342>  0000559b8ce4b828 
    00007ffece196fd0:  00000000002f742e  00000000002f742e 
    00007ffece196fe0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffece196ff0:  ffffffffffffffff  ffffffffffffffff 
    00007ffece197000:  ffffffffffffffff  ffffffffffffffff 
    00007ffece197010:  ffffffffffffffff  ffffffffffffffff 
    00007ffece197020:  ffffffffffffffff  ffffffffffffffff 
    00007ffece197030:  ffffffffffffffff  ffffffffffffffff 
    00007ffece197040:  ffffffffffffffff  ffffffffffffffff 
    00007ffece197050:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x559b8c785a30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x559b8c0e7bcf
    runtime.newm1(0xc420094400)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x559b8c0c16b1
    runtime.newm(0x559b8cdb1b08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x559b8c0c152f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x559b8c0c1791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x559b8c0bd4b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x559b8c0e8f31
    
    rax    0x0
    rbx    0x7fc798404840
    rcx    0x7fc798056f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffece196f60
    rbp    0x559b8c8b732a
    rsp    0x7ffece196f60
    r8     0x0
    r9     0x7ffece196f60
    r10    0x8
    r11    0x246
    r12    0x559b8d2e1690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fc798056f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 5 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000088000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000088000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc00004b000, 0x4)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000073f01)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.resetspinning()
    	/usr/local/go/src/runtime/proc.go:2533 +0x59
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2684 +0x2b9
    runtime.mstart1()
    	/usr/local/go/src/runtime/proc.go:1179 +0x93
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1137 +0x6e
    
    goroutine 1 [runnable, locked to thread]:
    runtime.gopark(0x1bb7a80, 0xc0000420c8, 0x170e, 0x2)
    	/usr/local/go/src/runtime/proc.go:306 +0xe5
    runtime.chanrecv(0xc000042070, 0x0, 0xc000000101, 0x41a55e)
    	/usr/local/go/src/runtime/chan.go:577 +0x36f
    runtime.chanrecv1(0xc000042070, 0x0)
    	/usr/local/go/src/runtime/chan.go:439 +0x2b
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:219 +0x95
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f32b1b86f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f32b1b86f47
    stack: frame={sp:0x7ffc91053890, fp:0x0} stack=[0x7ffc90854d90,0x7ffc91053dc0)
    00007ffc91053790:  2f3a656300000001  6e69622f70616e73 
    00007ffc910537a0:  00007f32b1f34420  000000c420081fe0 
    00007ffc910537b0:  0000000000000000  0000000000000000 
    00007ffc910537c0:  0000000000000000  0000000000000000 
    00007ffc910537d0:  0000000000000003  000000c420081fd8 
    00007ffc910537e0:  0000000000000000  0000000000000120 
    00007ffc910537f0:  0000001300000000  0000000000000007 
    00007ffc91053800:  0000000000000130  000055c0d18a6098 
    00007ffc91053810:  0000000000000150  ffffffffffffffa8 
    00007ffc91053820:  0000000000000004  0000003400000013 
    00007ffc91053830:  0000000000000000  0000000000000000 
    00007ffc91053840:  0000000000000000  000000770000007c 
    00007ffc91053850:  0000005b0000006e  0000005000058f4e 
    00007ffc91053860:  0000000000000000  0000000000020ab0 
    00007ffc91053870:  0000000000000120  00007f32b216b307 
    00007ffc91053880:  000055c0d18a6550  0000000000000001 
    00007ffc91053890: <0000000000000000  000055c0d18a6570 
    00007ffc910538a0:  00007f32b23780d0  00007ffc910538e8 
    00007ffc910538b0:  000055c0cf699582 <runtime.step+290>  000055c0d03f5232 
    00007ffc910538c0:  000000000030da24  000000000030da24 
    00007ffc910538d0:  0000029300000002  00000050b1f40ec5 
    00007ffc910538e0:  000000000030da24  00007ffc91053998 
    00007ffc910538f0:  000055c0cf698936 <runtime.pcvalue+342>  000055c0d040b828 
    00007ffc91053900:  00000000002f742e  00000000002f742e 
    00007ffc91053910:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc91053920:  ffffffffffffffff  ffffffffffffffff 
    00007ffc91053930:  ffffffffffffffff  ffffffffffffffff 
    00007ffc91053940:  ffffffffffffffff  ffffffffffffffff 
    00007ffc91053950:  ffffffffffffffff  ffffffffffffffff 
    00007ffc91053960:  ffffffffffffffff  ffffffffffffffff 
    00007ffc91053970:  ffffffffffffffff  ffffffffffffffff 
    00007ffc91053980:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f32b1b86f47
    stack: frame={sp:0x7ffc91053890, fp:0x0} stack=[0x7ffc90854d90,0x7ffc91053dc0)
    00007ffc91053790:  2f3a656300000001  6e69622f70616e73 
    00007ffc910537a0:  00007f32b1f34420  000000c420081fe0 
    00007ffc910537b0:  0000000000000000  0000000000000000 
    00007ffc910537c0:  0000000000000000  0000000000000000 
    00007ffc910537d0:  0000000000000003  000000c420081fd8 
    00007ffc910537e0:  0000000000000000  0000000000000120 
    00007ffc910537f0:  0000001300000000  0000000000000007 
    00007ffc91053800:  0000000000000130  000055c0d18a6098 
    00007ffc91053810:  0000000000000150  ffffffffffffffa8 
    00007ffc91053820:  0000000000000004  0000003400000013 
    00007ffc91053830:  0000000000000000  0000000000000000 
    00007ffc91053840:  0000000000000000  000000770000007c 
    00007ffc91053850:  0000005b0000006e  0000005000058f4e 
    00007ffc91053860:  0000000000000000  0000000000020ab0 
    00007ffc91053870:  0000000000000120  00007f32b216b307 
    00007ffc91053880:  000055c0d18a6550  0000000000000001 
    00007ffc91053890: <0000000000000000  000055c0d18a6570 
    00007ffc910538a0:  00007f32b23780d0  00007ffc910538e8 
    00007ffc910538b0:  000055c0cf699582 <runtime.step+290>  000055c0d03f5232 
    00007ffc910538c0:  000000000030da24  000000000030da24 
    00007ffc910538d0:  0000029300000002  00000050b1f40ec5 
    00007ffc910538e0:  000000000030da24  00007ffc91053998 
    00007ffc910538f0:  000055c0cf698936 <runtime.pcvalue+342>  000055c0d040b828 
    00007ffc91053900:  00000000002f742e  00000000002f742e 
    00007ffc91053910:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc91053920:  ffffffffffffffff  ffffffffffffffff 
    00007ffc91053930:  ffffffffffffffff  ffffffffffffffff 
    00007ffc91053940:  ffffffffffffffff  ffffffffffffffff 
    00007ffc91053950:  ffffffffffffffff  ffffffffffffffff 
    00007ffc91053960:  ffffffffffffffff  ffffffffffffffff 
    00007ffc91053970:  ffffffffffffffff  ffffffffffffffff 
    00007ffc91053980:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x55c0cfd45a30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x55c0cf6a7bcf
    runtime.newm1(0xc420094400)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x55c0cf6816b1
    runtime.newm(0x55c0d0371b08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x55c0cf68152f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x55c0cf681791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x55c0cf67d4b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x55c0cf6a8f31
    
    rax    0x0
    rbx    0x7f32b1f34840
    rcx    0x7f32b1b86f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffc91053890
    rbp    0x55c0cfe7732a
    rsp    0x7ffc91053890
    r8     0x0
    r9     0x7ffc91053890
    r10    0x8
    r11    0x246
    r12    0x55c0d18a6690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f32b1b86f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
