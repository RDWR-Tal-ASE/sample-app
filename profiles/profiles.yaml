apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f15db250f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f15db250f47
    stack: frame={sp:0x7fffa39966e0, fp:0x0} stack=[0x7fffa3197be0,0x7fffa3996c10)
    00007fffa39965e0:  00007f1500000001  00007f15db5fe420 
    00007fffa39965f0:  0000000000000000  000000c420081fe0 
    00007fffa3996600:  0000000000000000  0000000000000000 
    00007fffa3996610:  0000000000000000  0000000000000000 
    00007fffa3996620:  0000000000000000  0000000000000000 
    00007fffa3996630:  00007f15db5fe560  00007f15db601bc0 
    00007fffa3996640:  000000c42006ffd0  000055e5a7b2a3e0 <runtime.main+208> 
    00007fffa3996650:  000055e5a881e970  0000000000000000 
    00007fffa3996660:  0000000000000000  0000000000000000 
    00007fffa3996670:  0000000000000000  0000000000000000 
    00007fffa3996680:  0000000000000000  0000000000000000 
    00007fffa3996690:  000000c420000180  0000000000000000 
    00007fffa39966a0:  000055e5a7b2a3e0 <runtime.main+208>  000055e5a881e970 
    00007fffa39966b0:  0000000000000000  0000000000000000 
    00007fffa39966c0:  0000000000000000  0000000000000000 
    00007fffa39966d0:  0000000000000000  0000000000000000 
    00007fffa39966e0: <0000000000000000  000000c420000180 
    00007fffa39966f0:  0000000000000000  000055e5a7b55f31 <runtime.goexit+1> 
    00007fffa3996700:  0000000000000000  0000000000000000 
    00007fffa3996710:  0000000000000000  0000000000000000 
    00007fffa3996720:  0000029300000002  00000050db60aec5 
    00007fffa3996730:  000000000030da24  00007fffa39967e8 
    00007fffa3996740:  000055e5a7b45936 <runtime.pcvalue+342>  000055e5a88b8828 
    00007fffa3996750:  00000000002f742e  00000000002f742e 
    00007fffa3996760:  fffffffe7fffffff  ffffffffffffffff 
    00007fffa3996770:  ffffffffffffffff  ffffffffffffffff 
    00007fffa3996780:  ffffffffffffffff  ffffffffffffffff 
    00007fffa3996790:  ffffffffffffffff  ffffffffffffffff 
    00007fffa39967a0:  ffffffffffffffff  ffffffffffffffff 
    00007fffa39967b0:  ffffffffffffffff  ffffffffffffffff 
    00007fffa39967c0:  ffffffffffffffff  ffffffffffffffff 
    00007fffa39967d0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f15db250f47
    stack: frame={sp:0x7fffa39966e0, fp:0x0} stack=[0x7fffa3197be0,0x7fffa3996c10)
    00007fffa39965e0:  00007f1500000001  00007f15db5fe420 
    00007fffa39965f0:  0000000000000000  000000c420081fe0 
    00007fffa3996600:  0000000000000000  0000000000000000 
    00007fffa3996610:  0000000000000000  0000000000000000 
    00007fffa3996620:  0000000000000000  0000000000000000 
    00007fffa3996630:  00007f15db5fe560  00007f15db601bc0 
    00007fffa3996640:  000000c42006ffd0  000055e5a7b2a3e0 <runtime.main+208> 
    00007fffa3996650:  000055e5a881e970  0000000000000000 
    00007fffa3996660:  0000000000000000  0000000000000000 
    00007fffa3996670:  0000000000000000  0000000000000000 
    00007fffa3996680:  0000000000000000  0000000000000000 
    00007fffa3996690:  000000c420000180  0000000000000000 
    00007fffa39966a0:  000055e5a7b2a3e0 <runtime.main+208>  000055e5a881e970 
    00007fffa39966b0:  0000000000000000  0000000000000000 
    00007fffa39966c0:  0000000000000000  0000000000000000 
    00007fffa39966d0:  0000000000000000  0000000000000000 
    00007fffa39966e0: <0000000000000000  000000c420000180 
    00007fffa39966f0:  0000000000000000  000055e5a7b55f31 <runtime.goexit+1> 
    00007fffa3996700:  0000000000000000  0000000000000000 
    00007fffa3996710:  0000000000000000  0000000000000000 
    00007fffa3996720:  0000029300000002  00000050db60aec5 
    00007fffa3996730:  000000000030da24  00007fffa39967e8 
    00007fffa3996740:  000055e5a7b45936 <runtime.pcvalue+342>  000055e5a88b8828 
    00007fffa3996750:  00000000002f742e  00000000002f742e 
    00007fffa3996760:  fffffffe7fffffff  ffffffffffffffff 
    00007fffa3996770:  ffffffffffffffff  ffffffffffffffff 
    00007fffa3996780:  ffffffffffffffff  ffffffffffffffff 
    00007fffa3996790:  ffffffffffffffff  ffffffffffffffff 
    00007fffa39967a0:  ffffffffffffffff  ffffffffffffffff 
    00007fffa39967b0:  ffffffffffffffff  ffffffffffffffff 
    00007fffa39967c0:  ffffffffffffffff  ffffffffffffffff 
    00007fffa39967d0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x55e5a81f2a30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x55e5a7b54bcf
    runtime.newm1(0xc420061000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x55e5a7b2e6b1
    runtime.newm(0x55e5a881eb08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x55e5a7b2e52f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x55e5a7b2e791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x55e5a7b2a4b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x55e5a7b55f31
    
    rax    0x0
    rbx    0x7f15db5fe840
    rcx    0x7f15db250f47
    rdx    0x0
    rdi    0x2
    rsi    0x7fffa39966e0
    rbp    0x55e5a832432a
    rsp    0x7fffa39966e0
    r8     0x0
    r9     0x7fffa39966e0
    r10    0x8
    r11    0x246
    r12    0x55e5aa089690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f15db250f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 5 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000088000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000088000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc00004b000, 0x4)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000073f01)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.resetspinning()
    	/usr/local/go/src/runtime/proc.go:2533 +0x59
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2684 +0x2b9
    runtime.mstart1()
    	/usr/local/go/src/runtime/proc.go:1179 +0x93
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1137 +0x6e
    
    goroutine 1 [runnable, locked to thread]:
    runtime.gopark(0x1bb7a80, 0xc0000420c8, 0x170e, 0x2)
    	/usr/local/go/src/runtime/proc.go:306 +0xe5
    runtime.chanrecv(0xc000042070, 0x0, 0xc000000101, 0x41a55e)
    	/usr/local/go/src/runtime/chan.go:577 +0x36f
    runtime.chanrecv1(0xc000042070, 0x0)
    	/usr/local/go/src/runtime/chan.go:439 +0x2b
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:219 +0x95
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f2508e5bf47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f2508e5bf47
    stack: frame={sp:0x7fff14edd050, fp:0x0} stack=[0x7fff146de550,0x7fff14edd580)
    00007fff14edcf50:  2f3a656300000001  6e69622f70616e73 
    00007fff14edcf60:  00007f2509209420  000000c420081fe0 
    00007fff14edcf70:  0000000000000000  0000000000000000 
    00007fff14edcf80:  0000000000000000  0000000000000000 
    00007fff14edcf90:  0000000000000003  000000c420081fd8 
    00007fff14edcfa0:  0000000000000000  0000000000000120 
    00007fff14edcfb0:  0000001300000000  0000000000000007 
    00007fff14edcfc0:  0000000000000130  000055eef2f08098 
    00007fff14edcfd0:  0000000000000150  ffffffffffffffa8 
    00007fff14edcfe0:  0000000000000004  0000003400000013 
    00007fff14edcff0:  0000000000000000  0000000000000000 
    00007fff14edd000:  0000000000000000  000000770000007c 
    00007fff14edd010:  0000005b0000006e  0000000000000000 
    00007fff14edd020:  000055eef1bbff31 <runtime.goexit+1>  0000000000020ab0 
    00007fff14edd030:  0000000000000120  00007f2509440307 
    00007fff14edd040:  000055eef2f08550  0000000000000001 
    00007fff14edd050: <0000000000000000  000055eef2f08570 
    00007fff14edd060:  00007f250964d0d0  00007fff14edd0a8 
    00007fff14edd070:  000055eef1bb0582 <runtime.step+290>  000055eef290c232 
    00007fff14edd080:  000000000030da24  000000000030da24 
    00007fff14edd090:  0000029300000002  0000005009215ec5 
    00007fff14edd0a0:  000000000030da24  00007fff14edd158 
    00007fff14edd0b0:  000055eef1baf936 <runtime.pcvalue+342>  000055eef2922828 
    00007fff14edd0c0:  00000000002f742e  00000000002f742e 
    00007fff14edd0d0:  fffffffe7fffffff  ffffffffffffffff 
    00007fff14edd0e0:  ffffffffffffffff  ffffffffffffffff 
    00007fff14edd0f0:  ffffffffffffffff  ffffffffffffffff 
    00007fff14edd100:  ffffffffffffffff  ffffffffffffffff 
    00007fff14edd110:  ffffffffffffffff  ffffffffffffffff 
    00007fff14edd120:  ffffffffffffffff  ffffffffffffffff 
    00007fff14edd130:  ffffffffffffffff  ffffffffffffffff 
    00007fff14edd140:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f2508e5bf47
    stack: frame={sp:0x7fff14edd050, fp:0x0} stack=[0x7fff146de550,0x7fff14edd580)
    00007fff14edcf50:  2f3a656300000001  6e69622f70616e73 
    00007fff14edcf60:  00007f2509209420  000000c420081fe0 
    00007fff14edcf70:  0000000000000000  0000000000000000 
    00007fff14edcf80:  0000000000000000  0000000000000000 
    00007fff14edcf90:  0000000000000003  000000c420081fd8 
    00007fff14edcfa0:  0000000000000000  0000000000000120 
    00007fff14edcfb0:  0000001300000000  0000000000000007 
    00007fff14edcfc0:  0000000000000130  000055eef2f08098 
    00007fff14edcfd0:  0000000000000150  ffffffffffffffa8 
    00007fff14edcfe0:  0000000000000004  0000003400000013 
    00007fff14edcff0:  0000000000000000  0000000000000000 
    00007fff14edd000:  0000000000000000  000000770000007c 
    00007fff14edd010:  0000005b0000006e  0000000000000000 
    00007fff14edd020:  000055eef1bbff31 <runtime.goexit+1>  0000000000020ab0 
    00007fff14edd030:  0000000000000120  00007f2509440307 
    00007fff14edd040:  000055eef2f08550  0000000000000001 
    00007fff14edd050: <0000000000000000  000055eef2f08570 
    00007fff14edd060:  00007f250964d0d0  00007fff14edd0a8 
    00007fff14edd070:  000055eef1bb0582 <runtime.step+290>  000055eef290c232 
    00007fff14edd080:  000000000030da24  000000000030da24 
    00007fff14edd090:  0000029300000002  0000005009215ec5 
    00007fff14edd0a0:  000000000030da24  00007fff14edd158 
    00007fff14edd0b0:  000055eef1baf936 <runtime.pcvalue+342>  000055eef2922828 
    00007fff14edd0c0:  00000000002f742e  00000000002f742e 
    00007fff14edd0d0:  fffffffe7fffffff  ffffffffffffffff 
    00007fff14edd0e0:  ffffffffffffffff  ffffffffffffffff 
    00007fff14edd0f0:  ffffffffffffffff  ffffffffffffffff 
    00007fff14edd100:  ffffffffffffffff  ffffffffffffffff 
    00007fff14edd110:  ffffffffffffffff  ffffffffffffffff 
    00007fff14edd120:  ffffffffffffffff  ffffffffffffffff 
    00007fff14edd130:  ffffffffffffffff  ffffffffffffffff 
    00007fff14edd140:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x55eef225ca30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x55eef1bbebcf
    runtime.newm1(0xc420061000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x55eef1b986b1
    runtime.newm(0x55eef2888b08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x55eef1b9852f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x55eef1b98791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x55eef1b944b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x55eef1bbff31
    
    rax    0x0
    rbx    0x7f2509209840
    rcx    0x7f2508e5bf47
    rdx    0x0
    rdi    0x2
    rsi    0x7fff14edd050
    rbp    0x55eef238e32a
    rsp    0x7fff14edd050
    r8     0x0
    r9     0x7fff14edd050
    r10    0x8
    r11    0x246
    r12    0x55eef2f08690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f2508e5bf47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
