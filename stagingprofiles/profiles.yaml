apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fbbdcabaf47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fbbdcabaf47
    stack: frame={sp:0x7fff7e0b5580, fp:0x0} stack=[0x7fff7d8b6c20,0x7fff7e0b5c50)
    00007fff7e0b5480:  0000562109539683 <runtime.main+883>  000000000030da24 
    00007fff7e0b5490:  0000029300000002  0000005000000000 
    00007fff7e0b54a0:  000000000030da24  00007fff7e0b5558 
    00007fff7e0b54b0:  0000562109554936 <runtime.pcvalue+342>  000056210a2c7828 
    00007fff7e0b54c0:  00000000002f742e  00000000002f742e 
    00007fff7e0b54d0:  00007fff7e0b5510  00007fff7e0b550c 
    00007fff7e0b54e0:  000056210a5db301  000056210a2c782a 
    00007fff7e0b54f0:  00000000002f742c  00000000002f742c 
    00007fff7e0b5500:  0000000000000001  0000000040000000 
    00007fff7e0b5510:  00007fff7e0b55c8  000056210954f75f <runtime.adjustframe+175> 
    00007fff7e0b5520:  000056210a2c77f0  000056210a5db3c0 
    00007fff7e0b5530:  00007fff00000000  0000562109564f30 <runtime.goexit+0> 
    00007fff7e0b5540:  00007fff7e0b5980  00000000ffffffff 
    00007fff7e0b5550:  000000007e0b54e0  0000562109564f30 <runtime.goexit+0> 
    00007fff7e0b5560:  00005621095551c1 <runtime.funcspdelta+97>  000056210a2c77f0 
    00007fff7e0b5570:  000056210a5db3c0  00007fff0006f548 
    00007fff7e0b5580: <0000000000000000  00007fff7e0b56e0 
    00007fff7e0b5590:  0000562109cc1201  000056210a2c77f0 
    00007fff7e0b55a0:  000056210a5db3c0  0000000000000000 
    00007fff7e0b55b0:  0000000000000000  0000562109564f31 <runtime.goexit+1> 
    00007fff7e0b55c0:  000056210a5db3c0  00007fff7e0b58d0 
    00007fff7e0b55d0:  0000562109559962 <runtime.gentraceback+4850>  00007fff7e0b5878 
    00007fff7e0b55e0:  00007fff7e0b5968  000056210a5db301 
    00007fff7e0b55f0:  00007fff7e0b5601  0000000000000000 
    00007fff7e0b5600:  fffffffe7fffffff  ffffffffffffffff 
    00007fff7e0b5610:  ffffffffffffffff  ffffffffffffffff 
    00007fff7e0b5620:  ffffffffffffffff  ffffffffffffffff 
    00007fff7e0b5630:  ffffffffffffffff  ffffffffffffffff 
    00007fff7e0b5640:  ffffffffffffffff  ffffffffffffffff 
    00007fff7e0b5650:  ffffffffffffffff  ffffffffffffffff 
    00007fff7e0b5660:  ffffffffffffffff  ffffffffffffffff 
    00007fff7e0b5670:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fbbdcabaf47
    stack: frame={sp:0x7fff7e0b5580, fp:0x0} stack=[0x7fff7d8b6c20,0x7fff7e0b5c50)
    00007fff7e0b5480:  0000562109539683 <runtime.main+883>  000000000030da24 
    00007fff7e0b5490:  0000029300000002  0000005000000000 
    00007fff7e0b54a0:  000000000030da24  00007fff7e0b5558 
    00007fff7e0b54b0:  0000562109554936 <runtime.pcvalue+342>  000056210a2c7828 
    00007fff7e0b54c0:  00000000002f742e  00000000002f742e 
    00007fff7e0b54d0:  00007fff7e0b5510  00007fff7e0b550c 
    00007fff7e0b54e0:  000056210a5db301  000056210a2c782a 
    00007fff7e0b54f0:  00000000002f742c  00000000002f742c 
    00007fff7e0b5500:  0000000000000001  0000000040000000 
    00007fff7e0b5510:  00007fff7e0b55c8  000056210954f75f <runtime.adjustframe+175> 
    00007fff7e0b5520:  000056210a2c77f0  000056210a5db3c0 
    00007fff7e0b5530:  00007fff00000000  0000562109564f30 <runtime.goexit+0> 
    00007fff7e0b5540:  00007fff7e0b5980  00000000ffffffff 
    00007fff7e0b5550:  000000007e0b54e0  0000562109564f30 <runtime.goexit+0> 
    00007fff7e0b5560:  00005621095551c1 <runtime.funcspdelta+97>  000056210a2c77f0 
    00007fff7e0b5570:  000056210a5db3c0  00007fff0006f548 
    00007fff7e0b5580: <0000000000000000  00007fff7e0b56e0 
    00007fff7e0b5590:  0000562109cc1201  000056210a2c77f0 
    00007fff7e0b55a0:  000056210a5db3c0  0000000000000000 
    00007fff7e0b55b0:  0000000000000000  0000562109564f31 <runtime.goexit+1> 
    00007fff7e0b55c0:  000056210a5db3c0  00007fff7e0b58d0 
    00007fff7e0b55d0:  0000562109559962 <runtime.gentraceback+4850>  00007fff7e0b5878 
    00007fff7e0b55e0:  00007fff7e0b5968  000056210a5db301 
    00007fff7e0b55f0:  00007fff7e0b5601  0000000000000000 
    00007fff7e0b5600:  fffffffe7fffffff  ffffffffffffffff 
    00007fff7e0b5610:  ffffffffffffffff  ffffffffffffffff 
    00007fff7e0b5620:  ffffffffffffffff  ffffffffffffffff 
    00007fff7e0b5630:  ffffffffffffffff  ffffffffffffffff 
    00007fff7e0b5640:  ffffffffffffffff  ffffffffffffffff 
    00007fff7e0b5650:  ffffffffffffffff  ffffffffffffffff 
    00007fff7e0b5660:  ffffffffffffffff  ffffffffffffffff 
    00007fff7e0b5670:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x56210a22da60, 0xc4200380c8, 0x562109c0b704, 0xc, 0xc42003ce17, 0x3)
    	/usr/lib/go-1.10/src/runtime/proc.go:291 +0x120
    runtime.goparkunlock(0xc4200380c8, 0x562109c0b704, 0xc, 0x17, 0x3)
    	/usr/lib/go-1.10/src/runtime/proc.go:297 +0x60
    runtime.chanrecv(0xc420038070, 0x0, 0x1, 0x5621095248aa)
    	/usr/lib/go-1.10/src/runtime/chan.go:518 +0x2f6
    runtime.chanrecv1(0xc420038070, 0x0)
    	/usr/lib/go-1.10/src/runtime/chan.go:400 +0x2b
    runtime.gcenable()
    	/usr/lib/go-1.10/src/runtime/mgc.go:217 +0x71
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:161 +0x126
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1
    
    rax    0x0
    rbx    0x7fbbdce68840
    rcx    0x7fbbdcabaf47
    rdx    0x0
    rdi    0x2
    rsi    0x7fff7e0b5580
    rbp    0x562109d3332a
    rsp    0x7fff7e0b5580
    r8     0x0
    r9     0x7fff7e0b5580
    r10    0x8
    r11    0x246
    r12    0x56210ad35540
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fbbdcabaf47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 3 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062400)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062400)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc000048800, 0x2)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000046001)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.newproc.func1()
    	/usr/local/go/src/runtime/proc.go:3555 +0x97
    runtime.systemstack(0x46c2f4)
    	/usr/local/go/src/runtime/asm_amd64.s:370 +0x66
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1116
    
    goroutine 1 [running, locked to thread]:
    runtime.systemstack_switch()
    	/usr/local/go/src/runtime/asm_amd64.s:330 fp=0xc00005e6f0 sp=0xc00005e6e8 pc=0x46c420
    runtime.newproc(0x0, 0x1bb7b08)
    	/usr/local/go/src/runtime/proc.go:3548 +0x6e fp=0xc00005e738 sp=0xc00005e6f0 pc=0x44210e
    runtime.init.6()
    	/usr/local/go/src/runtime/proc.go:243 +0x35 fp=0xc00005e758 sp=0xc00005e738 pc=0x439df5
    runtime.doInit(0x2881120)
    	/usr/local/go/src/runtime/proc.go:5646 +0x8a fp=0xc00005e788 sp=0xc00005e758 pc=0x446f8a
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:151 +0xd9 fp=0xc00005e7e0 sp=0xc00005e788 pc=0x439b19
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1 fp=0xc00005e7e8 sp=0xc00005e7e0 pc=0x46e061
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f1f5f77df47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f1f5f77df47
    stack: frame={sp:0x7ffdd3065f50, fp:0x0} stack=[0x7ffdd28675f0,0x7ffdd3066620)
    00007ffdd3065e50:  00005594c7037683 <runtime.main+883>  000000000030da24 
    00007ffdd3065e60:  0000029300000002  000000505f74c5c0 
    00007ffdd3065e70:  000000000030da24  00007ffdd3065f28 
    00007ffdd3065e80:  00005594c7052936 <runtime.pcvalue+342>  00005594c7dc5828 
    00007ffdd3065e90:  00000000002f742e  00000000002f742e 
    00007ffdd3065ea0:  00007ffdd3065ee0  00007ffdd3065edc 
    00007ffdd3065eb0:  00005594c80d9301  00005594c7dc582a 
    00007ffdd3065ec0:  00000000002f742c  00000000002f742c 
    00007ffdd3065ed0:  0000000000000001  0000000040000000 
    00007ffdd3065ee0:  00007ffdd3065f98  00005594c704d75f <runtime.adjustframe+175> 
    00007ffdd3065ef0:  00005594c7dc57f0  00005594c80d93c0 
    00007ffdd3065f00:  00007ffd00000000  00005594c7062f30 <runtime.goexit+0> 
    00007ffdd3065f10:  00007ffdd3066350  00000000ffffffff 
    00007ffdd3065f20:  00000000d3065eb0  00005594c7062f30 <runtime.goexit+0> 
    00007ffdd3065f30:  00005594c70531c1 <runtime.funcspdelta+97>  00005594c7dc57f0 
    00007ffdd3065f40:  00005594c80d93c0  00007ffd0006f548 
    00007ffdd3065f50: <0000000000000000  00007ffdd30660b0 
    00007ffdd3065f60:  00005594c77bf201  00005594c7dc57f0 
    00007ffdd3065f70:  00005594c80d93c0  0000000000000000 
    00007ffdd3065f80:  0000000000000000  00005594c7062f31 <runtime.goexit+1> 
    00007ffdd3065f90:  00005594c80d93c0  00007ffdd30662a0 
    00007ffdd3065fa0:  00005594c7057962 <runtime.gentraceback+4850>  00007ffdd3066248 
    00007ffdd3065fb0:  00007ffdd3066338  00005594c80d9301 
    00007ffdd3065fc0:  00007ffdd3066001  0000000000000000 
    00007ffdd3065fd0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffdd3065fe0:  ffffffffffffffff  ffffffffffffffff 
    00007ffdd3065ff0:  ffffffffffffffff  ffffffffffffffff 
    00007ffdd3066000:  ffffffffffffffff  ffffffffffffffff 
    00007ffdd3066010:  ffffffffffffffff  ffffffffffffffff 
    00007ffdd3066020:  ffffffffffffffff  ffffffffffffffff 
    00007ffdd3066030:  ffffffffffffffff  ffffffffffffffff 
    00007ffdd3066040:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f1f5f77df47
    stack: frame={sp:0x7ffdd3065f50, fp:0x0} stack=[0x7ffdd28675f0,0x7ffdd3066620)
    00007ffdd3065e50:  00005594c7037683 <runtime.main+883>  000000000030da24 
    00007ffdd3065e60:  0000029300000002  000000505f74c5c0 
    00007ffdd3065e70:  000000000030da24  00007ffdd3065f28 
    00007ffdd3065e80:  00005594c7052936 <runtime.pcvalue+342>  00005594c7dc5828 
    00007ffdd3065e90:  00000000002f742e  00000000002f742e 
    00007ffdd3065ea0:  00007ffdd3065ee0  00007ffdd3065edc 
    00007ffdd3065eb0:  00005594c80d9301  00005594c7dc582a 
    00007ffdd3065ec0:  00000000002f742c  00000000002f742c 
    00007ffdd3065ed0:  0000000000000001  0000000040000000 
    00007ffdd3065ee0:  00007ffdd3065f98  00005594c704d75f <runtime.adjustframe+175> 
    00007ffdd3065ef0:  00005594c7dc57f0  00005594c80d93c0 
    00007ffdd3065f00:  00007ffd00000000  00005594c7062f30 <runtime.goexit+0> 
    00007ffdd3065f10:  00007ffdd3066350  00000000ffffffff 
    00007ffdd3065f20:  00000000d3065eb0  00005594c7062f30 <runtime.goexit+0> 
    00007ffdd3065f30:  00005594c70531c1 <runtime.funcspdelta+97>  00005594c7dc57f0 
    00007ffdd3065f40:  00005594c80d93c0  00007ffd0006f548 
    00007ffdd3065f50: <0000000000000000  00007ffdd30660b0 
    00007ffdd3065f60:  00005594c77bf201  00005594c7dc57f0 
    00007ffdd3065f70:  00005594c80d93c0  0000000000000000 
    00007ffdd3065f80:  0000000000000000  00005594c7062f31 <runtime.goexit+1> 
    00007ffdd3065f90:  00005594c80d93c0  00007ffdd30662a0 
    00007ffdd3065fa0:  00005594c7057962 <runtime.gentraceback+4850>  00007ffdd3066248 
    00007ffdd3065fb0:  00007ffdd3066338  00005594c80d9301 
    00007ffdd3065fc0:  00007ffdd3066001  0000000000000000 
    00007ffdd3065fd0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffdd3065fe0:  ffffffffffffffff  ffffffffffffffff 
    00007ffdd3065ff0:  ffffffffffffffff  ffffffffffffffff 
    00007ffdd3066000:  ffffffffffffffff  ffffffffffffffff 
    00007ffdd3066010:  ffffffffffffffff  ffffffffffffffff 
    00007ffdd3066020:  ffffffffffffffff  ffffffffffffffff 
    00007ffdd3066030:  ffffffffffffffff  ffffffffffffffff 
    00007ffdd3066040:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x5594c7d2ba60, 0xc4200380c8, 0x5594c7709704, 0xc, 0xc42003ce17, 0x3)
    	/usr/lib/go-1.10/src/runtime/proc.go:291 +0x120
    runtime.goparkunlock(0xc4200380c8, 0x5594c7709704, 0xc, 0x17, 0x3)
    	/usr/lib/go-1.10/src/runtime/proc.go:297 +0x60
    runtime.chanrecv(0xc420038070, 0x0, 0x1, 0x5594c70228aa)
    	/usr/lib/go-1.10/src/runtime/chan.go:518 +0x2f6
    runtime.chanrecv1(0xc420038070, 0x0)
    	/usr/lib/go-1.10/src/runtime/chan.go:400 +0x2b
    runtime.gcenable()
    	/usr/lib/go-1.10/src/runtime/mgc.go:217 +0x71
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:161 +0x126
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1
    
    rax    0x0
    rbx    0x7f1f5fb2b840
    rcx    0x7f1f5f77df47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffdd3065f50
    rbp    0x5594c783132a
    rsp    0x7ffdd3065f50
    r8     0x0
    r9     0x7ffdd3065f50
    r10    0x8
    r11    0x246
    r12    0x5594c8c07540
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f1f5f77df47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
