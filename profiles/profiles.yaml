apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f04a1d4cf47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f04a1d4cf47
    stack: frame={sp:0x7fff3f8d6460, fp:0x0} stack=[0x7fff3f0d7960,0x7fff3f8d6990)
    00007fff3f8d6360:  00007f0400000001  00007f04a20fa420 
    00007fff3f8d6370:  0000000000000000  000000c420081fe0 
    00007fff3f8d6380:  0000000000000000  0000000000000000 
    00007fff3f8d6390:  0000000000000000  0000000000000000 
    00007fff3f8d63a0:  0000000000000000  0000000000000000 
    00007fff3f8d63b0:  0000000000000000  0000000000000000 
    00007fff3f8d63c0:  000000c42006ffd0  00005633b3a2b3e0 <runtime.main+208> 
    00007fff3f8d63d0:  00005633b471f970  0000000000000000 
    00007fff3f8d63e0:  0000000000000000  0000000000000000 
    00007fff3f8d63f0:  0000000000000000  0000000000000000 
    00007fff3f8d6400:  0000000000000000  0000000000000000 
    00007fff3f8d6410:  000000c420000180  0000000000000000 
    00007fff3f8d6420:  00005633b3a2b3e0 <runtime.main+208>  00005633b471f970 
    00007fff3f8d6430:  0000000000000000  0000000000000000 
    00007fff3f8d6440:  0000000000000000  0000000000000000 
    00007fff3f8d6450:  0000000000000000  0000000000000000 
    00007fff3f8d6460: <0000000000000000  000000c420000180 
    00007fff3f8d6470:  0000000000000000  00005633b3a56f31 <runtime.goexit+1> 
    00007fff3f8d6480:  0000000000000000  0000000000000000 
    00007fff3f8d6490:  0000000000000000  0000000000000000 
    00007fff3f8d64a0:  0000029300000002  00000050a2106ec5 
    00007fff3f8d64b0:  000000000030da24  00007fff3f8d6568 
    00007fff3f8d64c0:  00005633b3a46936 <runtime.pcvalue+342>  00005633b47b9828 
    00007fff3f8d64d0:  00000000002f742e  00000000002f742e 
    00007fff3f8d64e0:  fffffffe7fffffff  ffffffffffffffff 
    00007fff3f8d64f0:  ffffffffffffffff  ffffffffffffffff 
    00007fff3f8d6500:  ffffffffffffffff  ffffffffffffffff 
    00007fff3f8d6510:  ffffffffffffffff  ffffffffffffffff 
    00007fff3f8d6520:  ffffffffffffffff  ffffffffffffffff 
    00007fff3f8d6530:  ffffffffffffffff  ffffffffffffffff 
    00007fff3f8d6540:  ffffffffffffffff  ffffffffffffffff 
    00007fff3f8d6550:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f04a1d4cf47
    stack: frame={sp:0x7fff3f8d6460, fp:0x0} stack=[0x7fff3f0d7960,0x7fff3f8d6990)
    00007fff3f8d6360:  00007f0400000001  00007f04a20fa420 
    00007fff3f8d6370:  0000000000000000  000000c420081fe0 
    00007fff3f8d6380:  0000000000000000  0000000000000000 
    00007fff3f8d6390:  0000000000000000  0000000000000000 
    00007fff3f8d63a0:  0000000000000000  0000000000000000 
    00007fff3f8d63b0:  0000000000000000  0000000000000000 
    00007fff3f8d63c0:  000000c42006ffd0  00005633b3a2b3e0 <runtime.main+208> 
    00007fff3f8d63d0:  00005633b471f970  0000000000000000 
    00007fff3f8d63e0:  0000000000000000  0000000000000000 
    00007fff3f8d63f0:  0000000000000000  0000000000000000 
    00007fff3f8d6400:  0000000000000000  0000000000000000 
    00007fff3f8d6410:  000000c420000180  0000000000000000 
    00007fff3f8d6420:  00005633b3a2b3e0 <runtime.main+208>  00005633b471f970 
    00007fff3f8d6430:  0000000000000000  0000000000000000 
    00007fff3f8d6440:  0000000000000000  0000000000000000 
    00007fff3f8d6450:  0000000000000000  0000000000000000 
    00007fff3f8d6460: <0000000000000000  000000c420000180 
    00007fff3f8d6470:  0000000000000000  00005633b3a56f31 <runtime.goexit+1> 
    00007fff3f8d6480:  0000000000000000  0000000000000000 
    00007fff3f8d6490:  0000000000000000  0000000000000000 
    00007fff3f8d64a0:  0000029300000002  00000050a2106ec5 
    00007fff3f8d64b0:  000000000030da24  00007fff3f8d6568 
    00007fff3f8d64c0:  00005633b3a46936 <runtime.pcvalue+342>  00005633b47b9828 
    00007fff3f8d64d0:  00000000002f742e  00000000002f742e 
    00007fff3f8d64e0:  fffffffe7fffffff  ffffffffffffffff 
    00007fff3f8d64f0:  ffffffffffffffff  ffffffffffffffff 
    00007fff3f8d6500:  ffffffffffffffff  ffffffffffffffff 
    00007fff3f8d6510:  ffffffffffffffff  ffffffffffffffff 
    00007fff3f8d6520:  ffffffffffffffff  ffffffffffffffff 
    00007fff3f8d6530:  ffffffffffffffff  ffffffffffffffff 
    00007fff3f8d6540:  ffffffffffffffff  ffffffffffffffff 
    00007fff3f8d6550:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x5633b40f3a30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x5633b3a55bcf
    runtime.newm1(0xc420061000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x5633b3a2f6b1
    runtime.newm(0x5633b471fb08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x5633b3a2f52f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x5633b3a2f791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x5633b3a2b4b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x5633b3a56f31
    
    rax    0x0
    rbx    0x7f04a20fa840
    rcx    0x7f04a1d4cf47
    rdx    0x0
    rdi    0x2
    rsi    0x7fff3f8d6460
    rbp    0x5633b422532a
    rsp    0x7fff3f8d6460
    r8     0x0
    r9     0x7fff3f8d6460
    r10    0x8
    r11    0x246
    r12    0x5633b4f1b690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f04a1d4cf47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 4 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062800)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062800)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x0, 0xc000046000, 0x3)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0xc000046000, 0x2a6cc00)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.handoffp(0xc000046000)
    	/usr/local/go/src/runtime/proc.go:2001 +0x52
    runtime.stoplockedm()
    	/usr/local/go/src/runtime/proc.go:2075 +0xf7
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2611 +0x48c
    runtime.park_m(0xc000000180)
    	/usr/local/go/src/runtime/proc.go:2845 +0x9d
    runtime.mcall(0x0)
    	/usr/local/go/src/runtime/asm_amd64.s:318 +0x5b
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x1bb7a80, 0xc0000420c8, 0x170e, 0x2)
    	/usr/local/go/src/runtime/proc.go:306 +0xe5
    runtime.chanrecv(0xc000042070, 0x0, 0xc000000101, 0x41a55e)
    	/usr/local/go/src/runtime/chan.go:577 +0x36f
    runtime.chanrecv1(0xc000042070, 0x0)
    	/usr/local/go/src/runtime/chan.go:439 +0x2b
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:219 +0x95
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f193b630f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f193b630f47
    stack: frame={sp:0x7ffd9d788940, fp:0x0} stack=[0x7ffd9cf89fe0,0x7ffd9d789010)
    00007ffd9d788840:  00005575e1bf0683 <runtime.main+883>  000000000030da24 
    00007ffd9d788850:  0000029300000002  0000005000000000 
    00007ffd9d788860:  000000000030da24  00007ffd9d788918 
    00007ffd9d788870:  00005575e1c0b936 <runtime.pcvalue+342>  00005575e297e828 
    00007ffd9d788880:  00000000002f742e  00000000002f742e 
    00007ffd9d788890:  00007ffd9d7888d0  00007ffd9d7888cc 
    00007ffd9d7888a0:  00005575e2c92301  00005575e297e82a 
    00007ffd9d7888b0:  00000000002f742c  00000000002f742c 
    00007ffd9d7888c0:  0000000000000001  0000000040000000 
    00007ffd9d7888d0:  00007ffd9d788988  00005575e1c0675f <runtime.adjustframe+175> 
    00007ffd9d7888e0:  00005575e297e7f0  00005575e2c923c0 
    00007ffd9d7888f0:  00007ffd00000000  00005575e1c1bf30 <runtime.goexit+0> 
    00007ffd9d788900:  00007ffd9d788d40  00000000ffffffff 
    00007ffd9d788910:  000000009d7888a0  00005575e1c1bf30 <runtime.goexit+0> 
    00007ffd9d788920:  00005575e1c0c1c1 <runtime.funcspdelta+97>  00005575e297e7f0 
    00007ffd9d788930:  00005575e2c923c0  00007ffd0006f548 
    00007ffd9d788940: <0000000000000000  00007ffd9d788aa0 
    00007ffd9d788950:  00005575e2378201  00005575e297e7f0 
    00007ffd9d788960:  00005575e2c923c0  0000000000000000 
    00007ffd9d788970:  0000000000000000  00005575e1c1bf31 <runtime.goexit+1> 
    00007ffd9d788980:  00005575e2c923c0  00007ffd9d788c90 
    00007ffd9d788990:  00005575e1c10962 <runtime.gentraceback+4850>  00007ffd9d788c38 
    00007ffd9d7889a0:  00007ffd9d788d28  00005575e2c92301 
    00007ffd9d7889b0:  00007ffd9d788a01  0000000000000000 
    00007ffd9d7889c0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffd9d7889d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd9d7889e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd9d7889f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd9d788a00:  ffffffffffffffff  ffffffffffffffff 
    00007ffd9d788a10:  ffffffffffffffff  ffffffffffffffff 
    00007ffd9d788a20:  ffffffffffffffff  ffffffffffffffff 
    00007ffd9d788a30:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f193b630f47
    stack: frame={sp:0x7ffd9d788940, fp:0x0} stack=[0x7ffd9cf89fe0,0x7ffd9d789010)
    00007ffd9d788840:  00005575e1bf0683 <runtime.main+883>  000000000030da24 
    00007ffd9d788850:  0000029300000002  0000005000000000 
    00007ffd9d788860:  000000000030da24  00007ffd9d788918 
    00007ffd9d788870:  00005575e1c0b936 <runtime.pcvalue+342>  00005575e297e828 
    00007ffd9d788880:  00000000002f742e  00000000002f742e 
    00007ffd9d788890:  00007ffd9d7888d0  00007ffd9d7888cc 
    00007ffd9d7888a0:  00005575e2c92301  00005575e297e82a 
    00007ffd9d7888b0:  00000000002f742c  00000000002f742c 
    00007ffd9d7888c0:  0000000000000001  0000000040000000 
    00007ffd9d7888d0:  00007ffd9d788988  00005575e1c0675f <runtime.adjustframe+175> 
    00007ffd9d7888e0:  00005575e297e7f0  00005575e2c923c0 
    00007ffd9d7888f0:  00007ffd00000000  00005575e1c1bf30 <runtime.goexit+0> 
    00007ffd9d788900:  00007ffd9d788d40  00000000ffffffff 
    00007ffd9d788910:  000000009d7888a0  00005575e1c1bf30 <runtime.goexit+0> 
    00007ffd9d788920:  00005575e1c0c1c1 <runtime.funcspdelta+97>  00005575e297e7f0 
    00007ffd9d788930:  00005575e2c923c0  00007ffd0006f548 
    00007ffd9d788940: <0000000000000000  00007ffd9d788aa0 
    00007ffd9d788950:  00005575e2378201  00005575e297e7f0 
    00007ffd9d788960:  00005575e2c923c0  0000000000000000 
    00007ffd9d788970:  0000000000000000  00005575e1c1bf31 <runtime.goexit+1> 
    00007ffd9d788980:  00005575e2c923c0  00007ffd9d788c90 
    00007ffd9d788990:  00005575e1c10962 <runtime.gentraceback+4850>  00007ffd9d788c38 
    00007ffd9d7889a0:  00007ffd9d788d28  00005575e2c92301 
    00007ffd9d7889b0:  00007ffd9d788a01  0000000000000000 
    00007ffd9d7889c0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffd9d7889d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd9d7889e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd9d7889f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd9d788a00:  ffffffffffffffff  ffffffffffffffff 
    00007ffd9d788a10:  ffffffffffffffff  ffffffffffffffff 
    00007ffd9d788a20:  ffffffffffffffff  ffffffffffffffff 
    00007ffd9d788a30:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [runnable, locked to thread]:
    runtime.gopark(0x5575e28e4a60, 0xc4200380c8, 0x5575e22c2704, 0xc, 0xc42003ce17, 0x3)
    	/usr/lib/go-1.10/src/runtime/proc.go:291 +0x120
    runtime.goparkunlock(0xc4200380c8, 0x5575e22c2704, 0xc, 0x17, 0x3)
    	/usr/lib/go-1.10/src/runtime/proc.go:297 +0x60
    runtime.chanrecv(0xc420038070, 0x0, 0x1, 0x5575e1bdb8aa)
    	/usr/lib/go-1.10/src/runtime/chan.go:518 +0x2f6
    runtime.chanrecv1(0xc420038070, 0x0)
    	/usr/lib/go-1.10/src/runtime/chan.go:400 +0x2b
    runtime.gcenable()
    	/usr/lib/go-1.10/src/runtime/mgc.go:217 +0x71
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:161 +0x126
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1
    
    rax    0x0
    rbx    0x7f193b9de840
    rcx    0x7f193b630f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffd9d788940
    rbp    0x5575e23ea32a
    rsp    0x7ffd9d788940
    r8     0x0
    r9     0x7ffd9d788940
    r10    0x8
    r11    0x246
    r12    0x5575e3ab4540
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f193b630f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
