apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f93a90b5f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f93a90b5f47
    stack: frame={sp:0x7ffe710c66d0, fp:0x0} stack=[0x7ffe708c7bd0,0x7ffe710c6c00)
    00007ffe710c65d0:  0000000000000001  0000000000000000 
    00007ffe710c65e0:  0000000000000000  0000000000000000 
    00007ffe710c65f0:  00007f93a9463560  00007f93a9466bc0 
    00007ffe710c6600:  000000c42006ffd0  00005580d96d03e0 <runtime.main+208> 
    00007ffe710c6610:  00005580da3c4970  0000000000000000 
    00007ffe710c6620:  0000000000000000  0000000000000000 
    00007ffe710c6630:  0000000000000000  0000000000000000 
    00007ffe710c6640:  0000000000000000  0000000000000000 
    00007ffe710c6650:  000000c420000180  0000000000000000 
    00007ffe710c6660:  00005580d96d03e0 <runtime.main+208>  00005580da3c4970 
    00007ffe710c6670:  0000000000000000  0000000000000000 
    00007ffe710c6680:  0000000000000000  0000000000000000 
    00007ffe710c6690:  0000000000000000  0000000000000000 
    00007ffe710c66a0:  0000000000000000  000000c420000180 
    00007ffe710c66b0:  0000000000000000  00005580d96fbf31 <runtime.goexit+1> 
    00007ffe710c66c0:  0000000000000000  0000000000000000 
    00007ffe710c66d0: <0000000000000000  0000000000000000 
    00007ffe710c66e0:  00007f93a98a70d0  00007ffe710c6728 
    00007ffe710c66f0:  00005580d96ec582 <runtime.step+290>  00005580da448232 
    00007ffe710c6700:  000000000030da24  000000000030da24 
    00007ffe710c6710:  0000029300000002  00000050a946fec5 
    00007ffe710c6720:  000000000030da24  00007ffe710c67d8 
    00007ffe710c6730:  00005580d96eb936 <runtime.pcvalue+342>  00005580da45e828 
    00007ffe710c6740:  0000000000000002  0000000000000000 
    00007ffe710c6750:  fffffffe7fffffff  ffffffffffffffff 
    00007ffe710c6760:  ffffffffffffffff  ffffffffffffffff 
    00007ffe710c6770:  ffffffffffffffff  ffffffffffffffff 
    00007ffe710c6780:  ffffffffffffffff  ffffffffffffffff 
    00007ffe710c6790:  ffffffffffffffff  ffffffffffffffff 
    00007ffe710c67a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe710c67b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe710c67c0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f93a90b5f47
    stack: frame={sp:0x7ffe710c66d0, fp:0x0} stack=[0x7ffe708c7bd0,0x7ffe710c6c00)
    00007ffe710c65d0:  0000000000000001  0000000000000000 
    00007ffe710c65e0:  0000000000000000  0000000000000000 
    00007ffe710c65f0:  00007f93a9463560  00007f93a9466bc0 
    00007ffe710c6600:  000000c42006ffd0  00005580d96d03e0 <runtime.main+208> 
    00007ffe710c6610:  00005580da3c4970  0000000000000000 
    00007ffe710c6620:  0000000000000000  0000000000000000 
    00007ffe710c6630:  0000000000000000  0000000000000000 
    00007ffe710c6640:  0000000000000000  0000000000000000 
    00007ffe710c6650:  000000c420000180  0000000000000000 
    00007ffe710c6660:  00005580d96d03e0 <runtime.main+208>  00005580da3c4970 
    00007ffe710c6670:  0000000000000000  0000000000000000 
    00007ffe710c6680:  0000000000000000  0000000000000000 
    00007ffe710c6690:  0000000000000000  0000000000000000 
    00007ffe710c66a0:  0000000000000000  000000c420000180 
    00007ffe710c66b0:  0000000000000000  00005580d96fbf31 <runtime.goexit+1> 
    00007ffe710c66c0:  0000000000000000  0000000000000000 
    00007ffe710c66d0: <0000000000000000  0000000000000000 
    00007ffe710c66e0:  00007f93a98a70d0  00007ffe710c6728 
    00007ffe710c66f0:  00005580d96ec582 <runtime.step+290>  00005580da448232 
    00007ffe710c6700:  000000000030da24  000000000030da24 
    00007ffe710c6710:  0000029300000002  00000050a946fec5 
    00007ffe710c6720:  000000000030da24  00007ffe710c67d8 
    00007ffe710c6730:  00005580d96eb936 <runtime.pcvalue+342>  00005580da45e828 
    00007ffe710c6740:  0000000000000002  0000000000000000 
    00007ffe710c6750:  fffffffe7fffffff  ffffffffffffffff 
    00007ffe710c6760:  ffffffffffffffff  ffffffffffffffff 
    00007ffe710c6770:  ffffffffffffffff  ffffffffffffffff 
    00007ffe710c6780:  ffffffffffffffff  ffffffffffffffff 
    00007ffe710c6790:  ffffffffffffffff  ffffffffffffffff 
    00007ffe710c67a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe710c67b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffe710c67c0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x5580d9d98a30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x5580d96fabcf
    runtime.newm1(0xc420061000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x5580d96d46b1
    runtime.newm(0x5580da3c4b08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x5580d96d452f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x5580d96d4791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x5580d96d04b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x5580d96fbf31
    
    rax    0x0
    rbx    0x7f93a9463840
    rcx    0x7f93a90b5f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffe710c66d0
    rbp    0x5580d9eca32a
    rsp    0x7ffe710c66d0
    r8     0x0
    r9     0x7ffe710c66d0
    r10    0x8
    r11    0x246
    r12    0x5580dbdc5690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f93a90b5f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 5 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000088000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000088000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc00004b000, 0x4)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000073f01)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.resetspinning()
    	/usr/local/go/src/runtime/proc.go:2533 +0x59
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2684 +0x2b9
    runtime.mstart1()
    	/usr/local/go/src/runtime/proc.go:1179 +0x93
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1137 +0x6e
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x1bb7a80, 0xc0000420c8, 0x170e, 0x2)
    	/usr/local/go/src/runtime/proc.go:306 +0xe5
    runtime.chanrecv(0xc000042070, 0x0, 0xc000000101, 0x41a55e)
    	/usr/local/go/src/runtime/chan.go:577 +0x36f
    runtime.chanrecv1(0xc000042070, 0x0)
    	/usr/local/go/src/runtime/chan.go:439 +0x2b
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:219 +0x95
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f6abe10ff47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f6abe10ff47
    stack: frame={sp:0x7ffc60df0b00, fp:0x0} stack=[0x7ffc605f2000,0x7ffc60df1030)
    00007ffc60df0a00:  0000000000000001  0000000000000000 
    00007ffc60df0a10:  0000000000000000  000000c420081fe0 
    00007ffc60df0a20:  0000000000000000  0000000000000000 
    00007ffc60df0a30:  00007f6abe4bd560  00007f6abe4c0bc0 
    00007ffc60df0a40:  000000c42006ffd0  0000556a666e33e0 <runtime.main+208> 
    00007ffc60df0a50:  0000556a673d7970  0000000000000000 
    00007ffc60df0a60:  0000000000000000  0000000000000000 
    00007ffc60df0a70:  0000000000000000  0000000000000000 
    00007ffc60df0a80:  0000000000000000  0000000000000000 
    00007ffc60df0a90:  000000c420000180  0000000000000000 
    00007ffc60df0aa0:  0000556a666e33e0 <runtime.main+208>  0000556a673d7970 
    00007ffc60df0ab0:  0000000000000000  0000000000000000 
    00007ffc60df0ac0:  0000000000000000  0000000000000000 
    00007ffc60df0ad0:  0000000000000000  0000000000000000 
    00007ffc60df0ae0:  0000000000000000  000000c420000180 
    00007ffc60df0af0:  0000000000000000  0000556a6670ef31 <runtime.goexit+1> 
    00007ffc60df0b00: <0000000000000000  0000000000000000 
    00007ffc60df0b10:  0000000000000000  0000000000000000 
    00007ffc60df0b20:  0000556a666ff582 <runtime.step+290>  0000556a6745b232 
    00007ffc60df0b30:  000000000030da24  000000000030da24 
    00007ffc60df0b40:  0000029300000002  00000050be4c9ec5 
    00007ffc60df0b50:  000000000030da24  00007ffc60df0c08 
    00007ffc60df0b60:  0000556a666fe936 <runtime.pcvalue+342>  0000556a67471828 
    00007ffc60df0b70:  00000000002f742e  00000000002f742e 
    00007ffc60df0b80:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc60df0b90:  ffffffffffffffff  ffffffffffffffff 
    00007ffc60df0ba0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc60df0bb0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc60df0bc0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc60df0bd0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc60df0be0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc60df0bf0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f6abe10ff47
    stack: frame={sp:0x7ffc60df0b00, fp:0x0} stack=[0x7ffc605f2000,0x7ffc60df1030)
    00007ffc60df0a00:  0000000000000001  0000000000000000 
    00007ffc60df0a10:  0000000000000000  000000c420081fe0 
    00007ffc60df0a20:  0000000000000000  0000000000000000 
    00007ffc60df0a30:  00007f6abe4bd560  00007f6abe4c0bc0 
    00007ffc60df0a40:  000000c42006ffd0  0000556a666e33e0 <runtime.main+208> 
    00007ffc60df0a50:  0000556a673d7970  0000000000000000 
    00007ffc60df0a60:  0000000000000000  0000000000000000 
    00007ffc60df0a70:  0000000000000000  0000000000000000 
    00007ffc60df0a80:  0000000000000000  0000000000000000 
    00007ffc60df0a90:  000000c420000180  0000000000000000 
    00007ffc60df0aa0:  0000556a666e33e0 <runtime.main+208>  0000556a673d7970 
    00007ffc60df0ab0:  0000000000000000  0000000000000000 
    00007ffc60df0ac0:  0000000000000000  0000000000000000 
    00007ffc60df0ad0:  0000000000000000  0000000000000000 
    00007ffc60df0ae0:  0000000000000000  000000c420000180 
    00007ffc60df0af0:  0000000000000000  0000556a6670ef31 <runtime.goexit+1> 
    00007ffc60df0b00: <0000000000000000  0000000000000000 
    00007ffc60df0b10:  0000000000000000  0000000000000000 
    00007ffc60df0b20:  0000556a666ff582 <runtime.step+290>  0000556a6745b232 
    00007ffc60df0b30:  000000000030da24  000000000030da24 
    00007ffc60df0b40:  0000029300000002  00000050be4c9ec5 
    00007ffc60df0b50:  000000000030da24  00007ffc60df0c08 
    00007ffc60df0b60:  0000556a666fe936 <runtime.pcvalue+342>  0000556a67471828 
    00007ffc60df0b70:  00000000002f742e  00000000002f742e 
    00007ffc60df0b80:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc60df0b90:  ffffffffffffffff  ffffffffffffffff 
    00007ffc60df0ba0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc60df0bb0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc60df0bc0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc60df0bd0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc60df0be0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc60df0bf0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x556a66daba30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x556a6670dbcf
    runtime.newm1(0xc420061000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x556a666e76b1
    runtime.newm(0x556a673d7b08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x556a666e752f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x556a666e7791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x556a666e34b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x556a6670ef31
    
    rax    0x0
    rbx    0x7f6abe4bd840
    rcx    0x7f6abe10ff47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffc60df0b00
    rbp    0x556a66edd32a
    rsp    0x7ffc60df0b00
    r8     0x0
    r9     0x7ffc60df0b00
    r10    0x8
    r11    0x246
    r12    0x556a68ea7690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f6abe10ff47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
