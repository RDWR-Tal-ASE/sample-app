apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f255443ff47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f255443ff47
    stack: frame={sp:0x7ffc4e1c8e90, fp:0x0} stack=[0x7ffc4d9ca530,0x7ffc4e1c9560)
    00007ffc4e1c8d90:  000055dd5a911683 <runtime.main+883>  000000000030da24 
    00007ffc4e1c8da0:  0000000000000000  0000000000000000 
    00007ffc4e1c8db0:  00007f25547ed560  00007f25547f0bc0 
    00007ffc4e1c8dc0:  000000c42006ffd0  000055dd5a9113e0 <runtime.main+208> 
    00007ffc4e1c8dd0:  000055dd5b605970  0000000000000000 
    00007ffc4e1c8de0:  0000000000000000  0000000000000000 
    00007ffc4e1c8df0:  0000000000000000  0000000000000000 
    00007ffc4e1c8e00:  0000000000000000  0000000000000000 
    00007ffc4e1c8e10:  000000c420000180  0000000000000000 
    00007ffc4e1c8e20:  000055dd5a9113e0 <runtime.main+208>  000055dd5b605970 
    00007ffc4e1c8e30:  0000000000000000  0000000000000000 
    00007ffc4e1c8e40:  0000000000000000  0000000000000000 
    00007ffc4e1c8e50:  0000000000000000  0000000000000000 
    00007ffc4e1c8e60:  0000000000000000  000000c420000180 
    00007ffc4e1c8e70:  0000000000000000  000055dd5a93cf31 <runtime.goexit+1> 
    00007ffc4e1c8e80:  0000000000000000  0000000000000000 
    00007ffc4e1c8e90: <0000000000000000  0000000000000000 
    00007ffc4e1c8ea0:  000055dd5b099201  000055dd5b69f7f0 
    00007ffc4e1c8eb0:  000055dd5b9b33c0  0000000000000000 
    00007ffc4e1c8ec0:  0000000000000000  000055dd5a93cf31 <runtime.goexit+1> 
    00007ffc4e1c8ed0:  000055dd5b9b33c0  00007ffc4e1c91e0 
    00007ffc4e1c8ee0:  000055dd5a931962 <runtime.gentraceback+4850>  00007ffc4e1c9188 
    00007ffc4e1c8ef0:  00007ffc4e1c9278  000055dd5b9b3301 
    00007ffc4e1c8f00:  0000000000000002  0000000000000000 
    00007ffc4e1c8f10:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc4e1c8f20:  ffffffffffffffff  ffffffffffffffff 
    00007ffc4e1c8f30:  ffffffffffffffff  ffffffffffffffff 
    00007ffc4e1c8f40:  ffffffffffffffff  ffffffffffffffff 
    00007ffc4e1c8f50:  ffffffffffffffff  ffffffffffffffff 
    00007ffc4e1c8f60:  ffffffffffffffff  ffffffffffffffff 
    00007ffc4e1c8f70:  ffffffffffffffff  ffffffffffffffff 
    00007ffc4e1c8f80:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f255443ff47
    stack: frame={sp:0x7ffc4e1c8e90, fp:0x0} stack=[0x7ffc4d9ca530,0x7ffc4e1c9560)
    00007ffc4e1c8d90:  000055dd5a911683 <runtime.main+883>  000000000030da24 
    00007ffc4e1c8da0:  0000000000000000  0000000000000000 
    00007ffc4e1c8db0:  00007f25547ed560  00007f25547f0bc0 
    00007ffc4e1c8dc0:  000000c42006ffd0  000055dd5a9113e0 <runtime.main+208> 
    00007ffc4e1c8dd0:  000055dd5b605970  0000000000000000 
    00007ffc4e1c8de0:  0000000000000000  0000000000000000 
    00007ffc4e1c8df0:  0000000000000000  0000000000000000 
    00007ffc4e1c8e00:  0000000000000000  0000000000000000 
    00007ffc4e1c8e10:  000000c420000180  0000000000000000 
    00007ffc4e1c8e20:  000055dd5a9113e0 <runtime.main+208>  000055dd5b605970 
    00007ffc4e1c8e30:  0000000000000000  0000000000000000 
    00007ffc4e1c8e40:  0000000000000000  0000000000000000 
    00007ffc4e1c8e50:  0000000000000000  0000000000000000 
    00007ffc4e1c8e60:  0000000000000000  000000c420000180 
    00007ffc4e1c8e70:  0000000000000000  000055dd5a93cf31 <runtime.goexit+1> 
    00007ffc4e1c8e80:  0000000000000000  0000000000000000 
    00007ffc4e1c8e90: <0000000000000000  0000000000000000 
    00007ffc4e1c8ea0:  000055dd5b099201  000055dd5b69f7f0 
    00007ffc4e1c8eb0:  000055dd5b9b33c0  0000000000000000 
    00007ffc4e1c8ec0:  0000000000000000  000055dd5a93cf31 <runtime.goexit+1> 
    00007ffc4e1c8ed0:  000055dd5b9b33c0  00007ffc4e1c91e0 
    00007ffc4e1c8ee0:  000055dd5a931962 <runtime.gentraceback+4850>  00007ffc4e1c9188 
    00007ffc4e1c8ef0:  00007ffc4e1c9278  000055dd5b9b3301 
    00007ffc4e1c8f00:  0000000000000002  0000000000000000 
    00007ffc4e1c8f10:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc4e1c8f20:  ffffffffffffffff  ffffffffffffffff 
    00007ffc4e1c8f30:  ffffffffffffffff  ffffffffffffffff 
    00007ffc4e1c8f40:  ffffffffffffffff  ffffffffffffffff 
    00007ffc4e1c8f50:  ffffffffffffffff  ffffffffffffffff 
    00007ffc4e1c8f60:  ffffffffffffffff  ffffffffffffffff 
    00007ffc4e1c8f70:  ffffffffffffffff  ffffffffffffffff 
    00007ffc4e1c8f80:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.systemstack_switch()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:363 fp=0xc420081f00 sp=0xc420081ef8 pc=0x55dd5a93a370
    runtime.newproc(0x55dd00000000, 0x55dd5b6058f8)
    	/usr/lib/go-1.10/src/runtime/proc.go:3243 +0x64 fp=0xc420081f40 sp=0xc420081f00 pc=0x55dd5a919264
    runtime.init.4()
    	/usr/lib/go-1.10/src/runtime/proc.go:237 +0x37 fp=0xc420081f60 sp=0xc420081f40 pc=0x55dd5a9116d7
    runtime.init()
    	<autogenerated>:1 +0xe5 fp=0xc420081f88 sp=0xc420081f60 pc=0x55dd5a939f45
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:144 +0xd0 fp=0xc420081fe0 sp=0xc420081f88 pc=0x55dd5a9113e0
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x55dd5a93cf31
    
    rax    0x0
    rbx    0x7f25547ed840
    rcx    0x7f255443ff47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffc4e1c8e90
    rbp    0x55dd5b10b32a
    rsp    0x7ffc4e1c8e90
    r8     0x0
    r9     0x7ffc4e1c8e90
    r10    0x8
    r11    0x246
    r12    0x55dd5cd9b3f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f255443ff47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 2 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7d48, 0x0, 0xffffffffffffffff)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.main.func1()
    	/usr/local/go/src/runtime/proc.go:135 +0x3f
    runtime.systemstack(0x46c2f4)
    	/usr/local/go/src/runtime/asm_amd64.s:370 +0x66
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1116
    
    goroutine 1 [running]:
    runtime.systemstack_switch()
    	/usr/local/go/src/runtime/asm_amd64.s:330 fp=0xc00005e788 sp=0xc00005e780 pc=0x46c420
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:134 +0x70 fp=0xc00005e7e0 sp=0xc00005e788 pc=0x439ab0
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1 fp=0xc00005e7e8 sp=0xc00005e7e0 pc=0x46e061
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fbbabc11f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fbbabc11f47
    stack: frame={sp:0x7fff700961a0, fp:0x0} stack=[0x7fff6f897840,0x7fff70096870)
    00007fff700960a0:  0000555828549683 <runtime.main+883>  000000000030da24 
    00007fff700960b0:  0000029300000002  00000050ac1fa75a 
    00007fff700960c0:  000000000030da24  00007fff70096178 
    00007fff700960d0:  0000555828564936 <runtime.pcvalue+342>  00005558292d7828 
    00007fff700960e0:  0000000000000000  0000000000000000 
    00007fff700960f0:  00007fbbabfbf560  00007fbbabfc2bc0 
    00007fff70096100:  000000c42006ffd0  00005558285493e0 <runtime.main+208> 
    00007fff70096110:  000055582923d970  0000000000000000 
    00007fff70096120:  0000000000000000  0000000000000000 
    00007fff70096130:  0000000000000000  0000000000000000 
    00007fff70096140:  0000000000000000  0000000000000000 
    00007fff70096150:  000000c420000180  0000000000000000 
    00007fff70096160:  00005558285493e0 <runtime.main+208>  000055582923d970 
    00007fff70096170:  0000000000000000  0000000000000000 
    00007fff70096180:  0000000000000000  0000000000000000 
    00007fff70096190:  0000000000000000  0000000000000000 
    00007fff700961a0: <0000000000000000  000000c420000180 
    00007fff700961b0:  0000000000000000  0000555828574f31 <runtime.goexit+1> 
    00007fff700961c0:  0000000000000000  0000000000000000 
    00007fff700961d0:  0000000000000000  0000000000000000 
    00007fff700961e0:  00005558295eb3c0  00007fff700964f0 
    00007fff700961f0:  0000555828569962 <runtime.gentraceback+4850>  00007fff70096498 
    00007fff70096200:  00007fff70096588  00005558295eb301 
    00007fff70096210:  00007fff70096301  0000000000000000 
    00007fff70096220:  fffffffe7fffffff  ffffffffffffffff 
    00007fff70096230:  ffffffffffffffff  ffffffffffffffff 
    00007fff70096240:  ffffffffffffffff  ffffffffffffffff 
    00007fff70096250:  ffffffffffffffff  ffffffffffffffff 
    00007fff70096260:  ffffffffffffffff  ffffffffffffffff 
    00007fff70096270:  ffffffffffffffff  ffffffffffffffff 
    00007fff70096280:  ffffffffffffffff  ffffffffffffffff 
    00007fff70096290:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fbbabc11f47
    stack: frame={sp:0x7fff700961a0, fp:0x0} stack=[0x7fff6f897840,0x7fff70096870)
    00007fff700960a0:  0000555828549683 <runtime.main+883>  000000000030da24 
    00007fff700960b0:  0000029300000002  00000050ac1fa75a 
    00007fff700960c0:  000000000030da24  00007fff70096178 
    00007fff700960d0:  0000555828564936 <runtime.pcvalue+342>  00005558292d7828 
    00007fff700960e0:  0000000000000000  0000000000000000 
    00007fff700960f0:  00007fbbabfbf560  00007fbbabfc2bc0 
    00007fff70096100:  000000c42006ffd0  00005558285493e0 <runtime.main+208> 
    00007fff70096110:  000055582923d970  0000000000000000 
    00007fff70096120:  0000000000000000  0000000000000000 
    00007fff70096130:  0000000000000000  0000000000000000 
    00007fff70096140:  0000000000000000  0000000000000000 
    00007fff70096150:  000000c420000180  0000000000000000 
    00007fff70096160:  00005558285493e0 <runtime.main+208>  000055582923d970 
    00007fff70096170:  0000000000000000  0000000000000000 
    00007fff70096180:  0000000000000000  0000000000000000 
    00007fff70096190:  0000000000000000  0000000000000000 
    00007fff700961a0: <0000000000000000  000000c420000180 
    00007fff700961b0:  0000000000000000  0000555828574f31 <runtime.goexit+1> 
    00007fff700961c0:  0000000000000000  0000000000000000 
    00007fff700961d0:  0000000000000000  0000000000000000 
    00007fff700961e0:  00005558295eb3c0  00007fff700964f0 
    00007fff700961f0:  0000555828569962 <runtime.gentraceback+4850>  00007fff70096498 
    00007fff70096200:  00007fff70096588  00005558295eb301 
    00007fff70096210:  00007fff70096301  0000000000000000 
    00007fff70096220:  fffffffe7fffffff  ffffffffffffffff 
    00007fff70096230:  ffffffffffffffff  ffffffffffffffff 
    00007fff70096240:  ffffffffffffffff  ffffffffffffffff 
    00007fff70096250:  ffffffffffffffff  ffffffffffffffff 
    00007fff70096260:  ffffffffffffffff  ffffffffffffffff 
    00007fff70096270:  ffffffffffffffff  ffffffffffffffff 
    00007fff70096280:  ffffffffffffffff  ffffffffffffffff 
    00007fff70096290:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.systemstack_switch()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:363 fp=0xc420081f00 sp=0xc420081ef8 pc=0x555828572370
    runtime.newproc(0x555800000000, 0x55582923d8f8)
    	/usr/lib/go-1.10/src/runtime/proc.go:3243 +0x64 fp=0xc420081f40 sp=0xc420081f00 pc=0x555828551264
    runtime.init.4()
    	/usr/lib/go-1.10/src/runtime/proc.go:237 +0x37 fp=0xc420081f60 sp=0xc420081f40 pc=0x5558285496d7
    runtime.init()
    	<autogenerated>:1 +0xe5 fp=0xc420081f88 sp=0xc420081f60 pc=0x555828571f45
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:144 +0xd0 fp=0xc420081fe0 sp=0xc420081f88 pc=0x5558285493e0
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x555828574f31
    
    rax    0x0
    rbx    0x7fbbabfbf840
    rcx    0x7fbbabc11f47
    rdx    0x0
    rdi    0x2
    rsi    0x7fff700961a0
    rbp    0x555828d4332a
    rsp    0x7fff700961a0
    r8     0x0
    r9     0x7fff700961a0
    r10    0x8
    r11    0x246
    r12    0x55582a1f03f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fbbabc11f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
