apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fea1dd68f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fea1dd68f47
    stack: frame={sp:0x7ffedfd3eab0, fp:0x0} stack=[0x7ffedf540150,0x7ffedfd3f180)
    00007ffedfd3e9b0:  00005615d1a77683 <runtime.main+883>  000000000030da24 
    00007ffedfd3e9c0:  0000029300000002  000000501dd29700 
    00007ffedfd3e9d0:  000000000030da24  00007ffedfd3ea88 
    00007ffedfd3e9e0:  0000000000000000  0000000000000000 
    00007ffedfd3e9f0:  00007fea1e116560  00007fea1e119bc0 
    00007ffedfd3ea00:  000000c42006ffd0  00005615d1a773e0 <runtime.main+208> 
    00007ffedfd3ea10:  00005615d276b970  0000000000000000 
    00007ffedfd3ea20:  0000000000000000  0000000000000000 
    00007ffedfd3ea30:  0000000000000000  0000000000000000 
    00007ffedfd3ea40:  0000000000000000  0000000000000000 
    00007ffedfd3ea50:  000000c420000180  0000000000000000 
    00007ffedfd3ea60:  00005615d1a773e0 <runtime.main+208>  00005615d276b970 
    00007ffedfd3ea70:  0000000000000000  0000000000000000 
    00007ffedfd3ea80:  0000000000000000  0000000000000000 
    00007ffedfd3ea90:  0000000000000000  0000000000000000 
    00007ffedfd3eaa0:  0000000000000000  000000c420000180 
    00007ffedfd3eab0: <0000000000000000  00005615d1aa2f31 <runtime.goexit+1> 
    00007ffedfd3eac0:  0000000000000000  0000000000000000 
    00007ffedfd3ead0:  0000000000000000  0000000000000000 
    00007ffedfd3eae0:  0000000000000000  00005615d1aa2f31 <runtime.goexit+1> 
    00007ffedfd3eaf0:  00005615d2b193c0  00007ffedfd3ee00 
    00007ffedfd3eb00:  00005615d1a97962 <runtime.gentraceback+4850>  00007ffedfd3eda8 
    00007ffedfd3eb10:  00007ffedfd3ee98  00005615d2b19301 
    00007ffedfd3eb20:  00007ffedfd3ec01  0000000000000000 
    00007ffedfd3eb30:  fffffffe7fffffff  ffffffffffffffff 
    00007ffedfd3eb40:  ffffffffffffffff  ffffffffffffffff 
    00007ffedfd3eb50:  ffffffffffffffff  ffffffffffffffff 
    00007ffedfd3eb60:  ffffffffffffffff  ffffffffffffffff 
    00007ffedfd3eb70:  ffffffffffffffff  ffffffffffffffff 
    00007ffedfd3eb80:  ffffffffffffffff  ffffffffffffffff 
    00007ffedfd3eb90:  ffffffffffffffff  ffffffffffffffff 
    00007ffedfd3eba0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fea1dd68f47
    stack: frame={sp:0x7ffedfd3eab0, fp:0x0} stack=[0x7ffedf540150,0x7ffedfd3f180)
    00007ffedfd3e9b0:  00005615d1a77683 <runtime.main+883>  000000000030da24 
    00007ffedfd3e9c0:  0000029300000002  000000501dd29700 
    00007ffedfd3e9d0:  000000000030da24  00007ffedfd3ea88 
    00007ffedfd3e9e0:  0000000000000000  0000000000000000 
    00007ffedfd3e9f0:  00007fea1e116560  00007fea1e119bc0 
    00007ffedfd3ea00:  000000c42006ffd0  00005615d1a773e0 <runtime.main+208> 
    00007ffedfd3ea10:  00005615d276b970  0000000000000000 
    00007ffedfd3ea20:  0000000000000000  0000000000000000 
    00007ffedfd3ea30:  0000000000000000  0000000000000000 
    00007ffedfd3ea40:  0000000000000000  0000000000000000 
    00007ffedfd3ea50:  000000c420000180  0000000000000000 
    00007ffedfd3ea60:  00005615d1a773e0 <runtime.main+208>  00005615d276b970 
    00007ffedfd3ea70:  0000000000000000  0000000000000000 
    00007ffedfd3ea80:  0000000000000000  0000000000000000 
    00007ffedfd3ea90:  0000000000000000  0000000000000000 
    00007ffedfd3eaa0:  0000000000000000  000000c420000180 
    00007ffedfd3eab0: <0000000000000000  00005615d1aa2f31 <runtime.goexit+1> 
    00007ffedfd3eac0:  0000000000000000  0000000000000000 
    00007ffedfd3ead0:  0000000000000000  0000000000000000 
    00007ffedfd3eae0:  0000000000000000  00005615d1aa2f31 <runtime.goexit+1> 
    00007ffedfd3eaf0:  00005615d2b193c0  00007ffedfd3ee00 
    00007ffedfd3eb00:  00005615d1a97962 <runtime.gentraceback+4850>  00007ffedfd3eda8 
    00007ffedfd3eb10:  00007ffedfd3ee98  00005615d2b19301 
    00007ffedfd3eb20:  00007ffedfd3ec01  0000000000000000 
    00007ffedfd3eb30:  fffffffe7fffffff  ffffffffffffffff 
    00007ffedfd3eb40:  ffffffffffffffff  ffffffffffffffff 
    00007ffedfd3eb50:  ffffffffffffffff  ffffffffffffffff 
    00007ffedfd3eb60:  ffffffffffffffff  ffffffffffffffff 
    00007ffedfd3eb70:  ffffffffffffffff  ffffffffffffffff 
    00007ffedfd3eb80:  ffffffffffffffff  ffffffffffffffff 
    00007ffedfd3eb90:  ffffffffffffffff  ffffffffffffffff 
    00007ffedfd3eba0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.systemstack_switch()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:363 fp=0xc420081f00 sp=0xc420081ef8 pc=0x5615d1aa0370
    runtime.newproc(0x561500000000, 0x5615d276b8f8)
    	/usr/lib/go-1.10/src/runtime/proc.go:3243 +0x64 fp=0xc420081f40 sp=0xc420081f00 pc=0x5615d1a7f264
    runtime.init.4()
    	/usr/lib/go-1.10/src/runtime/proc.go:237 +0x37 fp=0xc420081f60 sp=0xc420081f40 pc=0x5615d1a776d7
    runtime.init()
    	<autogenerated>:1 +0xe5 fp=0xc420081f88 sp=0xc420081f60 pc=0x5615d1a9ff45
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:144 +0xd0 fp=0xc420081fe0 sp=0xc420081f88 pc=0x5615d1a773e0
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x5615d1aa2f31
    
    rax    0x0
    rbx    0x7fea1e116840
    rcx    0x7fea1dd68f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffedfd3eab0
    rbp    0x5615d227132a
    rsp    0x7ffedfd3eab0
    r8     0x0
    r9     0x7ffedfd3eab0
    r10    0x8
    r11    0x246
    r12    0x5615d49793f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fea1dd68f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 2 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7d48, 0x0, 0xffffffffffffffff)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.main.func1()
    	/usr/local/go/src/runtime/proc.go:135 +0x3f
    runtime.systemstack(0x46c2f4)
    	/usr/local/go/src/runtime/asm_amd64.s:370 +0x66
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1116
    
    goroutine 1 [running]:
    runtime.systemstack_switch()
    	/usr/local/go/src/runtime/asm_amd64.s:330 fp=0xc00005e788 sp=0xc00005e780 pc=0x46c420
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:134 +0x70 fp=0xc00005e7e0 sp=0xc00005e788 pc=0x439ab0
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1 fp=0xc00005e7e8 sp=0xc00005e7e0 pc=0x46e061
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f8d0bddff47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f8d0bddff47
    stack: frame={sp:0x7ffc49113460, fp:0x0} stack=[0x7ffc48914b00,0x7ffc49113b30)
    00007ffc49113360:  0000565483937683 <runtime.main+883>  000000000030da24 
    00007ffc49113370:  0000029300000002  000000500c3c875a 
    00007ffc49113380:  000000000030da24  00007ffc49113438 
    00007ffc49113390:  0000565483952936 <runtime.pcvalue+342>  00005654846c5828 
    00007ffc491133a0:  0000000000000000  0000000000000000 
    00007ffc491133b0:  00007f8d0c18d560  00007f8d0c190bc0 
    00007ffc491133c0:  000000c42006ffd0  00005654839373e0 <runtime.main+208> 
    00007ffc491133d0:  000056548462b970  0000000000000000 
    00007ffc491133e0:  0000000000000000  0000000000000000 
    00007ffc491133f0:  0000000000000000  0000000000000000 
    00007ffc49113400:  0000000000000000  0000000000000000 
    00007ffc49113410:  000000c420000180  0000000000000000 
    00007ffc49113420:  00005654839373e0 <runtime.main+208>  000056548462b970 
    00007ffc49113430:  0000000000000000  0000000000000000 
    00007ffc49113440:  0000000000000000  0000000000000000 
    00007ffc49113450:  0000000000000000  0000000000000000 
    00007ffc49113460: <0000000000000000  000000c420000180 
    00007ffc49113470:  0000000000000000  0000565483962f31 <runtime.goexit+1> 
    00007ffc49113480:  0000000000000000  0000000000000000 
    00007ffc49113490:  0000000000000000  0000000000000000 
    00007ffc491134a0:  00005654849d93c0  00007ffc491137b0 
    00007ffc491134b0:  0000565483957962 <runtime.gentraceback+4850>  00007ffc49113758 
    00007ffc491134c0:  00007ffc49113848  00005654849d9301 
    00007ffc491134d0:  00007ffc49113501  0000000000000000 
    00007ffc491134e0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc491134f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc49113500:  ffffffffffffffff  ffffffffffffffff 
    00007ffc49113510:  ffffffffffffffff  ffffffffffffffff 
    00007ffc49113520:  ffffffffffffffff  ffffffffffffffff 
    00007ffc49113530:  ffffffffffffffff  ffffffffffffffff 
    00007ffc49113540:  ffffffffffffffff  ffffffffffffffff 
    00007ffc49113550:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f8d0bddff47
    stack: frame={sp:0x7ffc49113460, fp:0x0} stack=[0x7ffc48914b00,0x7ffc49113b30)
    00007ffc49113360:  0000565483937683 <runtime.main+883>  000000000030da24 
    00007ffc49113370:  0000029300000002  000000500c3c875a 
    00007ffc49113380:  000000000030da24  00007ffc49113438 
    00007ffc49113390:  0000565483952936 <runtime.pcvalue+342>  00005654846c5828 
    00007ffc491133a0:  0000000000000000  0000000000000000 
    00007ffc491133b0:  00007f8d0c18d560  00007f8d0c190bc0 
    00007ffc491133c0:  000000c42006ffd0  00005654839373e0 <runtime.main+208> 
    00007ffc491133d0:  000056548462b970  0000000000000000 
    00007ffc491133e0:  0000000000000000  0000000000000000 
    00007ffc491133f0:  0000000000000000  0000000000000000 
    00007ffc49113400:  0000000000000000  0000000000000000 
    00007ffc49113410:  000000c420000180  0000000000000000 
    00007ffc49113420:  00005654839373e0 <runtime.main+208>  000056548462b970 
    00007ffc49113430:  0000000000000000  0000000000000000 
    00007ffc49113440:  0000000000000000  0000000000000000 
    00007ffc49113450:  0000000000000000  0000000000000000 
    00007ffc49113460: <0000000000000000  000000c420000180 
    00007ffc49113470:  0000000000000000  0000565483962f31 <runtime.goexit+1> 
    00007ffc49113480:  0000000000000000  0000000000000000 
    00007ffc49113490:  0000000000000000  0000000000000000 
    00007ffc491134a0:  00005654849d93c0  00007ffc491137b0 
    00007ffc491134b0:  0000565483957962 <runtime.gentraceback+4850>  00007ffc49113758 
    00007ffc491134c0:  00007ffc49113848  00005654849d9301 
    00007ffc491134d0:  00007ffc49113501  0000000000000000 
    00007ffc491134e0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc491134f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc49113500:  ffffffffffffffff  ffffffffffffffff 
    00007ffc49113510:  ffffffffffffffff  ffffffffffffffff 
    00007ffc49113520:  ffffffffffffffff  ffffffffffffffff 
    00007ffc49113530:  ffffffffffffffff  ffffffffffffffff 
    00007ffc49113540:  ffffffffffffffff  ffffffffffffffff 
    00007ffc49113550:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.systemstack_switch()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:363 fp=0xc420081f00 sp=0xc420081ef8 pc=0x565483960370
    runtime.newproc(0x565400000000, 0x56548462b8f8)
    	/usr/lib/go-1.10/src/runtime/proc.go:3243 +0x64 fp=0xc420081f40 sp=0xc420081f00 pc=0x56548393f264
    runtime.init.4()
    	/usr/lib/go-1.10/src/runtime/proc.go:237 +0x37 fp=0xc420081f60 sp=0xc420081f40 pc=0x5654839376d7
    runtime.init()
    	<autogenerated>:1 +0xe5 fp=0xc420081f88 sp=0xc420081f60 pc=0x56548395ff45
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:144 +0xd0 fp=0xc420081fe0 sp=0xc420081f88 pc=0x5654839373e0
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x565483962f31
    
    rax    0x0
    rbx    0x7f8d0c18d840
    rcx    0x7f8d0bddff47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffc49113460
    rbp    0x56548413132a
    rsp    0x7ffc49113460
    r8     0x0
    r9     0x7ffc49113460
    r10    0x8
    r11    0x246
    r12    0x565484a433f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f8d0bddff47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
