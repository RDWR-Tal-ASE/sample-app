apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f8f0ae26f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f8f0ae26f47
    stack: frame={sp:0x7ffce2bc85f0, fp:0x0} stack=[0x7ffce23c9af0,0x7ffce2bc8b20)
    00007ffce2bc84f0:  0000000000000001  0000000000000000 
    00007ffce2bc8500:  0000000000000000  000000c420081fe0 
    00007ffce2bc8510:  0000000000000000  0000000000000000 
    00007ffce2bc8520:  0000000000000000  0000000000000000 
    00007ffce2bc8530:  00007f8f0b1d4560  00007f8f0b1d7bc0 
    00007ffce2bc8540:  000000c42006ffd0  0000555feb46c3e0 <runtime.main+208> 
    00007ffce2bc8550:  0000555fec160970  0000000000000000 
    00007ffce2bc8560:  0000000000000000  0000000000000000 
    00007ffce2bc8570:  0000000000000000  0000000000000000 
    00007ffce2bc8580:  0000000000000000  0000000000000000 
    00007ffce2bc8590:  000000c420000180  0000000000000000 
    00007ffce2bc85a0:  0000555feb46c3e0 <runtime.main+208>  0000555fec160970 
    00007ffce2bc85b0:  0000000000000000  0000000000000000 
    00007ffce2bc85c0:  0000000000000000  0000000000000000 
    00007ffce2bc85d0:  0000000000000000  0000000000000000 
    00007ffce2bc85e0:  0000000000000000  000000c420000180 
    00007ffce2bc85f0: <0000000000000000  0000555feb497f31 <runtime.goexit+1> 
    00007ffce2bc8600:  0000000000000000  0000000000000000 
    00007ffce2bc8610:  0000000000000000  0000000000000000 
    00007ffce2bc8620:  000000000030da24  000000000030da24 
    00007ffce2bc8630:  0000029300000002  000000500b1e0ec5 
    00007ffce2bc8640:  000000000030da24  00007ffce2bc86f8 
    00007ffce2bc8650:  0000555feb487936 <runtime.pcvalue+342>  0000555fec1fa828 
    00007ffce2bc8660:  00000000002f742e  00000000002f742e 
    00007ffce2bc8670:  fffffffe7fffffff  ffffffffffffffff 
    00007ffce2bc8680:  ffffffffffffffff  ffffffffffffffff 
    00007ffce2bc8690:  ffffffffffffffff  ffffffffffffffff 
    00007ffce2bc86a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffce2bc86b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffce2bc86c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffce2bc86d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffce2bc86e0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f8f0ae26f47
    stack: frame={sp:0x7ffce2bc85f0, fp:0x0} stack=[0x7ffce23c9af0,0x7ffce2bc8b20)
    00007ffce2bc84f0:  0000000000000001  0000000000000000 
    00007ffce2bc8500:  0000000000000000  000000c420081fe0 
    00007ffce2bc8510:  0000000000000000  0000000000000000 
    00007ffce2bc8520:  0000000000000000  0000000000000000 
    00007ffce2bc8530:  00007f8f0b1d4560  00007f8f0b1d7bc0 
    00007ffce2bc8540:  000000c42006ffd0  0000555feb46c3e0 <runtime.main+208> 
    00007ffce2bc8550:  0000555fec160970  0000000000000000 
    00007ffce2bc8560:  0000000000000000  0000000000000000 
    00007ffce2bc8570:  0000000000000000  0000000000000000 
    00007ffce2bc8580:  0000000000000000  0000000000000000 
    00007ffce2bc8590:  000000c420000180  0000000000000000 
    00007ffce2bc85a0:  0000555feb46c3e0 <runtime.main+208>  0000555fec160970 
    00007ffce2bc85b0:  0000000000000000  0000000000000000 
    00007ffce2bc85c0:  0000000000000000  0000000000000000 
    00007ffce2bc85d0:  0000000000000000  0000000000000000 
    00007ffce2bc85e0:  0000000000000000  000000c420000180 
    00007ffce2bc85f0: <0000000000000000  0000555feb497f31 <runtime.goexit+1> 
    00007ffce2bc8600:  0000000000000000  0000000000000000 
    00007ffce2bc8610:  0000000000000000  0000000000000000 
    00007ffce2bc8620:  000000000030da24  000000000030da24 
    00007ffce2bc8630:  0000029300000002  000000500b1e0ec5 
    00007ffce2bc8640:  000000000030da24  00007ffce2bc86f8 
    00007ffce2bc8650:  0000555feb487936 <runtime.pcvalue+342>  0000555fec1fa828 
    00007ffce2bc8660:  00000000002f742e  00000000002f742e 
    00007ffce2bc8670:  fffffffe7fffffff  ffffffffffffffff 
    00007ffce2bc8680:  ffffffffffffffff  ffffffffffffffff 
    00007ffce2bc8690:  ffffffffffffffff  ffffffffffffffff 
    00007ffce2bc86a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffce2bc86b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffce2bc86c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffce2bc86d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffce2bc86e0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x555febb34a30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x555feb496bcf
    runtime.newm1(0xc420094400)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x555feb4706b1
    runtime.newm(0x555fec160b08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x555feb47052f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x555feb470791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x555feb46c4b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x555feb497f31
    
    rax    0x0
    rbx    0x7f8f0b1d4840
    rcx    0x7f8f0ae26f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffce2bc85f0
    rbp    0x555febc6632a
    rsp    0x7ffce2bc85f0
    r8     0x0
    r9     0x7ffce2bc85f0
    r10    0x8
    r11    0x246
    r12    0x555fedf60690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f8f0ae26f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 5 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000088000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000088000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc00004b000, 0x4)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000073f01)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.resetspinning()
    	/usr/local/go/src/runtime/proc.go:2533 +0x59
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2684 +0x2b9
    runtime.mstart1()
    	/usr/local/go/src/runtime/proc.go:1179 +0x93
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1137 +0x6e
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x1bb7a80, 0xc0000420c8, 0x170e, 0x2)
    	/usr/local/go/src/runtime/proc.go:306 +0xe5
    runtime.chanrecv(0xc000042070, 0x0, 0xc000000101, 0x41a55e)
    	/usr/local/go/src/runtime/chan.go:577 +0x36f
    runtime.chanrecv1(0xc000042070, 0x0)
    	/usr/local/go/src/runtime/chan.go:439 +0x2b
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:219 +0x95
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7fa5a6c6ef47 m=3 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7fa5a6c6ef47
    stack: frame={sp:0x7fa5a642d810, fp:0x0} stack=[0x7fa5a5c2e290,0x7fa5a642de90)
    00007fa5a642d710:  0000000000000000  0000000000000000 
    00007fa5a642d720:  0000000000000000  0000000000000000 
    00007fa5a642d730:  00007fa5a701c560  00007fa5a701fbc0 
    00007fa5a642d740:  0000007e0000007d  000000800000007f 
    00007fa5a642d750:  00007fa598000010  00007fa598000010 
    00007fa5a642d760:  000000000000000e  000000000000000e 
    00007fa5a642d770:  0000000000000000  0000000000000000 
    00007fa5a642d780:  ffffffffffffffff  ffffffffffffffff 
    00007fa5a642d790:  0000000400000004  0000000400000004 
    00007fa5a642d7a0:  00007fa598000800  00007fa598000800 
    00007fa5a642d7b0:  0000000000000000  0000000000000000 
    00007fa5a642d7c0:  0000000000000000  0000000000000000 
    00007fa5a642d7d0:  0000000000000000  0000000000000000 
    00007fa5a642d7e0:  0000000000000000  000000c420000180 
    00007fa5a642d7f0:  0000000000000000  000055a49229bf31 <runtime.goexit+1> 
    00007fa5a642d800:  0000000000000000  0000000000000000 
    00007fa5a642d810: <0000000000000000  0000000000000000 
    00007fa5a642d820:  0000000000000000  0000000000000000 
    00007fa5a642d830:  0000000000000000  0000000000000000 
    00007fa5a642d840:  0000000000000000  0000000000000000 
    00007fa5a642d850:  0000000000000000  0000000000000000 
    00007fa5a642d860:  0000000000000000  0000000000000000 
    00007fa5a642d870:  0000000000000000  0000000000000000 
    00007fa5a642d880:  0000000000000002  0000000000000000 
    00007fa5a642d890:  fffffffe7fffffff  ffffffffffffffff 
    00007fa5a642d8a0:  ffffffffffffffff  ffffffffffffffff 
    00007fa5a642d8b0:  ffffffffffffffff  ffffffffffffffff 
    00007fa5a642d8c0:  ffffffffffffffff  ffffffffffffffff 
    00007fa5a642d8d0:  ffffffffffffffff  ffffffffffffffff 
    00007fa5a642d8e0:  ffffffffffffffff  ffffffffffffffff 
    00007fa5a642d8f0:  ffffffffffffffff  ffffffffffffffff 
    00007fa5a642d900:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7fa5a6c6ef47
    stack: frame={sp:0x7fa5a642d810, fp:0x0} stack=[0x7fa5a5c2e290,0x7fa5a642de90)
    00007fa5a642d710:  0000000000000000  0000000000000000 
    00007fa5a642d720:  0000000000000000  0000000000000000 
    00007fa5a642d730:  00007fa5a701c560  00007fa5a701fbc0 
    00007fa5a642d740:  0000007e0000007d  000000800000007f 
    00007fa5a642d750:  00007fa598000010  00007fa598000010 
    00007fa5a642d760:  000000000000000e  000000000000000e 
    00007fa5a642d770:  0000000000000000  0000000000000000 
    00007fa5a642d780:  ffffffffffffffff  ffffffffffffffff 
    00007fa5a642d790:  0000000400000004  0000000400000004 
    00007fa5a642d7a0:  00007fa598000800  00007fa598000800 
    00007fa5a642d7b0:  0000000000000000  0000000000000000 
    00007fa5a642d7c0:  0000000000000000  0000000000000000 
    00007fa5a642d7d0:  0000000000000000  0000000000000000 
    00007fa5a642d7e0:  0000000000000000  000000c420000180 
    00007fa5a642d7f0:  0000000000000000  000055a49229bf31 <runtime.goexit+1> 
    00007fa5a642d800:  0000000000000000  0000000000000000 
    00007fa5a642d810: <0000000000000000  0000000000000000 
    00007fa5a642d820:  0000000000000000  0000000000000000 
    00007fa5a642d830:  0000000000000000  0000000000000000 
    00007fa5a642d840:  0000000000000000  0000000000000000 
    00007fa5a642d850:  0000000000000000  0000000000000000 
    00007fa5a642d860:  0000000000000000  0000000000000000 
    00007fa5a642d870:  0000000000000000  0000000000000000 
    00007fa5a642d880:  0000000000000002  0000000000000000 
    00007fa5a642d890:  fffffffe7fffffff  ffffffffffffffff 
    00007fa5a642d8a0:  ffffffffffffffff  ffffffffffffffff 
    00007fa5a642d8b0:  ffffffffffffffff  ffffffffffffffff 
    00007fa5a642d8c0:  ffffffffffffffff  ffffffffffffffff 
    00007fa5a642d8d0:  ffffffffffffffff  ffffffffffffffff 
    00007fa5a642d8e0:  ffffffffffffffff  ffffffffffffffff 
    00007fa5a642d8f0:  ffffffffffffffff  ffffffffffffffff 
    00007fa5a642d900:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running]:
    	goroutine running on other thread; stack unavailable
    
    goroutine 5 [runnable]:
    os/signal.loop()
    	/usr/lib/go-1.10/src/os/signal/signal_unix.go:20
    created by os/signal.init.0
    	/usr/lib/go-1.10/src/os/signal/signal_unix.go:28 +0x43
    
    rax    0x0
    rbx    0x7fa5a701c840
    rcx    0x7fa5a6c6ef47
    rdx    0x0
    rdi    0x2
    rsi    0x7fa5a642d810
    rbp    0x55a492a6a32a
    rsp    0x7fa5a642d810
    r8     0x0
    r9     0x7fa5a642d810
    r10    0x8
    r11    0x246
    r12    0x55a4939553f0
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7fa5a6c6ef47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
