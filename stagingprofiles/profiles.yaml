apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7faa8647ef47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7faa8647ef47
    stack: frame={sp:0x7ffdd553ee60, fp:0x0} stack=[0x7ffdd4d40500,0x7ffdd553f530)
    00007ffdd553ed60:  000055c376d82683 <runtime.main+883>  000000000030da24 
    00007ffdd553ed70:  0000029300000002  0000005086a6775a 
    00007ffdd553ed80:  000000000030da24  00007ffdd553ee38 
    00007ffdd553ed90:  000055c376d9d936 <runtime.pcvalue+342>  000055c377b10828 
    00007ffdd553eda0:  00000000002f742e  00000000002f742e 
    00007ffdd553edb0:  00007ffdd553edf0  00007ffdd553edec 
    00007ffdd553edc0:  000055c377e24301  000055c377b1082a 
    00007ffdd553edd0:  00000000002f742c  00000000002f742c 
    00007ffdd553ede0:  0000000000000001  0000000040000000 
    00007ffdd553edf0:  00007ffdd553eea8  000055c376d9875f <runtime.adjustframe+175> 
    00007ffdd553ee00:  000055c377b107f0  000055c377e243c0 
    00007ffdd553ee10:  00007ffd00000000  000055c376dadf30 <runtime.goexit+0> 
    00007ffdd553ee20:  00007ffdd553f260  00000000ffffffff 
    00007ffdd553ee30:  00000000d553edc0  000055c376dadf30 <runtime.goexit+0> 
    00007ffdd553ee40:  000055c376d9e1c1 <runtime.funcspdelta+97>  000055c377b107f0 
    00007ffdd553ee50:  000055c377e243c0  00007ffd0006f548 
    00007ffdd553ee60: <0000000000000000  00007ffdd553efc0 
    00007ffdd553ee70:  000055c37750a201  000055c377b107f0 
    00007ffdd553ee80:  000055c377e243c0  0000000000000000 
    00007ffdd553ee90:  0000000000000000  000055c376dadf31 <runtime.goexit+1> 
    00007ffdd553eea0:  000055c377e243c0  00007ffdd553f1b0 
    00007ffdd553eeb0:  000055c376da2962 <runtime.gentraceback+4850>  00007ffdd553f158 
    00007ffdd553eec0:  00007ffdd553f248  000055c377e24301 
    00007ffdd553eed0:  00007ffdd553ef01  0000000000000000 
    00007ffdd553eee0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffdd553eef0:  ffffffffffffffff  ffffffffffffffff 
    00007ffdd553ef00:  ffffffffffffffff  ffffffffffffffff 
    00007ffdd553ef10:  ffffffffffffffff  ffffffffffffffff 
    00007ffdd553ef20:  ffffffffffffffff  ffffffffffffffff 
    00007ffdd553ef30:  ffffffffffffffff  ffffffffffffffff 
    00007ffdd553ef40:  ffffffffffffffff  ffffffffffffffff 
    00007ffdd553ef50:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7faa8647ef47
    stack: frame={sp:0x7ffdd553ee60, fp:0x0} stack=[0x7ffdd4d40500,0x7ffdd553f530)
    00007ffdd553ed60:  000055c376d82683 <runtime.main+883>  000000000030da24 
    00007ffdd553ed70:  0000029300000002  0000005086a6775a 
    00007ffdd553ed80:  000000000030da24  00007ffdd553ee38 
    00007ffdd553ed90:  000055c376d9d936 <runtime.pcvalue+342>  000055c377b10828 
    00007ffdd553eda0:  00000000002f742e  00000000002f742e 
    00007ffdd553edb0:  00007ffdd553edf0  00007ffdd553edec 
    00007ffdd553edc0:  000055c377e24301  000055c377b1082a 
    00007ffdd553edd0:  00000000002f742c  00000000002f742c 
    00007ffdd553ede0:  0000000000000001  0000000040000000 
    00007ffdd553edf0:  00007ffdd553eea8  000055c376d9875f <runtime.adjustframe+175> 
    00007ffdd553ee00:  000055c377b107f0  000055c377e243c0 
    00007ffdd553ee10:  00007ffd00000000  000055c376dadf30 <runtime.goexit+0> 
    00007ffdd553ee20:  00007ffdd553f260  00000000ffffffff 
    00007ffdd553ee30:  00000000d553edc0  000055c376dadf30 <runtime.goexit+0> 
    00007ffdd553ee40:  000055c376d9e1c1 <runtime.funcspdelta+97>  000055c377b107f0 
    00007ffdd553ee50:  000055c377e243c0  00007ffd0006f548 
    00007ffdd553ee60: <0000000000000000  00007ffdd553efc0 
    00007ffdd553ee70:  000055c37750a201  000055c377b107f0 
    00007ffdd553ee80:  000055c377e243c0  0000000000000000 
    00007ffdd553ee90:  0000000000000000  000055c376dadf31 <runtime.goexit+1> 
    00007ffdd553eea0:  000055c377e243c0  00007ffdd553f1b0 
    00007ffdd553eeb0:  000055c376da2962 <runtime.gentraceback+4850>  00007ffdd553f158 
    00007ffdd553eec0:  00007ffdd553f248  000055c377e24301 
    00007ffdd553eed0:  00007ffdd553ef01  0000000000000000 
    00007ffdd553eee0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffdd553eef0:  ffffffffffffffff  ffffffffffffffff 
    00007ffdd553ef00:  ffffffffffffffff  ffffffffffffffff 
    00007ffdd553ef10:  ffffffffffffffff  ffffffffffffffff 
    00007ffdd553ef20:  ffffffffffffffff  ffffffffffffffff 
    00007ffdd553ef30:  ffffffffffffffff  ffffffffffffffff 
    00007ffdd553ef40:  ffffffffffffffff  ffffffffffffffff 
    00007ffdd553ef50:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x55c377a76a60, 0xc4200380c8, 0x55c377454704, 0xc, 0xc42003ce17, 0x3)
    	/usr/lib/go-1.10/src/runtime/proc.go:291 +0x120
    runtime.goparkunlock(0xc4200380c8, 0x55c377454704, 0xc, 0x17, 0x3)
    	/usr/lib/go-1.10/src/runtime/proc.go:297 +0x60
    runtime.chanrecv(0xc420038070, 0x0, 0x1, 0x55c376d6d8aa)
    	/usr/lib/go-1.10/src/runtime/chan.go:518 +0x2f6
    runtime.chanrecv1(0xc420038070, 0x0)
    	/usr/lib/go-1.10/src/runtime/chan.go:400 +0x2b
    runtime.gcenable()
    	/usr/lib/go-1.10/src/runtime/mgc.go:217 +0x71
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:161 +0x126
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1
    
    rax    0x0
    rbx    0x7faa8682c840
    rcx    0x7faa8647ef47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffdd553ee60
    rbp    0x55c37757c32a
    rsp    0x7ffdd553ee60
    r8     0x0
    r9     0x7ffdd553ee60
    r10    0x8
    r11    0x246
    r12    0x55c37883c540
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7faa8647ef47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 3 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000062400)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000062400)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc000048800, 0x2)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000046001)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.newproc.func1()
    	/usr/local/go/src/runtime/proc.go:3555 +0x97
    runtime.systemstack(0x46c2f4)
    	/usr/local/go/src/runtime/asm_amd64.s:370 +0x66
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1116
    
    goroutine 1 [running, locked to thread]:
    runtime.systemstack_switch()
    	/usr/local/go/src/runtime/asm_amd64.s:330 fp=0xc00005e6f0 sp=0xc00005e6e8 pc=0x46c420
    runtime.newproc(0x0, 0x1bb7b08)
    	/usr/local/go/src/runtime/proc.go:3548 +0x6e fp=0xc00005e738 sp=0xc00005e6f0 pc=0x44210e
    runtime.init.6()
    	/usr/local/go/src/runtime/proc.go:243 +0x35 fp=0xc00005e758 sp=0xc00005e738 pc=0x439df5
    runtime.doInit(0x2881120)
    	/usr/local/go/src/runtime/proc.go:5646 +0x8a fp=0xc00005e788 sp=0xc00005e758 pc=0x446f8a
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:151 +0xd9 fp=0xc00005e7e0 sp=0xc00005e788 pc=0x439b19
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1 fp=0xc00005e7e8 sp=0xc00005e7e0 pc=0x46e061
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f685cabaf47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f685cabaf47
    stack: frame={sp:0x7ffc1f917520, fp:0x0} stack=[0x7ffc1f118bc0,0x7ffc1f917bf0)
    00007ffc1f917420:  0000565368cf2683 <runtime.main+883>  000000000030da24 
    00007ffc1f917430:  0000029300000002  000000505d0a375a 
    00007ffc1f917440:  000000000030da24  00007ffc1f9174f8 
    00007ffc1f917450:  0000565368d0d936 <runtime.pcvalue+342>  0000565369a80828 
    00007ffc1f917460:  00000000002f742e  00000000002f742e 
    00007ffc1f917470:  00007ffc1f9174b0  0000000000000120 
    00007ffc1f917480:  0000001369d94301  0000000000000007 
    00007ffc1f917490:  0000000000000130  000056536b424098 
    00007ffc1f9174a0:  0000000000000150  ffffffffffffffa8 
    00007ffc1f9174b0:  0000000000000004  0000003400000013 
    00007ffc1f9174c0:  0000000000000000  0000000000000000 
    00007ffc1f9174d0:  0000000000000000  000000770000007c 
    00007ffc1f9174e0:  0000005b0000006e  00000000ffffffff 
    00007ffc1f9174f0:  000000001f917480  0000000000020c00 
    00007ffc1f917500:  0000000000000120  00007f685d09f307 
    00007ffc1f917510:  000056536b424400  0000000000000001 
    00007ffc1f917520: <0000000000000000  000056536b424420 
    00007ffc1f917530:  00007f685d2ac0d0  00007f6857fff700 
    00007ffc1f917540:  0000000000001000  00007f6857fff700 
    00007ffc1f917550:  00007ffc1f917640  0000000000001000 
    00007ffc1f917560:  00007ffc1f9176d0  00007f685ce74ec5 
    00007ffc1f917570:  00007f6857fff9d0  00007f685ce75228 
    00007ffc1f917580:  00007ffc1f917908  00007f6857fff9c0 
    00007ffc1f917590:  00007ffc1f917601  0000000000000000 
    00007ffc1f9175a0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc1f9175b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc1f9175c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc1f9175d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc1f9175e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc1f9175f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc1f917600:  ffffffffffffffff  ffffffffffffffff 
    00007ffc1f917610:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f685cabaf47
    stack: frame={sp:0x7ffc1f917520, fp:0x0} stack=[0x7ffc1f118bc0,0x7ffc1f917bf0)
    00007ffc1f917420:  0000565368cf2683 <runtime.main+883>  000000000030da24 
    00007ffc1f917430:  0000029300000002  000000505d0a375a 
    00007ffc1f917440:  000000000030da24  00007ffc1f9174f8 
    00007ffc1f917450:  0000565368d0d936 <runtime.pcvalue+342>  0000565369a80828 
    00007ffc1f917460:  00000000002f742e  00000000002f742e 
    00007ffc1f917470:  00007ffc1f9174b0  0000000000000120 
    00007ffc1f917480:  0000001369d94301  0000000000000007 
    00007ffc1f917490:  0000000000000130  000056536b424098 
    00007ffc1f9174a0:  0000000000000150  ffffffffffffffa8 
    00007ffc1f9174b0:  0000000000000004  0000003400000013 
    00007ffc1f9174c0:  0000000000000000  0000000000000000 
    00007ffc1f9174d0:  0000000000000000  000000770000007c 
    00007ffc1f9174e0:  0000005b0000006e  00000000ffffffff 
    00007ffc1f9174f0:  000000001f917480  0000000000020c00 
    00007ffc1f917500:  0000000000000120  00007f685d09f307 
    00007ffc1f917510:  000056536b424400  0000000000000001 
    00007ffc1f917520: <0000000000000000  000056536b424420 
    00007ffc1f917530:  00007f685d2ac0d0  00007f6857fff700 
    00007ffc1f917540:  0000000000001000  00007f6857fff700 
    00007ffc1f917550:  00007ffc1f917640  0000000000001000 
    00007ffc1f917560:  00007ffc1f9176d0  00007f685ce74ec5 
    00007ffc1f917570:  00007f6857fff9d0  00007f685ce75228 
    00007ffc1f917580:  00007ffc1f917908  00007f6857fff9c0 
    00007ffc1f917590:  00007ffc1f917601  0000000000000000 
    00007ffc1f9175a0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffc1f9175b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc1f9175c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc1f9175d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc1f9175e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc1f9175f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffc1f917600:  ffffffffffffffff  ffffffffffffffff 
    00007ffc1f917610:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x5653699e6a60, 0xc4200380c8, 0x5653693c4704, 0xc, 0xc42003ce17, 0x3)
    	/usr/lib/go-1.10/src/runtime/proc.go:291 +0x120
    runtime.goparkunlock(0xc4200380c8, 0x5653693c4704, 0xc, 0x17, 0x3)
    	/usr/lib/go-1.10/src/runtime/proc.go:297 +0x60
    runtime.chanrecv(0xc420038070, 0x0, 0x1, 0x565368cdd8aa)
    	/usr/lib/go-1.10/src/runtime/chan.go:518 +0x2f6
    runtime.chanrecv1(0xc420038070, 0x0)
    	/usr/lib/go-1.10/src/runtime/chan.go:400 +0x2b
    runtime.gcenable()
    	/usr/lib/go-1.10/src/runtime/mgc.go:217 +0x71
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:161 +0x126
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1
    
    rax    0x0
    rbx    0x7f685ce68840
    rcx    0x7f685cabaf47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffc1f917520
    rbp    0x5653694ec32a
    rsp    0x7ffc1f917520
    r8     0x0
    r9     0x7ffc1f917520
    r10    0x8
    r11    0x246
    r12    0x56536b424540
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f685cabaf47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
