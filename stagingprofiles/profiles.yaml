apiVersion: waas.radware.com/v1beta1
kind: Profile
metadata:
  name:  waas-api-profile
  namespace: kwaf
  labels:
    release: waas
spec:
  policies:
  - classifiers:
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f73bbf04f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f73bbf04f47
    stack: frame={sp:0x7ffd5e9e9800, fp:0x0} stack=[0x7ffd5e1ead00,0x7ffd5e9e9d30)
    00007ffd5e9e9700:  0000000000000001  0000000000000000 
    00007ffd5e9e9710:  0000000000000000  000000c420081fe0 
    00007ffd5e9e9720:  0000000000000000  0000000000000000 
    00007ffd5e9e9730:  00007f73bc2b2560  00007f73bc2b5bc0 
    00007ffd5e9e9740:  000000c42006ffd0  0000561a391ea3e0 <runtime.main+208> 
    00007ffd5e9e9750:  0000561a39ede970  0000000000000000 
    00007ffd5e9e9760:  0000000000000000  0000000000000000 
    00007ffd5e9e9770:  0000000000000000  0000000000000000 
    00007ffd5e9e9780:  0000000000000000  0000000000000000 
    00007ffd5e9e9790:  000000c420000180  0000000000000000 
    00007ffd5e9e97a0:  0000561a391ea3e0 <runtime.main+208>  0000561a39ede970 
    00007ffd5e9e97b0:  0000000000000000  0000000000000000 
    00007ffd5e9e97c0:  0000000000000000  0000000000000000 
    00007ffd5e9e97d0:  0000000000000000  0000000000000000 
    00007ffd5e9e97e0:  0000000000000000  000000c420000180 
    00007ffd5e9e97f0:  0000000000000000  0000561a39215f31 <runtime.goexit+1> 
    00007ffd5e9e9800: <0000000000000000  0000000000000000 
    00007ffd5e9e9810:  0000000000000000  0000000000000000 
    00007ffd5e9e9820:  0000561a39206582 <runtime.step+290>  0000561a39f62232 
    00007ffd5e9e9830:  000000000030da24  000000000030da24 
    00007ffd5e9e9840:  0000029300000002  00000050bc2beec5 
    00007ffd5e9e9850:  000000000030da24  00007ffd5e9e9908 
    00007ffd5e9e9860:  0000561a39205936 <runtime.pcvalue+342>  0000561a39f78828 
    00007ffd5e9e9870:  00000000002f742e  00000000002f742e 
    00007ffd5e9e9880:  fffffffe7fffffff  ffffffffffffffff 
    00007ffd5e9e9890:  ffffffffffffffff  ffffffffffffffff 
    00007ffd5e9e98a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd5e9e98b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd5e9e98c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd5e9e98d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd5e9e98e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd5e9e98f0:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f73bbf04f47
    stack: frame={sp:0x7ffd5e9e9800, fp:0x0} stack=[0x7ffd5e1ead00,0x7ffd5e9e9d30)
    00007ffd5e9e9700:  0000000000000001  0000000000000000 
    00007ffd5e9e9710:  0000000000000000  000000c420081fe0 
    00007ffd5e9e9720:  0000000000000000  0000000000000000 
    00007ffd5e9e9730:  00007f73bc2b2560  00007f73bc2b5bc0 
    00007ffd5e9e9740:  000000c42006ffd0  0000561a391ea3e0 <runtime.main+208> 
    00007ffd5e9e9750:  0000561a39ede970  0000000000000000 
    00007ffd5e9e9760:  0000000000000000  0000000000000000 
    00007ffd5e9e9770:  0000000000000000  0000000000000000 
    00007ffd5e9e9780:  0000000000000000  0000000000000000 
    00007ffd5e9e9790:  000000c420000180  0000000000000000 
    00007ffd5e9e97a0:  0000561a391ea3e0 <runtime.main+208>  0000561a39ede970 
    00007ffd5e9e97b0:  0000000000000000  0000000000000000 
    00007ffd5e9e97c0:  0000000000000000  0000000000000000 
    00007ffd5e9e97d0:  0000000000000000  0000000000000000 
    00007ffd5e9e97e0:  0000000000000000  000000c420000180 
    00007ffd5e9e97f0:  0000000000000000  0000561a39215f31 <runtime.goexit+1> 
    00007ffd5e9e9800: <0000000000000000  0000000000000000 
    00007ffd5e9e9810:  0000000000000000  0000000000000000 
    00007ffd5e9e9820:  0000561a39206582 <runtime.step+290>  0000561a39f62232 
    00007ffd5e9e9830:  000000000030da24  000000000030da24 
    00007ffd5e9e9840:  0000029300000002  00000050bc2beec5 
    00007ffd5e9e9850:  000000000030da24  00007ffd5e9e9908 
    00007ffd5e9e9860:  0000561a39205936 <runtime.pcvalue+342>  0000561a39f78828 
    00007ffd5e9e9870:  00000000002f742e  00000000002f742e 
    00007ffd5e9e9880:  fffffffe7fffffff  ffffffffffffffff 
    00007ffd5e9e9890:  ffffffffffffffff  ffffffffffffffff 
    00007ffd5e9e98a0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd5e9e98b0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd5e9e98c0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd5e9e98d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd5e9e98e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd5e9e98f0:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x561a398b2a30, 0xc420081f10)
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:673 +0x3f fp=0xc420081ee8 sp=0xc420081ee0 pc=0x561a39214bcf
    runtime.newm1(0xc420061000)
    	/usr/lib/go-1.10/src/runtime/proc.go:1874 +0xd1 fp=0xc420081f38 sp=0xc420081ee8 pc=0x561a391ee6b1
    runtime.newm(0x561a39edeb08, 0x0)
    	/usr/lib/go-1.10/src/runtime/proc.go:1858 +0x9f fp=0xc420081f68 sp=0xc420081f38 pc=0x561a391ee52f
    runtime.startTemplateThread()
    	/usr/lib/go-1.10/src/runtime/proc.go:1891 +0x51 fp=0xc420081f88 sp=0xc420081f68 pc=0x561a391ee791
    runtime.main()
    	/usr/lib/go-1.10/src/runtime/proc.go:181 +0x1a9 fp=0xc420081fe0 sp=0xc420081f88 pc=0x561a391ea4b9
    runtime.goexit()
    	/usr/lib/go-1.10/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420081fe8 sp=0xc420081fe0 pc=0x561a39215f31
    
    rax    0x0
    rbx    0x7f73bc2b2840
    rcx    0x7f73bbf04f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffd5e9e9800
    rbp    0x561a399e432a
    rsp    0x7ffd5e9e9800
    r8     0x0
    r9     0x7ffd5e9e9800
    r10    0x8
    r11    0x246
    r12    0x561a3a434690
    r13    0xf1
    r14    0x11
    r15    0x0
    rip    0x7f73bbf04f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
    name: apiPolicy
    operatorEmail: support@radware.com
    protections:
    runtime: failed to create new OS thread (have 5 already; errno=11)
    runtime: may need to increase max user processes (ulimit -u)
    fatal error: newosproc
    
    runtime stack:
    runtime.throw(0x1acaa5a, 0x9)
    	/usr/local/go/src/runtime/panic.go:1116 +0x72
    runtime.newosproc(0xc000088000)
    	/usr/local/go/src/runtime/os_linux.go:161 +0x1c5
    runtime.newm1(0xc000088000)
    	/usr/local/go/src/runtime/proc.go:1837 +0xdd
    runtime.newm(0x1bb7c48, 0xc00004b000, 0x4)
    	/usr/local/go/src/runtime/proc.go:1816 +0x9b
    runtime.startm(0x0, 0xc000073f01)
    	/usr/local/go/src/runtime/proc.go:1973 +0xc9
    runtime.wakep()
    	/usr/local/go/src/runtime/proc.go:2061 +0x66
    runtime.resetspinning()
    	/usr/local/go/src/runtime/proc.go:2533 +0x59
    runtime.schedule()
    	/usr/local/go/src/runtime/proc.go:2684 +0x2b9
    runtime.mstart1()
    	/usr/local/go/src/runtime/proc.go:1179 +0x93
    runtime.mstart()
    	/usr/local/go/src/runtime/proc.go:1137 +0x6e
    
    goroutine 1 [chan receive, locked to thread]:
    runtime.gopark(0x1bb7a80, 0xc0000420c8, 0x170e, 0x2)
    	/usr/local/go/src/runtime/proc.go:306 +0xe5
    runtime.chanrecv(0xc000042070, 0x0, 0xc000000101, 0x41a55e)
    	/usr/local/go/src/runtime/chan.go:577 +0x36f
    runtime.chanrecv1(0xc000042070, 0x0)
    	/usr/local/go/src/runtime/chan.go:439 +0x2b
    runtime.gcenable()
    	/usr/local/go/src/runtime/mgc.go:219 +0x95
    runtime.main()
    	/usr/local/go/src/runtime/proc.go:167 +0x11e
    runtime.goexit()
    	/usr/local/go/src/runtime/asm_amd64.s:1374 +0x1
    runtime/cgo: pthread_create failed: Resource temporarily unavailable
    SIGABRT: abort
    PC=0x7f4fc27e7f47 m=0 sigcode=18446744073709551610
    
    goroutine 0 [idle]:
    runtime: unknown pc 0x7f4fc27e7f47
    stack: frame={sp:0x7ffd9d955840, fp:0x0} stack=[0x7ffd9d156d30,0x7ffd9d955d70)
    00007ffd9d955740:  00007ffd9d955b20  00007f4fc2dc8f13 
    00007ffd9d955750:  0000000000000005  000055fc3637f148 
    00007ffd9d955760:  00007ffd9d955c50  000055fc37789690 
    00007ffd9d955770:  0000000000000000  000055fc3585bd10 
    00007ffd9d955780:  0000000000000000  00007f4fc2dc8f13 
    00007ffd9d955790:  0000000000000005  0000000000000000 
    00007ffd9d9557a0:  2525252525252525  2525252525252525 
    00007ffd9d9557b0:  00000000000000ff  0000000000000000 
    00007ffd9d9557c0:  00000000000000ff  0000000000000000 
    00007ffd9d9557d0:  0000000000000000  0000000000000000 
    00007ffd9d9557e0:  2f7273752f3a6e69  73752f3a6e696273 
    00007ffd9d9557f0:  752f3a6e69622f72  6c61636f6c2f7273 
    00007ffd9d955800:  73752f3a6e69622f  732f6e6962732f72 
    00007ffd9d955810:  2f3a656369767265  6e69622f70616e73 
    00007ffd9d955820:  20636f6c6c616d00  203a64656c696166 
    00007ffd9d955830:  0000000000000000  0000000000000000 
    00007ffd9d955840: <0000000000000000  0000000000000000 
    00007ffd9d955850:  0000000000000000  0000000000000000 
    00007ffd9d955860:  0000000000000000  0000000000000000 
    00007ffd9d955870:  0000000000000000  0000000000000000 
    00007ffd9d955880:  0000000000000000  0000000000000000 
    00007ffd9d955890:  0000000000000000  0000000000000000 
    00007ffd9d9558a0:  0000000000000000  0000000000000000 
    00007ffd9d9558b0:  00007f4fc2b95560  00007f4fc2b98bc0 
    00007ffd9d9558c0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffd9d9558d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd9d9558e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd9d9558f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd9d955900:  ffffffffffffffff  ffffffffffffffff 
    00007ffd9d955910:  ffffffffffffffff  ffffffffffffffff 
    00007ffd9d955920:  ffffffffffffffff  ffffffffffffffff 
    00007ffd9d955930:  ffffffffffffffff  ffffffffffffffff 
    runtime: unknown pc 0x7f4fc27e7f47
    stack: frame={sp:0x7ffd9d955840, fp:0x0} stack=[0x7ffd9d156d30,0x7ffd9d955d70)
    00007ffd9d955740:  00007ffd9d955b20  00007f4fc2dc8f13 
    00007ffd9d955750:  0000000000000005  000055fc3637f148 
    00007ffd9d955760:  00007ffd9d955c50  000055fc37789690 
    00007ffd9d955770:  0000000000000000  000055fc3585bd10 
    00007ffd9d955780:  0000000000000000  00007f4fc2dc8f13 
    00007ffd9d955790:  0000000000000005  0000000000000000 
    00007ffd9d9557a0:  2525252525252525  2525252525252525 
    00007ffd9d9557b0:  00000000000000ff  0000000000000000 
    00007ffd9d9557c0:  00000000000000ff  0000000000000000 
    00007ffd9d9557d0:  0000000000000000  0000000000000000 
    00007ffd9d9557e0:  2f7273752f3a6e69  73752f3a6e696273 
    00007ffd9d9557f0:  752f3a6e69622f72  6c61636f6c2f7273 
    00007ffd9d955800:  73752f3a6e69622f  732f6e6962732f72 
    00007ffd9d955810:  2f3a656369767265  6e69622f70616e73 
    00007ffd9d955820:  20636f6c6c616d00  203a64656c696166 
    00007ffd9d955830:  0000000000000000  0000000000000000 
    00007ffd9d955840: <0000000000000000  0000000000000000 
    00007ffd9d955850:  0000000000000000  0000000000000000 
    00007ffd9d955860:  0000000000000000  0000000000000000 
    00007ffd9d955870:  0000000000000000  0000000000000000 
    00007ffd9d955880:  0000000000000000  0000000000000000 
    00007ffd9d955890:  0000000000000000  0000000000000000 
    00007ffd9d9558a0:  0000000000000000  0000000000000000 
    00007ffd9d9558b0:  00007f4fc2b95560  00007f4fc2b98bc0 
    00007ffd9d9558c0:  fffffffe7fffffff  ffffffffffffffff 
    00007ffd9d9558d0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd9d9558e0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd9d9558f0:  ffffffffffffffff  ffffffffffffffff 
    00007ffd9d955900:  ffffffffffffffff  ffffffffffffffff 
    00007ffd9d955910:  ffffffffffffffff  ffffffffffffffff 
    00007ffd9d955920:  ffffffffffffffff  ffffffffffffffff 
    00007ffd9d955930:  ffffffffffffffff  ffffffffffffffff 
    
    goroutine 1 [running, locked to thread]:
    runtime.asmcgocall(0x55fc356af930, 0xc00005e708)
    	/usr/lib/go-1.13/src/runtime/asm_amd64.s:640 +0x3f fp=0xc00005e6f0 sp=0xc00005e6e8 pc=0x55fc34f5035f
    runtime.newm1(0xc00008e380)
    	/usr/lib/go-1.13/src/runtime/proc.go:1848 +0xa6 fp=0xc00005e730 sp=0xc00005e6f0 pc=0x55fc34f289b6
    runtime.newm(0x55fc35e2a690, 0x0)
    	/usr/lib/go-1.13/src/runtime/proc.go:1832 +0x93 fp=0xc00005e760 sp=0xc00005e730 pc=0x55fc34f28853
    runtime.startTemplateThread(...)
    	/usr/lib/go-1.13/src/runtime/proc.go:1868
    runtime.main()
    	/usr/lib/go-1.13/src/runtime/proc.go:186 +0x2cb fp=0xc00005e7e0 sp=0xc00005e760 pc=0x55fc34f24a8b
    runtime.goexit()
    	/usr/lib/go-1.13/src/runtime/asm_amd64.s:1357 +0x1 fp=0xc00005e7e8 sp=0xc00005e7e0 pc=0x55fc34f50c21
    
    rax    0x0
    rbx    0x7f4fc2b95840
    rcx    0x7f4fc27e7f47
    rdx    0x0
    rdi    0x2
    rsi    0x7ffd9d955840
    rbp    0x55fc35875e7c
    rsp    0x7ffd9d955840
    r8     0x0
    r9     0x7ffd9d955840
    r10    0x8
    r11    0x246
    r12    0x55fc37789690
    r13    0x0
    r14    0x55fc3585bd10
    r15    0x0
    rip    0x7f4fc27e7f47
    rflags 0x246
    cs     0x33
    fs     0x0
    gs     0x0
